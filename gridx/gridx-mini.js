//>>built
require({cache:{"gridx/core/model/_Extension":function(){define(["dojo/_base/declare","dojo/_base/connect"],function(l,f){return l([],{constructor:function(e){this._cnnts=[];this.model=e;var f=this.inner=e._model;e._model=this;f&&(this.connect(f,"onDelete","_onDelete"),this.connect(f,"onNew","_onNew"),this.connect(f,"onSet","_onSet"),this.connect(f,"onSizeChange","_onSizeChange"))},destroy:function(){for(var e=this._cnnts.length-1;e>=0;--e)f.disconnect(this._cnnts[e])},connect:function(e,j,c,b){e=
f.connect(e,j,b||this,c);this._cnnts.push(e);return e},_onNew:function(){this.onNew.apply(this,arguments)},_onSet:function(){this.onSet.apply(this,arguments)},_onDelete:function(){this.onDelete.apply(this,arguments)},_onSizeChange:function(){this.onSizeChange.apply(this,arguments)},onNew:function(){},onDelete:function(){},onSet:function(){},onSizeChange:function(){},_call:function(e,f){return this[e]?this[e].apply(this,f||[]):this.inner&&this.inner._call(e,f)},_mixinAPI:function(){var e,f=this.model,
c=function(b){return function(){return f._model._call(b,arguments)}};for(e=arguments.length-1;e>=0;--e)f[arguments[e]]=c(arguments[e])}})})},"gridx/core/model/extensions/Sort":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/json","dojo/_base/Deferred","../_Extension"],function(l,f,e,j,c){return l(c,{name:"sort",priority:20,constructor:function(b,a){this.clear();this._mixinAPI("sort");if(a.baseSort&&a.baseSort.length)this._baseSort=a.baseSort,this._sort()},clear:function(){},
sort:function(){this.model._addCmd({name:"_cmdSort",scope:this,args:arguments})},_cmdSort:function(){this._sort.apply(this,arguments[arguments.length-1])},_sort:function(b){var a=this.model._cache,d;if(f.isArrayLike(b)){for(d=0;d<b.length;++d){var h=b[d];h.colId!==void 0?h.attribute=a.columns?a.columns[h.colId].field||h.colId:h.colId:h.colId=h.attribute}this._baseSort&&(b=b.concat(this._baseSort))}else b=this._baseSort;a.options=a.options||{};d=!1;a.options.sort&&a.options.sort.length?e.toJson(a.options.sort)!==
e.toJson(b)&&(d=!0):b&&b.length&&(d=!0);a.options.sort=f.clone(b);d&&a.clear();this.model._sendMsg("storeChange")}})})},"gridx/modules/VScroller":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/event","dojo/_base/sniff","dojo/_base/query","dojo/keys","dojox/html/metrics","../core/_Module"],function(l,f,e,j,c,b,a,d){return d.register(l(d,{name:"vscroller",required:["hLayout"],forced:["body","vLayout","columnWidth"],optional:["pagination"],getAPIPath:function(){return{vScroller:this}},
preload:function(){var a=this.grid;this.domNode=a.vScrollerNode;this.stubNode=this.domNode.firstChild;if(a.autoHeight)this.domNode.style.display="none";a.hLayout.register(null,this.domNode,!0)},load:function(a,b){var g=this.grid,d=this;this.batchConnect([this.domNode,"onscroll","_doScroll"],[g.bodyNode,"onmousewheel","_onMouseWheel"],[g.mainNode,"onkeypress","_onKeyScroll"],[g.body,"onRender","_onBodyChange"],[g.body,"onVisualCountChange","_onRowCountChange"],[g.body,"onRootRangeChange","_onRootRangeChange"],
j("ff")&&[g.bodyNode,"DOMMouseScroll","_onMouseWheel"]);b.then(function(){f.when(d._init(a),function(){d.loaded.callback()})})},scrollToPercentage:function(a){this.domNode.scrollTop=this.stubNode.style.clientHeight*a/100},scrollToRow:function(a,b){var g=new f,d=this.grid.bodyNode,i=0,o=c('[visualindex="'+a+'"]',this.grid.bodyNode)[0];if(o){if(b)return this.domNode.scrollTop=o.offsetTop,g.callback(!0),g;else if(o.offsetTop<d.scrollTop)i=o.offsetTop-d.scrollTop;else if(o.offsetTop+o.offsetHeight>d.scrollTop+
d.clientHeight)i=o.offsetTop+o.offsetHeight-d.scrollTop-d.clientHeight;else return g.callback(!0),g;this.domNode.scrollTop+=i}g.callback(!!o);return g},_init:function(){return this._onRootRangeChange(this.grid.body.rootStart,this.grid.body.rootCount)},_doScroll:function(){this.grid.bodyNode.scrollTop=this.domNode.scrollTop},_onMouseWheel:function(a){this.grid.autoHeight||(this.domNode.scrollTop-=typeof a.wheelDelta==="number"?a.wheelDelta/3:-40*a.detail,e.stop(a))},_onBodyChange:function(){this.stubNode.style.height=
this.grid.bodyNode.scrollHeight+"px";this._doScroll()},_onRowCountChange:function(){},_onRootRangeChange:function(a,b){return this.model.when({start:a,count:b},function(){b=b||this.model.size()-a;this.grid.body.renderRows(0,b)},this)},_onKeyScroll:function(a){var i;var h;var d=this.grid.body,g=this.domNode;if(a.keyCode==b.HOME)d._focusCellRow=0,g.scrollTop=0;else if(a.keyCode==b.END)d._focusCellRow=d.visualCount-1,g.scrollTop=this.stubNode.clientHeight-d.domNode.offsetHeight;else if(a.keyCode==b.PAGE_UP)h=
d._focusCellRow=Math.max(d.renderStart-d.renderCount,0),d=h,this.scrollToRow(d,!0);else if(a.keyCode==b.PAGE_DOWN)i=d._focusCellRow=Math.min(d.visualCount-1,d.renderStart+d.renderCount),d=i,this.scrollToRow(d,!0);else return;e.stop(a)}}))})},"gridx/core/model/Model":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/Deferred","dojo/DeferredList","dojo/_base/connect"],function(l,f,e,j,c,b){return l(null,{constructor:function(a){this.store=a.store;this._exts={};
this._cmdQueue=[];this._model=this._cache=new a.cacheClass(this,a);this._createExtensions(a.modelExtensions||[],a);a=this._model;this._connects=[b.connect(a,"onDelete",this,"onDelete"),b.connect(a,"onNew",this,"onNew"),b.connect(a,"onSet",this,"onSet"),b.connect(a,"onSizeChange",this,"onSizeChange")]},destroy:function(){f.forEach(this._connects,b.disconnect);for(var a in this._exts)this._exts[a].destroy()},clearCache:function(){this._cache.clear()},when:function(){this._addCmd({name:"_cmdRequest",
scope:this,args:arguments,async:1});return this._exec()},scan:function(a,b){var h=new j,p=a.start||0,g=a.pageSize||this._cache.pageSize||1,n=a.count>0?p+a.count:Infinity,i=a.whenScope||this,o=a.whenFunc||i.when,k=function(a){o.call(i,{id:[],range:[{start:a,count:g}]},function(){var h,k,o=[];for(h=a;h<a+g&&h<n;++h)if(k=i.byIndex(h))o.push(k);else{n=-1;break}if(b(o,a)||h===n)n=-1}).then(function(){n===-1?h.callback():k(a+g)})};k(p);return h},onDelete:function(){},onNew:function(){},onSet:function(){},
onSizeChange:function(){},_sendMsg:function(){},_addCmd:function(a){var b=this._cmdQueue,h=b[b.length-1];h&&h.name===a.name&&h.scope===a.scope?h.args.push(a.args||[]):(a.args=[a.args||[]],b.push(a))},_cmdRequest:function(){var a=this,b=f.map(arguments,function(b){var d=b[0],g=b[1],n=b[2];return d===null||!b.length?(g&&g.apply(n||window),b=new j,b.callback(),b):(d=a._normalizeArgs(d),a._model._call("when",[d,function(){g&&g.apply(n||window)}]))});return new c(b,0,1)},_exec:function(){if(this._busy)return this._busy;
this._cache.skipCacheSizeCheck=1;var a=this,b=a._busy=new j,h=a._cmdQueue,c=function(g,b){delete a._busy;delete a._cache.skipCacheSizeCheck;a._cache._checkSize&&a._cache._checkSize();b?g.errback(b):g.callback()},g=function(){if(f.some(h,function(g){return g.name==="_cmdRequest"}))try{for(;h.length;){var a=h.shift(),i=a.scope[a.name].apply(a.scope,a.args);if(a.async){j.when(i,g,e.partial(c,b));return}}c(b)}catch(o){c(b,o)}else c(b)};g();return b},_createExtensions:function(a,b){a=f.filter(a,function(g){return g&&
g.prototype});a.sort(function(g,a){return g.prototype.priority-a.prototype.priority});for(var h=0,c=a.length;h<c;++h)if(h==a.length-1||a[h]!=a[h+1]){var g=new a[h](this,b);this._exts[g.name]=g}},_normalizeArgs:function(a){var b,h={range:[],id:[]},c=function(g){return g&&typeof g.start==="number"&&g.start>=0},g=function(g){if(c(g))h.range.push(g);else if(typeof g==="number"&&g>=0)h.range.push({start:g,count:1});else if(e.isArrayLike(g))for(b=g.length-1;b>=0;--b)typeof g[b]==="number"&&g[b]>=0?h.range.push({start:g[b],
count:1}):c(g[b])?h.range.push(g[b]):e.isString(g)&&h.id.push(g[b]);else e.isString(g)&&h.id.push(g)};if(a&&(a.index||a.range||a.id))if(g(a.index),g(a.range),e.isArrayLike(a.id))for(b=a.id.length-1;b>=0;--b)h.id.push(a.id[b]);else a.id!==void 0&&h.id.push(a.id);else g(a);!h.range.length&&!h.id.length&&this.size()<0&&h.range.push({start:0,count:this._cache.pageSize||1});return h}})})},"gridx/core/_Module":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/connect"],
function(l,f,e,j){var c=l(null,{constructor:function(b,a){this.grid=b;this.model=b.model;this._cnnts=[];this._sbscs=[];f.mixin(this,a)},destroy:function(){e.forEach(this._cnnts,j.disconnect);e.forEach(this._sbscs,j.unsubscribe)},arg:function(b,a,d){arguments.length==2&&f.isFunction(a)&&(d=a,a=void 0);var h=this[b];if(!this.hasOwnProperty(b)){var c=this.name+b.substring(0,1).toUpperCase()+b.substring(1);this.grid[c]===void 0?a!==void 0&&(h=a):h=this.grid[c]}this[b]=d&&!d(h)?a:h;return h},connect:function(b,
a,d,h,c){var h=h||this,g=this.grid,b=b===g&&typeof a=="string"?j.connect(b,a,function(){g._eventFlags[a]===c&&(f.isFunction(d)?d.apply(h,arguments):f.isFunction(h[d])&&h[d].apply(h,arguments))}):j.connect(b,a,h,d);this._cnnts.push(b);return b},batchConnect:function(){for(var b=0,a=arguments.length;b<a;++b)f.isArrayLike(arguments[b])&&this.connect.apply(this,arguments[b])},disconnect:function(b){var a=e.indexOf(this._cnnts,b);a>=0&&(this._cnnts.splice(a,1),j.disconnect(b))},subscribe:function(b,a,
d){b=j.subscribe(b,d||this,a);this._sbscs.push(b);return b},unsubscribe:function(b){var a=e.indexOf(this._sbscs,b);a>=0&&(this._sbscs.splice(a,1),j.unsubscribe(b))}});c._modules={};c.register=function(b){var a=b.prototype;return c._modules[a.name||a.declaredClass]=b};c._markupAttrs=["id","name","field","width","dataType","!formatter","!decorator","!sortable"];return c})},"gridx/modules/ColumnResizer":function(){define(["dojo/_base/declare","dojo/_base/html","dojo/_base/sniff","dojo/_base/window",
"dojo/dom-style","dojo/query","../core/_Module"],function(l,f,e,j,c,b,a){return a.register(l(a,{name:"columnResizer",required:["hscroller"],minWidth:20,detectWidth:5,load:function(){var a=this.grid;j.body();this.batchConnect([b(".dojoxGridxHeaderRowInner",a.domNode)[0],"mousemove","_mousemove"],[a,"onHeaderMouseOut","_mouseout"],[a,"onHeaderMouseDown","_mousedown",this,this.name],[document,"mousemove","_docMousemove"],[document,"onmouseup","_mouseup"]);this.loaded.callback()},getAPIPath:function(){return{columnResizer:this}},
columnMixin:{setWidth:function(a){this.grid.columnResizer.setWidth(this.id,a)}},setWidth:function(a,h){var h=parseInt(h),c=this.arg("minWidth");h<c&&(h=c);this.grid._columnsById[a].width=h+"px";var g;b('[colid="'+a+'"]',this.grid.domNode).forEach(function(a){g||(g=e("webkit")?a.offsetWidth:f.style(a,"width"));a.style.width=h+"px"});this.grid.vLayout.reLayout();this.grid.header.onRender();this.grid.body.onRender();this.onResize(a,h,g)},onResize:function(){},_mousemove:function(a){var b=this._getCell(a);
this._resizing&&f.removeClass(b,"dojoxGridxHeaderCellOver");if(!this._resizing&&b&&!this._ismousedown)this._readyToResize=this._isInResizeRange(a),a=this.grid._eventFlags,a.onHeaderMouseDown=a.onHeaderCellMouseDown=this._readyToResize?this.name:void 0,f.toggleClass(j.body(),"dojoxGridxColumnResizing",this._readyToResize),this._readyToResize&&f.removeClass(b,"dojoxGridxHeaderCellOver")},_docMousemove:function(a){this._resizing&&this._updateResizerPosition(a)},_mouseout:function(){if(!this._resizing)this._readyToResize=
!1,f.removeClass(j.body(),"dojoxGridxColumnResizing")},_updateResizerPosition:function(a){var b=a.pageX-this._startX,e=this._targetCell,g=this.grid,n=g.hScroller,i=0,a=a.pageX-this._gridX,i=this.arg("minWidth");e.offsetWidth+b<i&&(a=this._startX-this._gridX-(e.offsetWidth-i));b=n&&n.container.offsetHeight?n.container:g.body.domNode;i=b.parentNode.offsetTop+b.offsetHeight-g.header.domNode.offsetTop;c.set(this._resizer,{top:g.header.domNode.offsetTop+"px",left:a+"px",height:i+"px"})},_showResizer:function(a){if(!this._resizer)this._resizer=
f.create("div",{className:"dojoxGridxColumnResizer"},this.grid.domNode,"last"),this.connect(this._resizer,"mouseup","_mouseup");this._resizer.style.display="block";this._updateResizerPosition(a)},_hideResizer:function(){this._resizer.style.display="none"},_mousedown:function(a){this._readyToResize?(f.setSelectable(this.grid.domNode,!1),document.onselectstart=function(){return!1},this._resizing=!0,this._startX=a.pageX,this._gridX=f.position(this.grid.bodyNode).x-this.grid.bodyNode.offsetLeft,this._showResizer(a)):
this._ismousedown=!0},_mouseup:function(a){this._ismousedown=!1;if(this._resizing){this._readyToResize=this._resizing=!1;f.removeClass(j.body(),"dojoxGridxColumnResizing");f.setSelectable(this.grid.domNode,!0);document.onselectstart=null;var b=this._targetCell,a=a.pageX-this._startX,a=(e("webkit")?b.offsetWidth:f.style(b,"width"))+a,c=this.arg("minWidth");a<c&&(a=c);this.setWidth(b.getAttribute("colid"),a);this._hideResizer()}},_isInResizeRange:function(a){var b=this._getCell(a),a=this._getCellX(a),
c=this.arg("detectWidth");if(a<c){this._targetCell=b.previousSibling;if(!this._targetCell)return!1;return!0}else if(a>b.offsetWidth-c&&a<=b.offsetWidth)return this._targetCell=b,!0;return!1},_getCellX:function(a){var b=this._getCell(a);if(!b)return 1E5;if(/table/i.test(a.target.tagName))return 0;var c=a.offsetX;if(c==void 0)c=a.layerX;/th/i.test(a.target.tagName)||(c+=a.target.offsetLeft);dojo.isFF&&/th/i.test(a.target.tagName)&&(a=c-parseInt(b.parentNode.parentNode.parentNode.style.marginLeft)-b.offsetLeft,
a>=0&&(c=a));return c},_getCell:function(a){var b=a.target;if(!b)return null;if(/table/i.test(b.tagName)){for(var b=a.offsetX||a.layerX||0,c=0,a=a.target.rows[0].cells;b>0;)b-=a[c].offsetWidth,c++;return a[c]||null}for(;b.tagName&&b.tagName.toLowerCase()!=="th";)b=b.parentNode;if(!b.tagName||b.tagName.toLowerCase()!=="th")return null;return b}}))})},"gridx/modules/VLayout":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/DeferredList","../core/_Module"],function(l,f,e,j){return j.register(l(j,
{name:"vLayout",getAPIPath:function(){return{vLayout:this}},preload:function(){var c=this,b=this.grid;this.connect(b,"_onResizeEnd",function(a,b){var h,f=[];for(h in b)f.push(b[h]);(new e(f)).then(function(){c.reLayout()})});b.autoHeight?this.connect(b.body,"onRender","reLayout"):this.connect(b,"setColumns",function(){setTimeout(function(){c.reLayout()},0)})},load:function(c,b){var a=this;b.then(function(){a._defs&&a._mods?(new e(a._defs)).then(function(){a._layout();a.loaded.callback()}):a.loaded.callback()})},
register:function(c,b,a,d,h){this._defs=this._defs||[];this._mods=this._mods||{};this._mods[a]=this._mods[a]||[];this._defs.push(h||c.loaded);this._mods[a].push({p:d||0,mod:c,nodeName:b})},reLayout:function(){var c,b=0,a,d=this.grid;for(c in this._mods)(a=d[c])&&(b+=f.getMarginBox(a).h);this._updateHeight(b)},_layout:function(){var c,b=0,a,d,h,e,g=this.grid;for(c in this._mods)if(a=g[c]){this._mods[c].sort(function(a,g){return a.p-g.p});for(d=0;d<this._mods[c].length;++d)h=this._mods[c][d].mod,e=
this._mods[c][d].nodeName,h&&h[e]&&a.appendChild(h[e]);b+=f.getMarginBox(a).h}this._updateHeight(b)},_updateHeight:function(c){var b=this.grid;b.autoHeight?b.vScroller.loaded.then(function(){var a=b.bodyNode.lastChild,a=a?a.offsetTop+a.offsetHeight:0;b.domNode.style.height=a+c+"px";b.mainNode.style.height=a+"px"}):b.mainNode.style.height=b.domNode.clientHeight-c+"px"}}))})},"gridx/util":function(){define([],function(){return{stopEvent:function(l){l&&l.stopPropagation&&l.preventDefault&&(l.stopPropagation(),
l.preventDefault())},biSearch:function(l,f){var e=0,j=l.length,c;for(c=Math.floor((e+j)/2);e+1<j;c=Math.floor((e+j)/2))f(l[c])>0?j=c:e=c;return l.length&&f(l[e])>=0?e:j}}})},"gridx/core/model/cache/_Cache":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/Deferred","../_Extension"],function(l,f,e,j,c){return l(c,{constructor:function(b,a){a=a||{};this.columns=a.columns;var d=this.store=a.store,h=d.fetch;!h&&d.notify?this.connect(d,"notify",function(a,g){a===
void 0?this._onDelete(g):g===void 0?this._onNew(a):this._onSet(a)}):(this.connect(d,h?"onSet":"put","_onSet"),this.connect(d,h?"onNew":"add","_onNew"),this.connect(d,h?"onDelete":"remove","_onDelete"));this.clear();this._mixinAPI("byIndex","byId","indexToId","idToIndex","size","treePath","hasChildren","keep","free","item")},destroy:function(){this.inherited(arguments);this.clear()},clear:function(){this._priority=[];this._struct={};this._cache={};this._size={};this._struct[""]=[];this._size[""]=-1},
byIndex:function(b,a){this.prepare("byIndex",arguments);return this._cache[this.indexToId(b,a)]},byId:function(b){this.prepare("byId",arguments);return this._cache[b]},indexToId:function(b,a){this.prepare("indexToId",arguments);var d=this._struct[a||""];return d&&d[b+1]},idToIndex:function(b){this.prepare("idToIndex",arguments);var a=this._struct[b],a=this._struct[a&&a[0]],a=f.indexOf(a||[],b);return a>0?a-1:-1},treePath:function(b){var d;for(var a=[];b!==void 0;)a.unshift(b),d=(b=this._struct[b])&&
b[0],b=d;return a[0]!==""?[]:(a.pop(),a)},hasChildren:function(b){this.prepare("hasChildren",arguments);var a=this.byId(b),d=this.store;return d.hasChildren&&d.hasChildren(b,a&&a.item)},size:function(b){this.prepare("size",arguments);var a=this._size[b||""];return a>=0?a:-1},onBeforeFetch:function(){},onAfterFetch:function(){},onSetColumns:function(b){this.columns=b;var a,d,h;for(a in this._cache)for(d in b=this._cache[a],this.columns)h=this.columns[d],b.data[d]=this._formatCell(h.id,b.rawData)},
_itemToObject:function(b){var a=this.store;if(a.fetch){var d,h,c={},g=a.getAttributes(b);d=0;for(h=g.length;d<h;++d)c[g[d]]=a.getValue(b,g[d]);return c}return b},_formatCell:function(b,a){var d=this.columns[b];return d.formatter?d.formatter(a):a[d.field||b]},_formatRow:function(b){if(!this.columns)return b;var a={},d;for(d in this.columns)a[d]=this._formatCell(d,b);return a},_addRow:function(b,a,d,h,c){var c=c||"",g=this._struct[c];if(!g)throw Error("Fatal error of cache._addRow: parent item not loaded");
if(g[a+1]){if(g[a+1]!==b)throw Error("Fatal error of cache._addRow: different row id for same row index");}else g[a+1]=b;this._struct[b]=this._struct[b]||[c];c||(a=f.indexOf(this._priority,b),a>=0&&this._priority.splice(a,1),this._priority.push(b));this._cache[b]={data:this._formatRow(d),rawData:d,item:h}},_loadChildren:function(b){var a=new j,d=this.store,h=this,c=[],g=this.byId(b);g&&(c=d.getChildren&&d.getChildren(g.item)||[]);j.when(c,function(g){h._size[b]=g.length;for(var i=0,c=g.length;i<c;++i){var k=
g[i],q=d.getIdentity(k);h._addRow(q,i,h._itemToObject(k),k,b)}a.callback()},e.hitch(a,a.errback));return a},_onFetchBegin:function(b){var a=this._size[""],b=this._size[""]=parseInt(b,10);if(a!==b)this.onSizeChange(b,a)},_onFetchComplete:function(b,a,d){try{for(var c=[],e=this.store,g=0,n=d.length;g<n;++g)c.push(e.getIdentity(d[g])),this._addRow(c[g],a+g,this._itemToObject(d[g]),d[g]);b.callback(c)}catch(i){b.errback(i)}},_storeFetch:function(b){console.debug("\tFETCH start: ",b.start,", count: ",
b.count,", end: ",b.count&&b.start+b.count-1,", options:",this.options);this.onBeforeFetch();var a=this.store,d=this,c=new j,f=e.mixin({},this.options||{},b),g=e.hitch(this,this._onFetchBegin),b=e.hitch(this,this._onFetchComplete,c,b.start),n=e.hitch(c,c.errback);a.fetch?a.fetch(e.mixin(f,{onBegin:g,onComplete:b,onError:n})):(a=a.query(f.query,f),j.when(a.total,g),j.when(a,b,n));c.then(function(){d.onAfterFetch()},function(a){console.error(a)});return c},_onSet:function(b){var a=this.store.getIdentity(b),
d=this.idToIndex(a),c=this.treePath(a);c.length&&this._addRow(a,d,this._itemToObject(b),b,c.pop());this.onSet(a,d,this._cache[a])},_onNew:function(b,a){var d=this.store.getIdentity(b),c=this._itemToObject(b),c={data:this._formatRow(c),rawData:c,item:b},e=a&&a[this.store.fetch?"item":"parent"];e&&this.store.getIdentity(e);var g=this._size[""];this.clear();this.onNew(d,0,c);!e&&g>=0&&(this._size[""]=g+1,this.onSizeChange(g+1,g,"onNew"))},_onDelete:function(b){var b=this.store.fetch?this.store.getIdentity(b):
b,a=this.treePath(b),d;if(a.length){var c,e,g,n=[b],a=a.pop();d=f.indexOf(this._struct[a],b);this._struct[a].splice(d,1);--this._size[a];for(e=0;e<n.length;++e)if(c=this._struct[n[e]])for(g=c.length-1;g>0;--g)n.push(c[g]);for(e=n.length-1;e>=0;--e)g=n[e],delete this._cache[g],delete this._struct[g],delete this._size[g];e=f.indexOf(this._priority,b);e>=0&&this._priority.splice(e,1);this.onDelete(b,d);d=this._size[""];if(!a&&d>=0)this.onSizeChange(d,d+1,"onDelete")}else this.onDelete(b,d)}})})},"gridx/Grid":function(){define(["dojo/_base/declare",
"dojo/_base/array","dojo/_base/lang","dojo/dom-class","dojo/dom-geometry","dojo/_base/Deferred","dojo/_base/query","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/text!./templates/Grid.html","./core/Core","./core/_Module","./modules/Header","./modules/Body","./modules/VLayout","./modules/HLayout","./modules/VScroller","./modules/HScroller","./modules/ColumnWidth"],function(l,f,e,j,c,b,a,d,h,p,g,n,i,o,k,q,m,u,v){l=l("gridx.Grid",[d,h,g],{templateString:p,coreModules:[i,o,k,q,m,u,v],coreExtensions:[],
postMixInProperties:function(){this._eventFlags={};this.modules=this.coreModules.concat(this.modules||[]);this.modelExtensions=this.coreExtensions.concat(this.modelExtensions||[]);this._initEvents(this._compNames,this._eventNames);this.reset(this)},buildRendering:function(){this.inherited(arguments);this.cssMode&&e.isString(this.cssMode)&&j.toggle(this.domNode,"compact",this.cssMode.indexOf("compact")>-1);j.toggle(this.domNode,"dojoxGridxRtl",!this.isLeftToRight())},postCreate:function(){this.inherited(arguments);
this._postCreate()},startup:function(){this._started||(this.inherited(arguments),this._deferStartup.callback())},destroy:function(){this._uninit();this.inherited(arguments)},resize:function(a){a&&(this.autoWidth&&delete a.w,this.autoHeight&&delete a.h,c.setMarginBox(this.domNode,a));var g={};this._onResizeBegin(a,g);this._onResizeEnd(a,g)},_onResizeBegin:function(){},_onResizeEnd:function(){},_dummyFunc:function(){},_compNames:["Cell","HeaderCell","Row","Header"],_eventNames:["Click","DblClick","MouseDown",
"MouseUp","MouseOver","MouseOut","MouseMove","ContextMenu","KeyDown","KeyPress","KeyUp"],_initEvents:function(a,g){f.forEach(a,function(a){f.forEach(g,function(g){g="on"+a+g;if(!this[g])this[g]=this._dummyFunc},this)},this)},_connectEvents:function(a,g,b){f.forEach(this._eventNames,function(i){this.connect(a,"on"+i.toLowerCase(),e.hitch(b,g,i))},this)},_isConnected:function(a){return this[a]!==this._dummyFunc}});l.markupFactory=function(g,b,i){if(!g.structure&&b.nodeName.toLowerCase()=="table")g.structure=
[],a("thead > tr > th",b).forEach(function(a){for(var b={},i=n._markupAttrs,k=0,c=i.length;k<c;++k){var d=i[k];d[0]=="!"?(d=d.slice(1),b[d]=eval(a.getAttribute(d))):b[d]=a.getAttribute(d)}b.name=b.name||a.innerHTML;g.structure.push(b)});return new i(g,b)};return l})},"gridx/modules/select/_Base":function(){define(["dojo/_base/declare","dojo/_base/connect","../../core/_Module"],function(l,f,e){return l(e,{getAPIPath:function(){var e={select:{}};e.select[this._type]=this;return e},preload:function(){this.subscribe("gridClearSelection_"+
this.grid.id,function(e){e!=this._type&&this.clear()});this.connect(this.grid.body,"onRender","_onRender");this._init()},enabled:!0,multiple:!0,holdingCtrl:!1,onSelected:function(){},onDeselected:function(){},onHighlightChange:function(){},_getMarkType:function(){},_select:function(e,c){if(this.arg("enabled")){var b=!0;this.arg("multiple")&&(c||this.arg("holdingCtrl"))?b=!this.isSelected(e):this.clear();f.publish("gridClearSelection_"+this.grid.id,[this._type]);this._markById(e,b)}}})})},"gridx/nls/Body":function(){define({root:{emptyInfo:"No items to display"}})},
"gridx/modules/SingleSort":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/keys","../core/model/extensions/Sort","../core/_Module"],function(l,f,e,j,c){return c.register(l(c,{name:"sort",forced:["header"],required:["vLayout"],modelExtensions:[j],getAPIPath:function(){return{sort:this}},preload:function(){var b=this.grid,a;this.connect(b,"onHeaderCellClick","_onClick");this.connect(b,"onHeaderCellKeyDown","_onKeyDown");if(b.persist){var d=this;a=b.persist.registerAndLoad("sort",function(){return[{colId:d._sortId,
descending:d._sortDescend}]})}a=a||this.arg("preSort");f.isArrayLike(a)&&(a=a[0]);if(a&&a.colId)this._sortId=a.colId,this._sortDescend=a.descending,this.model.sort([a])},load:function(){for(var b in this.grid._columnsById)this._initHeader(b);this._sortId&&this._updateHeader(this._sortId,this._sortDescend);this.loaded.callback()},columnMixin:{sort:function(b,a){this.grid.sort.sort(this.id,b,a);return this},isSorted:function(){return this.grid.sort.isSorted(this.id)},clearSort:function(b){this.isSorted()&&
this.grid.sort.clear(b);return this},isSortable:function(){var b=this.grid._columnsById[this.id];return b.sortable||b.sortable===void 0},setSortable:function(b){this.grid._columnsById[this.id].sortable=!!b;return this}},sort:function(b,a,d){var c=this.grid,e=c._columnsById[b];if(e&&(e.sortable||e.sortable===void 0))(this._sortId!==b||this._sortDescend===!a)&&this._updateHeader(b,a),this.model.sort([{colId:b,descending:a}]),d||c.body.refresh()},isSorted:function(b){if(b===this._sortId)return this._sortDescend?
-1:1;return 0},clear:function(b){if(this._sortId!==null)this._initHeader(this._sortId),this._sortId=this._sortDescend=null,this.model.sort(),b||this.grid.body.refresh()},getSortData:function(){return this._sortId?[{colId:this._sortId,descending:this._sortDescend}]:null},_sortId:null,_sortDescend:null,_initHeader:function(b){var a=this.grid.header.getHeaderNode(b);a.innerHTML=["<div class='dojoxGridxSortNode'>",this.grid.column(b,1).name(),"</div>"].join("");a.removeAttribute("aria-sort")},_updateHeader:function(b,
a){this._sortId&&this._sortId!==b&&this._initHeader(this._sortId);this._sortId=b;this._sortDescend=!!a;var d=this.grid,c=d.header.getHeaderNode(b);str=["<div class='dojoxGridxSortNode ",a?"dojoxGridxSortDown":"dojoxGridxSortUp","'><div class='dojoxGridxArrowButtonChar'>",a?"&#9662;":"&#9652;","</div><div role='presentation' class='dojoxGridxArrowButtonNode'></div><div class='dojoxGridxColCaption'>",d.column(b,1).name(),"</div></div>"].join("");c.innerHTML=str;c.setAttribute("aria-sort",a?"descending":
"ascending");d.vLayout.reLayout()},_onClick:function(b){this.sort(b.columnId,this._sortId!==b.columnId?0:!this._sortDescend)},_onKeyDown:function(b){b.keyCode==e.ENTER&&this._onClick(b)}}))})},"gridx/modules/select/_RowCellBase":function(){define(["dojo/_base/declare","dojo/_base/lang","./_Base","../../core/model/extensions/Mark"],function(l,f,e,j){return l(e,{modelExtensions:[j],selectById:function(c,b){this.arg("enabled")&&(this.model.markById(c,!0,this._getMarkType(b)),this.model.when())},deselectById:function(c,
b){this.arg("enabled")&&(this.model.markById(c,!1,this._getMarkType(b)),this.model.when())},isSelected:function(c,b){return this.model.isMarked(c,this._getMarkType(b))},_init:function(){this.batchConnect([this.model,"onMarked",f.hitch(this,"_onMark",!0)],[this.model,"onMarkRemoved",f.hitch(this,"_onMark",!1)])}})})},"gridx/modules/HScroller":function(){define(["dojo/_base/declare","dojo/dom-style","dojo/_base/sniff","dojo/_base/Deferred","dojox/html/metrics","../core/_Module"],function(l,f,e,j,c,
b){return b.register(l(b,{name:"hscroller",required:["vLayout","hLayout"],forced:["header"],getAPIPath:function(){return this.grid.autoWidth?{}:{hScroller:this}},constructor:function(){this.grid._initEvents(["H"],["Scroll"])},preload:function(){var a=this.grid;this.container=a.hScrollerNode.parentNode;if(!a.autoWidth){var b=this.domNode=a.hScrollerNode;a.vLayout.register(this,"container","footerNode",0);this.stubNode=b.firstChild;b.style.display="block";this.batchConnect([a.header,"onRender","refresh"],
[b,"onscroll","_onScroll"],[a,"_onResizeBegin",function(a,b){b.hScroller=new j}],[a,"_onResizeEnd",function(a,b){var g=this;j.when(b.header,function(){g.refresh();b.hScroller.callback()})}]);if(e("ie")<7)b.style.height=c.getScrollbar().h+"px"}},scroll:function(a){this.domNode.scrollLeft=a},refresh:function(){var a=this.grid,b=a.isLeftToRight(),c=b?"marginLeft":"marginRight",b=b?"marginRight":"marginLeft",e=a.hLayout.lead,g=a.hLayout.tail,n=a.domNode.clientWidth-e-g,i=a.header.innerNode,o=f.get(i,
"paddingLeft")||0,k=this.domNode.style,i=i.firstChild.offsetWidth,q=k.display,m=i<=n?"none":"block";k[c]=e+o+"px";k[b]=g+"px";k.width=n-o+"px";this.stubNode.style.width=i-o+"px";k.display=m;q=="block"&&m=="none"&&a.vLayout.reLayout()},_onScroll:function(){if(this._lastLeft!=this.domNode.scrollLeft)this._lastLeft=this.domNode.scrollLeft,this._doScroll()},_doScroll:function(){var a=this.domNode.scrollLeft;this.grid.bodyNode.scrollLeft=a;this.grid.onHScroll(a)}}))})},"gridx/core/model/cache/Sync":function(){define(["dojo/_base/declare",
"dojo/_base/Deferred","./_Cache"],function(l,f,e){return l(e,{keep:function(){},free:function(){},when:function(e,c){var b=new f;try{c&&c(),b.callback()}catch(a){b.errback(a)}return b},prepare:function(){this._size[""]<0&&(this._storeFetch({start:0}),this.store.getChildren&&this._fetchChildren())},_fetchChildren:function(){for(var e=this._strut[""].slice(1);e.length;){var c=e.shift();this._loadChildren(c).then(function(){var b=_struct[c].slice(1);[].push.apply(e,b)})}}})})},"gridx/modules/HLayout":function(){define(["dojo/_base/declare",
"dojo/_base/Deferred","dojo/_base/array","dojo/dom-geometry","dojo/DeferredList","../core/_Module"],function(l,f,e,j,c,b){return b.register(l(b,{name:"hLayout",getAPIPath:function(){return{hLayout:this}},load:function(a,b){var c=this;b.then(function(){c._layout();c.loaded.callback()})},lead:0,tail:0,register:function(a,b,c){this._regs=this._regs||[];a||(a=new f,a.callback());this._regs.push([a,b,c])},onUpdateWidth:function(){},_layout:function(){if(this._regs){var a=this,b=0,h=0,f=e.map(this._regs,
function(a){return a[0]});(new c(f)).then(function(){e.forEach(a._regs,function(a){var c=j.getMarginBox(a[1]).w;a[2]?h+=c:b+=c});a.lead=b;a.tail=h;a.onUpdateWidth(b,h)})}else this.onUpdateWidth(0,0)}}))})},"gridx/core/Cell":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred"],function(l,f,e){return l(null,{constructor:function(e,c,b){this.grid=e;this.model=e.model;this.row=c;this.column=b},data:function(){return this.model.byId(this.row.id).data[this.column.id]},rawData:function(){var e=
this.column.field();return e&&this.model.byId(this.row.id).rawData[e]},setRawData:function(j){var c=this.column.field(),b=this.grid.store,a=new e,d=f.hitch(a,a.callback),h=f.hitch(a,a.errback);if(c){var l=this.model.byId(this.row.id).item;b.setValue?(b.setValue(l,c,j),b.save({onComplete:d,onError:h})):b.put&&(l=f.clone(l),l[c]=j,e.when(b.put(l),d,h))}else d();return a}})})},"gridx/core/model/extensions/Mark":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/Deferred","../_Extension"],
function(l,f,e,j){return l(j,{name:"move",priority:5,constructor:function(c){this.clear();this._mixinAPI("isMarked","getMarkedIds","markById","markByIndex","clearMark");c.onMarked=function(){};c.onMarkRemoved=function(){};this.connect(c,"_sendMsg","_receiveMsg");c._spTypes={}},clear:function(){this._byId={}},clearMark:function(c){this._byId[this._initMark(c)]={}},getMarkedIds:function(c){var b=[],a;if(c=this._byId[this._initMark(c)])for(a in c)b.push(a);return b},isMarked:function(c,b){return!!this._byId[this._initMark(b)][c]},
markById:function(c,b,a){this._cmd(c,b,a,!0)},markByIndex:function(c,b,a){c>=0&&c<Infinity&&this._cmd(c,b,a)},_mark:function(c,b,a){var a=this._initMark(a),d=this.isMarked(c,a);b&&!d?this._addMark(c,a):!b&&d&&this._removeMark(c,a)},_cmdMark:function(){var c=arguments,b=[],a=this.model._model,d=this;f.forEach(c,function(a){a[3]||b.push({start:a[0],count:1})});return a._call("when",[{id:[],range:b},function(){f.forEach(c,function(b){b[3]||(b[0]=a._call("indexToId",[b[0]]));d._mark.apply(d,b)})}])},
_onDelete:function(c){for(var b in this._byId)delete this._byId[this._initMark(b)][c];this.onDelete.apply(this,arguments)},_initMark:function(c){c=c||"select";this._byId[c]=this._byId[c]||{};return c},_addMark:function(c,b){this._byId[this._initMark(b)][c]=!0;this.model.onMarked(c,b)},_removeMark:function(c,b){delete this._byId[this._initMark(b)][c];this.model.onMarkRemoved(c,b)},_cmd:function(){this.model._addCmd({name:"_cmdMark",scope:this,args:arguments,async:1})},_receiveMsg:function(c,b){if(c===
"filter"){var a,d=this.model._spTypes,e;for(a in d)if(d[a])for(e in this._byId[a])b[e]||this._removeMark(e,a)}}})})},"gridx/modules/Body":function(){define(["dojo/_base/declare","dojo/_base/query","dojo/dom-construct","dojo/dom-class","dojo/_base/event","dojo/_base/Deferred","dojo/keys","../core/_Module","../util","dojo/i18n!../nls/Body"],function(l,f,e,j,c,b,a,d,h,p){return d.register(l(d,{name:"body",optional:["tree"],getAPIPath:function(){return{body:this}},preload:function(){this.domNode=this.grid.bodyNode;
this.grid._connectEvents(this.domNode,"_onMouseEvent",this);this._initFocus()},load:function(){var a=this.model,b=this.grid;this.batchConnect([a,"onDelete","_onDelete"],[a,"onNew","_onNew"],[a,"onSet","_onSet"],[a,"onSizeChange","_onSizeChange"],[b,"onRowMouseOver","_onRowMouseOver"],[b,"onRowMouseOut","_onRowMouseOver"],[b,"onCellMouseOver","_onCellMouseOver"],[b,"onCellMouseOut","_onCellMouseOver"],[b,"setColumns",function(){this.refresh()}]);a.when({},function(){if(!this.rootCount)this.rootCount=
a.size();this.visualCount=b.tree?b.tree.getVisualSize(this.rootStart,this.rootCount):this.rootCount;this.loaded.callback()},this)},destroy:function(){this.inherited(arguments);this.domNode.innerHTML=""},rowMixin:{node:function(){return this.grid.body.getRowNode({rowId:this.id})},visualIndex:function(){return this.grid.body.getRowInfo({rowId:this.id,rowIndex:this.index(),parentId:this.model.treePath(this.id).pop()}).visualIndex}},cellMixin:{node:function(){return this.grid.body.getCellNode({rowId:this.row.id,
cellId:this.column.id})}},rootStart:0,rootCount:0,renderStart:0,renderCount:0,visualStart:0,visualCount:0,autoUpdate:!0,autoChangeSize:!0,getRowNode:function(a){return(a=this._getRowNodeQuery(a))?f(a,this.domNode)[0]||null:null},getRowInfo:function(a){var b=this.model,i=this.grid;if(a.rowId)a.rowIndex=b.idToIndex(a.rowId),a.parentId=b.treePath(a.rowId).pop();if(typeof a.rowIndex=="number"&&a.rowIndex>=0)a.visualIndex=i.tree?i.tree.getVisualIndexByRowInfo(parentId,rowIndex,this.rootStart):a.rowIndex-
this.rootStart;else if(typeof a.visualIndex=="number"&&a.visualIndex>=0)i.tree?(i=i.tree.getRowInfoByVisualIndex(a.visualIndex,this.rootStart),a.rowIndex=i.start,a.parentId=i.parentId):a.rowIndex=this.rootStart+a.visualIndex;else return a;a.rowId=a.rowId||b.indexToId(a.rowIndex,a.parentId);return a},getCellNode:function(a){var b=this._getRowNodeQuery(a),i=a.colId;if(b){if(!i&&typeof a.colIndex=="number")i=this.grid._columns[a.colIndex].id;b+=" [colid='"+i+"'].dojoxGridxCell";return f(b,this.domNode)[0]||
null}else return null},refreshVisual:function(a,c){var i=this;return this.model.when({}).then(function(){if(typeof a=="number"&&a>=0){var d=!1;c>0||(d=!0,c=i.visualCount-a);var k=a+c,q=i.renderStart+i.renderCount;q<k&&(k=q);if(i.renderStart>a)a=i.renderStart;c=k-a;var m=f('[visualindex="'+a+'"]',i.domNode)[0],q=[],h=[];if(m){var j=i._buildRows(a,c,q,h);if(j){e.place(j,m,"before");for(var j=0,l=h.length;j<l;++j)i.onAfterRow.apply(i,h[j])}}b.when(i._buildUncachedRows(q),function(){for(var b=a;(d||b<
k)&&m;++b){var q=m.nextSibling;e.destroy(m);m=q}i.onRender(a,c)})}else i.renderRows(i.renderStart,i.renderCount)})},refresh:function(a,b,i){if(arguments.length)a=this.getRowInfo({rowIndex:a,parentId:i}).visualIndex;return this.refreshVisual(a,b)},refreshCell:function(a,c){var i=new b,d=this.model,k=this.grid,e=k._columns[c];k.focus&&k.focus.currentArea();if(e){var m=this.getCellNode({visualIndex:a,colId:e.id});if(m){var h,f=this.getRowInfo({visualIndex:a});d.when({start:f.rowIndex,count:1,parentId:f.parentId},
function(){if(h=d.byIndex(f.rowIndex,f.parentId))f.rowId=d.indexToId(f.rowIndex,f.parentId),this.onBeforeCell(m,f,e,h),m.innerHTML=this._buildCellContent(e,f,h.data,k.tree&&h.data[e.id]===void 0),this.onAfterCell(m,f,e,h)},this).then(function(){i.callback(!!h)});return i}}i.callback(0);return i},updateRootRange:function(a,b,i){var c=this.rootStart!==a||this.rootCount!==b;this.rootStart=a;this.rootCount=b;var k=this.visualCount;this.visualCount=this.grid.tree?this.grid.tree.getVisualSize(a,b):b;if(c){if(!i)this.domNode.innerHTML=
"",this.renderStart=this.renderCount=0,this.onRootRangeChange(a,b)}else if(k!==this.visualCount){for(a=this.getRowNode({visualIndex:this.visualCount});a;)b=a.nextSibling,e.destroy(a),a=b;if(this.renderStart>=this.visualCount)this.renderStart=this.renderCount=0;else if(this.renderStart+this.renderCount>this.visualCount)this.renderCount=this.visualCount-this.renderStart;this.onVisualCountChange(this.visualCount,k)}},renderRows:function(a,c,i){var d,k=this.grid,f=this,m="";d=[];var h=[],j=this.domNode;
if(c>0){k.emptyNode.innerHTML="";m=this._buildRows(a,c,d,h);i==="top"?(this.renderCount+=this.renderStart-a,this.renderStart=a,e.place(m,this.domNode,"first")):i==="bottom"?(this.renderCount=a+c-this.renderStart,e.place(m,this.domNode,"last")):(this.renderStart=a,this.renderCount=c,this.onUnrender(),j.scrollTop=0,j.innerHTML=m,k.emptyNode.innerHTML=m?"":p.emptyInfo,this.model.free());i=0;for(k=h.length;i<k;++i)this.onAfterRow.apply(this,h[i]);d=this._buildUncachedRows(d);b.when(d,function(){f.onRender(a,
c)})}else if(!{top:1,bottom:1}[i])j.scrollTop=0,j.innerHTML="",k.emptyNode.innerHTML=p.emptyInfo},unrenderRows:function(a,b){if(a>0){var c=0,d,k=this.domNode;if(b==="post")for(;c<a&&k.lastChild;++c)d=k.lastChild.getAttribute("rowid"),this.model.free(d),k.removeChild(k.lastChild),this.onUnrender(d);else{for(var e=k.scrollTop;c<a&&k.firstChild;++c)d=k.firstChild.getAttribute("rowid"),this.model.free(d),e-=k.firstChild.offsetHeight,k.removeChild(k.firstChild),this.onUnrender(d);this.renderStart+=c;k.scrollTop=
e>0?e:0}this.renderCount-=c}},onAfterRow:function(){},onBeforeCell:function(){},onAfterCell:function(){},onRootRangeChange:function(){},onVisualCountChange:function(){},onRender:function(){},onUnrender:function(){},onNew:function(){},onDelete:function(){},onSet:function(){},collectCellWrapper:function(){},onMoveToCell:function(){},_getRowNodeQuery:function(a){var b;a.rowId?b="[rowid='"+a.rowId+"']":typeof a.rowIndex=="number"&&a.rowIndex>=0?(b="[rowindex='"+a.rowIndex+"']",a.parentId&&(b+="[parentid='"+
a.parentId+"']")):typeof a.visualIndex=="number"&&a.visualIndex>=0&&(b="[visualindex='"+a.visualIndex+"']");return b},_buildRows:function(a,b,c,d){for(var b=a+b,k=[],e=this.model;a<b;++a){var m=this.getRowInfo({visualIndex:a}),h=e.byIndex(m.rowIndex,m.parentId);k.push('<div class="dojoxGridxRow ',a%2?"dojoxGridxRowOdd":"",'" role="row" visualindex="',a);h?(e.keep(m.rowId),k.push('" rowid="',m.rowId,'" rowindex="',m.rowIndex,'" parentid="',m.parentId,'">',this._buildCells(h.data,m),"</div>"),d.push([m,
h])):(k.push('"><div class="dojoxGridxRowDummy"></div></div>'),m.start=m.rowIndex,m.count=1,c.push(m))}return k.join("")},_buildUncachedRows:function(a){return a.length&&this.model.when(a,function(){for(var b=0,c=a.length;b<c;++b)this._buildRowContent(a[b])},this)},_buildRowContent:function(a){var b=this.model,c=f('[visualindex="'+a.visualIndex+'"]',this.domNode)[0];if(c){var d=b.byIndex(a.rowIndex,a.parentId);d?(a.rowId=b.indexToId(a.rowIndex,a.parentId),b.keep(a.rowId),c.setAttribute("rowid",a.rowId),
c.setAttribute("rowindex",a.rowIndex),c.setAttribute("parentid",a.parentId||""),b=this._buildCells(d.data,a),c.innerHTML=b,this.onAfterRow(a,d)):console.error("Row is not in cache:",a.rowIndex)}},_buildCells:function(a,b){var c,d,k,e,h=this.grid,f=h._columns,j=h.focus&&h.focus.currentArea()==="body",l=['<table class="dojoxGridxRowTable" role="presentation" border="0" cellpadding="0" cellspacing="0"><tr>'];c=0;for(k=f.length;c<k;++c)d=f[c],e=h.tree&&a[d.id]===void 0,l.push('<td class="dojoxGridxCell '),
e&&l.push("dojoxGridxPaddingCell"),j&&this._focusCellRow===b.visualIndex&&this._focusCellCol===c&&l.push("dojoxGridxCellFocus"),l.push('" role="gridcell" tabindex="-1" colid="',d.id,'" style="width: ',d.width,'">',this._buildCellContent(d,b,a,e),"</td>");l.push("</tr></table>");return l.join("")},_buildCellContent:function(a,b,c,d){if(!d)return this._wrapCellData(a.decorator?a.decorator(c[a.id],b.rowId,b.visualIndex):c[a.id],b.rowId,a.id);return""},_wrapCellData:function(a,b,c){var d=[];this.collectCellWrapper(d,
b,c);var k=d.length-1;for(k>0&&d.sort(function(a,b){return a.priority-b.priority});k>=0;--k)a=d[k].wrap(a,b,c);return a},_onMouseEvent:function(a,b){var c=this.grid,d="onCell"+a,k="onRow"+a;if(c._isConnected(d)||c._isConnected(k))if(this._decorateEvent(b),b.rowIndex>=0){if(b.columnIndex>=0)c[d](b);c[k](b)}},_decorateEvent:function(a){for(var b=a.target||a.originalTarget,c=this.grid;b&&b!==c.bodyNode;){if(b.tagName.toLowerCase()==="td"&&j.contains(b,"dojoxGridxCell")){var d=c._columnsById[b.getAttribute("colid")];
a.cellNode=b;a.columnId=d.id;a.columnIndex=d.index}if(b.tagName.toLowerCase()==="div"&&j.contains(b,"dojoxGridxRow")){a.rowId=b.getAttribute("rowid");a.parentId=b.getAttribute("parentid");a.rowIndex=parseInt(b.getAttribute("rowindex"),10);a.visualIndex=parseInt(b.getAttribute("visualindex"),10);break}b=b.parentNode}},_onSet:function(a,b,c){if(this.autoUpdate){var d=this.getRowNode({rowId:a});if(d&&c){var k=this.getRowInfo({rowId:a,rowIndex:b});d.innerHTML=this._buildCells(c.data,k);this.onAfterRow(k,
c);this.onSet(a,b,c);this.onRender(b,1)}}},_onNew:function(){},_onDelete:function(a){if(this.autoUpdate){var b=this.getRowNode({rowId:a});if(b){var c,d,k,h=0;for(c=b;c;c=c.nextSibling)d=parseInt(c.getAttribute("rowindex"),10),c.setAttribute("rowindex",d-1),k=parseInt(c.getAttribute("visualindex"),10),c.setAttribute("visualindex",k-1),++h;e.destroy(b);if(this.autoChangeSize&&this.rootStart===0)this._deleted=1,this.updateRootRange(0,this.rootCount-1,1);this.onDelete(a,d);this.onRender(d,h)}}},_onSizeChange:function(a,
b){if(this.autoChangeSize&&this.rootStart===0&&(this.rootCount===b||b<0))this._deleted||this.updateRootRange(0,a);this._deleted=0},_onRowMouseOver:function(a){var b=this.getRowNode({rowId:a.rowId});j.toggle(b,"dojoxGridxRowOver",a.type!="mouseout")},_onCellMouseOver:function(a){j.toggle(a.cellNode,"dojoxGridxCellOver",a.type!="mouseout")},_focusCellCol:0,_focusCellRow:0,_initFocus:function(){var b=this.grid,c=b.focus;c&&(c.registerArea({name:"body",priority:1,focusNode:b.bodyNode,scope:this,doFocus:this._doFocus,
doBlur:this._blurCell,onFocus:this._onFocus,onBlur:this._blurCell}),this.connect(b.mainNode,"onkeypress",function(d){if(c.currentArea()=="body"&&(!b.tree||!d.ctrlKey)){var e={},k=b.isLeftToRight()?1:-1;e[a.LEFT_ARROW]=[0,-k,d];e[a.RIGHT_ARROW]=[0,k,d];e[a.UP_ARROW]=[-1,0,d];e[a.DOWN_ARROW]=[1,0,d];this._moveFocus.apply(this,e[d.keyCode]||[])}}),this.connect(b,"onCellClick",function(a){this._focusCellRow=a.visualIndex;this._focusCellCol=a.columnIndex}),this.connect(this,"onRender",function(a,b){this._focusCellRow>=
a&&this._focusCellRow<a+b&&c.currentArea()==="body"&&this._focusCell()}),b.hScroller&&this.connect(b.bodyNode,"onscroll",function(){b.hScroller.scroll(b.bodyNode.scrollLeft)}))},_doFocus:function(a){return this._focusCell(a)||this._focusCell(null,0,0)},_focusCell:function(a,b,c){h.stopEvent(a);c=c>=0?c:this._focusCellCol;b=b>=0?b:this._focusCellRow;if(a=this.getCellNode({visualIndex:b,colId:this.grid._columns[c].id})){var d=f(".dojoxGridxCellFocus",this.domNode)[0];if(a!==d)d&&j.remove(d,"dojoxGridxCellFocus"),
j.add(a,"dojoxGridxCellFocus"),this._focusCellRow=b,this._focusCellCol=c;a.focus()}return a},_moveFocus:function(a,b,d){if(a||b){c.stop(d);var e,k,h=this;e=this._focusCellRow+a;e=e<0?0:e>=this.visualCount?this.visualCount-1:e;k=this._focusCellCol+b;k=k<0?0:k>=this.grid._columns.length?this.grid._columns.length-1:k;this.grid.vScroller.scrollToRow(e).then(function(){h._focusCell(null,e,k);h.onMoveToCell(e,k,d)})}},_nextCell:function(a,c,d,e){var k=new b,h=this.grid._columns.length,f=this.visualCount;
do if(c+=d,c<0||c>=h)a+=d,c=c<0?h-1:0,a<0?(a=f-1,c=h-1):a>=f&&(c=a=0);while(!e(a,c));this.grid.vScroller.scrollToRow(a).then(function(){k.callback({r:a,c:c})});return k},_blurCell:function(){var a=f(".dojoxGridxCellFocus",this.domNode)[0];a&&j.remove(a,"dojoxGridxCellFocus");return!0},_onFocus:function(a){for(a=a.target;a&&a!==this.domNode&&!j.contains(a,"dojoxGridxCell");)a=a.parentNode;if(a&&a!==this.domNode){for(var b=this.grid._columnsById[a.getAttribute("colid")].index;a&&!j.contains(a,"dojoxGridxRow");)a=
a.parentNode;return this._focusCell(null,parseInt(a.getAttribute("visualindex"),10),b)}return!1}}))})},"gridx/modules/select/Row":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/html","dojo/_base/sniff","dojo/keys","./_RowCellBase","../../core/_Module"],function(l,f,e,j,c,b,a){return a.register(l(b,{name:"selectRow",rowMixin:{select:function(){this.grid.select.row.selectById(this.id);return this},deselect:function(){this.grid.select.row.deselectById(this.id);return this},isSelected:function(){return this.model.isMarked(this.id)}},
triggerOnCell:!1,getSelected:function(){return this.model.getMarkedIds()},clear:function(){if(this.arg("enabled")){var a=this.model;f.forEach(a.getMarkedIds(),function(b){a.markById(b,!1)});a.when()}},_type:"row",_init:function(){this.inherited(arguments);this.model._spTypes.select=1;this.batchConnect([this.grid,"onRowMouseDown",function(a){(this.arg("triggerOnCell")||!a.columnId)&&this._select(a.rowId,a.ctrlKey)}],[this.grid,j.isFF<4?"onRowKeyUp":"onRowKeyDown",function(a){(this.arg("triggerOnCell")||
!a.columnId)&&a.keyCode===c.SPACE&&this._select(a.rowId,a.ctrlKey)}])},_onMark:function(a,b,c){c==="select"&&(this._highlight(b,a),this.model.when({id:b},function(){this[a?"onSelected":"onDeselected"](this.grid.row(b,!0))},this))},_highlight:function(a,b){var c=this.grid.body.getRowNode({rowId:a});c&&(e[b?"addClass":"removeClass"](c,"dojoxGridxRowSelected"),this.onHighlightChange({row:parseInt(c.getAttribute("visualindex"),10)},b))},_markById:function(a,b){this.model.markById(a,b);this.model.when()},
_onRender:function(a,b){var c=this.model,e=a+b,f,i;for(f=a;f<e;++f)i=this.grid.body.getRowInfo({visualIndex:f}).rowIndex,i=c.indexToId(i),c.isMarked(i)&&this._highlight(i,!0)}}))})},"gridx/core/Column":function(){define(["dojo/_base/declare"],function(l){return l(null,{constructor:function(f,e){this.grid=f;this.model=f.model;this.id=e},index:function(){var f=this.grid._columnsById[this.id];return f?f.index:-1},cell:function(f,e){return this.grid.cell(f,this,e)},name:function(){return this.grid._columnsById[this.id].name||
""},setName:function(f){this.grid._columnsById[this.id].name=f;return this},field:function(){return this.grid._columnsById[this.id].field||null},getWidth:function(){return this.grid._columnsById[this.id].width}})})},"gridx/modules/ColumnWidth":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/html","dojo/_base/Deferred","dojo/_base/query","dojo/_base/sniff","dojo/_base/event","dojo/keys","dojox/html/metrics","../core/_Module"],function(l,f,e,j,c,b,a,d,h,p){return p.register(l(p,
{name:"columnWidth",forced:["hLayout","header"],getAPIPath:function(){return{columnWidth:this}},constructor:function(){this._ready=new j},preload:function(){var a=this.grid;if(!a.hScroller)this.percentage=!0;this.batchConnect([a,"_onResizeBegin",function(b,c){c.header=new j;this.arg("percentage")?a.bodyNode.style.width=a.domNode.clientWidth-a.hLayout.lead-a.hLayout.tail+"px":this._adaptWidth();c.header.callback()}],[a.hLayout,"onUpdateWidth",function(){this._adaptWidth();this._ready.callback()}],
[a,"setColumns","_adaptWidth"])},load:function(){var a=this.loaded;this._ready.then(function(){a.callback()})},"default":60,percentage:!1,_adaptWidth:function(){var a=this.grid,d=a.header,i=a.isLeftToRight(),h=i?"marginLeft":"marginRight",i=i?"marginRight":"marginLeft",k=a.hLayout.lead,q=a.hLayout.tail,m=d.innerNode,j=0;if(!b("webkit"))var l=c(".dojoxGridxCell",m)[0],j=e.getMarginBox(l).w-e.getContentBox(l).w;m.style[h]=k+"px";m.style[i]=q+"px";a.bodyNode.style[h]=k+"px";var r=a.domNode.clientWidth-
k-q;if(a.autoWidth){f.forEach(a._columns,function(a){if(!a.width)a.width=this.arg("default")+"px"},this);d.refresh();var p=0;c("th.dojoxGridxCell",m).forEach(function(b){var c=b.offsetWidth;p+=c;a._columnsById[b.getAttribute("colid")].width=c-j+"px"});d._columnsWidth=p;a.bodyNode.style.width=p+"px";a.domNode.style.width=k+q+p+"px"}else{if(this.arg("percentage"))a.bodyNode.style.width=r+"px",e.addClass(a.domNode,"dojoxGridxPercentColumnWidth"),f.forEach(a._columns,function(a){if(!a.width||!/%$/.test(a.width))a.width=
"auto"});else{var s=[],t=0;a.bodyNode.style.width=r+"px";f.forEach(a._columns,function(a){if(!a.width||a.width=="auto")a.width="auto",s.push(a);else if(/%$/.test(a.width))a.width=r*parseFloat(a.width,10)/100-j+"px"});d.refresh();f.forEach(a._columns,function(a){if(a.width!="auto"){var b=d.getHeaderNode(a.id).offsetWidth;a.width=b-j+"px";t+=b}});var w=(r>t?(r-t)/s.length-j:this.arg("default"))+"px";f.forEach(s,function(a){a.width=w})}d.refresh()}}}))})},"gridx/modules/Header":function(){define(["dojo/_base/declare",
"dojo/dom-construct","dojo/dom-class","dojo/dom-geometry","dojo/_base/Deferred","dojo/_base/query","dojo/_base/sniff","dojo/_base/event","dojo/keys","dojox/html/metrics","../util","../core/_Module"],function(l,f,e,j,c,b,a,d,h,p,g,n){return n.register(l(n,{name:"header",required:["vLayout"],forced:["hLayout"],getAPIPath:function(){return{header:this}},constructor:function(){this.domNode=f.create("div",{"class":"dojoxGridxHeaderRow",role:"presentation"});this.innerNode=f.create("div",{"class":"dojoxGridxHeaderRowInner",
role:"row",innerHTML:'<table border="0" cellpadding="0" cellspacing="0"><tr><th class="dojoxGridxCell"></th></tr></table>'});this.domNode.appendChild(this.innerNode)},preload:function(){var a=this.grid;a.headerNode.appendChild(this.domNode);a.vLayout.register(this,"domNode","headerNode");this.batchConnect([a,"onHScroll","_onHScroll"],[a,"onHeaderCellMouseOver","_onHeaderCellMouseOver"],[a,"onHeaderCellMouseOut","_onHeaderCellMouseOver"],a.autoWidth&&a.columnResizer&&[a.columnResizer,"onResize","_onColumnResize"]);
this._initFocus();a._connectEvents(this.domNode,"_onMouseEvent",this)},destroy:function(){this.inherited(arguments);f.destroy(this.domNode)},columnMixin:{headerNode:function(){return this.grid.header.getHeaderNode(this.id)}},getHeaderNode:function(a){return b("[colid='"+a+"']",this.domNode)[0]},refresh:function(){var a=['<table role="presentation" border="0" cellpadding="0" cellspacing="0"><tr>'],b=this.grid,c=b.focus,d=this;b.columns().forEach(function(b){a.push('<th colid="',b.id,'" class="dojoxGridxCell ',
c&&c.currentArea()=="header"&&b.id==d._focusHeaderId?d._focusClass:"",'" role="columnheader" aria-readonly="true" tabindex="-1" style="width: ',b.getWidth(),'"><div class="dojoxGridxSortNode">',b.name(),"</div></th>")});a.push("</tr></table>");this.innerNode.innerHTML=a.join("");this._onHScroll(this._scrollLeft);this.onRender()},onRender:function(){},onMoveToHeaderCell:function(){},_scrollLeft:0,_onColumnResize:function(a,b,c){this._columnsWidth+=b-c;a=this.grid;a.bodyNode.style.width=this._columnsWidth+
"px";a.domNode.style.width=a.hLayout.lead+a.hLayout.tail+this._columnsWidth+"px"},_onHScroll:function(a){this.innerNode.firstChild.style.marginLeft=-a+"px";this._scrollLeft=a},_onMouseEvent:function(a,b){var c=this.grid,d="onHeaderCell"+a,e="onHeader"+a;if(c._isConnected(d)||c._isConnected(e)){this._decorateEvent(b);if(b.columnIndex>=0)this.grid[d](b);this.grid[e](b)}},_decorateEvent:function(a){for(var b=a.target;b&&b!==this.domNode;){if(b.tagName.toLowerCase()==="th"){if(b=this.grid._columnsById[b.getAttribute("colid")])a.columnId=
b.id,a.columnIndex=b.index;break}b=b.parentNode}},_onHeaderCellMouseOver:function(a){var b=this.getHeaderNode(a.columnId);e.toggle(b,"dojoxGridxHeaderCellOver",a.type=="mouseover")},_focusHeaderId:null,_focusClass:"dojoxGridxHeaderCellFocus",_initFocus:function(){var a=this.grid;a.focus&&a.focus.registerArea({name:"header",priority:0,focusNode:this.domNode,scope:this,doFocus:this._doFocus,doBlur:this._blurNode,onBlur:this._blurNode,connects:[this.connect(this.domNode,"onkeydown","_onKeyDown"),this.connect(a,
"onHeaderCellMouseDown",function(a){this._focusNode(this.getHeaderNode(a.columnId))})]})},_doFocus:function(a){var c;this._focusHeaderId&&(c=this.getHeaderNode(this._focusHeaderId));(c=this._focusNode(c||b("th.dojoxGridxCell",this.domNode)[0]))&&g.stopEvent(a);return c},_focusNode:function(a){if(a&&(this._focusHeaderId=a.getAttribute("colid"))){this._blurNode();if(this.grid.hScroller){var b=j.position(a),c=j.position(this.domNode),d=b.x+b.w-c.x-c.w;d<0&&(d=b.x-c.x-1,d>0&&(d=0));this._onHScroll(this._scrollLeft+
d);this.grid.hScroller.scroll(this._scrollLeft)}e.add(a,this._focusClass);a.focus();return!0}return!1},_blurNode:function(){var a=b("th."+this._focusClass,this.domNode)[0];a&&e.remove(a,this._focusClass);return!0},_onKeyDown:function(a){if(this._focusHeaderId){var b,c=this.grid;b=c.isLeftToRight()?1:-1;var e=a.keyCode==h.LEFT_ARROW?-b:b;if(a.keyCode==h.LEFT_ARROW||a.keyCode==h.RIGHT_ARROW)if(d.stop(a),a.stopPropogation(),a.preventDefault(),b=c._columnsById[this._focusHeaderId],b=c._columns[b.index+
e])this._focusNode(this.getHeaderNode(b.id)),this.onMoveToHeaderCell(b.id,a)}}}))})},"gridx/core/Row":function(){define(["dojo/_base/declare"],function(l){return l(null,{constructor:function(f,e){this.grid=f;this.model=f.model;this.id=e},index:function(){return this.model.idToIndex(this.id)},cell:function(f,e){return this.grid.cell(this,f,e)},data:function(){return this.model.byId(this.id).data},rawData:function(){return this.model.byId(this.id).rawData},item:function(){return this.model.byId(this.id).item}})})},
"url:gridx/templates/Grid.html":'<div class="dojoxGridx" role="grid" tabindex="0">\r\n\t<div class="dojoxGridxHeader" role="presentation" dojoAttachPoint="headerNode"></div>\r\n\t<div class="dojoxGridxMain" role="presentation" dojoAttachPoint="mainNode">\r\n\t\t<div class="dojoxGridxBodyEmpty" dojoAttachPoint="emptyNode"></div>\r\n\t\t<div class="dojoxGridxBody" role="presentation" dojoAttachPoint="bodyNode"></div>\r\n\t\t<div class="dojoxGridxVScroller" dojoAttachPoint="vScrollerNode"><div style="width:1px; height: 1px;"></div></div>\r\n\t\t<div class="clear"></div>\r\n\t</div>\r\n\t<div class="dojoxGridxFooter" dojoAttachPoint="footerNode">\r\n\t\t<div class="gridxHScroller">\r\n\t\t\t<div class="dojoxGridxHScroller" dojoAttachPoint="hScrollerNode"><div style="width:1px;height: 1px"></div></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<span dojoAttachPoint="lastFocusNode" tabindex="0"></span>\r\n</div>\r\n',
"gridx/core/Core":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/Deferred","dojo/DeferredList","./model/Model","./Row","./Column","./Cell","./_Module"],function(l,f,e,j,c,b,a,d,h,p){function g(a){a=a.moduleClass.prototype;return(a.forced||[]).concat(a.optional||[])}function n(a){for(var b in f)e.isFunction(f[b])&&(a[b]=e.partial(f[b],a));return a}function i(a,b){if(b)for(var c in b)a[c]&&e.isObject(a[c])&&!e.isFunction(a[c])?i(a[c],b[c]):a[c]=b[c]}function o(a){var b=
a.modules,c,d,e,f,h=function(a){for(var c=b.length-1;c>=0;--c)if(b[c].moduleClass.prototype.name===a)return b[c];return null};for(c=b.length-1;d=b[c];--c){e=d.moduleClass.prototype.name;for(f=g(d);f.length;){d=f.shift();if(d==e)throw Error("Module '"+d+"' is in a dependancy circle!");(d=h(d))&&(f=f.concat(g(d)))}}return a}return l(null,{reset:function(a){this._uninit();var c={},d;for(d in a)c[d]=a[d];a=c;this.store=a.store;a.modules=a.modules||[];a.modelExtensions=a.modelExtensions||[];this.setColumns(a.structure);
a.columns=this._columnsById;d=a;var f=this.coreModules,g,h,a=d.modules,c=[],i=f&&f.length||0,f=0;for(g=a.length;f<g;++f)h=a[f],e.isFunction(h)?c.push({moduleClass:h}):h?e.isFunction(h.moduleClass)?c.push(h):console.error(["The ",f+1-i,"-th declared module has NO moduleClass, please provide it"].join("")):console.error(["The ",f+1-i,"-th declared module can NOT be found, please require it before using it"].join(""));d.modules=c;for(var a=p._modules,c=d.modules,j,l,f=0;f<c.length;++f){i=c[f].moduleClass.prototype;
j=(i.forced||[]).concat(i.required||[]);for(g=0;g<j.length;++g){l=j[g];for(h=c.length-1;h>=0;--h)if(c[h].moduleClass.prototype.name===l)break;if(h<0)if(a[l])c.push({moduleClass:a[l]});else throw Error(["Forced/Required Dependent Module '",l,"' is NOT Found for '",i.name,"'"].join(""));}}a=d.modules;g={};for(c=0;f=a[c];++c)g[f.moduleClass.prototype.name]=f;a=[];for(c in g)a.push(g[c]);d.modules=a;d=o(d);a=d.modules;c=d.modelExtensions;h=[].push;for(f=a.length-1;f>=0;--f)(g=a[f].moduleClass.prototype.modelExtensions)&&
h.apply(c,g);a=d;this.model=new b(a);this._createModules(a)},_postCreate:function(){this._preloadModules();this._deferStartup=new j;this._loadModules(this._deferStartup).then(e.hitch(this,this.onModulesLoaded))},onModulesLoaded:function(){},setStore:function(a){this.store=a;this.reset(this);this._postCreate();this._deferStartup.callback()},setColumns:function(a){this.structure=a;var a=this._columns=e.clone(a),b={},c,d,f;if(e.isArray(a)){d=0;for(f=a.length;d<f;++d)c=a[d],c.index=d,c.id=c.id||String(d+
1),b[c.id]=c}this._columnsById=b;if(this.model)this.model._cache.onSetColumns(this._columnsById)},row:function(b,c){var d=b;typeof d==="number"&&!c&&(d=this.model.indexToId(d));if(this.model.idToIndex(d)>=0)return this._rowObj=this._rowObj||this._mixinComponent(new a(this),"row"),e.delegate(this._rowObj,{id:d});return null},column:function(a,b){var k;var c=a;typeof c==="number"&&!b&&(k=(c=this._columns[c])&&c.id,c=k);if(c=this._columnsById[c]){this._colObj=this._colObj||this._mixinComponent(new d(this),
"column");var f,g={};for(f in c)this._colObj[f]===void 0&&(g[f]=c[f]);return e.delegate(this._colObj,g)}return null},cell:function(b,c,f){if(b=b instanceof a?b:this.row(b,f))if(c=c instanceof d?c:this.column(c,f))return this._cellObj=this._cellObj||this._mixinComponent(new h(this),"cell"),e.delegate(this._cellObj,{row:b,column:c});return null},columnCount:function(){return this._columns.length},rowCount:function(a){return this.model.size(a)},columns:function(a,b){for(var a=a||0,c=this._columns.length,
d=b>=0?a+b:c,e=[];a<d&&a<c;++a)e.push(this.column(a));return n(e)},rows:function(a,b){for(var a=a||0,c=this.model.size(),d=b>=0?a+b:c,e=[];a<d&&a<c;++a)e.push(this.row(a));return n(e)},_uninit:function(){for(var a in this._modules){var b=this._modules[a].mod;if(b.getAPIPath){var c=b.getAPIPath();if(c){var d=void 0;for(d in c)delete this[d]}}b.destroy()}this.model&&this.model.destroy()},_preloadModules:function(){for(var a in this._modules)a=this._modules[a],a.mod.preload&&a.mod.preload(a.args)},_loadModules:function(a){var b=
[],d;for(d in this._modules)b.push(this._initializeModule(a,d));return new c(b)},_mixinComponent:function(a,b){for(var c in this._modules){var d=this._modules[c],f=d.mod[b+"Mixin"];e.isFunction(f)&&(f=f.apply(d.mod));e.mixin(a,f||{})}return a},_createModules:function(a){var k;var a=a.modules,b,c,d;this._modules={};for(b=0;b<a.length;++b)if(c=a[b],d=c.moduleClass.prototype.name,!this._modules[d])d=this._modules[d]={args:c},k=d.mod=new c.moduleClass(this,c),c=k,c.forced=c.forced||[],c.optional=c.optional||
[],c.loaded=new j,d.deps=c.forced.concat(c.optional),c.getAPIPath&&i(this,c.getAPIPath())},_initializeModule:function(a,b){var d=this._modules,g=d[b];if(!g.deferred)g.deferred=g.mod.loaded,(new c(f.map(f.filter(g.deps,function(a){return d[a]}),e.hitch(this,this._initializeModule,a)))).then(function(){g.mod.load?g.mod.load(g.args,a):g.deferred.fired<0&&g.deferred.callback()});return g.deferred}})})}}});define("gridx/gridx-mini",[],1);