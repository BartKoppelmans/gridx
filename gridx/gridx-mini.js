//>>built
require({cache:{"gridx/core/model/_Extension":function(){define(["dojo/_base/declare","dojo/_base/connect"],function(l,g){return l([],{constructor:function(e){this._cnnts=[];this.model=e;var i=this.inner=e._model;e._model=this;i&&(this.connect(i,"onDelete","_onDelete"),this.connect(i,"onNew","_onNew"),this.connect(i,"onSet","_onSet"),this.connect(i,"onSizeChange","_onSizeChange"))},destroy:function(){for(var e=this._cnnts.length-1;e>=0;--e)g.disconnect(this._cnnts[e])},connect:function(e,i,c,b){e=
g.connect(e,i,b||this,c);this._cnnts.push(e);return e},_onNew:function(){this.onNew.apply(this,arguments)},_onSet:function(){this.onSet.apply(this,arguments)},_onDelete:function(){this.onDelete.apply(this,arguments)},_onSizeChange:function(){this.onSizeChange.apply(this,arguments)},onNew:function(){},onDelete:function(){},onSet:function(){},onSizeChange:function(){},_call:function(e,i){return this[e]?this[e].apply(this,i||[]):this.inner&&this.inner._call(e,i)},_mixinAPI:function(){var e,i=this.model,
c=function(b){return function(){return i._model._call(b,arguments)}};for(e=arguments.length-1;e>=0;--e)i[arguments[e]]=c(arguments[e])}})})},"gridx/core/model/extensions/Sort":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/json","dojo/_base/Deferred","../_Extension"],function(l,g,e,i,c){return l(c,{name:"sort",priority:20,constructor:function(b,a){this.clear();this._mixinAPI("sort");if(a.baseSort&&a.baseSort.length)this._baseSort=a.baseSort,this._sort()},clear:function(){},
sort:function(){this.model._addCmd({name:"_cmdSort",scope:this,args:arguments})},_cmdSort:function(){this._sort.apply(this,arguments[arguments.length-1])},_sort:function(b){var a=this.model._cache,d;if(g.isArrayLike(b)){for(d=0;d<b.length;++d){var f=b[d];f.colId!==void 0?f.attribute=a.columns?a.columns[f.colId].field||f.colId:f.colId:f.colId=f.attribute}this._baseSort&&(b=b.concat(this._baseSort))}else b=this._baseSort;a.options=a.options||{};d=!1;a.options.sort&&a.options.sort.length?e.toJson(a.options.sort)!==
e.toJson(b)&&(d=!0):b&&b.length&&(d=!0);a.options.sort=g.clone(b);d&&a.clear();this.model._sendMsg("storeChange")}})})},"gridx/modules/VScroller":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/event","dojo/_base/sniff","dojo/_base/query","dojo/keys","dojox/html/metrics","../core/_Module"],function(l,g,e,i,c,b,a,d){return d.register(l(d,{name:"vscroller",required:["hLayout"],forced:["body","vLayout","columnWidth"],optional:["pagination"],getAPIPath:function(){return{vScroller:this}},
preload:function(){var a=this.grid;this.domNode=a.vScrollerNode;this.stubNode=this.domNode.firstChild;if(a.autoHeight)this.domNode.style.display="none";a.hLayout.register(null,this.domNode,!0)},load:function(a,b){var h=this.grid,d=this;this.batchConnect([this.domNode,"onscroll","_doScroll"],[h.bodyNode,"onmousewheel","_onMouseWheel"],[h.mainNode,"onkeypress","_onKeyScroll"],[h.body,"onRender","_onBodyChange"],[h.body,"onVisualCountChange","_onRowCountChange"],[h.body,"onRootRangeChange","_onRootRangeChange"],
i("ff")&&[h.bodyNode,"DOMMouseScroll","_onMouseWheel"]);b.then(function(){g.when(d._init(a),function(){d.loaded.callback()})})},scrollToPercentage:function(a){this.domNode.scrollTop=this.stubNode.style.clientHeight*a/100},scrollToRow:function(a,b){var h=new g,d=this.grid.bodyNode,j=0,o=c('[visualindex="'+a+'"]',this.grid.bodyNode)[0];if(o){if(b)return this.domNode.scrollTop=o.offsetTop,h.callback(!0),h;else if(o.offsetTop<d.scrollTop)j=o.offsetTop-d.scrollTop;else if(o.offsetTop+o.offsetHeight>d.scrollTop+
d.clientHeight)j=o.offsetTop+o.offsetHeight-d.scrollTop-d.clientHeight;else return h.callback(!0),h;this.domNode.scrollTop+=j}h.callback(!!o);return h},_init:function(){return this._onRootRangeChange(this.grid.body.rootStart,this.grid.body.rootCount)},_doScroll:function(){this.grid.bodyNode.scrollTop=this.domNode.scrollTop},_onMouseWheel:function(a){this.grid.autoHeight||(this.domNode.scrollTop-=typeof a.wheelDelta==="number"?a.wheelDelta/3:-40*a.detail,e.stop(a))},_onBodyChange:function(){this.stubNode.style.height=
this.grid.bodyNode.scrollHeight+"px";this._doScroll()},_onRowCountChange:function(){},_onRootRangeChange:function(a,b){return this.model.when({start:a,count:b},function(){b=b||this.model.size()-a;this.grid.body.renderRows(0,b)},this)},_onKeyScroll:function(a){var j;var f;var d=this.grid.body,h=this.domNode;if(a.keyCode==b.HOME)d._focusCellRow=0,h.scrollTop=0;else if(a.keyCode==b.END)d._focusCellRow=d.visualCount-1,h.scrollTop=this.stubNode.clientHeight-d.domNode.offsetHeight;else if(a.keyCode==b.PAGE_UP)f=
d._focusCellRow=Math.max(d.renderStart-d.renderCount,0),d=f,this.scrollToRow(d,!0);else if(a.keyCode==b.PAGE_DOWN)j=d._focusCellRow=Math.min(d.visualCount-1,d.renderStart+d.renderCount),d=j,this.scrollToRow(d,!0);else return;e.stop(a)}}))})},"gridx/core/model/Model":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/Deferred","dojo/DeferredList","dojo/_base/connect"],function(l,g,e,i,c,b){return l(null,{constructor:function(a){this.store=a.store;this._exts={};
this._cmdQueue=[];this._model=this._cache=new a.cacheClass(this,a);this._createExtensions(a.modelExtensions||[],a);a=this._model;this._connects=[b.connect(a,"onDelete",this,"onDelete"),b.connect(a,"onNew",this,"onNew"),b.connect(a,"onSet",this,"onSet"),b.connect(a,"onSizeChange",this,"onSizeChange")]},destroy:function(){g.forEach(this._connects,b.disconnect);for(var a in this._exts)this._exts[a].destroy()},clearCache:function(){this._cache.clear()},when:function(){this._addCmd({name:"_cmdRequest",
scope:this,args:arguments,async:1});return this._exec()},scan:function(a,b){var f=new i,p=a.start||0,h=a.pageSize||this._cache.pageSize||1,n=a.count>0?p+a.count:Infinity,j=a.whenScope||this,o=a.whenFunc||j.when,k=function(a){o.call(j,{id:[],range:[{start:a,count:h}]},function(){var f,k,o=[];for(f=a;f<a+h&&f<n;++f)if(k=j.byIndex(f))o.push(k);else{n=-1;break}if(b(o,a)||f===n)n=-1}).then(function(){n===-1?f.callback():k(a+h)})};k(p);return f},onDelete:function(){},onNew:function(){},onSet:function(){},
onSizeChange:function(){},_sendMsg:function(){},_addCmd:function(a){var b=this._cmdQueue,f=b[b.length-1];f&&f.name===a.name&&f.scope===a.scope?f.args.push(a.args||[]):(a.args=[a.args||[]],b.push(a))},_cmdRequest:function(){var a=this,b=g.map(arguments,function(b){var d=b[0],h=b[1],n=b[2];return d===null||!b.length?(h&&h.apply(n||window),b=new i,b.callback(),b):(d=a._normalizeArgs(d),a._model._call("when",[d,function(){h&&h.apply(n||window)}]))});return new c(b,0,1)},_exec:function(){if(this._busy)return this._busy;
this._cache.skipCacheSizeCheck=1;var a=this,b=a._busy=new i,f=a._cmdQueue,c=function(h,b){delete a._busy;delete a._cache.skipCacheSizeCheck;a._cache._checkSize&&a._cache._checkSize();b?h.errback(b):h.callback()},h=function(){if(g.some(f,function(a){return a.name==="_cmdRequest"}))try{for(;f.length;){var a=f.shift(),j=a.scope[a.name].apply(a.scope,a.args);if(a.async){i.when(j,h,e.partial(c,b));return}}c(b)}catch(o){c(b,o)}else c(b)};h();return b},_createExtensions:function(a,b){a=g.filter(a,function(a){return a&&
a.prototype});a.sort(function(a,h){return a.prototype.priority-h.prototype.priority});for(var f=0,c=a.length;f<c;++f)if(f==a.length-1||a[f]!=a[f+1]){var h=new a[f](this,b);this._exts[h.name]=h}},_normalizeArgs:function(a){var b,f={range:[],id:[]},c=function(a){return a&&typeof a.start==="number"&&a.start>=0},h=function(a){if(c(a))f.range.push(a);else if(typeof a==="number"&&a>=0)f.range.push({start:a,count:1});else if(e.isArrayLike(a))for(b=a.length-1;b>=0;--b)typeof a[b]==="number"&&a[b]>=0?f.range.push({start:a[b],
count:1}):c(a[b])?f.range.push(a[b]):e.isString(a)&&f.id.push(a[b]);else e.isString(a)&&f.id.push(a)};if(a&&(a.index||a.range||a.id))if(h(a.index),h(a.range),e.isArrayLike(a.id))for(b=a.id.length-1;b>=0;--b)f.id.push(a.id[b]);else a.id!==void 0&&f.id.push(a.id);else h(a);!f.range.length&&!f.id.length&&this.size()<0&&f.range.push({start:0,count:this._cache.pageSize||1});return f}})})},"gridx/core/_Module":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/connect"],
function(l,g,e,i){var c=l(null,{constructor:function(b,a){this.grid=b;this.model=b.model;this._cnnts=[];this._sbscs=[];g.mixin(this,a)},destroy:function(){e.forEach(this._cnnts,i.disconnect);e.forEach(this._sbscs,i.unsubscribe)},arg:function(b,a,d){arguments.length==2&&g.isFunction(a)&&(d=a,a=void 0);var f=this[b];if(!this.hasOwnProperty(b)){var c=this.name+b.substring(0,1).toUpperCase()+b.substring(1);this.grid[c]===void 0?a!==void 0&&(f=a):f=this.grid[c]}this[b]=d&&!d(f)?a:f;return f},connect:function(b,
a,d,f,c){var f=f||this,h=this.grid,b=b===h&&typeof a=="string"?i.connect(b,a,function(){h._eventFlags[a]===c&&(g.isFunction(d)?d.apply(f,arguments):g.isFunction(f[d])&&f[d].apply(f,arguments))}):i.connect(b,a,f,d);this._cnnts.push(b);return b},batchConnect:function(){for(var b=0,a=arguments.length;b<a;++b)g.isArrayLike(arguments[b])&&this.connect.apply(this,arguments[b])},disconnect:function(b){var a=e.indexOf(this._cnnts,b);a>=0&&(this._cnnts.splice(a,1),i.disconnect(b))},subscribe:function(b,a,
d){b=i.subscribe(b,d||this,a);this._sbscs.push(b);return b},unsubscribe:function(b){var a=e.indexOf(this._sbscs,b);a>=0&&(this._sbscs.splice(a,1),i.unsubscribe(b))}});c._modules={};c.register=function(b){var a=b.prototype;return c._modules[a.name||a.declaredClass]=b};c._markupAttrs=["id","name","field","width","dataType","!formatter","!decorator","!sortable"];return c})},"gridx/modules/ColumnResizer":function(){define(["dojo/_base/declare","dojo/_base/html","dojo/_base/sniff","dojo/_base/window",
"dojo/dom-style","dojo/query","../core/_Module"],function(l,g,e,i,c,b,a){return a.register(l(a,{name:"columnResizer",required:["hscroller"],minWidth:20,detectWidth:5,load:function(){var a=this.grid;i.body();this.batchConnect([b(".dojoxGridxHeaderRowInner",a.domNode)[0],"mousemove","_mousemove"],[a,"onHeaderMouseOut","_mouseout"],[a,"onHeaderMouseDown","_mousedown",this,this.name],[document,"mousemove","_docMousemove"],[document,"onmouseup","_mouseup"]);this.loaded.callback()},getAPIPath:function(){return{columnResizer:this}},
columnMixin:{setWidth:function(a){this.grid.columnResizer.setWidth(this.id,a)}},setWidth:function(a,f){var f=parseInt(f),c=this.arg("minWidth");f<c&&(f=c);this.grid._columnsById[a].width=f+"px";var h;b('[colid="'+a+'"]',this.grid.domNode).forEach(function(a){h||(h=e("webkit")?a.offsetWidth:g.style(a,"width"));a.style.width=f+"px"});this.grid.vLayout.reLayout();this.grid.header.onRender();this.grid.body.onRender();this.onResize(a,f,h)},onResize:function(){},_mousemove:function(a){var b=this._getCell(a);
this._resizing&&g.removeClass(b,"dojoxGridxHeaderCellOver");if(!this._resizing&&b&&!this._ismousedown)this._readyToResize=this._isInResizeRange(a),a=this.grid._eventFlags,a.onHeaderMouseDown=a.onHeaderCellMouseDown=this._readyToResize?this.name:void 0,g.toggleClass(i.body(),"dojoxGridxColumnResizing",this._readyToResize),this._readyToResize&&g.removeClass(b,"dojoxGridxHeaderCellOver")},_docMousemove:function(a){this._resizing&&this._updateResizerPosition(a)},_mouseout:function(){if(!this._resizing)this._readyToResize=
!1,g.removeClass(i.body(),"dojoxGridxColumnResizing")},_updateResizerPosition:function(a){var b=a.pageX-this._startX,e=this._targetCell,h=this.grid,n=h.hScroller,j=0,a=a.pageX-this._gridX,j=this.arg("minWidth");e.offsetWidth+b<j&&(a=this._startX-this._gridX-(e.offsetWidth-j));b=n&&n.container.offsetHeight?n.container:h.body.domNode;j=b.parentNode.offsetTop+b.offsetHeight-h.header.domNode.offsetTop;c.set(this._resizer,{top:h.header.domNode.offsetTop+"px",left:a+"px",height:j+"px"})},_showResizer:function(a){if(!this._resizer)this._resizer=
g.create("div",{className:"dojoxGridxColumnResizer"},this.grid.domNode,"last"),this.connect(this._resizer,"mouseup","_mouseup");this._resizer.style.display="block";this._updateResizerPosition(a)},_hideResizer:function(){this._resizer.style.display="none"},_mousedown:function(a){this._readyToResize?(g.setSelectable(this.grid.domNode,!1),document.onselectstart=function(){return!1},this._resizing=!0,this._startX=a.pageX,this._gridX=g.position(this.grid.bodyNode).x-this.grid.bodyNode.offsetLeft,this._showResizer(a)):
this._ismousedown=!0},_mouseup:function(a){this._ismousedown=!1;if(this._resizing){this._readyToResize=this._resizing=!1;g.removeClass(i.body(),"dojoxGridxColumnResizing");g.setSelectable(this.grid.domNode,!0);document.onselectstart=null;var b=this._targetCell,a=a.pageX-this._startX,a=(e("webkit")?b.offsetWidth:g.style(b,"width"))+a,c=this.arg("minWidth");a<c&&(a=c);this.setWidth(b.getAttribute("colid"),a);this._hideResizer()}},_isInResizeRange:function(a){var b=this._getCell(a),a=this._getCellX(a),
c=this.arg("detectWidth");if(a<c){this._targetCell=b.previousSibling;if(!this._targetCell)return!1;return!0}else if(a>b.offsetWidth-c&&a<=b.offsetWidth)return this._targetCell=b,!0;return!1},_getCellX:function(a){var b=this._getCell(a);if(!b)return 1E5;if(/table/i.test(a.target.tagName))return 0;var c=a.offsetX;if(c==void 0)c=a.layerX;/th/i.test(a.target.tagName)||(c+=a.target.offsetLeft);dojo.isFF&&/th/i.test(a.target.tagName)&&(a=c-parseInt(b.parentNode.parentNode.parentNode.style.marginLeft)-b.offsetLeft,
a>=0&&(c=a));return c},_getCell:function(a){var b=a.target;if(!b)return null;if(/table/i.test(b.tagName)){for(var b=a.offsetX||a.layerX||0,c=0,a=a.target.rows[0].cells;b>0;)b-=a[c].offsetWidth,c++;return a[c]||null}for(;b.tagName&&b.tagName.toLowerCase()!=="th";)b=b.parentNode;if(!b.tagName||b.tagName.toLowerCase()!=="th")return null;return b}}))})},"gridx/modules/VLayout":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/DeferredList","../core/_Module"],function(l,g,e,i){return i.register(l(i,
{name:"vLayout",getAPIPath:function(){return{vLayout:this}},preload:function(){var c=this,b=this.grid;this.connect(b,"_onResizeEnd",function(a,b){var f,i=[];for(f in b)i.push(b[f]);(new e(i)).then(function(){c.reLayout()})});b.autoHeight?this.connect(b.body,"onRender","reLayout"):this.connect(b,"setColumns",function(){setTimeout(function(){c.reLayout()},0)})},load:function(c,b){var a=this;b.then(function(){a._defs&&a._mods?(new e(a._defs)).then(function(){a._layout();a.loaded.callback()}):a.loaded.callback()})},
register:function(c,b,a,d,f){this._defs=this._defs||[];this._mods=this._mods||{};this._mods[a]=this._mods[a]||[];this._defs.push(f||c.loaded);this._mods[a].push({p:d||0,mod:c,nodeName:b})},reLayout:function(){var c,b=0,a,d=this.grid;for(c in this._mods)(a=d[c])&&(b+=g.getMarginBox(a).h);this._updateHeight(b)},_layout:function(){var c,b=0,a,d,f,e,h=this.grid;for(c in this._mods)if(a=h[c]){this._mods[c].sort(function(a,b){return a.p-b.p});for(d=0;d<this._mods[c].length;++d)f=this._mods[c][d].mod,e=
this._mods[c][d].nodeName,f&&f[e]&&a.appendChild(f[e]);b+=g.getMarginBox(a).h}this._updateHeight(b)},_updateHeight:function(c){var b=this.grid;b.autoHeight?b.vScroller.loaded.then(function(){var a=b.bodyNode.lastChild,a=a?a.offsetTop+a.offsetHeight:0;b.domNode.style.height=a+c+"px";b.mainNode.style.height=a+"px"}):b.mainNode.style.height=b.domNode.clientHeight-c+"px"}}))})},"gridx/util":function(){define([],function(){return{stopEvent:function(l){l&&l.stopPropagation&&l.preventDefault&&(l.stopPropagation(),
l.preventDefault())},biSearch:function(l,g){var e=0,i=l.length,c;for(c=Math.floor((e+i)/2);e+1<i;c=Math.floor((e+i)/2))g(l[c])>0?i=c:e=c;return l.length&&g(l[e])>=0?e:i}}})},"gridx/core/model/cache/_Cache":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/Deferred","../_Extension"],function(l,g,e,i,c){return l(c,{constructor:function(b,a){a=a||{};this.columns=a.columns;var d=this.store=a.store,f=d.fetch;!f&&d.notify?this.connect(d,"notify",function(a,b){a===
void 0?this._onDelete(b):b===void 0?this._onNew(a):this._onSet(a)}):(this.connect(d,f?"onSet":"put","_onSet"),this.connect(d,f?"onNew":"add","_onNew"),this.connect(d,f?"onDelete":"remove","_onDelete"));this.clear();this._mixinAPI("byIndex","byId","indexToId","idToIndex","size","treePath","hasChildren","keep","free","item")},destroy:function(){this.inherited(arguments);this.clear()},clear:function(){this._priority=[];this._struct={};this._cache={};this._size={};this._struct[""]=[];this._size[""]=-1},
byIndex:function(b,a){this.prepare("byIndex",arguments);return this._cache[this.indexToId(b,a)]},byId:function(b){this.prepare("byId",arguments);return this._cache[b]},indexToId:function(b,a){this.prepare("indexToId",arguments);var d=this._struct[a||""];return d&&d[b+1]},idToIndex:function(b){this.prepare("idToIndex",arguments);var a=this._struct[b],a=this._struct[a&&a[0]],a=g.indexOf(a||[],b);return a>0?a-1:-1},treePath:function(b){var d;for(var a=[];b!==void 0;)a.unshift(b),d=(b=this._struct[b])&&
b[0],b=d;return a[0]!==""?[]:(a.pop(),a)},hasChildren:function(b){this.prepare("hasChildren",arguments);var a=this.byId(b),d=this.store;return d.hasChildren&&d.hasChildren(b,a&&a.item)},size:function(b){this.prepare("size",arguments);var a=this._size[b||""];return a>=0?a:-1},onBeforeFetch:function(){},onAfterFetch:function(){},onSetColumns:function(b){this.columns=b;var a,d,f;for(a in this._cache)for(d in b=this._cache[a],this.columns)f=this.columns[d],b.data[d]=this._formatCell(f.id,b.rawData)},
_itemToObject:function(b){var a=this.store;if(a.fetch){var d,f,c={},h=a.getAttributes(b);d=0;for(f=h.length;d<f;++d)c[h[d]]=a.getValue(b,h[d]);return c}return b},_formatCell:function(b,a){var d=this.columns[b];return d.formatter?d.formatter(a):a[d.field||b]},_formatRow:function(b){if(!this.columns)return b;var a={},d;for(d in this.columns)a[d]=this._formatCell(d,b);return a},_addRow:function(b,a,d,f,c){var c=c||"",h=this._struct[c];if(!h)throw Error("Fatal error of cache._addRow: parent item not loaded");
if(h[a+1]){if(h[a+1]!==b)throw Error("Fatal error of cache._addRow: different row id for same row index");}else h[a+1]=b;this._struct[b]=this._struct[b]||[c];c||(a=g.indexOf(this._priority,b),a>=0&&this._priority.splice(a,1),this._priority.push(b));this._cache[b]={data:this._formatRow(d),rawData:d,item:f}},_loadChildren:function(b){var a=new i,d=this.store,f=this,c=[],h=this.byId(b);h&&(c=d.getChildren&&d.getChildren(h.item)||[]);i.when(c,function(h){f._size[b]=h.length;for(var j=0,c=h.length;j<c;++j){var k=
h[j],q=d.getIdentity(k);f._addRow(q,j,f._itemToObject(k),k,b)}a.callback()},e.hitch(a,a.errback));return a},_onFetchBegin:function(b){var a=this._size[""],b=this._size[""]=parseInt(b,10);if(a!==b)this.onSizeChange(b,a)},_onFetchComplete:function(b,a,d){try{for(var c=[],e=this.store,h=0,n=d.length;h<n;++h)c.push(e.getIdentity(d[h])),this._addRow(c[h],a+h,this._itemToObject(d[h]),d[h]);b.callback(c)}catch(j){b.errback(j)}},_storeFetch:function(b){console.debug("\tFETCH start: ",b.start,", count: ",
b.count,", end: ",b.count&&b.start+b.count-1,", options:",this.options);this.onBeforeFetch();var a=this.store,d=this,c=new i,g=e.mixin({},this.options||{},b),h=e.hitch(this,this._onFetchBegin),b=e.hitch(this,this._onFetchComplete,c,b.start),n=e.hitch(c,c.errback);a.fetch?a.fetch(e.mixin(g,{onBegin:h,onComplete:b,onError:n})):(a=a.query(g.query,g),i.when(a.total,h),i.when(a,b,n));c.then(function(){d.onAfterFetch()},function(a){console.error(a)});return c},_onSet:function(b){var a=this.store.getIdentity(b),
d=this.idToIndex(a),c=this.treePath(a);c.length&&this._addRow(a,d,this._itemToObject(b),b,c.pop());this.onSet(a,d,this._cache[a])},_onNew:function(b,a){var d=this.store.getIdentity(b),c=this._itemToObject(b),c={data:this._formatRow(c),rawData:c,item:b},e=a&&a[this.store.fetch?"item":"parent"];e&&this.store.getIdentity(e);var h=this._size[""];this.clear();this.onNew(d,0,c);!e&&h>=0&&(this._size[""]=h+1,this.onSizeChange(h+1,h,"onNew"))},_onDelete:function(b){var b=this.store.fetch?this.store.getIdentity(b):
b,a=this.treePath(b),d;if(a.length){var c,e,h,n=[b],a=a.pop();d=g.indexOf(this._struct[a],b);this._struct[a].splice(d,1);--this._size[a];for(e=0;e<n.length;++e)if(c=this._struct[n[e]])for(h=c.length-1;h>0;--h)n.push(c[h]);for(e=n.length-1;e>=0;--e)h=n[e],delete this._cache[h],delete this._struct[h],delete this._size[h];e=g.indexOf(this._priority,b);e>=0&&this._priority.splice(e,1);this.onDelete(b,d);d=this._size[""];if(!a&&d>=0)this.onSizeChange(d,d+1,"onDelete")}else this.onDelete(b,d)}})})},"gridx/Grid":function(){define(["dojo/_base/declare",
"dojo/_base/array","dojo/_base/lang","dojo/dom-class","dojo/dom-geometry","dojo/_base/Deferred","dojo/_base/query","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/text!./templates/Grid.html","./core/Core","./core/_Module","./modules/Header","./modules/Body","./modules/VLayout","./modules/HLayout","./modules/VScroller","./modules/HScroller","./modules/ColumnWidth"],function(l,g,e,i,c,b,a,d,f,p,h,n,j,o,k,q,m,r,v){l=l("gridx.Grid",[d,f,h],{templateString:p,coreModules:[j,o,k,q,m,r,v],coreExtensions:[],
postMixInProperties:function(){this._eventFlags={};this.modules=this.coreModules.concat(this.modules||[]);this.modelExtensions=this.coreExtensions.concat(this.modelExtensions||[]);this._initEvents(this._compNames,this._eventNames);this.reset(this)},buildRendering:function(){this.inherited(arguments);this.cssMode&&e.isString(this.cssMode)&&i.toggle(this.domNode,"compact",this.cssMode.indexOf("compact")>-1);i.toggle(this.domNode,"dojoxGridxRtl",!this.isLeftToRight())},postCreate:function(){this.inherited(arguments);
this._postCreate()},startup:function(){this._started||(this.inherited(arguments),this._deferStartup.callback())},destroy:function(){this._uninit();this.inherited(arguments)},resize:function(a){a&&(this.autoWidth&&delete a.w,this.autoHeight&&delete a.h,c.setMarginBox(this.domNode,a));var b={};this._onResizeBegin(a,b);this._onResizeEnd(a,b)},_onResizeBegin:function(){},_onResizeEnd:function(){},_dummyFunc:function(){},_compNames:["Cell","HeaderCell","Row","Header"],_eventNames:["Click","DblClick","MouseDown",
"MouseUp","MouseOver","MouseOut","MouseMove","ContextMenu","KeyDown","KeyPress","KeyUp"],_initEvents:function(a,b){g.forEach(a,function(a){g.forEach(b,function(b){b="on"+a+b;if(!this[b])this[b]=this._dummyFunc},this)},this)},_connectEvents:function(a,b,h){g.forEach(this._eventNames,function(j){this.connect(a,"on"+j.toLowerCase(),e.hitch(h,b,j))},this)},_isConnected:function(a){return this[a]!==this._dummyFunc}});l.markupFactory=function(b,h,j){if(!b.structure&&h.nodeName.toLowerCase()=="table")b.structure=
[],a("thead > tr > th",h).forEach(function(a){for(var h={},j=n._markupAttrs,k=0,c=j.length;k<c;++k){var d=j[k];d[0]=="!"?(d=d.slice(1),h[d]=eval(a.getAttribute(d))):h[d]=a.getAttribute(d)}h.name=h.name||a.innerHTML;b.structure.push(h)});return new j(b,h)};return l})},"gridx/modules/select/_Base":function(){define(["dojo/_base/declare","dojo/_base/connect","../../core/_Module"],function(l,g,e){return l(e,{getAPIPath:function(){var e={select:{}};e.select[this._type]=this;return e},preload:function(){this.subscribe("gridClearSelection_"+
this.grid.id,function(e){e!=this._type&&this.clear()});this.connect(this.grid.body,"onRender","_onRender");this._init()},enabled:!0,multiple:!0,holdingCtrl:!1,onSelected:function(){},onDeselected:function(){},onHighlightChange:function(){},_getMarkType:function(){},_select:function(e,c){if(this.arg("enabled")){var b=!0;this.arg("multiple")&&(c||this.arg("holdingCtrl"))?b=!this.isSelected(e):this.clear();g.publish("gridClearSelection_"+this.grid.id,[this._type]);this._markById(e,b)}}})})},"gridx/nls/Body":function(){define({root:{emptyInfo:"No items to display"}})},
"gridx/modules/SingleSort":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/keys","../core/model/extensions/Sort","../core/_Module"],function(l,g,e,i,c){return c.register(l(c,{name:"sort",forced:["header"],required:["vLayout"],modelExtensions:[i],getAPIPath:function(){return{sort:this}},preload:function(){var b=this.grid,a;this.connect(b,"onHeaderCellClick","_onClick");this.connect(b,"onHeaderCellKeyDown","_onKeyDown");if(b.persist){var d=this;a=b.persist.registerAndLoad("sort",function(){return[{colId:d._sortId,
descending:d._sortDescend}]})}a=a||this.arg("preSort");g.isArrayLike(a)&&(a=a[0]);if(a&&a.colId)this._sortId=a.colId,this._sortDescend=a.descending,this.model.sort([a])},load:function(){for(var b in this.grid._columnsById)this._initHeader(b);this._sortId&&this._updateHeader(this._sortId,this._sortDescend);this.loaded.callback()},columnMixin:{sort:function(b,a){this.grid.sort.sort(this.id,b,a);return this},isSorted:function(){return this.grid.sort.isSorted(this.id)},clearSort:function(b){this.isSorted()&&
this.grid.sort.clear(b);return this},isSortable:function(){var b=this.grid._columnsById[this.id];return b.sortable||b.sortable===void 0},setSortable:function(b){this.grid._columnsById[this.id].sortable=!!b;return this}},sort:function(b,a,d){var c=this.grid,e=c._columnsById[b];if(e&&(e.sortable||e.sortable===void 0))(this._sortId!==b||this._sortDescend===!a)&&this._updateHeader(b,a),this.model.sort([{colId:b,descending:a}]),d||c.body.refresh()},isSorted:function(b){if(b===this._sortId)return this._sortDescend?
-1:1;return 0},clear:function(b){if(this._sortId!==null)this._initHeader(this._sortId),this._sortId=this._sortDescend=null,this.model.sort(),b||this.grid.body.refresh()},getSortData:function(){return this._sortId?[{colId:this._sortId,descending:this._sortDescend}]:null},_sortId:null,_sortDescend:null,_initHeader:function(b){var a=this.grid.header.getHeaderNode(b);a.innerHTML=["<div class='dojoxGridxSortNode'>",this.grid.column(b,1).name(),"</div>"].join("");a.removeAttribute("aria-sort")},_updateHeader:function(b,
a){this._sortId&&this._sortId!==b&&this._initHeader(this._sortId);this._sortId=b;this._sortDescend=!!a;var d=this.grid,c=d.header.getHeaderNode(b);str=["<div class='dojoxGridxSortNode ",a?"dojoxGridxSortDown":"dojoxGridxSortUp","'><div class='dojoxGridxArrowButtonChar'>",a?"&#9662;":"&#9652;","</div><div role='presentation' class='dojoxGridxArrowButtonNode'></div><div class='dojoxGridxColCaption'>",d.column(b,1).name(),"</div></div>"].join("");c.innerHTML=str;c.setAttribute("aria-sort",a?"descending":
"ascending");d.vLayout.reLayout()},_onClick:function(b){this.sort(b.columnId,this._sortId!==b.columnId?0:!this._sortDescend)},_onKeyDown:function(b){b.keyCode==e.ENTER&&this._onClick(b)}}))})},"gridx/modules/select/_RowCellBase":function(){define(["dojo/_base/declare","dojo/_base/lang","./_Base","../../core/model/extensions/Mark"],function(l,g,e,i){return l(e,{modelExtensions:[i],selectById:function(c,b){this.arg("enabled")&&(this.model.markById(c,!0,this._getMarkType(b)),this.model.when())},deselectById:function(c,
b){this.arg("enabled")&&(this.model.markById(c,!1,this._getMarkType(b)),this.model.when())},isSelected:function(c,b){return this.model.isMarked(c,this._getMarkType(b))},_init:function(){this.batchConnect([this.model,"onMarked",g.hitch(this,"_onMark",!0)],[this.model,"onMarkRemoved",g.hitch(this,"_onMark",!1)])}})})},"gridx/modules/HScroller":function(){define(["dojo/_base/declare","dojo/dom-style","dojo/_base/sniff","dojo/_base/Deferred","dojox/html/metrics","../core/_Module"],function(l,g,e,i,c,
b){return b.register(l(b,{name:"hscroller",required:["vLayout","hLayout"],forced:["header"],getAPIPath:function(){return this.grid.autoWidth?{}:{hScroller:this}},constructor:function(){this.grid._initEvents(["H"],["Scroll"])},preload:function(){var a=this.grid;this.container=a.hScrollerNode.parentNode;if(!a.autoWidth){var b=this.domNode=a.hScrollerNode;a.vLayout.register(this,"container","footerNode",0);this.stubNode=b.firstChild;b.style.display="block";this.batchConnect([a.header,"onRender","refresh"],
[b,"onscroll","_onScroll"],[a,"_onResizeBegin",function(a,b){b.hScroller=new i}],[a,"_onResizeEnd",function(a,b){var h=this;i.when(b.header,function(){h.refresh();b.hScroller.callback()})}]);if(e("ie")<7)b.style.height=c.getScrollbar().h+"px"}},scroll:function(a){this.domNode.scrollLeft=a},refresh:function(){var a=this.grid,b=a.isLeftToRight(),c=b?"marginLeft":"marginRight",b=b?"marginRight":"marginLeft",e=a.hLayout.lead,h=a.hLayout.tail,n=a.domNode.clientWidth-e-h,j=a.header.innerNode,o=g.get(j,
"paddingLeft")||0,k=this.domNode.style,j=j.firstChild.offsetWidth,q=k.display,m=j<=n?"none":"block";k[c]=e+o+"px";k[b]=h+"px";k.width=n-o+"px";this.stubNode.style.width=j-o+"px";k.display=m;q=="block"&&m=="none"&&a.vLayout.reLayout()},_onScroll:function(){if(this._lastLeft!=this.domNode.scrollLeft)this._lastLeft=this.domNode.scrollLeft,this._doScroll()},_doScroll:function(){var a=this.domNode.scrollLeft;this.grid.bodyNode.scrollLeft=a;this.grid.onHScroll(a)}}))})},"gridx/core/model/cache/Sync":function(){define(["dojo/_base/declare",
"dojo/_base/Deferred","./_Cache"],function(l,g,e){return l(e,{keep:function(){},free:function(){},when:function(e,c){var b=new g;try{c&&c(),b.callback()}catch(a){b.errback(a)}return b},prepare:function(){this._size[""]<0&&(this._storeFetch({start:0}),this.store.getChildren&&this._fetchChildren())},_fetchChildren:function(){for(var e=this._strut[""].slice(1);e.length;){var c=e.shift();this._loadChildren(c).then(function(){var b=_struct[c].slice(1);[].push.apply(e,b)})}}})})},"gridx/modules/HLayout":function(){define(["dojo/_base/declare",
"dojo/_base/Deferred","dojo/_base/array","dojo/dom-geometry","dojo/DeferredList","../core/_Module"],function(l,g,e,i,c,b){return b.register(l(b,{name:"hLayout",getAPIPath:function(){return{hLayout:this}},load:function(a,b){var c=this;b.then(function(){c._layout();c.loaded.callback()})},lead:0,tail:0,register:function(a,b,c){this._regs=this._regs||[];a||(a=new g,a.callback());this._regs.push([a,b,c])},onUpdateWidth:function(){},_layout:function(){if(this._regs){var a=this,b=0,f=0,g=e.map(this._regs,
function(a){return a[0]});(new c(g)).then(function(){e.forEach(a._regs,function(a){var c=i.getMarginBox(a[1]).w;a[2]?f+=c:b+=c});a.lead=b;a.tail=f;a.onUpdateWidth(b,f)})}else this.onUpdateWidth(0,0)}}))})},"gridx/core/Cell":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred"],function(l,g,e){return l(null,{constructor:function(e,c,b){this.grid=e;this.model=e.model;this.row=c;this.column=b},data:function(){return this.model.byId(this.row.id).data[this.column.id]},rawData:function(){var e=
this.column.field();return e&&this.model.byId(this.row.id).rawData[e]},setRawData:function(i){var c=this.column.field(),b=this.grid.store,a=new e,d=g.hitch(a,a.callback),f=g.hitch(a,a.errback);if(c){var l=this.model.byId(this.row.id).item;b.setValue?(b.setValue(l,c,i),b.save({onComplete:d,onError:f})):b.put&&(l=g.clone(l),l[c]=i,e.when(b.put(l),d,f))}else d();return a}})})},"gridx/core/model/extensions/Mark":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/Deferred","../_Extension"],
function(l,g,e,i){return l(i,{name:"move",priority:5,constructor:function(c){this.clear();this._mixinAPI("isMarked","getMarkedIds","markById","markByIndex","clearMark");c.onMarked=function(){};c.onMarkRemoved=function(){};this.connect(c,"_sendMsg","_receiveMsg");c._spTypes={}},clear:function(){this._byId={}},clearMark:function(c){this._byId[this._initMark(c)]={}},getMarkedIds:function(c){var b=[],a;if(c=this._byId[this._initMark(c)])for(a in c)b.push(a);return b},isMarked:function(c,b){return!!this._byId[this._initMark(b)][c]},
markById:function(c,b,a){this._cmd(c,b,a,!0)},markByIndex:function(c,b,a){c>=0&&c<Infinity&&this._cmd(c,b,a)},_mark:function(c,b,a){var a=this._initMark(a),d=this.isMarked(c,a);b&&!d?this._addMark(c,a):!b&&d&&this._removeMark(c,a)},_cmdMark:function(){var c=arguments,b=[],a=this.model._model,d=this;g.forEach(c,function(a){a[3]||b.push({start:a[0],count:1})});return a._call("when",[{id:[],range:b},function(){g.forEach(c,function(b){b[3]||(b[0]=a._call("indexToId",[b[0]]));d._mark.apply(d,b)})}])},
_onDelete:function(c){for(var b in this._byId)delete this._byId[this._initMark(b)][c];this.onDelete.apply(this,arguments)},_initMark:function(c){c=c||"select";this._byId[c]=this._byId[c]||{};return c},_addMark:function(c,b){this._byId[this._initMark(b)][c]=!0;this.model.onMarked(c,b)},_removeMark:function(c,b){delete this._byId[this._initMark(b)][c];this.model.onMarkRemoved(c,b)},_cmd:function(){this.model._addCmd({name:"_cmdMark",scope:this,args:arguments,async:1})},_receiveMsg:function(c,b){if(c===
"filter"){var a,d=this.model._spTypes,e;for(a in d)if(d[a])for(e in this._byId[a])b[e]||this._removeMark(e,a)}}})})},"gridx/modules/Body":function(){define(["dojo/_base/declare","dojo/_base/query","dojo/dom-construct","dojo/dom-class","dojo/_base/event","dojo/_base/Deferred","dojo/keys","../core/_Module","../util","dojo/i18n!../nls/Body"],function(l,g,e,i,c,b,a,d,f,p){return d.register(l(d,{name:"body",optional:["tree"],getAPIPath:function(){return{body:this}},preload:function(){this.domNode=this.grid.bodyNode;
this.grid._connectEvents(this.domNode,"_onMouseEvent",this);this._initFocus()},load:function(){var a=this.model,b=this.grid;this.batchConnect([a,"onDelete","_onDelete"],[a,"onNew","_onNew"],[a,"onSet","_onSet"],[a,"onSizeChange","_onSizeChange"],[b,"onRowMouseOver","_onRowMouseOver"],[b,"onRowMouseOut","_onRowMouseOver"],[b,"onCellMouseOver","_onCellMouseOver"],[b,"onCellMouseOut","_onCellMouseOver"],[b,"setColumns",function(){this.refresh()}]);a.when({},function(){if(!this.rootCount)this.rootCount=
a.size();this.visualCount=b.tree?b.tree.getVisualSize(this.rootStart,this.rootCount):this.rootCount;this.loaded.callback()},this)},destroy:function(){this.inherited(arguments);this.domNode.innerHTML=""},rowMixin:{node:function(){return this.grid.body.getRowNode({rowId:this.id})},visualIndex:function(){return this.grid.body.getRowInfo({rowId:this.id,rowIndex:this.index(),parentId:this.model.treePath(this.id).pop()}).visualIndex}},cellMixin:{node:function(){return this.grid.body.getCellNode({rowId:this.row.id,
cellId:this.column.id})}},rootStart:0,rootCount:0,renderStart:0,renderCount:0,visualStart:0,visualCount:0,autoUpdate:!0,autoChangeSize:!0,getRowNode:function(a){return(a=this._getRowNodeQuery(a))?g(a,this.domNode)[0]||null:null},getRowInfo:function(a){var b=this.model,j=this.grid;if(a.rowId)a.rowIndex=b.idToIndex(a.rowId),a.parentId=b.treePath(a.rowId).pop();if(typeof a.rowIndex=="number"&&a.rowIndex>=0)a.visualIndex=j.tree?j.tree.getVisualIndexByRowInfo(parentId,rowIndex,this.rootStart):a.rowIndex-
this.rootStart;else if(typeof a.visualIndex=="number"&&a.visualIndex>=0)j.tree?(j=j.tree.getRowInfoByVisualIndex(a.visualIndex,this.rootStart),a.rowIndex=j.start,a.parentId=j.parentId):a.rowIndex=this.rootStart+a.visualIndex;else return a;a.rowId=a.rowId||b.indexToId(a.rowIndex,a.parentId);return a},getCellNode:function(a){var b=this._getRowNodeQuery(a),j=a.colId;if(b){if(!j&&typeof a.colIndex=="number")j=this.grid._columns[a.colIndex].id;b+=" [colid='"+j+"'].dojoxGridxCell";return g(b,this.domNode)[0]||
null}else return null},refreshVisual:function(a,c){var j=this;return this.model.when({}).then(function(){if(typeof a=="number"&&a>=0){var d=!1;c>0||(d=!0,c=j.visualCount-a);var k=a+c,q=j.renderStart+j.renderCount;q<k&&(k=q);if(j.renderStart>a)a=j.renderStart;c=k-a;var m=g('[visualindex="'+a+'"]',j.domNode)[0],q=[],f=[];if(m){var i=j._buildRows(a,c,q,f);if(i){e.place(i,m,"before");for(var i=0,l=f.length;i<l;++i)j.onAfterRow.apply(j,f[i])}}b.when(j._buildUncachedRows(q),function(){for(var b=a;(d||b<
k)&&m;++b){var q=m.nextSibling;e.destroy(m);m=q}j.onRender(a,c)})}else j.renderRows(j.renderStart,j.renderCount)})},refresh:function(a,b,j){if(arguments.length)a=this.getRowInfo({rowIndex:a,parentId:j}).visualIndex;return this.refreshVisual(a,b)},refreshCell:function(a,c){var j=new b,d=this.model,k=this.grid,e=k._columns[c];k.focus&&k.focus.currentArea();if(e){var m=this.getCellNode({visualIndex:a,colId:e.id});if(m){var f,g=this.getRowInfo({visualIndex:a});d.when({start:g.rowIndex,count:1,parentId:g.parentId},
function(){if(f=d.byIndex(g.rowIndex,g.parentId))g.rowId=d.indexToId(g.rowIndex,g.parentId),this.onBeforeCell(m,g,e,f),m.innerHTML=this._buildCellContent(e,g,f.data,k.tree&&f.data[e.id]===void 0),this.onAfterCell(m,g,e,f)},this).then(function(){j.callback(!!f)});return j}}j.callback(0);return j},updateRootRange:function(a,b,j){var c=this.rootStart!==a||this.rootCount!==b;this.rootStart=a;this.rootCount=b;var k=this.visualCount;this.visualCount=this.grid.tree?this.grid.tree.getVisualSize(a,b):b;if(c){if(!j)this.domNode.innerHTML=
"",this.renderStart=this.renderCount=0,this.onRootRangeChange(a,b)}else if(k!==this.visualCount){for(a=this.getRowNode({visualIndex:this.visualCount});a;)b=a.nextSibling,e.destroy(a),a=b;if(this.renderStart>=this.visualCount)this.renderStart=this.renderCount=0;else if(this.renderStart+this.renderCount>this.visualCount)this.renderCount=this.visualCount-this.renderStart;this.onVisualCountChange(this.visualCount,k)}},renderRows:function(a,c,j){var d,k=this.grid,f=this,m="";d=[];var g=[],i=this.domNode;
if(c>0){k.emptyNode.innerHTML="";m=this._buildRows(a,c,d,g);j==="top"?(this.renderCount+=this.renderStart-a,this.renderStart=a,e.place(m,this.domNode,"first")):j==="bottom"?(this.renderCount=a+c-this.renderStart,e.place(m,this.domNode,"last")):(this.renderStart=a,this.renderCount=c,this.onUnrender(),i.scrollTop=0,i.innerHTML=m,k.emptyNode.innerHTML=m?"":p.emptyInfo,this.model.free());j=0;for(k=g.length;j<k;++j)this.onAfterRow.apply(this,g[j]);d=this._buildUncachedRows(d);b.when(d,function(){f.onRender(a,
c)})}else if(!{top:1,bottom:1}[j])i.scrollTop=0,i.innerHTML="",k.emptyNode.innerHTML=p.emptyInfo},unrenderRows:function(a,b){if(a>0){var c=0,d,k=this.domNode;if(b==="post")for(;c<a&&k.lastChild;++c)d=k.lastChild.getAttribute("rowid"),this.model.free(d),k.removeChild(k.lastChild),this.onUnrender(d);else{for(var e=k.scrollTop;c<a&&k.firstChild;++c)d=k.firstChild.getAttribute("rowid"),this.model.free(d),e-=k.firstChild.offsetHeight,k.removeChild(k.firstChild),this.onUnrender(d);this.renderStart+=c;k.scrollTop=
e>0?e:0}this.renderCount-=c}},onAfterRow:function(){},onBeforeCell:function(){},onAfterCell:function(){},onRootRangeChange:function(){},onVisualCountChange:function(){},onRender:function(){},onUnrender:function(){},onNew:function(){},onDelete:function(){},onSet:function(){},collectCellWrapper:function(){},onMoveToCell:function(){},_getRowNodeQuery:function(a){var b;a.rowId?b="[rowid='"+a.rowId+"']":typeof a.rowIndex=="number"&&a.rowIndex>=0?(b="[rowindex='"+a.rowIndex+"']",a.parentId&&(b+="[parentid='"+
a.parentId+"']")):typeof a.visualIndex=="number"&&a.visualIndex>=0&&(b="[visualindex='"+a.visualIndex+"']");return b},_buildRows:function(a,b,c,d){for(var b=a+b,k=[],e=this.model;a<b;++a){var m=this.getRowInfo({visualIndex:a}),f=e.byIndex(m.rowIndex,m.parentId);k.push('<div class="dojoxGridxRow ',a%2?"dojoxGridxRowOdd":"",'" role="row" visualindex="',a);f?(e.keep(m.rowId),k.push('" rowid="',m.rowId,'" rowindex="',m.rowIndex,'" parentid="',m.parentId,'">',this._buildCells(f.data,m),"</div>"),d.push([m,
f])):(k.push('"><div class="dojoxGridxRowDummy"></div></div>'),m.start=m.rowIndex,m.count=1,c.push(m))}return k.join("")},_buildUncachedRows:function(a){return a.length&&this.model.when(a,function(){for(var b=0,c=a.length;b<c;++b)this._buildRowContent(a[b])},this)},_buildRowContent:function(a){var b=this.model,c=g('[visualindex="'+a.visualIndex+'"]',this.domNode)[0];if(c){var d=b.byIndex(a.rowIndex,a.parentId);d?(a.rowId=b.indexToId(a.rowIndex,a.parentId),b.keep(a.rowId),c.setAttribute("rowid",a.rowId),
c.setAttribute("rowindex",a.rowIndex),c.setAttribute("parentid",a.parentId||""),b=this._buildCells(d.data,a),c.innerHTML=b,this.onAfterRow(a,d)):console.error("Row is not in cache:",a.rowIndex)}},_buildCells:function(a,b){var c,d,k,e,m=this.grid,f=m._columns,g=m.focus&&m.focus.currentArea()==="body",i=['<table class="dojoxGridxRowTable" role="presentation" border="0" cellpadding="0" cellspacing="0"><tr>'];c=0;for(k=f.length;c<k;++c)d=f[c],e=m.tree&&a[d.id]===void 0,i.push('<td class="dojoxGridxCell '),
e&&i.push("dojoxGridxPaddingCell"),g&&this._focusCellRow===b.visualIndex&&this._focusCellCol===c&&i.push("dojoxGridxCellFocus"),i.push('" role="gridcell" tabindex="-1" colid="',d.id,'" style="width: ',d.width,'">',this._buildCellContent(d,b,a,e),"</td>");i.push("</tr></table>");return i.join("")},_buildCellContent:function(a,b,c,d){if(!d)return this._wrapCellData(a.decorator?a.decorator(c[a.id],b.rowId,b.visualIndex):c[a.id],b.rowId,a.id);return""},_wrapCellData:function(a,b,c){var d=[];this.collectCellWrapper(d,
b,c);var k=d.length-1;for(k>0&&d.sort(function(a,b){return a.priority-b.priority});k>=0;--k)a=d[k].wrap(a,b,c);return a},_onMouseEvent:function(a,b){var c=this.grid,d="onCell"+a,k="onRow"+a;if(c._isConnected(d)||c._isConnected(k))if(this._decorateEvent(b),b.rowIndex>=0){if(b.columnIndex>=0)c[d](b);c[k](b)}},_decorateEvent:function(a){for(var b=a.target||a.originalTarget,c=this.grid;b&&b!==c.bodyNode;){if(b.tagName.toLowerCase()==="td"&&i.contains(b,"dojoxGridxCell")){var d=c._columnsById[b.getAttribute("colid")];
a.cellNode=b;a.columnId=d.id;a.columnIndex=d.index}if(b.tagName.toLowerCase()==="div"&&i.contains(b,"dojoxGridxRow")){a.rowId=b.getAttribute("rowid");a.parentId=b.getAttribute("parentid");a.rowIndex=parseInt(b.getAttribute("rowindex"),10);a.visualIndex=parseInt(b.getAttribute("visualindex"),10);break}b=b.parentNode}},_onSet:function(a,b,c){if(this.autoUpdate){var d=this.getRowNode({rowId:a});if(d&&c){var k=this.getRowInfo({rowId:a,rowIndex:b});d.innerHTML=this._buildCells(c.data,k);this.onAfterRow(k,
c);this.onSet(a,b,c);this.onRender(b,1)}}},_onNew:function(){},_onDelete:function(a){if(this.autoUpdate){var b=this.getRowNode({rowId:a});if(b){var c,d,k,f=0;for(c=b;c;c=c.nextSibling)d=parseInt(c.getAttribute("rowindex"),10),c.setAttribute("rowindex",d-1),k=parseInt(c.getAttribute("visualindex"),10),c.setAttribute("visualindex",k-1),++f;e.destroy(b);if(this.autoChangeSize&&this.rootStart===0)this._deleted=1,this.updateRootRange(0,this.rootCount-1,1);this.onDelete(a,d);this.onRender(d,f)}}},_onSizeChange:function(a,
b){if(this.autoChangeSize&&this.rootStart===0&&(this.rootCount===b||b<0))this._deleted||this.updateRootRange(0,a);this._deleted=0},_onRowMouseOver:function(a){var b=this.getRowNode({rowId:a.rowId});i.toggle(b,"dojoxGridxRowOver",a.type!="mouseout")},_onCellMouseOver:function(a){i.toggle(a.cellNode,"dojoxGridxCellOver",a.type!="mouseout")},_focusCellCol:0,_focusCellRow:0,_initFocus:function(){var b=this.grid,c=b.focus;c&&(c.registerArea({name:"body",priority:1,focusNode:b.bodyNode,scope:this,doFocus:this._doFocus,
doBlur:this._blurCell,onFocus:this._onFocus,onBlur:this._blurCell}),this.connect(b.mainNode,"onkeypress",function(d){if(c.currentArea()=="body"&&(!b.tree||!d.ctrlKey)){var e={},k=b.isLeftToRight()?1:-1;e[a.LEFT_ARROW]=[0,-k,d];e[a.RIGHT_ARROW]=[0,k,d];e[a.UP_ARROW]=[-1,0,d];e[a.DOWN_ARROW]=[1,0,d];this._moveFocus.apply(this,e[d.keyCode]||[])}}),this.connect(b,"onCellClick",function(a){this._focusCellRow=a.visualIndex;this._focusCellCol=a.columnIndex}),this.connect(this,"onRender",function(a,b){this._focusCellRow>=
a&&this._focusCellRow<a+b&&c.currentArea()==="body"&&this._focusCell()}),b.hScroller&&this.connect(b.bodyNode,"onscroll",function(){b.hScroller.scroll(b.bodyNode.scrollLeft)}))},_doFocus:function(a){return this._focusCell(a)||this._focusCell(null,0,0)},_focusCell:function(a,b,c){f.stopEvent(a);c=c>=0?c:this._focusCellCol;b=b>=0?b:this._focusCellRow;if(a=this.getCellNode({visualIndex:b,colId:this.grid._columns[c].id})){var d=g(".dojoxGridxCellFocus",this.domNode)[0];if(a!==d)d&&i.remove(d,"dojoxGridxCellFocus"),
i.add(a,"dojoxGridxCellFocus"),this._focusCellRow=b,this._focusCellCol=c;a.focus()}return a},_moveFocus:function(a,b,d){if(a||b){c.stop(d);var e,k,f=this;e=this._focusCellRow+a;e=e<0?0:e>=this.visualCount?this.visualCount-1:e;k=this._focusCellCol+b;k=k<0?0:k>=this.grid._columns.length?this.grid._columns.length-1:k;this.grid.vScroller.scrollToRow(e).then(function(){f._focusCell(null,e,k);f.onMoveToCell(e,k,d)})}},_nextCell:function(a,c,d,e){var k=new b,f=this.grid._columns.length,m=this.visualCount;
do if(c+=d,c<0||c>=f)a+=d,c=c<0?f-1:0,a<0?(a=m-1,c=f-1):a>=m&&(c=a=0);while(!e(a,c));this.grid.vScroller.scrollToRow(a).then(function(){k.callback({r:a,c:c})});return k},_blurCell:function(){var a=g(".dojoxGridxCellFocus",this.domNode)[0];a&&i.remove(a,"dojoxGridxCellFocus");return!0},_onFocus:function(a){for(a=a.target;a&&a!==this.domNode&&!i.contains(a,"dojoxGridxCell");)a=a.parentNode;if(a&&a!==this.domNode){for(var b=this.grid._columnsById[a.getAttribute("colid")].index;a&&!i.contains(a,"dojoxGridxRow");)a=
a.parentNode;return this._focusCell(null,parseInt(a.getAttribute("visualindex"),10),b)}return!1}}))})},"gridx/modules/select/Row":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/html","dojo/_base/sniff","dojo/keys","./_RowCellBase","../../core/_Module"],function(l,g,e,i,c,b,a){return a.register(l(b,{name:"selectRow",rowMixin:{select:function(){this.grid.select.row.selectById(this.id);return this},deselect:function(){this.grid.select.row.deselectById(this.id);return this},isSelected:function(){return this.model.isMarked(this.id)}},
triggerOnCell:!1,getSelected:function(){return this.model.getMarkedIds()},clear:function(){if(this.arg("enabled")){var a=this.model;g.forEach(a.getMarkedIds(),function(b){a.markById(b,!1)});a.when()}},_type:"row",_init:function(){this.inherited(arguments);this.model._spTypes.select=1;this.batchConnect([this.grid,"onRowMouseDown",function(a){(this.arg("triggerOnCell")||!a.columnId)&&this._select(a.rowId,a.ctrlKey)}],[this.grid,i.isFF<4?"onRowKeyUp":"onRowKeyDown",function(a){(this.arg("triggerOnCell")||
!a.columnId)&&a.keyCode===c.SPACE&&this._select(a.rowId,a.ctrlKey)}])},_onMark:function(a,b,c){c==="select"&&(this._highlight(b,a),this.model.when({id:b},function(){this[a?"onSelected":"onDeselected"](this.grid.row(b,!0))},this))},_highlight:function(a,b){var c=this.grid.body.getRowNode({rowId:a});c&&(e[b?"addClass":"removeClass"](c,"dojoxGridxRowSelected"),this.onHighlightChange({row:parseInt(c.getAttribute("visualindex"),10)},b))},_markById:function(a,b){this.model.markById(a,b);this.model.when()},
_onRender:function(a,b){var c=this.model,e=a+b,g,j;for(g=a;g<e;++g)j=this.grid.body.getRowInfo({visualIndex:g}).rowIndex,j=c.indexToId(j),c.isMarked(j)&&this._highlight(j,!0)}}))})},"gridx/core/Column":function(){define(["dojo/_base/declare"],function(l){return l(null,{constructor:function(g,e){this.grid=g;this.model=g.model;this.id=e},index:function(){var g=this.grid._columnsById[this.id];return g?g.index:-1},cell:function(g,e){return this.grid.cell(g,this,e)},name:function(){return this.grid._columnsById[this.id].name||
""},setName:function(g){this.grid._columnsById[this.id].name=g;return this},field:function(){return this.grid._columnsById[this.id].field||null},getWidth:function(){return this.grid._columnsById[this.id].width}})})},"gridx/modules/ColumnWidth":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/html","dojo/_base/Deferred","dojo/_base/query","dojo/_base/sniff","dojo/_base/event","dojo/keys","dojox/html/metrics","../core/_Module"],function(l,g,e,i,c,b,a,d,f,p){return p.register(l(p,
{name:"columnWidth",forced:["hLayout","header"],getAPIPath:function(){return{columnWidth:this}},constructor:function(){this._ready=new i},preload:function(){var a=this.grid;if(!a.hScroller)this.percentage=!0;this.batchConnect([a,"_onResizeBegin",function(b,c){c.header=new i;this.arg("percentage")?a.bodyNode.style.width=a.domNode.clientWidth-a.hLayout.lead-a.hLayout.tail+"px":this._adaptWidth();c.header.callback()}],[a.hLayout,"onUpdateWidth",function(){this._adaptWidth();this._ready.callback()}],
[a,"setColumns","_adaptWidth"])},load:function(){var a=this.loaded;this._ready.then(function(){a.callback()})},"default":60,percentage:!1,_adaptWidth:function(){var a=this.grid,d=a.header,j=a.isLeftToRight(),f=j?"marginLeft":"marginRight",j=j?"marginRight":"marginLeft",k=a.hLayout.lead,i=a.hLayout.tail,m=d.innerNode,r=0;if(!b("webkit"))var l=c(".dojoxGridxCell",m)[0],r=e.getMarginBox(l).w-e.getContentBox(l).w;m.style[f]=k+"px";m.style[j]=i+"px";a.bodyNode.style[f]=k+"px";var s=a.domNode.clientWidth-
k-i;if(a.autoWidth){d.refresh();var p=0;c("th.dojoxGridxCell",m).forEach(function(b){var c=b.offsetWidth;p+=c;a._columnsById[b.getAttribute("colid")].width=c-r+"px"});d._columnsWidth=p;a.bodyNode.style.width=p+"px";a.domNode.style.width=k+i+p+"px"}else{if(this.arg("percentage"))a.bodyNode.style.width=s+"px",e.addClass(a.domNode,"dojoxGridxPercentColumnWidth"),g.forEach(a._columns,function(a){if(!a.width||!/%$/.test(a.width))a.width="auto"});else{var t=[],u=0;a.bodyNode.style.width=s+"px";g.forEach(a._columns,
function(a){if(!a.width||a.width=="auto")a.width="auto",t.push(a);else if(/%$/.test(a.width))a.width=s*parseFloat(a.width,10)/100-r+"px"});d.refresh();g.forEach(a._columns,function(a){if(a.width!="auto"){var b=d.getHeaderNode(a.id).offsetWidth;a.width=b-r+"px";u+=b}});var w=(s>u?(s-u)/t.length-r:this.arg("default"))+"px";g.forEach(t,function(a){a.width=w})}d.refresh()}}}))})},"gridx/modules/Header":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","dojo/dom-geometry","dojo/_base/Deferred",
"dojo/_base/query","dojo/_base/sniff","dojo/_base/event","dojo/keys","dojox/html/metrics","../util","../core/_Module"],function(l,g,e,i,c,b,a,d,f,p,h,n){return n.register(l(n,{name:"header",required:["vLayout"],forced:["hLayout"],getAPIPath:function(){return{header:this}},constructor:function(){this.domNode=g.create("div",{"class":"dojoxGridxHeaderRow",role:"presentation"});this.innerNode=g.create("div",{"class":"dojoxGridxHeaderRowInner",role:"row",innerHTML:'<table border="0" cellpadding="0" cellspacing="0"><tr><th class="dojoxGridxCell"></th></tr></table>'});
this.domNode.appendChild(this.innerNode)},preload:function(){var a=this.grid;a.headerNode.appendChild(this.domNode);a.vLayout.register(this,"domNode","headerNode");this.batchConnect([a,"onHScroll","_onHScroll"],[a,"onHeaderCellMouseOver","_onHeaderCellMouseOver"],[a,"onHeaderCellMouseOut","_onHeaderCellMouseOver"],a.autoWidth&&a.columnResizer&&[a.columnResizer,"onResize","_onColumnResize"]);this._initFocus();a._connectEvents(this.domNode,"_onMouseEvent",this)},destroy:function(){this.inherited(arguments);
g.destroy(this.domNode)},columnMixin:{headerNode:function(){return this.grid.header.getHeaderNode(this.id)}},getHeaderNode:function(a){return b("[colid='"+a+"']",this.domNode)[0]},refresh:function(){var a=['<table role="presentation" border="0" cellpadding="0" cellspacing="0"><tr>'],b=this.grid,c=b.focus,d=this;b.columns().forEach(function(b){a.push('<th colid="',b.id,'" class="dojoxGridxCell ',c&&c.currentArea()=="header"&&b.id==d._focusHeaderId?d._focusClass:"",'" role="columnheader" aria-readonly="true" tabindex="-1" style="width: ',
b.getWidth(),'"><div class="dojoxGridxSortNode">',b.name(),"</div></th>")});a.push("</tr></table>");this.innerNode.innerHTML=a.join("");this._onHScroll(this._scrollLeft);this.onRender()},onRender:function(){},onMoveToHeaderCell:function(){},_scrollLeft:0,_onColumnResize:function(a,b,c){this._columnsWidth+=b-c;a=this.grid;a.bodyNode.style.width=this._columnsWidth+"px";a.domNode.style.width=a.hLayout.lead+a.hLayout.tail+this._columnsWidth+"px"},_onHScroll:function(a){this.innerNode.firstChild.style.marginLeft=
-a+"px";this._scrollLeft=a},_onMouseEvent:function(a,b){var c=this.grid,d="onHeaderCell"+a,e="onHeader"+a;if(c._isConnected(d)||c._isConnected(e)){this._decorateEvent(b);if(b.columnIndex>=0)this.grid[d](b);this.grid[e](b)}},_decorateEvent:function(a){for(var b=a.target;b&&b!==this.domNode;){if(b.tagName.toLowerCase()==="th"){if(b=this.grid._columnsById[b.getAttribute("colid")])a.columnId=b.id,a.columnIndex=b.index;break}b=b.parentNode}},_onHeaderCellMouseOver:function(a){var b=this.getHeaderNode(a.columnId);
e.toggle(b,"dojoxGridxHeaderCellOver",a.type=="mouseover")},_focusHeaderId:null,_focusClass:"dojoxGridxHeaderCellFocus",_initFocus:function(){var a=this.grid;a.focus&&a.focus.registerArea({name:"header",priority:0,focusNode:this.domNode,scope:this,doFocus:this._doFocus,doBlur:this._blurNode,onBlur:this._blurNode,connects:[this.connect(this.domNode,"onkeydown","_onKeyDown"),this.connect(a,"onHeaderCellMouseDown",function(a){this._focusNode(this.getHeaderNode(a.columnId))})]})},_doFocus:function(a){var c;
this._focusHeaderId&&(c=this.getHeaderNode(this._focusHeaderId));(c=this._focusNode(c||b("th.dojoxGridxCell",this.domNode)[0]))&&h.stopEvent(a);return c},_focusNode:function(a){if(a&&(this._focusHeaderId=a.getAttribute("colid"))){this._blurNode();if(this.grid.hScroller){var b=i.position(a),c=i.position(this.domNode),d=b.x+b.w-c.x-c.w;d<0&&(d=b.x-c.x-1,d>0&&(d=0));this._onHScroll(this._scrollLeft+d);this.grid.hScroller.scroll(this._scrollLeft)}e.add(a,this._focusClass);a.focus();return!0}return!1},
_blurNode:function(){var a=b("th."+this._focusClass,this.domNode)[0];a&&e.remove(a,this._focusClass);return!0},_onKeyDown:function(a){if(this._focusHeaderId){var b,c=this.grid;b=c.isLeftToRight()?1:-1;var e=a.keyCode==f.LEFT_ARROW?-b:b;if(a.keyCode==f.LEFT_ARROW||a.keyCode==f.RIGHT_ARROW)if(d.stop(a),a.stopPropogation(),a.preventDefault(),b=c._columnsById[this._focusHeaderId],b=c._columns[b.index+e])this._focusNode(this.getHeaderNode(b.id)),this.onMoveToHeaderCell(b.id,a)}}}))})},"gridx/core/Row":function(){define(["dojo/_base/declare"],
function(l){return l(null,{constructor:function(g,e){this.grid=g;this.model=g.model;this.id=e},index:function(){return this.model.idToIndex(this.id)},cell:function(g,e){return this.grid.cell(this,g,e)},data:function(){return this.model.byId(this.id).data},rawData:function(){return this.model.byId(this.id).rawData},item:function(){return this.model.byId(this.id).item}})})},"url:gridx/templates/Grid.html":'<div class="dojoxGridx" role="grid" tabindex="0">\r\n\t<div class="dojoxGridxHeader" role="presentation" dojoAttachPoint="headerNode"></div>\r\n\t<div class="dojoxGridxMain" role="presentation" dojoAttachPoint="mainNode">\r\n\t\t<div class="dojoxGridxBodyEmpty" dojoAttachPoint="emptyNode"></div>\r\n\t\t<div class="dojoxGridxBody" role="presentation" dojoAttachPoint="bodyNode"></div>\r\n\t\t<div class="dojoxGridxVScroller" dojoAttachPoint="vScrollerNode"><div style="width:1px; height: 1px;"></div></div>\r\n\t\t<div class="clear"></div>\r\n\t</div>\r\n\t<div class="dojoxGridxFooter" dojoAttachPoint="footerNode">\r\n\t\t<div class="gridxHScroller">\r\n\t\t\t<div class="dojoxGridxHScroller" dojoAttachPoint="hScrollerNode"><div style="width:1px;height: 1px"></div></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<span dojoAttachPoint="lastFocusNode" tabindex="0"></span>\r\n</div>\r\n',
"gridx/core/Core":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/Deferred","dojo/DeferredList","./model/Model","./Row","./Column","./Cell","./_Module"],function(l,g,e,i,c,b,a,d,f,p){function h(a){a=a.moduleClass.prototype;return(a.forced||[]).concat(a.optional||[])}function n(a){for(var b in g)e.isFunction(g[b])&&(a[b]=e.partial(g[b],a));return a}function j(a,b){if(b)for(var c in b)a[c]&&e.isObject(a[c])&&!e.isFunction(a[c])?j(a[c],b[c]):a[c]=b[c]}function o(a){var b=
a.modules,c,d,e,f,g=function(a){for(var c=b.length-1;c>=0;--c)if(b[c].moduleClass.prototype.name===a)return b[c];return null};for(c=b.length-1;d=b[c];--c){e=d.moduleClass.prototype.name;for(f=h(d);f.length;){d=f.shift();if(d==e)throw Error("Module '"+d+"' is in a dependancy circle!");(d=g(d))&&(f=f.concat(h(d)))}}return a}return l(null,{reset:function(a){this._uninit();var c={},d;for(d in a)c[d]=a[d];a=c;this.store=a.store;a.modules=a.modules||[];a.modelExtensions=a.modelExtensions||[];this.setColumns(a.structure);
a.columns=this._columnsById;d=a;var f=this.coreModules,g,h,a=d.modules,c=[],i=f&&f.length||0,f=0;for(g=a.length;f<g;++f)h=a[f],e.isFunction(h)?c.push({moduleClass:h}):h?e.isFunction(h.moduleClass)?c.push(h):console.error(["The ",f+1-i,"-th declared module has NO moduleClass, please provide it"].join("")):console.error(["The ",f+1-i,"-th declared module can NOT be found, please require it before using it"].join(""));d.modules=c;for(var a=p._modules,c=d.modules,j,l,f=0;f<c.length;++f){i=c[f].moduleClass.prototype;
j=(i.forced||[]).concat(i.required||[]);for(g=0;g<j.length;++g){l=j[g];for(h=c.length-1;h>=0;--h)if(c[h].moduleClass.prototype.name===l)break;if(h<0)if(a[l])c.push({moduleClass:a[l]});else throw Error(["Forced/Required Dependent Module '",l,"' is NOT Found for '",i.name,"'"].join(""));}}a=d.modules;g={};for(c=0;f=a[c];++c)g[f.moduleClass.prototype.name]=f;a=[];for(c in g)a.push(g[c]);d.modules=a;d=o(d);a=d.modules;c=d.modelExtensions;h=[].push;for(f=a.length-1;f>=0;--f)(g=a[f].moduleClass.prototype.modelExtensions)&&
h.apply(c,g);a=d;this.model=new b(a);this._createModules(a)},_postCreate:function(){this._preloadModules();this._deferStartup=new i;this._loadModules(this._deferStartup).then(e.hitch(this,this.onModulesLoaded))},onModulesLoaded:function(){},setStore:function(a){this.store=a;this.reset(this);this._postCreate();this._deferStartup.callback()},setColumns:function(a){this.structure=a;var a=this._columns=e.clone(a),b={},c,d,f;if(e.isArray(a)){d=0;for(f=a.length;d<f;++d)c=a[d],c.index=d,c.id=c.id||String(d+
1),b[c.id]=c}this._columnsById=b;if(this.model)this.model._cache.onSetColumns(this._columnsById)},row:function(b,c){var d=b;typeof d==="number"&&!c&&(d=this.model.indexToId(d));if(this.model.idToIndex(d)>=0)return this._rowObj=this._rowObj||this._mixinComponent(new a(this),"row"),e.delegate(this._rowObj,{id:d});return null},column:function(a,b){var k;var c=a;typeof c==="number"&&!b&&(k=(c=this._columns[c])&&c.id,c=k);if(c=this._columnsById[c]){this._colObj=this._colObj||this._mixinComponent(new d(this),
"column");var f,g={};for(f in c)this._colObj[f]===void 0&&(g[f]=c[f]);return e.delegate(this._colObj,g)}return null},cell:function(b,c,g){if(b=b instanceof a?b:this.row(b,g))if(c=c instanceof d?c:this.column(c,g))return this._cellObj=this._cellObj||this._mixinComponent(new f(this),"cell"),e.delegate(this._cellObj,{row:b,column:c});return null},columnCount:function(){return this._columns.length},rowCount:function(a){return this.model.size(a)},columns:function(a,b){for(var a=a||0,c=this._columns.length,
d=b>=0?a+b:c,e=[];a<d&&a<c;++a)e.push(this.column(a));return n(e)},rows:function(a,b){for(var a=a||0,c=this.model.size(),d=b>=0?a+b:c,e=[];a<d&&a<c;++a)e.push(this.row(a));return n(e)},_uninit:function(){for(var a in this._modules){var b=this._modules[a].mod;if(b.getAPIPath){var c=b.getAPIPath();if(c){var d=void 0;for(d in c)delete this[d]}}b.destroy()}this.model&&this.model.destroy()},_preloadModules:function(){for(var a in this._modules)a=this._modules[a],a.mod.preload&&a.mod.preload(a.args)},_loadModules:function(a){var b=
[],d;for(d in this._modules)b.push(this._initializeModule(a,d));return new c(b)},_mixinComponent:function(a,b){for(var c in this._modules){var d=this._modules[c],f=d.mod[b+"Mixin"];e.isFunction(f)&&(f=f.apply(d.mod));e.mixin(a,f||{})}return a},_createModules:function(a){var k;var a=a.modules,b,c,d;this._modules={};for(b=0;b<a.length;++b)if(c=a[b],d=c.moduleClass.prototype.name,!this._modules[d])d=this._modules[d]={args:c},k=d.mod=new c.moduleClass(this,c),c=k,c.forced=c.forced||[],c.optional=c.optional||
[],c.loaded=new i,d.deps=c.forced.concat(c.optional),c.getAPIPath&&j(this,c.getAPIPath())},_initializeModule:function(a,b){var d=this._modules,f=d[b];if(!f.deferred)f.deferred=f.mod.loaded,(new c(g.map(g.filter(f.deps,function(a){return d[a]}),e.hitch(this,this._initializeModule,a)))).then(function(){f.mod.load?f.mod.load(f.args,a):f.deferred.fired<0&&f.deferred.callback()});return f.deferred}})})}}});define("gridx/gridx-mini",[],1);