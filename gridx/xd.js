//>>built
require({cache:{"dgrid/extensions/ColumnResizer":function(){define(["dojo/_base/declare","dojo/on","dojo/query","dojo/_base/lang","dojo/dom","dojo/dom-geometry","dojo/has","../util/misc","put-selector/put","dojo/_base/html","xstyle/css!../css/extensions/ColumnResizer.css"],function(r,m,k,i,l,n,e,j,s){function c(a){for(var b=a.length,c=b,g=a[0].length,o=Array(b);b--;)o[b]=Array(g);for(var f={},b=0;b<c;b++)for(var u=o[b],v=a[b],t=0,p=0;t<g;t++){var q=v[p],e;if(typeof u[t]=="undefined"){u[t]=q.id;if(q.rowSpan&&
q.rowSpan>1){e=o;for(var j=q.rowSpan,i=b,s=t,l=q.id,k=1;k<j;k++)e[i+k][s]=l}if(b>0&&q.colSpan&&q.colSpan>1)for(e=1;e<q.colSpan;e++)if(u[++t]=q.id,q.rowSpan&&q.rowSpan>1)for(var j=o,i=q.rowSpan,s=b,l=t,k=q.id,n=1;n<i;n++)j[s+n][l]=k;f[q.id]=a[0][t].id;p++}}return f}var a=e("touch")&&webkitConvertPointFromNodeToPage;return r([],{resizeNode:null,minWidth:40,gridWidth:null,_resizedColumns:!1,resizeColumnWidth:function(a,b){if(!(b<=0)){var c=this._columnStyles[a],g=this.styleColumn(a,"width: "+b+"px;");
c&&c.remove();this._columnStyles[a]=g}},configStructure:function(){this._resizedColumns=!1;for(var a in this._columnStyles)this._columnStyles[a].remove();this._columnStyles={};this.inherited(arguments)},renderHeader:function(){this.inherited(arguments);var a=this;a.gridWidth=a.headerNode.clientWidth-1;var b;if(this.columnSets&&this.columnSets.length)for(var h=this.columnSets.length;h--;)b=i.mixin(b||{},c(this.columnSets[h]));else this.subRows&&this.subRows.length>1&&(b=c(this.subRows));for(var h=
k(".dgrid-cell",a.headerNode),g=h.length;g--;){var o=h[g],f=o.columnId,u=o.childNodes;if(a.columns[f]){var v=s("div.dgrid-resize-header-container");for(o.contents=v;u.length>0;)s(v,u[0]);s(o,v,"div.dgrid-resize-handle.resizeNode-"+f).columnId=b?b[f]:f}}if(!a.mouseMoveListen)m(a.headerNode,".dgrid-resize-handle:mousedown"+(e("touch")?",.dgrid-resize-handle:touchstart":""),function(f){a._resizeMouseDown(f,this);a.mouseMoveListen.resume();a.mouseUpListen.resume()}),a.mouseMoveListen=m.pausable(document.body,
"mousemove"+(e("touch")?",touchmove":""),j.throttleDelayed(function(f){a._updateResizerPosition(f)})),a.mouseUpListen=m.pausable(document.body,"mouseup"+(e("touch")?",touchend":""),function(f){a._resizeMouseUp(f);a.mouseMoveListen.pause();a.mouseUpListen.pause()}),a.mouseMoveListen.pause(),a.mouseUpListen.pause()},_resizeMouseDown:function(c,b){c.preventDefault();l.setSelectable(this.domNode,!1);this._startX=this._getResizeMouseLocation(c);this._gridX=a?webkitConvertPointFromNodeToPage(this.bodyNode,
new WebKitPoint(0,0)).x:n.position(this.bodyNode).x;this._targetCell=k(".dgrid-column-"+b.columnId,this.headerNode)[0];if(!this._resizer)this._resizer=s(this.domNode,"div.dgrid-column-resizer");this._resizer.style.display="block";this._updateResizerPosition(c)},_resizeMouseUp:function(a){this._readyToResize=!1;if(!this._resizedColumns){var b=k(".dgrid-cell",this.headerNode);this.columnSets&&this.columnSets.length?b=b.filter(function(f){return f.columnId.split("-")[0]=="0"}):this.subRows&&this.subRows.length>
1&&(b=b.filter(function(f){return f.columnId.charAt(0)=="0"}));b.forEach(function(f){this.resizeColumnWidth(f.columnId,f.offsetWidth)},this);this._resizedColumns=!0}l.setSelectable(this.domNode,!0);var b=this._targetCell,a=this._getResizeMouseLocation(a)-this._startX,c=b.offsetWidth+a,g=this._getResizedColumnWidths(),o=g.totalWidth,g=g.lastColId,f=k(".dgrid-column-"+g,this.headerNode)[0].offsetWidth;b.columnId!=g&&(o+a<this.gridWidth?this.styleColumn(g,"width: auto;"):f-a<=this.minWidth&&this.resizeColumnWidth(g,
this.minWidth));if(c<this.minWidth)c=this.minWidth;this.resizeColumnWidth(b.columnId,c);this.resize();this._hideResizer()},_updateResizerPosition:function(a){var a=this._getResizeMouseLocation(a),b=this._targetCell,c=a-this._gridX;b.offsetWidth+(a-this._startX)<this.minWidth&&(c=this._startX-this._gridX-(b.offsetWidth-this.minWidth));this._resizer.style.left=c+"px"},_hideResizer:function(){this._resizer.style.display="none"},_getResizeMouseLocation:function(a){var b=0;a.pageX?b=a.pageX:a.clientX&&
(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft);return b},_getResizedColumnWidths:function(){var a=0,b=k(".dgrid-cell",this.headerNode);this.columnSets&&this.columnSets.length?b=b.filter(function(a){return a.columnId.split("-")[1]=="0"}):this.subRows&&this.subRows.length>1&&(b=b.filter(function(a){return a.columnId.charAt(0)=="0"}));var c=b.length;if(!c)return{};for(var g=b[c-1].columnId;c--;)a+=b[c].offsetWidth;return{totalWidth:a,lastColId:g}}})})},"put-selector/put":function(){(function(r){var m,
k=/[-+,> ]/;r([],m=function(i,l){function n(c){function a(){f&&o&&f!=o&&(o==c&&(d||(d=k.test(t)&&i.createDocumentFragment()))||o).insertBefore(f,g||null)}for(var d,b,h,g,o,f,u=arguments,v=0;v<u.length;v++){var t=u[v];if(typeof t=="object")if(h=!1,t.nodeType)f=t,a(),o=t,g=0;else for(var p in t)f[p]=t[p];else if(h)h=!1,f.appendChild(i.createTextNode(t));else{v<1&&(c=null);h=!0;if(b=t.replace(e,function(b,d,h,p,e,s){if(d){a();if(d=="-"||d=="+"){if(o=(g=f||o).parentNode,f=null,d=="+")g=g.nextSibling}else d==
"<"?o=f=(f||o).parentNode:(d==","?o=c:f&&(o=f),f=null),g=0;f&&(o=f)}if((b=!h&&p)||!f&&(h||e))b=="$"?(b=u[++v],o.appendChild(i.createTextNode(b))):(b=b||n.defaultTag,(d=j&&u[v+1]&&u[v+1].name)&&(b="<"+b+' name="'+d+'">'),f=i.createElement(b));if(h)if(p=="$"&&(p=u[++v]),h=="#")f.id=p;else if(d=(b=f.className)&&(" "+b+" ").replace(" "+p+" "," "),h==".")f.className=b?(d+p).substring(1):p;else if(t=="!")n("div",f,"<").innerHTML="";else if(d=d.substring(1,d.length-1),d!=b)f.className=d;if(e)if(s=="$"&&
(s=u[++v]),e=="style")f.style.cssText=s;else f[e.charAt(0)=="!"?(e=e.substring(1))&&"removeAttribute":"setAttribute"](e,s===""?e:s);return""}))throw new SyntaxError("Unexpected char "+b+" in "+t);a();o=b=f||o}}c&&d&&c.appendChild(d);return b}k=l||k;try{var e=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w$]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,i=i||document,j=1;n("i",{name:"a"})}catch(s){j=0}n.defaultTag="div";n.forDocument=m;return n})})(typeof define=="undefined"?function(r,m){typeof window=="undefined"?
require("./node-html")(module,m):put=m()}:define)},"dgrid/List":function(){define(["dojo/_base/array","dojo/_base/kernel","dojo/_base/declare","dojo/on","dojo/aspect","dojo/has","./util/misc","dojo/has!touch?./TouchScroll","xstyle/has-class","put-selector/put","dojo/_base/sniff","xstyle/css!./css/dgrid.css"],function(r,m,k,i,l,n,e,j,s,c){function a(f,a,b,c){var d,h;h=d=f.element;a=a||1;do if(f=d[a<0?"previousSibling":"nextSibling"]){do if(d=f,((d&&d.className)+" ").indexOf(b+" ")>-1){h=d;a+=a<0?1:
-1;break}while(f=(!c||!d.hidden)&&d[a<0?"lastChild":"firstChild"])}else if((d=d.parentNode)==this.domNode||(d.className+" ").indexOf("dgrid-row ")>-1)break;while(a);return h}s("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var d,b=c(document.getElementsByTagName("head")[0],"style"),h=[],b=b.sheet||b.styleSheet,g=0,o=n("ie")<7&&!n("quirks")?function(f){var a,b,c;if(f._started&&(a=document.documentElement,b=a.clientWidth,a=a.clientHeight,c=f._prevWinDims||[],c[0]!==b||
c[1]!==a))f.resize(),f._prevWinDims=[b,a]}:function(a){a._started&&a.resize()};return k(j?[j]:[],{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,postscript:function(a,b){var c=this;(this._Row=function(a,f,b){this.id=a;this.data=f;this.element=b}).prototype.remove=function(){c.removeRow(this.element)};if(b)this.srcNodeRef=b=b.nodeType?b:document.getElementById(b);this.create(a,b)},listType:"list",create:function(a,b){a?(this.params=a,k.safeMixin(this,a),this._sort=a.sort||[],delete this.sort):
this._sort=[];var d=this.domNode=b||c("div");this.observers=[];this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=d.id=d.id||this.id||"dgrid_"+g++;this.buildRendering();this.postCreate&&this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var a=this.domNode,b,d,h,g;g=this.isRTL=(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase()=="rtl";c(a,"[role=grid].ui-widget.dgrid.dgrid-"+
this.listType);b=this.headerNode=c(a,"div.dgrid-header.dgrid-header-row.ui-widget-header"+(this.showHeader?"":".dgrid-header-hidden"));(n("quirks")||n("ie")<8)&&c(a,"div.dgrid-spacer");d=this.bodyNode=this.touchNode=c(a,"div.dgrid-scroller");d.tabIndex=-1;this.headerScrollNode=c(a,"div.dgrid-header-scroll.dgrid-scrollbar-width.ui-widget-header");h=this.footerNode=c("div.dgrid-footer");if(!this.showFooter)h.style.display="none";c(a,h);g&&(a.className+=" dgrid-rtl"+(n("webkit")?"":" dgrid-rtl-nonwebkit"));
i(d,"scroll",function(c){b.scrollLeft=d.scrollLeft;c.stopPropagation();i.emit(a,"scroll",{scrollTarget:d})});this.configStructure();this.renderHeader();this.contentNode=c(this.bodyNode,"div.dgrid-content.ui-widget-content");this._listeners.push(this._resizeHandle=i(window,"resize",e.debounce(o)))},startup:function(){this.inherited(arguments);if(!this._started)this._started=!0,this.resize(),this.set("sort",this._sort)},configStructure:function(){},resize:function(){var a=this.bodyNode,b=this.headerNode,
h=this.footerNode,g=b.offsetHeight,o=this.showFooter?h.offsetHeight:0,e=n("quirks")||n("ie")<7;this.headerScrollNode.style.height=a.style.marginTop=g+"px";if(o)a.style.marginBottom=o+"px";if(e&&(a.style.height="",a.style.height=Math.max(this.domNode.offsetHeight-g-o,0)+"px",o))h.style.bottom="1px",setTimeout(function(){h.style.bottom=""},0);d||(g=c(document.body,"div.dgrid-scrollbar-measure"),d=g.offsetWidth-g.clientWidth,c(g,"!"),n("ie")===7&&d++,this.addCssRule(".dgrid-scrollbar-width","width: "+
d+"px"),this.addCssRule(".dgrid-scrollbar-height","height: "+d+"px"),d!=17&&!e&&(this.addCssRule(".dgrid-header","right: "+d+"px"),this.addCssRule(".dgrid-rtl-nonwebkit .dgrid-header","left: "+d+"px")));if(e)b.style.width=a.clientWidth+"px",setTimeout(function(){b.scrollLeft=a.scrollLeft},0)},addCssRule:function(a,c){var d=h.length;h[d]=(b.cssRules||b.rules).length;b.addRule?b.addRule(a,c):b.insertRule(a+"{"+c+"}",h[d]);return{remove:function(){var a=h[d],f,c=h.length;if(a!==void 0){b.deleteRule?
b.deleteRule(a):b.removeRule(a);h[d]=void 0;for(f=d;f<c;f++)h[f]>a&&h[f]--}}}},on:function(a,b){var c=i(this.domNode,a,b);n("dom-addeventlistener")||this._listeners.push(c)},cleanup:function(){var a=this.observers,b;for(b in this._rowIdToObject)if(this._rowIdToObject[b]!=this.columns){var c=document.getElementById(b);c&&this.removeRow(c,!0)}for(b=0;b<a.length;b++)(c=a[b])&&c.cancel();this.observers=[];this.preload=null},destroy:function(){for(var a=this._listeners.length;a--;)this._listeners[a].remove();
delete this._listeners;this.cleanup();c("!",this.domNode)},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML=""},newRow:function(a,b,d,h){if(b.parentNode){var g=this.insertRow(a,b.parentNode,b,h.start+d,h);c(g,".ui-state-highlight");setTimeout(function(){c(g,"!ui-state-highlight")},250);return g}},adjustRowIndices:function(a){if(this.maintainOddEven){var b=a.rowIndex;do if(a.rowIndex>-1)c(a,"."+(b%2==1?"dgrid-row-odd":"dgrid-row-even")+"!"+(b%2==0?
"dgrid-row-odd":"dgrid-row-even")),a.rowIndex=b++;while((a=a.nextSibling)&&a.rowIndex!=b)}},renderArray:function(a,b,c){function d(a){m=g.insertRow(a,l,null,o++,c);m.observerIndex=i;return m}function h(a){if(s=b?b.parentNode:g.contentNode)s.insertBefore(l,b||null),(m=a[a.length-1])&&g.adjustRowIndices(m);return j=a}var c=c||{},g=this,o=c.start||0,e,j,s;if(!b)this._lastCollection=a;if(a.observe)var i=this.observers.push(a.observe(function(a,f,d){var h;if(f>-1&&j[f]){e=j.splice(f,1)[0];if(e.parentNode==
s&&(h=e.nextSibling))h.rowIndex--,g.removeRow(e);g._processScroll&&g._processScroll()}if(d>-1){if(e=g.newRow(a,j[d]||j[d-1]&&j[d-1].nextSibling||b,d,c))if(e.observerIndex=i,j.splice(d,0,e),!h||d<h.rowIndex)h=e;c.count++}f!=d&&h&&g.adjustRowIndices(h)},!0))-1;var l=document.createDocumentFragment();if(a.map){if(j=a.map(d,console.error),j.then)return j.then(h)}else{j=[];for(var k=0,n=a.length;k<n;k++)j[k]=d(a[k])}var m;return h(j)},_autoId:0,renderHeader:function(){},insertRow:function(a,b,c,d,h){var g=
this.id+"-row-"+(this.store&&this.store.getIdentity?this.store.getIdentity(a):this._autoId++),e=document.getElementById(g);if(!e||c&&e.parentNode!=c.parentNode)e&&this.removeRow(e),e=this.renderRow(a,h),e.className=(e.className||"")+" ui-state-default dgrid-row "+(d%2==1?"dgrid-row-odd":"dgrid-row-even"),this._rowIdToObject[e.id=g]=a;b.insertBefore(e,c);e.rowIndex=d;return e},renderRow:function(a){return c("div",""+a)},removeRow:function(a,b){b||c(a,"!")},row:function(a){var b;if(a instanceof this._Row)return a;
if(a.target&&a.target.nodeType)a=a.target;if(a.nodeType){do{var c=a.id;if(b=this._rowIdToObject[c])return new this._Row(c.substring(this.id.length+5),b,a);a=a.parentNode}while(a&&a!=this.domNode)}else return typeof a=="object"?b=this.store.getIdentity(a):(b=a,a=this._rowIdToObject[this.id+"-row-"+b]),new this._Row(b,a,document.getElementById(this.id+"-row-"+b))},cell:function(a){return{row:this.row(a)}},_move:a,up:function(b,c,d){return this.row(a(b,-(c||1),"dgrid-row",d))},down:function(b,c,d){return this.row(a(b,
c||1,"dgrid-row",d))},get:function(a){var b="_get"+a.charAt(0).toUpperCase()+a.slice(1);if(typeof this[b]==="function")return this[b].apply(this,[].slice.call(arguments,1));return this[a]},set:function(a,b){if(typeof a==="object")for(var c in a)this.set(c,a[c]);else c="_set"+a.charAt(0).toUpperCase()+a.slice(1),typeof this[c]==="function"?this[c].apply(this,[].slice.call(arguments,1)):this[a]=b;return this},_setSort:function(a,b){this._sort=typeof a!="string"?a:[{attribute:a,descending:b}];this.refresh();
if(this._lastCollection){if(a.length){if(typeof a!="string")b=a[0].descending,a=a[0].attribute;this._lastCollection.sort(function(c,d){var h=c[a],g=d[a];h===void 0&&(h="");g===void 0&&(g="");return h==g?0:h>g==!b?1:-1})}this.renderArray(this._lastCollection)}},sort:function(a,b){m.deprecated("sort(...)",'use set("sort", ...) instead',"dgrid 1.0");this.set("sort",a,b)},_getSort:function(){return this._sort},_setShowHeader:function(a){this.showHeader=a;c(this.headerNode,(a?"!":".")+"dgrid-header-hidden");
this.renderHeader();this.resize()},setShowHeader:function(a){m.deprecated("setShowHeader(...)",'use set("showHeader", ...) instead',"dgrid 1.0");this.set("showHeader",a)}})})},"dgrid/OnDemandList":function(){define(["./List","./_StoreMixin","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on","./util/misc","put-selector/put"],function(r,m,k,i,l,n,e,j){return k([r,m],{minRowsPerPage:25,maxRowsPerPage:100,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:1E4,rowHeight:22,queryRowsOverlap:1,
pagingDelay:e.defaultDelay,postCreate:function(){this.inherited(arguments);var j=this;n(this.bodyNode,"scroll",e.throttleDelayed(function(c){j._processScroll(c)},null,this.pagingDelay))},renderQuery:function(e,c){var a={query:e,count:0,node:c};if(!c){var d={node:j(this.contentNode,"div.dgrid-preload",{rowIndex:0}),count:0,query:e,next:a};a.node=c=j(this.contentNode,"div.dgrid-preload");a.previous=d}c.rowIndex=this.minRowsPerPage;(d=this.preload)?((a.next=d.next)&&this.bodyNode.scrollTop>=d.node.offsetTop?
a.previous=d:(a.next=d,a.previous=d.previous),a.previous.next=a,a.next.previous=a):this.preload=a;var b=j(c,"-div.dgrid-loading");j(b,"div.dgrid-below",this.loadingMessage);var d=i.mixin(this.get("queryOptions"),{start:0,count:this.minRowsPerPage,query:e}),h=e(d),g=this;l.when(this.renderArray(h,c,d),function(d){return l.when(h.total||h.length,function(h){j(b,"!");var e=d.length,h=h||e;if(!h)j(g.contentNode,"div.dgrid-no-data").innerHTML=g.noDataMessage;for(var i=0,s=0;s<e;s++)i+=d[s].offsetHeight;
if(e&&i)g.rowHeight=i/e;h-=e;a.count=h;c.rowIndex=e;h?c.style.height=Math.min(h*g.rowHeight,g.maxEmptySpace)+"px":c.style.display="none";g._processScroll();return d})});return h},refresh:function(){this.inherited(arguments);if(this.store){var e=this;this._trackError(function(){return e.renderQuery(function(c){return e.store.query(e.query,c)})})}},_calcRowHeight:function(e){return e.offsetHeight},lastScrollTop:0,_processScroll:function(){function e(b,d,h,g){var f=a.farOffRemoval,o=b.node;if(d>2*f){for(var i,
k=o[h],l=0,m=0,s=[];i=k;){var p=a._calcRowHeight(i);if(l+p+f>d||k.className.indexOf("dgrid-row")<0&&k.className.indexOf("dgrid-loading")<0)break;var k=i[h],n,q=i.observerIndex;if(q!=n&&n>-1){var r=a.observers,t=r[n];t&&t.cancel();r[n]=0}l+=p;m+=i.count||1;n=q;a.removeRow(i,!0);delete a._rowIdToObject[i.id];s.push(i)}b.count+=m;g?(o.rowIndex-=m,c(b)):o.style.height=o.offsetHeight+l+"px";for(var u=j("div"),b=0;b<s.length;b++)j(u,s[b]);setTimeout(function(){j(u,"!")},1)}}function c(b,c){b.node.style.height=
Math.min(b.count*a.rowHeight,c?Infinity:a.maxEmptySpace)+"px"}var a=this,d=a.bodyNode,b=a.contentNode.style.webkitTransform,b=d.scrollTop+(b?-b.match(/translate[\w]*\(.*?,(.*?)px/)[1]:0),h=d.offsetHeight+b,g,o,f=a.preload,i=a.lastScrollTop,k=a.bufferRows*a.rowHeight,n=k-a.rowHeight;for(a.lastScrollTop=b;f&&f!=g;){g=a.preload;a.preload=f;o=f.node;var p=o.offsetTop;if(h+1+n<p){do f=f.previous;while(f&&!f.node.offsetWidth)}else if(b-1-n>p+o.offsetHeight){do f=f.next;while(f&&!f.node.offsetWidth)}else{var q=
((o.rowIndex?b-k:h)-p)/a.rowHeight,p=(h-b+2*k)/a.rowHeight;p+=Math.min(Math.abs(Math.max(Math.min((b-i)*a.rowHeight,a.maxRowsPerPage/2),a.maxRowsPerPage/-2)),10);o.rowIndex==0&&(q-=p);q=Math.max(q,0);q<10&&q>0&&p+q<a.maxRowsPerPage&&(p+=Math.max(0,q),q=0);p=Math.min(Math.max(p,a.minRowsPerPage),a.maxRowsPerPage,f.count);if(p==0)break;var p=Math.ceil(p),q=Math.min(Math.floor(q),f.count-p),m=a.get("queryOptions");f.count-=p;var r=o,z,A=a.queryRowsOverlap,B=o.rowIndex>0&&f;if(B){var x=f.previous;x&&
(e(x,b-(x.node.offsetTop+x.node.offsetHeight),"nextSibling"),q>0&&x.node==o.previousSibling?(q=Math.min(f.count,q),f.previous.count+=q,c(f.previous,!0),f.count-=q,o.rowIndex+=q,A=0):p+=q);m.start=o.rowIndex-A;o.rowIndex+=p}else{if(f.next)e(f.next,f.next.node.offsetTop-h,"previousSibling",!0),r=o.nextSibling,r==f.next.node?(f.next.count+=f.count-q,f.next.node.rowIndex=q+p,f.count=q,A=0):z=!0;m.start=f.count}m.count=p+A;if(z)z=r.offsetTop;c(f);o=j(r,"-div.dgrid-loading[style=height:"+p*a.rowHeight+
"px]");j(o,"div.dgrid-"+(B?"below":"above"),a.loadingMessage);o.count=p;m.query=f.query;var C=f.query(m);if(a._trackError(function(){return C})===void 0)break;(function(b,d,h,g,e){l.when(a.renderArray(e,b,m),function(){r=b.nextSibling;j(b,"!");g&&r&&(d.scrollTop+=r.offsetTop-g);h&&l.when(e.total||e.length,function(a){h.count=a-h.node.rowIndex;c(h)})})}).call(this,o,d,B,z,C);f=f.previous}}}})})},"dgrid/Selection":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/Deferred","dojo/on",
"dojo/has","dojo/aspect","./List","dojo/has!touch?./util/touch","put-selector/put","dojo/query"],function(r,m,k,i,l,n,e,j,s){var c=l("mac")?"metaKey":"ctrlKey";return m([e],{selectionDelegate:".dgrid-row",selectionEvents:"mousedown,dgrid-cellfocusin",deselectOnRefresh:!0,allowSelectAll:!1,create:function(){this.selection={};return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._initSelectionEvents()},selection:{},selectionMode:"extended",_setSelectionMode:function(a){if(a!=
this.selectionMode)this.clearSelection(),this._lastSelected=null,this.selectionMode=a},setSelectionMode:function(a){r.deprecated("setSelectionMode(...)",'use set("selectionMode", ...) instead',"dgrid 1.0");this.set("selectionMode",a)},_handleSelect:function(a,d){if(!(this.selectionMode=="none"||a.type=="dgrid-cellfocusin"&&a.parentType=="mousedown")){var b=a.type=="mousedown"?a[c]:a.ctrlKey;if(a.type=="mousedown"||!a.ctrlKey||a.keyCode==32){var h=this.selectionMode,g=this.row(d),e=this._lastSelected;
if(h=="single")e==d?b&&this.select(d,null,null):(this.clearSelection(),this.select(d)),this._lastSelected=d;else{var f;(a.button!=2&&h=="extended"&&!b||a.button==2&&!this.selection[g.id])&&this.clearSelection(g.id);a.shiftKey||(e=f=b?null:void 0);this.select(d,e,f);if(!e)this._lastSelected=d}a.type=="mousedown"&&(a.shiftKey||b)&&a.preventDefault()}}},_initSelectionEvents:function(){function a(a){d._handleSelect(a,this)}var d=this,b=this.selectionDelegate;i(this.domNode,"selectstart",function(a){var b=
a.target&&a.target.tagName;b!="INPUT"&&b!="TEXTAREA"&&a.preventDefault()});j?i(this.contentNode,j.selector(b,j.tap),function(a){d._handleSelect(a,this)}):i(this.contentNode,i.selector(b,this.selectionEvents),a);if(this.allowSelectAll)this.on("keydown",function(a){a[c]&&a.keyCode==65&&(a.preventDefault(),d[d.allSelected?"clearSelection":"selectAll"]())});n.before(this,"removeRow",function(a,b){b||this.row(a).id in this.selection&&this.deselect(a)})},allowSelect:function(){return!0},_selectionEventQueue:function(a,
c){var b=this,h="dgrid-"+(a?"select":"deselect"),e=this[h];if(e)return e;setTimeout(this._fireSelectionEvent=function(){if(e){var a={bubbles:!0,grid:b};a[c]=e;i.emit(b.contentNode,h,a);e=null;delete b[h]}},0);return e=this[h]=[]},select:function(a,c,b){b===void 0&&(b=!0);a.element||(a=this.row(a));if(this.allowSelect(a)){var h=this.selection,e=h[a.id];b===null&&(b=!e);var j=a.element;!b&&!this.allSelected?delete this.selection[a.id]:h[a.id]=b;j&&(b?s(j,".dgrid-selected.ui-state-active"):s(j,"!dgrid-selected!ui-state-active"));
b!=e&&j&&this._selectionEventQueue(b,"rows").push(a);if(c){c.element||(c=this.row(c));c=c.element;b=a.element;for(b=c&&(c.compareDocumentPosition?c.compareDocumentPosition(b)==2:c.sourceIndex>b.sourceIndex)?"down":"up";a.element!=c&&(a=this[b](a));)this.select(a)}}},deselect:function(a,c){this.select(a,c,!1)},clearSelection:function(a){this.allSelected=!1;for(var c in this.selection)a!==c&&this.deselect(c)},selectAll:function(){this.allSelected=!0;this.selection={};for(var a in this._rowIdToObject)this.select(this.row(this._rowIdToObject[a]).id)},
isSelected:function(a){if(!a)return!1;a.element||(a=this.row(a));return!!this.selection[a.id]},refresh:function(){this.deselectOnRefresh&&(this.clearSelection(),this._fireSelectionEvent&&this._fireSelectionEvent());this._lastSelected=null;this.inherited(arguments)},renderArray:function(){var a=this,c=this.inherited(arguments);k.when(c,function(b){var c=a.selection,d,e,f;for(d=0;d<b.length;d++)e=a.row(b[d]),(f=e.id in c?c[e.id]:a.allSelected)&&a.select(e,null,f)});return c}})})},"xstyle/has-class":function(){define(["dojo/has"],
function(r){var m={};return function(){for(var k,i=arguments,l=0;l<i.length;l++)if(k=i[l],!m[k]){m[k]=!0;var n=k.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),e=r(n[2]),j=-n[4];if((j>0?j<=e&&(-n[5]||j)>=e:!!e)==!n[1])document.documentElement.className+=" has-"+k}}})},"dgrid/_StoreMixin":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on"],function(r,m,k,i,l){function n(e){l.emit(this.domNode,"dgrid-error",{error:e,cancelable:!0,bubbles:!0})&&
console.error(e)}return m(null,{store:null,query:null,queryOptions:null,getBeforePut:!0,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={}},_configColumn:function(e){if(e.set){if(!this._columnsWithSet)this._columnsWithSet={};this._columnsWithSet[e.field]=e}},_configColumns:function(){this._columnsWithSet=null;return this.inherited(arguments)},_setStore:function(e,j,i){this.store=e;this.dirty={};this.set("query",j,i)},_setQuery:function(e,
j){var i=j&&j.sort;this.query=e!==void 0?e:this.query;this.queryOptions=j||this.queryOptions;i?this.sort(i):this.refresh()},setStore:function(e,j,i){r.deprecated("setStore(...)",'use set("store", ...) instead',"dgrid 1.0");this.set("store",e,j,i)},setQuery:function(e,j){r.deprecated("setQuery(...)",'use set("query", ...) instead',"dgrid 1.0");this.set("query",e,j)},_getQueryOptions:function(){var e=k.delegate(this.queryOptions,{});if(this._sort.length)e.sort=this._sort;return e},_getQuery:function(){var e=
this.query;return typeof e=="object"&&e!=null?k.delegate(e,{}):e},_setSort:function(){if(this.store)this._lastCollection=null;this.inherited(arguments)},insertRow:function(e){var j=this.store,i=this.dirty,j=j&&j.getIdentity(e),c;j in i&&!(j in this._updating)&&(c=i[j]);c&&(e=k.delegate(e,c));return this.inherited(arguments)},updateDirty:function(e,j,i){var c=this.dirty,a=c[e];a||(a=c[e]={});a[j]=i},setDirty:function(e,j,i){r.deprecated("setDirty(...)","use updateDirty() instead","dgrid 1.0");this.updateDirty(e,
j,i)},save:function(){function e(a,b){return function(d){var e=j._columnsWithSet,h=j._updating,g,l;for(g in b)d[g]=b[g];if(e)for(g in e)l=e[g].set(d),l!==void 0&&(d[g]=l);h[a]=!0;return i.when(k.put(d),function(){delete c[a];delete h[a]})}}var j=this,k=this.store,c=this.dirty,a=new i,d=a.promise,b=function(a){var b;return j.getBeforePut||!(b=j.row(a).data)?function(){return k.get(a)}:function(){return b}},h;for(h in c)var g=e(h,c[h]),d=d.then(b(h)).then(g);a.resolve();return d},revert:function(){this.dirty=
{};this.refresh()},_trackError:function(e){var j;typeof e=="string"&&(e=k.hitch(this,e));try{j=e()}catch(l){n.call(this,l)}return i.when(j,null,k.hitch(this,n))}})})},"xstyle/css":function(){define(["require"],function(r){var m=window.cssCache||(window.cssCache={});return{load:function(k,i,l){var n=i.toUrl(k);if(m[n])return createStyleSheet(m[n]);var e=document.documentElement,j=e.insertBefore(document.createElement("div"),e.firstChild);j.id=i.toAbsMid(k).replace(/\//g,"-").replace(/\..*/,"")+"-loaded";
k=(j.currentStyle||getComputedStyle(j,null)).display;e.removeChild(j);if(k=="none")return l();r(["./load-css"],function(e){e(n,l)})},pluginBuilder:"xstyle/css-builder"}})},"dgrid/util/misc":function(){define([],function(){var r={defaultDelay:15,throttle:function(m,k,i){var l=!1,i=i||r.defaultDelay;return function(){l||(l=!0,m.apply(k,arguments),setTimeout(function(){l=!1},i))}},throttleDelayed:function(m,k,i){var l=!1,i=i||r.defaultDelay;return function(){if(!l){l=!0;var n=arguments;setTimeout(function(){m.apply(k,
n);l=!1},i)}}},debounce:function(m,k,i){var l,i=i||r.defaultDelay;return function(){l&&(clearTimeout(l),l=null);var n=arguments;l=setTimeout(function(){m.apply(k,n)},i)}}};return r})},"dgrid/Grid":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/on","dojo/has","put-selector/put","./List","dojo/_base/sniff"],function(r,m,k,i,l,n){function e(c,a){a&&a.nodeType&&c.appendChild(a)}var j=i("ie")<8&&!i("quirks"),s=/[^\._a-zA-Z0-9-]/g,m=m([n],{columns:null,cellNavigation:!0,tabableHeader:!0,
showHeader:!0,column:function(c){return typeof c=="string"?this.columns[c]:this.cell(c).column},listType:"grid",cell:function(c,a){if(c.row&&c.row instanceof this._Row)return c;if(c.target&&c.target.nodeType)c=c.target;var d;if(c.nodeType){do{if(this._rowIdToObject[c.id])break;var b=c.columnId;if(b){a=b;d=c;break}c=c.parentNode}while(c&&c!=this.domNode)}if(!d&&a){var e=this.row(c);if(b=e.element)for(var b=b.getElementsByTagName("td"),g=0;g<b.length;g++)if(b[g].columnId==a){d=b[g];break}}if(c!=null)return{row:e||
this.row(c),column:a&&this.column(a),element:d}},_columnsCss:function(c){c.fullSelector=function(){return this.parent.fullSelector()+" .dgrid-cell"};for(var a=0;a<c.children.length;a++){var d=c.children[a];d.field=d.className=d.selector.substring(1)}return c.children},createRowCells:function(c,a,d){var b=l("table.dgrid-row-table[role=presentation]"),e=i("ie")<9||i("quirks")?l(b,"tbody"):b,g,k,f,m,n,r,p,q,w,y,d=d||this.subRows;k=0;for(f=d.length;k<f;k++){r=d[k];g=f==1&&!i("ie")?e:l(e,"tr");m=0;for(n=
r.length;m<n;m++){p=r[m];q=p.id;w=p.className||p.field&&"field-"+p.field;w=l(c+(".dgrid-cell.dgrid-cell-padding.dgrid-column-"+q+(w?"."+w:"")).replace(s,"-"));w.columnId=q;j?(q=l(w,"!dgrid-cell-padding div.dgrid-cell-padding"),w.contents=q):q=w;if(y=p.colSpan)w.colSpan=y;if(y=p.rowSpan)w.rowSpan=y;a(q,p);g.appendChild(w)}}return b},left:function(c,a){return this.cell(this._move(c,-(a||1),"dgrid-cell"))},right:function(c,a){return this.cell(this._move(c,a||1,"dgrid-cell"))},renderRow:function(c,a){var d=
this.createRowCells("td",function(b,d){var g=c;d.get?g=d.get(c):"field"in d&&d.field!="_item"&&(g=g[d.field]);d.formatter?b.innerHTML=d.formatter(g):d.renderCell?e(b,d.renderCell(c,g,b,a)):g!=null&&b.appendChild(document.createTextNode(g))},a&&a.subRows);return l("div[role=gridcell]>",d)},renderHeader:function(){for(var c=this,a=this.headerNode,d=a.childNodes.length;d--;)l(a.childNodes[d],"!");d=this.createRowCells("th[role=columnheader]",function(a,c){var d=c.headerNode=a;if(j)a=a.parentNode;var i=
c.field;if(i)a.field=i;if(c.renderHeaderCell)e(d,c.renderHeaderCell(d));else if(c.label||c.field)d.appendChild(document.createTextNode(c.label||c.field));if(c.sortable!==!1)a.sortable=!0,a.className+=" dgrid-sortable"});this._rowIdToObject[d.id=this.id+"-header"]=this.columns;a.appendChild(d);k(d,"click,keydown",function(b){if(b.type=="click"||b.keyCode==32){var b=b.target,d,e;do if(b.sortable)return c._sortNode=b,b=b.field||b.columnId,d=(e=c._sort[0])&&e.attribute==b&&!e.descending,c.set("sort",
b,d);while((b=b.parentNode)&&b!=a)}})},resize:function(){var c=this.headerNode.firstChild,a=this.contentNode,d;this.inherited(arguments);if(!i("ie")||i("ie")>7&&!i("quirks"))if(a.style.width="",a&&c&&(d=c.offsetWidth)!=a.offsetWidth)a.style.width=d+"px"},_setSort:function(){this.inherited(arguments);this._lastSortedArrow&&(l(this._lastSortedArrow,"<!dgrid-sort-up!dgrid-sort-down"),l(this._lastSortedArrow,"!"),delete this._lastSortedArrow);if(this._sort[0]){var c=this._sort[0].attribute,a=this._sort[0].descending,
d=this._sortNode,b,e,g;delete this._sortNode;if(!d)for(g in b=this.columns,b)if(e=b[g],e.field==c){d=e.headerNode;break}if(d)d=d.contents||d,this._lastSortedArrow=l(d.firstChild,"-div.dgrid-sort-arrow.ui-icon[role=presentation]"),this._lastSortedArrow.innerHTML="&nbsp;",l(d,a?".dgrid-sort-down":".dgrid-sort-up"),this.resize()}},styleColumn:function(c,a){return this.addCssRule("#"+this.domNode.id+" .dgrid-column-"+c,a)},_configColumns:function(c,a){var d=[],b=a instanceof Array,e,g;for(e in a){g=a[e];
typeof g=="string"&&(a[e]=g={label:g});if(!b&&!g.field)g.field=e;e=g.id=g.id||(isNaN(e)?e:c+e);c&&(this.columns[e]=g);this._configColumn&&this._configColumn(g,e,a,c);g.grid=this;d.push(g)}return b?a:d},configStructure:function(){var c=this.subRows;if(c){this.columns={};for(var a=0;a<c.length;a++)c[a]=this._configColumns(a+"-",c[a])}else this.subRows=[this._configColumns("",this.columns)]},_setColumns:function(c){this.subRows=null;this.columns=c;this._updateColumns()},_setSubRows:function(c){this.subRows=
c;this._updateColumns()},setColumns:function(c){r.deprecated("setColumns(...)",'use set("columns", ...) instead',"dgrid 1.0");this.set("columns",c)},setSubRows:function(c){r.deprecated("setSubRows(...)",'use set("subRows", ...) instead',"dgrid 1.0");this.set("subRows",c)},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);this.resize()}});m.appendIfNode=e;m.defaultRenderCell=function(c,a,d){a!=null&&d.appendChild(document.createTextNode(a))};
return m})},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(r,m,k){return r([m,k],{})})}}});define("dgrid/dgridBuild",[],1);