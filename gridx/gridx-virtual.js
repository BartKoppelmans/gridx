//>>built
require({cache:{"gridx/core/model/_Extension":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/array"],function(l,j,k){return l([],{constructor:function(f){var g=this.inner=f._model;this._cnnts=[];this.model=f;f._model=this;g&&(this.connect(g,"onDelete","_onDelete"),this.connect(g,"onNew","_onNew"),this.connect(g,"onSet","_onSet"))},destroy:function(){k.forEach(this._cnnts,j.disconnect)},connect:function(f,g,e,m){f=j.connect(f,g,m||this,e);this._cnnts.push(f);return f},_onNew:function(){this.onNew.apply(this,
arguments)},_onSet:function(){this.onSet.apply(this,arguments)},_onDelete:function(){this.onDelete.apply(this,arguments)},onNew:function(){},onDelete:function(){},onSet:function(){},_call:function(f,g){var e=this[f],m=this.inner;return e?e.apply(this,g||[]):m&&m._call(f,g)},_mixinAPI:function(){var f,g=this.model,e=arguments,m=function(e){return function(){return g._model._call(e,arguments)}};for(f=e.length-1;f>=0;--f)g[e[f]]=m(e[f])}})})},"gridx/modules/VirtualVScroller":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/_base/array","dojo/_base/sniff","dojo/_base/event","dojo/_base/Deferred","dojo/query","./VScroller","../core/_Module"],function(l,j,k,f,g,e,m,h){return l(h,{constructor:function(d,a){d.autoHeight?j.mixin(this,new h(d,a)):this._scrolls=[]},buffSize:5,lazy:!1,lazyTimeout:50,scrollToRow:function(d,a){var c=new e,b=this,i=b._scrolls,n=function(){b._subScrollToRow(d,c,a)};i.push(c);i.length>1?i[i.length-2].then(n):n();return c},_subScrollToRow:function(d,a,c){var b=this,i=0,n=b._avgRowHeight,
o=b.grid.bodyNode,e=b.domNode,i=o.scrollTop,g=e.scrollTop,h=m('[visualindex="'+d+'"]',o)[0],f=function(i){b._scrolls.splice(k.indexOf(b._scrolls,a),1);a.callback(i)};if(h)if(n=h.offsetTop,n+h.offsetHeight>i+o.clientHeight)i=n-i,c||(i+=h.offsetHeight-o.clientHeight);else if(n<i||c&&n>i)i=n-i;else{f(!0);return}else if(o.childNodes.length){for(h=o.firstChild;h&&h.offsetTop<i;)h=h.nextSibling;var j=h&&h.getAttribute("visualindex");if(h&&d<j)i=(d-j)*n;else{for(h=o.lastChild;h&&h.offsetTop+h.offsetHeight>
i+o.clientHeight;)h=h.previousSibling;j=h&&h.getAttribute("visualindex");if(h&&d>j)i=(d-j)*n;else{f(!1);return}}}else{f(!1);return}n=g===0&&i<0;g=g>=e.scrollHeight-e.offsetHeight&&i>0;n||g?b._doVirtualScroll(1):e.scrollTop+=i/b._ratio;n&&o.firstChild.getAttribute("visualindex")==0||g&&o.lastChild.getAttribute("visualindex")==b.grid.body.visualCount-1?f(!1):setTimeout(function(){b._subScrollToRow(d,a,c)},5)},_init:function(){var d=this;d._rowHeight={};d._syncHeight();d.connect(d.grid,"_onResizeEnd",
function(){d._doScroll(0,1)});d._doScroll(0,1)},_doVirtualScroll:function(d){var a=this.domNode,c=a.scrollTop,b=this._ratio*(c-(this._lastScrollTop||0));if(d||b){this._lastScrollTop=c;var i=this.arg("buffSize"),d=a.scrollHeight-a.offsetHeight,n=this.grid.body,o=n.visualStart,h=o+n.visualCount,e=this.grid.bodyNode,g=e.firstChild,f=g&&g.offsetTop-b,j=e.lastChild,k=j&&j.offsetTop-b+j.offsetHeight,p=e.scrollTop,y=p+e.clientHeight,u=this._avgRowHeight,a=Math.ceil(a.offsetHeight/u)+2*i,r,s,l;if(g&&f>p&&
f<y)s=n.renderStart,l=Math.ceil((f-p)/u)+i,r=c===0?o:Math.max(s-l,o),l="top";else if(j&&k>p&&k<y)r=n.renderStart+n.renderCount,l=Math.ceil((y-k)/u)+i,s=c===d&&c?h:Math.min(r+l,h),l="bottom";else if(!g||f>y||!j||k<p)c<=d/2?(r=c===0?o:o+Math.max(Math.floor(c/u)-i,0),s=Math.min(r+a,h)):(s=c===d?h:h+Math.min(a-Math.floor((d-c)/u),0),r=Math.max(s-a,o)),l="clear";else if(g)c===0?(h=n.renderStart,h>o&&(r=o,s=h,l="top")):c===d&&(o=n.renderStart+n.renderCount-1,o<h-1&&(r=o+1,s=h,l="bottom"));typeof r=="number"&&
typeof s=="number"&&(n.renderRows(r,s-r,l),c&&r<s&&(r=m('[visualindex="'+s+'"]',e)[0])&&(b+=r.offsetTop));c===0?e.scrollTop=0:c>=d?e.scrollTop=e.scrollHeight:l!="clear"&&(e.scrollTop+=b)}},_doScroll:function(d,a){this.arg("lazy")?(this._lazyScrollHandle&&clearTimeout(this._lazyScrollHandle),this._lazyScrollHandle=setTimeout(j.hitch(this,this._doVirtualScroll,a),this.arg("lazyTimeout"))):this._doVirtualScroll(a)},_onMouseWheel:function(d){this.domNode.scrollTop-=(typeof d.wheelDelta==="number"?d.wheelDelta/
3:-40*d.detail)/this._ratio;g.stop(d)},_onBodyChange:function(){this._doScroll(0,1);this._doVirtual()},_onForcedScroll:function(){this._rowHeight={};this._onBodyChange()},_avgRowHeight:24,_rowHeight:null,_ratio:1,_syncHeight:function(){var d=this._avgRowHeight*this.grid.body.visualCount,a=1342177;f("ff")?a=17895697:f("webkit")&&(a=134217726);if(d>a)this._ratio=d/a,d=a;this.stubNode.style.height=d+"px"},_doVirtual:function(){var d=this;clearTimeout(d._pVirtual);d._pVirtual=setTimeout(function(){d._update()},
100)},_update:function(){var d=0,a=0,c=this.grid,b=c.body,c=c.bodyNode,i=this.buffSize*this._avgRowHeight,n=c.scrollTop,o=n-i,h=n+c.clientHeight+i,e=this._rowHeight;k.forEach(c.childNodes,function(b){e[b.getAttribute("rowid")]=b.offsetHeight;b.offsetTop>h?++a:b.offsetTop+b.offsetHeight<o&&++d});b.unrenderRows(d);b.unrenderRows(a,"post");var g,c=b=0;for(g in e)b+=e[g],++c;if(c)this._avgRowHeight=b/c,this._syncHeight()}})})},"gridx/core/model/extensions/Sort":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/_base/json","../_Extension"],function(l,j,k,f){return l(f,{name:"sort",priority:30,constructor:function(g,e){var f=e.baseSort;this.clear();this._mixinAPI("sort");if(f&&f.length)this._baseSort=f,this._sort()},clear:function(){},sort:function(){this.model._addCmd({name:"_cmdSort",scope:this,args:arguments})},_cmdSort:function(){var g=arguments;this._sort.apply(this,g[g.length-1])},_sort:function(g){var e=this.model,f=this._baseSort,h=e._cache,d=h.options=h.options||{},a,c,b;
if(j.isArrayLike(g)){for(a=0;a<g.length;++a)c=g[a],c.colId?c.attribute=h.columns?h.columns[c.colId].field||c.colId:c.colId:c.colId=c.attribute;f&&(g=g.concat(f))}else g=f;d.sort&&d.sort.length?k.toJson(d.sort)!==k.toJson(g)&&(b=1):g&&g.length&&(b=1);d.sort=j.clone(g);b&&h.clear();e._msg("storeChange")}})})},"gridx/modules/VScroller":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/event","dojo/_base/sniff","dojo/_base/query","dojo/keys","dojox/html/metrics","../core/_Module"],
function(l,j,k,f,g,e,m,h){return l(h,{name:"vScroller",forced:["body","vLayout","columnWidth"],optional:["pagination"],getAPIPath:function(){return{vScroller:this}},preload:function(){var d=this.grid,a=this.domNode=d.vScrollerNode;this.stubNode=a.firstChild;if(f("ie")<8)this.stubNode.style.width=m.getScrollbar().w+"px";d.autoHeight?a.style.display="none":this.domNode.style.width=m.getScrollbar().w+"px";d.hLayout.register(null,a,1)},load:function(d,a){var c=this,b=c.grid,i=b.bodyNode;c.batchConnect([c.domNode,
"onscroll","_doScroll"],[i,"onmousewheel","_onMouseWheel"],[b.mainNode,"onkeypress","_onKeyScroll"],[b.body,"onRender","_onBodyChange"],[b.body,"onForcedScroll","_onForcedScroll"],[b,"_onResizeEnd","_onBodyChange"],f("ff")&&[i,"DOMMouseScroll","_onMouseWheel"]);a.then(function(){j.when(c._init(d),function(){c.domNode.style.width="";c.loaded.callback()})})},scrollToRow:function(d,a){var c=new j,b=this.grid.bodyNode,i=this.domNode,n=0,o=g('[visualindex="'+d+'"]',b)[0];if(o){var n=o.offsetTop,h=b.scrollTop;
if(a)return i.scrollTop=n,c.callback(!0),c;else if(n<h)n-=h;else if(n+o.offsetHeight>h+b.clientHeight)n=n+o.offsetHeight-h-b.clientHeight;else return c.callback(!0),c;i.scrollTop+=n}c.callback(!!o);return c},_init:function(){this._onForcedScroll()},_doScroll:function(){this.grid.bodyNode.scrollTop=this.domNode.scrollTop},_onMouseWheel:function(d){this.grid.autoHeight||(this.domNode.scrollTop-=typeof d.wheelDelta==="number"?d.wheelDelta/3:-40*d.detail,k.stop(d))},_onBodyChange:function(){var d=this,
a=d.grid;window.setTimeout(function(){d.stubNode.style.height=a.bodyNode.scrollHeight+"px";d._doScroll();a.vScrollerNode.scrollTop=a.vScrollerNode.scrollTop||0},0)},_onForcedScroll:function(){var d=this,a=d.grid.body;return d.model.when({start:a.rootStart,count:a.rootCount},function(){a.renderRows(0,a.rootCount||d.model.size()-a.rootStart)})},_onKeyScroll:function(d){var n;var i;var a=this.grid.body,c=this.grid.focus,b=this.domNode;if(!c||c.currentArea()=="body"){if(d.keyCode==e.HOME)a._focusCellRow=
0,b.scrollTop=0;else if(d.keyCode==e.END)a._focusCellRow=a.visualCount-1,b.scrollTop=this.stubNode.clientHeight-a.domNode.offsetHeight;else if(d.keyCode==e.PAGE_UP)i=a._focusCellRow=Math.max(a.renderStart-a.renderCount,0),a=i,this.scrollToRow(a,1);else if(d.keyCode==e.PAGE_DOWN)n=a._focusCellRow=Math.min(a.visualCount-1,a.renderStart+a.renderCount),a=n,this.scrollToRow(a,1);else return;k.stop(d)}}})})},"gridx/core/model/Model":function(){define(["require","dojo/_base/declare","dojo/_base/array","dojo/_base/lang",
"dojo/_base/Deferred","dojo/DeferredList","dojo/_base/connect"],function(l,j,k,f,g,e,m){var h=f.isArrayLike,d=f.isString;return j([],{constructor:function(a){var c=a.cacheClass,c=typeof c=="string"?l(c):c;this.store=a.store;this._exts={};this._cmdQueue=[];this._model=this._cache=new c(this,a);this._createExts(a.modelExtensions||[],a);a=this._model;this._connects=[m.connect(a,"onDelete",this,"onDelete"),m.connect(a,"onNew",this,"onNew"),m.connect(a,"onSet",this,"onSet")]},destroy:function(){k.forEach(this._connects,
m.disconnect);for(var a in this._exts)this._exts[a].destroy()},when:function(){this._oldSize=this.size();this._addCmd({name:"_cmdRequest",scope:this,args:arguments,async:1});return this._exec()},scan:function(a,c){var b=new g,i=a.start||0,n=a.pageSize||this._cache.pageSize||1,d=a.count,h=d>0?i+d:Infinity,e=a.whenScope||this,f=a.whenFunc||e.when,m=function(i){b.progress(i/(d>0?i+d:e.size()));f.call(e,{id:[],range:[{start:i,count:n}]},function(){var b,a,d=[];for(b=i;b<i+n&&b<h;++b)if(a=e.byIndex(b))d.push(a);
else{h=-1;break}if(c(d,i)||b==h)h=-1}).then(function(){h==-1?b.callback():m(i+n)})};m(i);return b},onDelete:function(){},onNew:function(){},onSet:function(){},onSizeChange:function(){},_msg:function(){},_addCmd:function(a){var c=this._cmdQueue,b=c[c.length-1];b&&b.name==a.name&&b.scope==a.scope?b.args.push(a.args||[]):(a.args=[a.args||[]],c.push(a))},_onSizeChange:function(){var a=this._oldSize,c=this._oldSize=this.size();if(a!=c)this.onSizeChange(c,a)},_execEvents:function(a,c){this._onSizeChange();
c&&c.call(a)},_cmdRequest:function(){var a=this;return new e(k.map(arguments,function(c){var b=c[0],i=f.hitch(a,a._execEvents,c[2],c[1]);if(b===null||!c.length)return c=new g,i(),c.callback(),c;return a._model._call("when",[a._normArgs(b),i])}),0,1)},_exec:function(){var a=this,c=a._cache,b=new g,i=a._cmdQueue,n=function(b,i){a._busy=0;c.skipCacheSizeCheck=0;c._checkSize&&c._checkSize();i?b.errback(i):b.callback()},d=function(){if(k.some(i,function(b){return b.name=="_cmdRequest"}))try{for(;i.length;){var a=
i.shift(),c=a.scope[a.name].apply(a.scope,a.args);if(a.async){g.when(c,d,f.partial(n,b));return}}}catch(h){n(b,h);return}n(b)};if(a._busy)return a._busy;a._busy=b;c.skipCacheSizeCheck=1;d();return b},_createExts:function(a,c){a=k.filter(a,function(b){return(b=typeof b=="string"?l(b):b)&&b.prototype});a.sort(function(b,i){return b.prototype.priority-i.prototype.priority});for(var b=0,i=a.length;b<i;++b)if(b==a.length-1||a[b]!=a[b+1]){var n=new a[b](this,c);this._exts[n.name]=n}},_normArgs:function(a){var c,
b=[],i=[],n={range:b,id:i},e=function(b){return typeof b=="number"&&b>=0},g=function(a){if(a&&e(a.start))b.push(a);else if(e(a))b.push({start:a,count:1});else if(h(a))for(c=a.length-1;c>=0;--c)e(a[c])?b.push({start:a[c],count:1}):a[c]&&e(a[c].start)?b.push(a[c]):d(a)&&i.push(a[c]);else d(a)&&i.push(a)};if(a&&(a.index||a.range||a.id))if(g(a.index),g(a.range),h(a.id))for(c=a.id.length-1;c>=0;--c)i.push(a.id[c]);else a.id&&i.push(a.id);else g(a);!b.length&&!i.length&&this.size()<0&&b.push({start:0,count:this._cache.pageSize||
1});return n}})})},"gridx/core/_Module":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/Deferred","dojo/_base/connect"],function(l,j,k,f,g){var e=j.isFunction,l=l([],{constructor:function(h,d){this.grid=h;this.model=h.model;this.loaded=new f;this._cnnts=[];this._sbscs=[];j.mixin(this,d)},destroy:function(){var h=k.forEach;h(this._cnnts,g.disconnect);h(this._sbscs,g.unsubscribe)},arg:function(h,d,a){arguments.length==2&&e(d)&&(a=d,d=void 0);var c=this.grid,
b=this[h];if(!this.hasOwnProperty(h)){var i=this.name+h.substring(0,1).toUpperCase()+h.substring(1);c[i]===void 0?d!==void 0&&(b=d):b=c[i]}this[h]=a&&!a(b)?d:b;return b},connect:function(h,d,a,c,b){var i=this.grid,n=c||this,h=h===i&&typeof d=="string"?g.connect(h,d,function(){var c=arguments;i._eventFlags[d]===b&&(e(a)?a.apply(n,c):e(n[a])&&n[a].apply(n,c))}):g.connect(h,d,n,a);this._cnnts.push(h);return h},batchConnect:function(){for(var h=0,d=arguments,a=d.length;h<a;++h)j.isArrayLike(d[h])&&this.connect.apply(this,
d[h])},subscribe:function(h,d,a){h=g.subscribe(h,a||this,d);this._sbscs.push(h);return h}}),m=l._modules={};l.register=function(h){var d=h.prototype;return m[d.name||d.declaredClass]=h};l._markupAttrs=["id","name","field","width","dataType","!formatter","!decorator","!sortable"];return l})},"gridx/modules/ColumnResizer":function(){define(["dojo/_base/declare","dojo/_base/sniff","dojo/_base/window","dojo/dom","dojo/dom-style","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/query","../core/_Module"],
function(l,j,k,f,g,e,m,h,d,a){function c(b){var a=b.target;if(a){if(/table/i.test(a.tagName)){for(var b=b.offsetX||b.layerX||0,c=0,a=a.rows[0].cells;b>0;)b-=a[c].offsetWidth,c++;return a[c]||null}for(;a&&a.tagName;){if(a.tagName.toLowerCase()=="th")return a;a=a.parentNode}}return null}var b=e.remove;return l(a,{name:"columnResizer",minWidth:20,detectWidth:5,load:function(){var b=this.grid;this.batchConnect([b.header.innerNode,"mousemove","_mousemove"],[b,"onHeaderMouseOut","_mouseout"],[b,"onHeaderMouseDown",
"_mousedown",this,this.name],[k.doc,"mousemove","_docMousemove"],[k.doc,"onmouseup","_mouseup"]);this.loaded.callback()},getAPIPath:function(){return{columnResizer:this}},columnMixin:{setWidth:function(b){this.grid.columnResizer.setWidth(this.id,b)}},setWidth:function(b,a){var c=this.grid,h=this.arg("minWidth"),e,a=parseInt(a,10);a<h&&(a=h);c._columnsById[b].width=a+"px";d('[colid="'+b+'"]',c.domNode).forEach(function(b){e||(e=j("webkit")?b.offsetWidth:g.get(b,"width"));b.style.width=a+"px"});c.header.onRender();
c.body.onRender();c.vLayout.reLayout();this.onResize(b,a,e)},onResize:function(){},_mousemove:function(a){var d=c(a),h=this.grid._eventFlags;if(d&&(this._resizing&&b(d,"gridxHeaderCellOver"),!this._resizing&&d&&!this._ismousedown))a=this._readyToResize=this._isInResizeRange(a),h.onHeaderMouseDown=h.onHeaderCellMouseDown=a?this.name:void 0,e.toggle(k.body(),"gridxColumnResizing",a),a&&b(d,"gridxHeaderCellOver")},_docMousemove:function(b){this._resizing&&this._updateResizerPosition(b)},_mouseout:function(){if(!this._resizing)this._readyToResize=
0,b(k.body(),"gridxColumnResizing")},_updateResizerPosition:function(b){var a=b.pageX-this._startX,c=this._targetCell,d=this.grid,h=d.hScroller,e=0,b=b.pageX-this._gridX,e=this.arg("minWidth");c.offsetWidth+a<e&&(b=this._startX-this._gridX-c.offsetWidth+e);a=h&&h.container.offsetHeight?h.container:d.bodyNode;e=a.parentNode.offsetTop+a.offsetHeight-d.header.domNode.offsetTop;g.set(this._resizer,{top:d.header.domNode.offsetTop+"px",left:b+"px",height:e+"px"})},_showResizer:function(b){if(!this._resizer)this._resizer=
m.create("div",{className:"gridxColumnResizer"},this.grid.domNode,"last"),this.connect(this._resizer,"mouseup","_mouseup");this._resizer.style.display="block";this._updateResizerPosition(b)},_hideResizer:function(){this._resizer.style.display="none"},_mousedown:function(b){var a=this.grid.bodyNode;this._readyToResize?(f.setSelectable(this.grid.domNode,!1),k.doc.onselectstart=function(){return!1},this._resizing=1,this._startX=b.pageX,this._gridX=h.position(a).x-a.offsetLeft,this._showResizer(b)):this._ismousedown=
1},_mouseup:function(a){this._ismousedown=0;if(this._resizing){this._readyToResize=this._resizing=0;b(k.body(),"gridxColumnResizing");f.setSelectable(this.grid.domNode,!0);k.doc.onselectstart=null;var c=this._targetCell,a=a.pageX-this._startX;this.grid.isLeftToRight()||(a=-a);var a=(j("webkit")?c.offsetWidth:g.get(c,"width"))+a,d=this.arg("minWidth");a<d&&(a=d);this.setWidth(c.getAttribute("colid"),a);this._hideResizer()}},_isInResizeRange:function(b){var a=c(b),d;var h=b.target,e=c(b);if(e)if(/table/i.test(h.tagName))d=
0;else{d=b.offsetX;if(d==void 0)d=b.layerX;/th/i.test(h.tagName)||(d+=h.offsetLeft);j("ff")&&/th/i.test(h.tagName)&&(b=d-parseInt(g.get(e.parentNode.parentNode.parentNode,"marginLeft"),10)-e.offsetLeft-e.offsetParent.offsetLeft,b>=0&&(d=b))}else d=1E5;b=this.arg("detectWidth");h=this.grid.isLeftToRight();if(d<b)return h?!!(this._targetCell=a.previousSibling):(this._targetCell=a,1);else if(d>a.offsetWidth-b&&d<=a.offsetWidth)return h?(this._targetCell=a,1):!!(this._targetCell=a.previousSibling);return 0}})})},
"gridx/modules/VLayout":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/DeferredList","../core/_Module"],function(l,j,k,f){return l(f,{name:"vLayout",getAPIPath:function(){return{vLayout:this}},preload:function(){var g=this,e=g.grid;g.connect(e,"_onResizeEnd",function(e,h){var d,a=[];for(d in h)a.push(h[d]);(new k(a)).then(function(){g.reLayout()})});e.autoHeight?g.connect(e.body,"onRender","reLayout"):g.connect(e,"setColumns",function(){setTimeout(function(){g.reLayout()},0)})},
load:function(g,e){var f=this;e.then(function(){f._defs&&f._mods?(new k(f._defs)).then(function(){f._layout();f.loaded.callback()}):f.loaded.callback()})},register:function(g,e,f,h,d){this._defs=this._defs||[];this._mods=this._mods||{};this._mods[f]=this._mods[f]||[];this._defs.push(d||g.loaded);this._mods[f].push({p:h||0,mod:g,nodeName:e})},reLayout:function(){var g,e=0,f;for(g in this._mods)(f=this.grid[g])&&(e+=j.getMarginBox(f).h);this._updateHeight(e)},_layout:function(){var f,e=0,m=this._mods,
h,d,a,c,b;for(f in m)if(h=this.grid[f]){a=m[f];a.sort(function(b,a){return b.p-a.p});for(d=0;d<a.length;++d)c=a[d].mod,b=a[d].nodeName,c&&c[b]&&h.appendChild(c[b]);e+=j.getMarginBox(h).h}this._updateHeight(e)},_updateHeight:function(f){var e=this.grid,m=e.domNode,h=e.mainNode.style;e.autoHeight?e.vScroller.loaded.then(function(){var d=e.bodyNode.lastChild,d=d?d.offsetTop+d.offsetHeight:0;m.style.height=d+f+"px";h.height=d+"px"}):h.height=m.clientHeight-f+"px"}})})},"gridx/util":function(){define({stopEvent:function(l){l&&
l.stopPropagation&&l.preventDefault&&(l.stopPropagation(),l.preventDefault())},biSearch:function(l,j){var k=0,f=l.length,g;for(g=Math.floor((k+f)/2);k+1<f;g=Math.floor((k+f)/2))j(l[g])>0?f=g:k=g;return l.length&&j(l[k])>=0?k:f}})},"gridx/core/model/cache/_Cache":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/Deferred","../_Extension"],function(l,j,k,f,g){var e=k.hitch,m=k.mixin,h=j.indexOf;return l(g,{constructor:function(d,a){var c=this,b=c.store=a.store,
i=b.fetch;c.columns=a.columns;!i&&b.notify?c.connect(b,"notify",function(b,a){b===void 0?c._onDelete(a):a===void 0?c._onNew(b):c._onSet(b)}):(c.connect(b,i?"onSet":"put","_onSet"),c.connect(b,i?"onNew":"add","_onNew"),c.connect(b,i?"onDelete":"remove","_onDelete"));c.clear();c._mixinAPI("byIndex","byId","indexToId","idToIndex","size","treePath","hasChildren","keep","free")},destroy:function(){this.inherited(arguments);this.clear()},clear:function(){this._filled=0;this._priority=[];this._struct={};
this._cache={};this._size={};this._struct[""]=[];this._size[""]=-1},byIndex:function(d,a){this._init("byIndex",arguments);return this._cache[this.indexToId(d,a)]},byId:function(d){this._init("byId",arguments);return this._cache[d]},indexToId:function(d,a){this._init("indexToId",arguments);var c=this._struct[a||""];return typeof d=="number"&&d>=0?c&&c[d+1]:void 0},idToIndex:function(d){this._init("idToIndex",arguments);var a=this._struct,a=h(a[a[d]&&a[d][0]]||[],d);return a>0?a-1:-1},treePath:function(d){for(var a=
this._struct,c=[];d!==void 0;)c.unshift(d),d=a[d]&&a[d][0];return c[0]!==""?[]:(c.pop(),c)},hasChildren:function(d){var a=this.store,c;this._init("hasChildren",arguments);c=this.byId(d);return a.hasChildren&&a.hasChildren(d,c&&c.item)},size:function(d){this._init("size",arguments);var a=this._size[d||""];return a>=0?a:-1},onBeforeFetch:function(){},onAfterFetch:function(){},onSetColumns:function(d){var a,c,b,i;this.columns=d;for(a in this._cache)for(b in c=this._cache[a],d)i=d[b],c.data[b]=this._formatCell(i.id,
c.rawData)},_itemToObject:function(d){var a=this.store;if(a.fetch){var c={};j.forEach(a.getAttributes(d),function(b){c[b]=a.getValue(d,b)});return c}return d},_formatCell:function(d,a){var c=this.columns[d];return c.formatter?c.formatter(a):a[c.field||d]},_formatRow:function(d){var a=this.columns,c={},b;for(b in a)c[b]=this._formatCell(b,d);return c},_addRow:function(d,a,c,b,i){var i=i||"",n=this._struct,e=this._priority,f=n[i];if(!f)throw Error("Fatal error of cache._addRow: parent item "+i+" of "+
d+" is not loaded");if(f[a+1]){if(f[a+1]!==d)throw Error("Fatal error of cache._addRow: different row id "+d+" and "+f[a+1]+" for same row index "+a);}else f[a+1]=d;n[d]=n[d]||[i];i||(a=h(e,d),a>=0&&e.splice(a,1),e.push(d));this._cache[d]={data:this._formatRow(c),rawData:c,item:b};this._filled=1},_loadChildren:function(d){var a=this,c=new f,b=a.store,i=a.byId(d),i=i&&b.getChildren&&b.getChildren(i.item)||[];f.when(i,function(i){for(var h=0,e,f=a._size[d]=i.length;h<f;++h)e=i[h],a._addRow(b.getIdentity(e),
h,a._itemToObject(e),e,d);c.callback()},e(c,c.errback));return c},_onBegin:function(d){this._size[""]=parseInt(d,10)},_onComplete:function(d,a,c){try{for(var b=0,i;i=c[b];++b)this._addRow(this.store.getIdentity(i),a+b,this._itemToObject(i),i);d.callback()}catch(h){d.errback(h)}},_storeFetch:function(d){var a=this.store,c=new f,b=m({},this.options||{},d),i=e(this,this._onBegin),d=e(this,this._onComplete,c,d.start),h=e(c,c.errback);this.onBeforeFetch();a.fetch?a.fetch(m(b,{onBegin:i,onComplete:d,onError:h})):
(a=a.query(b.query,b),f.when(a.total,i),f.when(a,d,h));c.then(e(this,this.onAfterFetch));return c},_onSet:function(d){var a=this.store.getIdentity(d),c=this.idToIndex(a),b=this.treePath(a);b.length&&this._addRow(a,c,this._itemToObject(d),d,b.pop());this.onSet(a,c,this._cache[a])},_onNew:function(d,a){var c=this.store,b=this._itemToObject(d),i=a&&a[c.fetch?"item":"parent"];i&&c.getIdentity(i);var h=this._size[""];this.clear();this.onNew(c.getIdentity(d),0,{data:this._formatRow(b),rawData:b,item:d});
!i&&h>=0&&(this._size[""]=h+1,this.model._onSizeChange())},_onDelete:function(d){var a=this.store,c=this._struct,d=a.fetch?a.getIdentity(d):d,b=this.treePath(d);if(b.length){var i,e,a=[d],f=b.pop(),g=this._size,m=g[""],j=h(c[f],d);c[f].splice(j,1);--g[f];for(i=0;i<a.length;++i)if(b=c[a[i]])for(e=b.length-1;e>0;--e)a.push(b[e]);for(i=a.length-1;i>=0;--i)e=a[i],delete this._cache[e],delete c[e],delete g[e];i=h(this._priority,d);i>=0&&this._priority.splice(i,1);this.onDelete(d,j-1);!f&&m>=0&&(g[""]=
m-1,this.model._onSizeChange())}else this.onDelete(d)}})})},"gridx/Grid":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-class","dojo/dom-geometry","dojo/_base/query","dijit/_WidgetBase","dijit/_FocusMixin","dijit/_TemplatedMixin","dojo/text!./templates/Grid.html","./core/Core","./core/_Module","./modules/Header","./modules/Body","./modules/VLayout","./modules/HLayout","./modules/VScroller","./modules/HScroller","./modules/ColumnWidth"],function(l,j,k,f,g,e,
m,h,d,a,c,b,i,n,o,w,z,v,x){var t=j.forEach,q=function(){},l=l("gridx.Grid",[m,d,h,c],{templateString:a,coreModules:[i,n,o,w,z,v,x],coreExtensions:[],postCreate:function(){this.inherited(arguments);this._eventFlags={};this.modules=this.coreModules.concat(this.modules||[]);this.modelExtensions=this.coreExtensions.concat(this.modelExtensions||[]);f.toggle(this.domNode,"gridxRtl",!this.isLeftToRight());this.lastFocusNode.setAttribute("tabIndex",this.domNode.getAttribute("tabIndex"));this._initEvents(this._compNames,
this._eventNames);this._reset(this);this._postCreate()},startup:function(){this._started||(this.inherited(arguments),this._deferStartup.callback())},destroy:function(){this._uninit();this.inherited(arguments)},resize:function(b){var a={};b&&(this.autoWidth&&delete b.w,this.autoHeight&&delete b.h,g.setMarginBox(this.domNode,b));this._onResizeBegin(b,a);this._onResizeEnd(b,a)},_onResizeBegin:function(){},_onResizeEnd:function(){},_compNames:["Cell","HeaderCell","Row","Header"],_eventNames:["Click",
"DblClick","MouseDown","MouseUp","MouseOver","MouseOut","MouseMove","ContextMenu","KeyDown","KeyPress","KeyUp"],_initEvents:function(b,a){var i=this;t(b,function(b){t(a,function(a){a="on"+b+a;i[a]=i[a]||q})})},_connectEvents:function(b,a,i){t(this._eventNames,function(c){this.connect(b,"on"+c.toLowerCase(),k.hitch(i,a,c))},this)},_isConnected:function(b){return this[b]!==q}});l.markupFactory=function(a,i,c){if(!a.structure&&i.nodeName.toLowerCase()=="table"){var d=a.structure=[];e("thead > tr > th",
i).forEach(function(a){var i={};t(b._markupAttrs,function(b){b[0]=="!"?(b=b.slice(1),i[b]=eval(a.getAttribute(b))):i[b]=a.getAttribute(b)});i.name=i.name||a.innerHTML;d.push(i)})}return new c(a,i)};return l})},"gridx/modules/select/_Base":function(){define(["dojo/_base/declare","dojo/_base/connect","../../core/_Module"],function(l,j,k){return l(k,{getAPIPath:function(){var f={select:{}};f.select[this._type]=this;return f},preload:function(){var f=this,g=f.grid;f.subscribe("gridClearSelection_"+g.id,
function(e){e!=f._type&&f.clear()});f.connect(g.body,"onRender","_onRender");f.arg("multiple")&&g.domNode.setAttribute("aria-multiselectable",!0);f._init()},enabled:!0,multiple:!0,holdingCtrl:!1,onSelected:function(){},onDeselected:function(){},onHighlightChange:function(){},_getMarkType:function(){},_select:function(f,g){var e=1;this.arg("enabled")&&(this.arg("multiple")&&(g||this.arg("holdingCtrl"))?e=!this.isSelected(f):this.clear(),j.publish("gridClearSelection_"+this.grid.id,[this._type]),this._markById(f,
e))}})})},"gridx/nls/Body":function(){define({root:{loadingInfo:"Loading...",emptyInfo:"No items to display"}})},"gridx/modules/SingleSort":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/keys","../core/model/extensions/Sort","../core/_Module"],function(l,j,k,f,g){return l(g,{name:"sort",forced:["header"],modelExtensions:[f],getAPIPath:function(){return{sort:this}},preload:function(){var e=this,f=e.grid,h;e.connect(f,"onHeaderCellClick","_onClick");e.connect(f,"onHeaderCellKeyDown",
"_onKeyDown");f.persist&&(h=f.persist.registerAndLoad("sort",function(){return[{colId:e._sortId,descending:e._sortDescend}]}));h=h||e.arg("preSort");j.isArrayLike(h)&&(h=h[0]);if(h&&h.colId)e._sortId=h.colId,e._sortDescend=h.descending,e.model.sort([h])},load:function(){var e=this,f,h=function(){e._sortId&&e._updateHeader(e._sortId,e._sortDescend)};e.connect(e.grid.header,"onRender",h);for(f in e.grid._columnsById)e._initHeader(f);h();e.loaded.callback()},columnMixin:{sort:function(e,f){this.grid.sort.sort(this.id,
e,f);return this},isSorted:function(){return this.grid.sort.isSorted(this.id)},clearSort:function(e){this.isSorted()&&this.grid.sort.clear(e);return this},isSortable:function(){var e=this.grid._columnsById[this.id];return e.sortable||e.sortable===void 0},setSortable:function(e){this.grid._columnsById[this.id].sortable=!!e;return this}},sort:function(e,f,h){var d=this.grid,a=d._columnsById[e];if(a&&(a.sortable||a.sortable===void 0))(this._sortId!=e||this._sortDescend==!f)&&this._updateHeader(e,f),
this.model.sort([{colId:e,descending:f}]),h||d.body.refresh()},isSorted:function(e){if(e==this._sortId)return this._sortDescend?-1:1;return 0},clear:function(e){if(this._sortId!==null)this._initHeader(this._sortId),this._sortId=this._sortDescend=null,this.model.sort(),e||this.grid.body.refresh()},getSortData:function(){return this._sortId?[{colId:this._sortId,descending:this._sortDescend}]:null},_sortId:null,_sortDescend:null,_initHeader:function(e){var f=this.grid.header.getHeaderNode(e);f.innerHTML=
["<div class='gridxSortNode'>",this.grid.column(e,1).name(),"</div>"].join("");f.removeAttribute("aria-sort")},_updateHeader:function(e,f){this._sortId&&this._sortId!=e&&this._initHeader(this._sortId);this._sortId=e;this._sortDescend=!!f;var h=this.grid,d=h.header.getHeaderNode(e);d.innerHTML=["<div class='gridxSortNode ",f?"gridxSortDown":"gridxSortUp","'><div class='gridxArrowButtonChar'>",f?"&#9662;":"&#9652;","</div><div role='presentation' class='gridxArrowButtonNode'></div><div class='gridxColCaption'>",
h.column(e,1).name(),"</div></div>"].join("");d.setAttribute("aria-sort",f?"descending":"ascending");h.vLayout.reLayout()},_onClick:function(e){this.sort(e.columnId,this._sortId!=e.columnId?0:!this._sortDescend)},_onKeyDown:function(e){e.keyCode==k.ENTER&&this._onClick(e)}})})},"gridx/modules/select/_RowCellBase":function(){define(["dojo/_base/declare","dojo/_base/lang","./_Base","../../core/model/extensions/Mark"],function(l,j,k,f){return l(k,{modelExtensions:[f],selectById:function(f,e){var m=this.model;
this.arg("enabled")&&(m.markById(f,1,this._getMarkType(e)),m.when())},deselectById:function(f,e){var m=this.model;this.arg("enabled")&&(m.markById(f,0,this._getMarkType(e)),m.when())},isSelected:function(f,e){return this.model.isMarked(f,this._getMarkType(e))},_init:function(){var f=this.model;this.batchConnect([f,"onMarked",j.hitch(this,"_onMark",1)],[f,"onMarkRemoved",j.hitch(this,"_onMark",0)])}})})},"gridx/modules/HScroller":function(){define(["dojo/_base/declare","dojo/dom-style","dojo/_base/sniff",
"dojo/_base/Deferred","dojox/html/metrics","../core/_Module"],function(l,j,k,f,g,e){return l(e,{name:"hScroller",forced:["header"],getAPIPath:function(){return this.grid.autoWidth?{}:{hScroller:this}},constructor:function(){this.grid._initEvents(["H"],["Scroll"])},preload:function(){var e=this,h=e.grid,d=h.hScrollerNode;if(!h.autoWidth&&(e.domNode=d,e.container=d.parentNode,e.stubNode=d.firstChild,h.vLayout.register(e,"container","footerNode",0),d.style.display="block",e.batchConnect([h.header,"onRender",
"refresh"],[d,"onscroll","_onScroll"],[h,"_onResizeBegin",function(a,c){c.hScroller=new f}],[h,"_onResizeEnd",function(a,c){f.when(c.header,function(){e.refresh();c.hScroller.callback()})}]),k("ie")))d.style.height=g.getScrollbar().h+"px"},scroll:function(e){var h=this.domNode;if((k("webkit")||k("ie")<8)&&!this.grid.isLeftToRight())e=h.scrollWidth-h.offsetWidth-e;h.scrollLeft=e},refresh:function(){var e=this.grid,h=e.isLeftToRight(),d=h?"marginLeft":"marginRight",h=h?"marginRight":"marginLeft",a=
e.hLayout.lead,c=e.hLayout.tail,b=(e.domNode.clientWidth||j.get(e.domNode,"width"))-a-c,i=e.header.innerNode,f=j.get(i,"paddingLeft")||0,g=this.domNode.style,i=i.firstChild.offsetWidth+f,w=g.display,k=i<=b?"none":"block";g[d]=a+f+"px";g[h]=c+"px";g.width=(b-f<0?0:b-f)+"px";this.stubNode.style.width=(i-f<0?0:i-f)+"px";g.display=k;w=="block"&&k=="none"&&e.vLayout.reLayout()},_lastLeft:0,_onScroll:function(){var e=this.domNode.scrollLeft;if((k("webkit")||k("ie")<8)&&!this.grid.isLeftToRight())e=this.domNode.scrollWidth-
this.domNode.offsetWidth-e;if(this._lastLeft!=e)this._lastLeft=e,this._doScroll()},_doScroll:function(){var e=this.grid;e.bodyNode.scrollLeft=this.domNode.scrollLeft;e.onHScroll(this._lastLeft)}})})},"gridx/core/model/cache/Sync":function(){define(["dojo/_base/declare","dojo/_base/Deferred","./_Cache"],function(l,j,k){return l(k,{keep:function(){},free:function(){},when:function(f,g){var e=new j;try{g&&g(),e.callback()}catch(k){e.errback(k)}return e},_init:function(){this._filled||(this._storeFetch({start:0}),
this.store.getChildren&&this._fetchChildren())},_fetchChildren:function(){for(var f=this._struct,g=f[""].slice(1),e;g.length;)e=g.shift(),j.when(this._loadChildren(e),function(){[].push.apply(g,f[e].slice(1))})}})})},"gridx/modules/HLayout":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/DeferredList","../core/_Module"],function(l,j,k,f,g,e,m){return l(m,{name:"hLayout",getAPIPath:function(){return{hLayout:this}},load:function(e,
d){var a=this;d.then(function(){a._layout();a.loaded.callback()})},lead:0,tail:0,register:function(e,d,a){var c=this._regs=this._regs||[];e||(e=new j,e.callback());c.push([e,d,a])},onUpdateWidth:function(){},_layout:function(){var h=this,d=h._regs;if(d){var a=0,c=0,b=k.map(d,function(b){return b[0]});(new e(b)).then(function(){k.forEach(d,function(b){var d=f.getMarginBox(b[1]).w||g.get(b[1],"width");b[2]?c+=d:a+=d});h.lead=a;h.tail=c;h.onUpdateWidth(a,c)})}else h.onUpdateWidth(0,0)}})})},"gridx/core/Cell":function(){define(["dojo/_base/declare"],
function(l){return l([],{constructor:function(j,k,f){this.grid=j;this.model=j.model;this.row=k;this.column=f},data:function(){return this.model.byId(this.row.id).data[this.column.id]},rawData:function(){var j=this.column.field();return j&&this.model.byId(this.row.id).rawData[j]},setRawData:function(j){var k={};k[this.column.field()]=j;return this.row.setRawData(k)}})})},"gridx/core/model/extensions/Mark":function(){define(["dojo/_base/declare","dojo/_base/array","../_Extension"],function(l,j,k){return l(k,
{name:"move",priority:5,constructor:function(f){this.clear();this._mixinAPI("isMarked","getMarkedIds","markById","markByIndex","clearMark");f.onMarked=function(){};f.onMarkRemoved=function(){};this.connect(f,"_msg","_receiveMsg");f._spTypes={}},clear:function(){this._byId={}},clearMark:function(f){this._byId[this._initMark(f)]={}},getMarkedIds:function(f){var g=[],e;if(f=this._byId[this._initMark(f)])for(e in f)g.push(e);return g},isMarked:function(f,g){return!!this._byId[this._initMark(g)][f]},markById:function(f,
g,e){this._cmd(f,g,e,1)},markByIndex:function(f,g,e){f>=0&&f<Infinity&&this._cmd(f,g,e)},_mark:function(f,g,e){var e=this._initMark(e),j=this.isMarked(f,e);g&&!j?this._addMark(f,e):!g&&j&&this._removeMark(f,e)},_cmdMark:function(){var f=this,g=arguments,e=[],k=f.model._model;j.forEach(g,function(f){f[3]||e.push({start:f[0],count:1})});return k._call("when",[{id:[],range:e},function(){j.forEach(g,function(e){e[3]||(e[0]=k._call("indexToId",[e[0]]));e[0]&&f._mark.apply(f,e)})}])},_onDelete:function(f){var g,
e=this._byId;for(g in e)delete e[this._initMark(g)][f];this.onDelete.apply(this,arguments)},_initMark:function(f){var g=this._byId,f=f||"select";g[f]=g[f]||{};return f},_addMark:function(f,g){var e=this._initMark(g);this._byId[e][f]=1;this.model.onMarked(f,e)},_removeMark:function(f,g){var e=this._initMark(g);delete this._byId[e][f];this.model.onMarkRemoved(f,e)},_cmd:function(){this.model._addCmd({name:"_cmdMark",scope:this,args:arguments,async:1})},_receiveMsg:function(f,g){if(f=="filter"){var e,
j=this.model._spTypes,h;for(e in j)if(j[e])for(h in this._byId[e])g[h]||this._removeMark(h,e)}}})})},"gridx/modules/Body":function(){define(["dojo/_base/declare","dojo/_base/query","dojo/_base/array","dojo/dom-construct","dojo/dom-class","dojo/_base/Deferred","dojo/_base/sniff","dojo/keys","../core/_Module","../util","dojo/i18n!../nls/Body"],function(l,j,k,f,g,e,m,h,d,a,c){return l(d,{name:"body",optional:["tree"],getAPIPath:function(){return{body:this}},preload:function(){var b=this.grid,a=this.domNode=
b.bodyNode;b.emptyNode.innerHTML=c.loadingInfo;b._connectEvents(a,"_onMouseEvent",this);this._initFocus()},load:function(){var b=this,a=b.model,c=b.grid;b.batchConnect([a,"onDelete","_onDelete"],[a,"onSet","_onSet"],[a,"onSizeChange","_onSizeChange"],[c,"onRowMouseOver","_onRowMouseOver"],[c,"onCellMouseOver","_onCellMouseOver"],[c,"onCellMouseOut","_onCellMouseOver"],[c.bodyNode,"onmouseleave",function(){var a=j(".gridxRowOver",b.domNode)[0];a&&g.remove(a,"gridxRowOver")}],[c,"setColumns",function(){b.refresh()}]);
a.when({},function(){var d=b.rootCount,d=b.rootCount=d?d:a.size();b.visualCount=c.tree?c.tree.getVisualSize(b.rootStart,d):d;b.loaded.callback()})},destroy:function(){this.inherited(arguments);this.domNode.innerHTML=""},rowMixin:{node:function(){return this.grid.body.getRowNode({rowId:this.id})},visualIndex:function(){var b=this.id;return this.grid.body.getRowInfo({rowId:b,rowIndex:this.index(),parentId:this.model.treePath(b).pop()}).visualIndex}},cellMixin:{node:function(){return this.grid.body.getCellNode({rowId:this.row.id,
cellId:this.column.id})}},getRowNode:function(b){return(b=this._getRowNodeQuery(b))?j(b,this.domNode)[0]||null:null},getCellNode:function(b){var a=b.colId,c=this._getRowNodeQuery(b);if(c){if(!a&&typeof b.colIndex=="number")a=this.grid._columns[b.colIndex].id;c+=" [colid='"+a+"'].gridxCell";return j(c,this.domNode)[0]||null}return null},getRowInfo:function(b){var a=this.model,c=this.grid,d=b.rowId;if(d)b.rowIndex=a.idToIndex(d),b.parentId=a.treePath(d).pop();if(typeof b.rowIndex=="number"&&b.rowIndex>=
0)b.visualIndex=c.tree?c.tree.getVisualIndexByRowInfo(parentId,rowIndex,this.rootStart):b.rowIndex-this.rootStart;else if(typeof b.visualIndex=="number"&&b.visualIndex>=0)c.tree?(c=c.tree.getRowInfoByVisualIndex(b.visualIndex,this.rootStart),b.rowIndex=c.start,b.parentId=c.parentId):b.rowIndex=this.rootStart+b.visualIndex;else return b;b.rowId=d||a.indexToId(b.rowIndex,b.parentId);return b},refresh:function(b){var a=this;return a.model.when({}).then(function(){var c=a.renderStart,d=a.renderCount;
if(typeof b=="number"&&b>=0){b=c>b?c:b;var h=c+d-b,c=j('[visualindex="'+b+'"]',a.domNode)[0],d=[],g=[];if(c){var k=a._buildRows(b,h,d,g);if(k){f.place(k,c,"before");for(var k=0,m=g.length;k<m;++k)a.onAfterRow.apply(a,g[k])}}for(;c;)g=c.nextSibling,f.destroy(c),c=g;e.when(a._buildUncachedRows(d),function(){a.onRender(b,h)})}else a.renderRows(c,d,0,1),a.onForcedScroll()})},refreshCell:function(b,a){var c=new e,d=this,f=d.model,h=d.grid,g=h._columns[a],j=g&&d.getCellNode({visualIndex:b,colId:g.id});
if(j){var k,m=d.getRowInfo({visualIndex:b}),p=m.rowIndex,l=m.parentId;f.when({start:p,count:1,parentId:l},function(){if(k=f.byIndex(p,l))m.rowId=f.indexToId(p,l),j.innerHTML=d._buildCellContent(g,m,k.data,h.tree&&k.data[g.id]===void 0),d.onAfterCell(j,m,g,k)}).then(function(){c.callback(!!k)});return c}c.callback(0);return c},rootStart:0,rootCount:0,renderStart:0,renderCount:0,visualStart:0,visualCount:0,autoUpdate:1,autoChangeSize:1,updateRootRange:function(b,a){var c=this.grid.tree,c=this.visualCount=
c?c.getVisualSize(b,a):a;this.rootStart=b;this.rootCount=a;if(this.renderStart+this.renderCount>c&&(this.renderStart=c-this.renderCount,this.renderStart<0))this.renderStart=0,this.renderCount=c;if(!this.renderCount&&c)this.onForcedScroll()},renderRows:function(b,a,d,h){var g=this,j=g.grid,k="",l=[],t=[],q=g.domNode,p=j.emptyNode;if(a>0){p.innerHTML=c.loadingInfo;d!="top"&&d!="bottom"&&g.model.free();k=g._buildRows(b,a,l,t);if(d=="top")g.renderCount+=g.renderStart-b,g.renderStart=b,f.place(k,q,"first");
else if(d=="bottom")g.renderCount=b+a-g.renderStart,f.place(k,q,"last");else{g.renderStart=b;g.renderCount=a;d=h?q.scrollTop:0;q.scrollTop=0;if(m("ie"))for(;q.childNodes.length;)q.removeChild(q.firstChild);q.innerHTML=k;q.scrollTop=d;q.scrollLeft=j.hScrollerNode.scrollLeft;p.innerHTML=k?"":c.emptyInfo;g.onUnrender()}j=0;for(k=t.length;j<k;++j)g.onAfterRow.apply(g,t[j]);e.when(g._buildUncachedRows(l),function(){g.onRender(b,a)})}else if(!{top:1,bottom:1}[d])q.scrollTop=0,q.innerHTML="",p.innerHTML=
c.emptyInfo,g.onUnrender(),g.model.free()},unrenderRows:function(b,a){if(b>0){var c=0,d,e=this.domNode;if(a=="post")for(;c<b&&e.lastChild;++c)d=e.lastChild.getAttribute("rowid"),this.model.free(d),e.removeChild(e.lastChild),this.onUnrender(d);else{for(var f=e.scrollTop;c<b&&e.firstChild;++c)d=e.firstChild.getAttribute("rowid"),this.model.free(d),f-=e.firstChild.offsetHeight,e.removeChild(e.firstChild),this.onUnrender(d);this.renderStart+=c;e.scrollTop=f>0?f:0}this.renderCount-=c;this.model.when()}},
onAfterRow:function(){},onAfterCell:function(){},onRender:function(){},onUnrender:function(){},onDelete:function(){},onSet:function(){},collectCellWrapper:function(){},onMoveToCell:function(){},onForcedScroll:function(){},_getRowNodeQuery:function(b){var a;b.rowId?a="[rowid='"+b.rowId+"']":typeof b.rowIndex=="number"&&b.rowIndex>=0?(a="[rowindex='"+b.rowIndex+"']",b.parentId&&(a+="[parentid='"+b.parentId+"']")):typeof b.visualIndex=="number"&&b.visualIndex>=0&&(a="[visualindex='"+b.visualIndex+"']");
return a&&a+".gridxRow"},_buildRows:function(b,a,c,d){for(var a=b+a,e=[],f=this.model,h=this.domNode.scrollWidth;b<a;++b){var g=this.getRowInfo({visualIndex:b}),j=f.byIndex(g.rowIndex,g.parentId);e.push('<div class="gridxRow ',b%2?"gridxRowOdd":"",'" role="row" visualindex="',b);j?(f.keep(g.rowId),e.push('" rowid="',g.rowId,'" rowindex="',g.rowIndex,'" parentid="',g.parentId,'">',this._buildCells(j.data,g),"</div>"),d.push([g,j])):(e.push('"><div class="gridxRowDummy" style="width:',h,'px;"></div></div>'),
g.start=g.rowIndex,g.count=1,c.push(g))}return e.join("")},_buildUncachedRows:function(b){return b.length&&this.model.when(b,function(){for(var a=0,c=b.length;a<c;++a)this._buildRowContent(b[a])},this)},_buildRowContent:function(b){var a=this.model,c=j('[visualindex="'+b.visualIndex+'"]',this.domNode)[0];if(c){var d=a.byIndex(b.rowIndex,b.parentId);d?(b.rowId=a.indexToId(b.rowIndex,b.parentId),a.keep(b.rowId),c.setAttribute("rowid",b.rowId),c.setAttribute("rowindex",b.rowIndex),c.setAttribute("parentid",
b.parentId||""),c.innerHTML=this._buildCells(d.data,b),this.onAfterRow(b,d)):console.error("Row is not in cache:",b.rowIndex)}},_buildCells:function(b,a){for(var c,d,e=this.grid,f=e._columns,h=e.focus&&e.focus.currentArea()=="body",g=['<table class="gridxRowTable" role="presentation" border="0" cellpadding="0" cellspacing="0"><tr>'],j=0,k=f.length;j<k;++j)c=f[j],d=e.tree&&b[c.id]===void 0,g.push('<td class="gridxCell '),d&&g.push("gridxPaddingCell"),h&&this._focusCellRow===a.visualIndex&&this._focusCellCol===
j&&g.push("gridxCellFocus"),g.push('" role="gridcell" tabindex="-1" colid="',c.id,'" style="width: ',c.width,'">',this._buildCellContent(c,a,b,d),"</td>");g.push("</tr></table>");return g.join("")},_buildCellContent:function(b,a,c,d){var e="";d||(e=this._wrapCellData(b.decorator?b.decorator(c[b.id],a.rowId,a.visualIndex):c[b.id],a.rowId,b.id));return!e&&m("ie")<8?"$nbsp;":e},_wrapCellData:function(b,a,c){var d=[];this.collectCellWrapper(d,a,c);var e=d.length-1;for(e>0&&d.sort(function(b,a){return b.priority-
a.priority});e>=0;--e)b=d[e].wrap(b,a,c);return b},_onMouseEvent:function(b,a){var c=this.grid,d="onCell"+b,e="onRow"+b;if(c._isConnected(d)||c._isConnected(e))if(this._decorateEvent(a),a.rowId){if(a.columnId)c[d](a);c[e](a)}},_decorateEvent:function(b){for(var a=b.target||b.originalTarget,c=this.grid,d;a&&a!=c.bodyNode;a=a.parentNode){d=a.tagName.toLowerCase();if(d=="td"&&g.contains(a,"gridxCell")){var e=c._columnsById[a.getAttribute("colid")];b.cellNode=a;b.columnId=e.id;b.columnIndex=e.index}if(d==
"div"&&g.contains(a,"gridxRow")){b.rowId=a.getAttribute("rowid");b.parentId=a.getAttribute("parentid");b.rowIndex=parseInt(a.getAttribute("rowindex"),10);b.visualIndex=parseInt(a.getAttribute("visualindex"),10);break}}},_onSet:function(a,c,d){if(this.autoUpdate){var e=this.getRowNode({rowId:a});if(e&&d){var f=this.getRowInfo({rowId:a,rowIndex:c});e.innerHTML=this._buildCells(d.data,f);this.onAfterRow(f,d);this.onSet(a,c,d);this.onRender(c,1)}}},_onDelete:function(a){if(this.autoUpdate){var c=this.getRowNode({rowId:a});
if(c){for(var d=0,e=parseInt(c.getAttribute("rowindex"),10),h=c.getAttribute("parentid"),g={id:1},j=[c],m,l=[a],c=c.nextSibling;c&&g[c.getAttribute("parentid")];c=c.nextSibling)m=c.getAttribute("rowid"),l.push(m),j.push(c),g[m]=1;for(;c;c=c.nextSibling)c.getAttribute("parentid")==h&&c.setAttribute("rowindex",parseInt(c.getAttribute("rowindex"),10)-1),c.setAttribute("visualindex",parseInt(c.getAttribute("visualindex"),10)-1),++d;k.forEach(j,f.destroy);k.forEach(l,this.onUnrender,this);this.autoChangeSize&&
this.rootStart===0&&!h&&this.updateRootRange(0,this.rootCount-1);this.onDelete(a,e);this.onRender(e,d)}}},_onSizeChange:function(a,c){if(this.autoChangeSize&&this.rootStart===0&&(this.rootCount===c||c<0))this.updateRootRange(0,a),this.refresh()},_onRowMouseOver:function(a){var c=j("> div.gridxRowOver",this.domNode)[0],a=this.getRowNode({rowId:a.rowId});c!=a&&(c&&g.remove(c,"gridxRowOver"),g.add(a,"gridxRowOver"))},_onCellMouseOver:function(a){g.toggle(a.cellNode,"gridxCellOver",a.type=="mouseover")},
_focusCellCol:0,_focusCellRow:0,_initFocus:function(){var a=this,c=a.grid,d=c.isLeftToRight(),e=c.bodyNode,f=c.focus;f&&(f.registerArea({name:"body",priority:1,focusNode:e,scope:a,doFocus:a._doFocus,doBlur:a._blurCell,onFocus:a._onFocus,onBlur:a._blurCell}),a.connect(c.mainNode,"onkeypress",function(e){if(f.currentArea()=="body"&&(!c.tree||!e.ctrlKey)){f._noBlur=1;var g={},j=d?1:-1;g[h.LEFT_ARROW]=[0,-j,e];g[h.RIGHT_ARROW]=[0,j,e];g[h.UP_ARROW]=[-1,0,e];g[h.DOWN_ARROW]=[1,0,e];a._moveFocus.apply(a,
g[e.keyCode]||[]);f._noBlur=0}}),a.connect(c,"onCellClick",function(c){a._focusCellRow=c.visualIndex;a._focusCellCol=c.columnIndex}),a.connect(a,"onRender",function(c,d){a._focusCellRow>=c&&a._focusCellRow<c+d&&f.currentArea()=="body"&&a._focusCell()}),c.hScroller&&a.connect(e,"onscroll",function(){c.hScroller.scroll(!d&&(m("webkit")||m("ie")<8)?e.scrollWidth-e.offsetWidth-e.scrollLeft:e.scrollLeft)}))},_doFocus:function(a){return this._focusCell(a)||this._focusCell(0,-1,-1)},_focusCell:function(b,
c,d){a.stopEvent(b);d=d>=0?d:this._focusCellCol;c=c>=0?c:this._focusCellRow;if(b=this.getCellNode({visualIndex:c,colId:this.grid._columns[d].id})){var e=j(".gridxCellFocus",this.domNode)[0];if(b!=e)e&&g.remove(e,"gridxCellFocus"),g.add(b,"gridxCellFocus"),this._focusCellRow=c,this._focusCellCol=d;m("ie")<8||b.focus()}else if(!this.grid.rowCount())return this.grid.emptyNode.focus(),!0;return b},_moveFocus:function(b,c,d){if(b||c){a.stopEvent(d);var e,f,h=this,g=h.grid,j=g._columns,k=h.visualCount;
e=h._focusCellRow+b;e=e<0?0:e>=k?k-1:e;f=h._focusCellCol+c;f=f<0?0:f>=j.length?j.length-1:f;g.vScroller.scrollToRow(e).then(function(){h._focusCell(0,e,f);h.onMoveToCell(e,f,d)})}},_nextCell:function(a,c,d,f){var h=new e,g=this.grid,j=g._columns.length,k=this.visualCount;do if(c+=d,c<0||c>=j)a+=d,c=c<0?j-1:0,a<0?(a=k-1,c=j-1):a>=k&&(c=a=0);while(!f(a,c));g.vScroller.scrollToRow(a).then(function(){h.callback({r:a,c:c})});return h},_blurCell:function(){var a=j(".gridxCellFocus",this.domNode)[0];a&&
g.remove(a,"gridxCellFocus");return!0},_onFocus:function(a){for(a=a.target;a&&a!=this.domNode;a=a.parentNode)if(g.contains(a,"gridxCell")){for(var c=this.grid._columnsById[a.getAttribute("colid")].index;!g.contains(a,"gridxRow");)a=a.parentNode;return this._focusCell(0,parseInt(a.getAttribute("visualindex"),10),c)}return!1}})})},"gridx/modules/select/Row":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/sniff","dojo/dom-class","dojo/keys","./_RowCellBase","../../core/_Module"],
function(l,j,k,f,g,e){return l(e,{name:"selectRow",rowMixin:{select:function(){this.grid.select.row.selectById(this.id);return this},deselect:function(){this.grid.select.row.deselectById(this.id);return this},isSelected:function(){return this.model.isMarked(this.id)}},triggerOnCell:!1,getSelected:function(){return this.model.getMarkedIds()},clear:function(){if(this.arg("enabled")){var e=this.model;j.forEach(e.getMarkedIds(),function(f){e.markById(f,0)});e.when()}},_type:"row",_init:function(){var e=
this,f=e.grid;e.inherited(arguments);e.model._spTypes.select=1;e.batchConnect([f,"onRowMouseDown",function(d){(e.arg("triggerOnCell")||!d.columnId)&&e._select(d.rowId,d.ctrlKey)}],[f,k("ff")<4?"onRowKeyUp":"onRowKeyDown",function(d){(e.arg("triggerOnCell")||!d.columnId)&&d.keyCode==g.SPACE&&e._select(d.rowId,d.ctrlKey)}])},_onMark:function(e,f,d){if(d=="select"){var a=this;a._highlight(f,e);a.model.when({id:f},function(){a[e?"onSelected":"onDeselected"](a.grid.row(f,!0))})}},_highlight:function(e,
g){var d=this.grid.body.getRowNode({rowId:e});d&&(f.toggle(d,"gridxRowSelected",g),d.setAttribute("aria-selected",!!g),this.onHighlightChange({row:parseInt(d.getAttribute("visualindex"),10)},!!g))},_markById:function(e,f){var d=this.model;d.markById(e,f);d.when()},_onRender:function(e,f){var d=this.model,a=e+f,c,b;for(c=e;c<a;++c)b=d.indexToId(this.grid.body.getRowInfo({visualIndex:c}).rowIndex),d.isMarked(b)&&this._highlight(b,1)}})})},"gridx/core/Column":function(){define(["dojo/_base/declare"],
function(l){return l([],{constructor:function(j,k){this.grid=j;this.model=j.model;this.id=k},index:function(){var j=this.grid._columnsById[this.id];return j?j.index:-1},cell:function(j,k){return this.grid.cell(j,this,k)},name:function(){return this.grid._columnsById[this.id].name||""},setName:function(j){this.grid._columnsById[this.id].name=j;return this},field:function(){return this.grid._columnsById[this.id].field||null},getWidth:function(){return this.grid._columnsById[this.id].width}})})},"gridx/modules/ColumnWidth":function(){define(["dojo/_base/declare",
"dojo/_base/array","dojo/_base/Deferred","dojo/_base/query","dojo/_base/sniff","dojo/dom-geometry","dojo/dom-class","dojo/dom-style","dojo/keys","../core/_Module"],function(l,j,k,f,g,e,m,h,d,a){return l(a,{name:"columnWidth",forced:["hLayout","header"],getAPIPath:function(){return{columnWidth:this}},constructor:function(){this._ready=new k},preload:function(){var a=this,b=a.grid;if(!b.hScroller)a.autoResize=!0;a.batchConnect([b,"_onResizeBegin",function(d,e){e.header=new k;if(a.arg("autoResize")){var f=
b.domNode.clientWidth-b.hLayout.lead-b.hLayout.tail;b.bodyNode.style.width=(f<0?0:f)+"px"}else a._adaptWidth();e.header.callback()}],[b.hLayout,"onUpdateWidth",function(){a._adaptWidth();a._ready.callback()}],[b,"setColumns","_adaptWidth"])},load:function(){var a=this.loaded;this._ready.then(function(){a.callback()})},"default":60,autoResize:!1,_adaptWidth:function(){var a=this,b=a.grid,d=b.domNode,k=b.header,l=b.isLeftToRight(),w=l?"marginLeft":"marginRight",z=l?"marginRight":"marginLeft",l=b.hLayout.lead,
v=b.hLayout.tail,x=k.innerNode,t=b.bodyNode.style,q=x.style,p=(d.clientWidth||h.get(d,"width"))-l-v,y=f(".gridxCell",x)[0],u=e.getMarginBox(y).w-e.getContentBox(y).w,r=!d.offsetHeight,s=h.get(y,"borderCollapse")=="collapse";q[w]=t[w]=l+"px";q[z]=v+"px";p=p<0?0:p;r&&s&&u--;if(b.autoWidth){j.forEach(b._columns,function(b){if(!b.width)b.width=a.arg("default")+"px"});k.refresh();var w=f("th.gridxCell",x),A=s?2:0;w.forEach(function(a){var c=h.get(a,"width");if(!g("webkit")||!r)c+=u;A+=c;g("ie")&&s&&A--;
a=b._columnsById[a.getAttribute("colid")];if(!a.width||/%$/.test(a.width))a.width=c+"px"});k._columnsWidth=A;t.width=A+"px";d.style.width=l+v+A+"px"}else{if(a.arg("autoResize"))t.width=p+"px",m.add(d,"gridxPercentColumnWidth"),j.forEach(b._columns,function(a){if(!a.width||!/%$/.test(a.width))a.width="auto"});else{var B=[],C=s?2:0;t.width=p+"px";j.forEach(b._columns,function(a){if(!a.width||a.width=="auto")a.width="auto",B.push(a);else if(/%$/.test(a.width))a.width=parseInt(p*parseFloat(a.width,10)/
100-u,10)+"px"});k.refresh();j.forEach(b._columns,function(a){if(a.width!="auto"){var b=h.get(k.getHeaderNode(a.id),"width");if(!a.width||/%$/.test(a.width))a.width=b+"px";if(!g("webkit")||!r)b+=u;C+=b}});if(B.length){g("webkit")&&(u=0);var D=p>C?(p-C)/B.length-u:a.arg("default");p>C&&g("ie")&&s&&(D+=b._columns.length/B.length);D=parseInt(D,10);j.forEach(B,function(a){a.width=D+"px"})}}k.refresh()}if(g("ie")<8)q.width=p+"px";b.hScroller&&(b.hScroller.scroll(0),k._onHScroll(0))}})})},"gridx/modules/Header":function(){define(["dojo/_base/declare",
"dojo/dom-construct","dojo/dom-class","dojo/dom-geometry","dojo/_base/query","dojo/_base/sniff","dojo/keys","../util","../core/_Module"],function(l,j,k,f,g,e,m,h,d){return l(d,{name:"header",forced:["hLayout"],getAPIPath:function(){return{header:this}},constructor:function(){var a=this.domNode=j.create("div",{"class":"gridxHeaderRow",role:"presentation"}),c=this.innerNode=j.create("div",{"class":"gridxHeaderRowInner",role:"row",innerHTML:'<table border="0" cellpadding="0" cellspacing="0"><tr><th class="gridxCell"></th></tr></table>'});
a.appendChild(c)},preload:function(){var a=this.grid,c=this.domNode;a.headerNode.appendChild(c);a.vLayout.register(this,"domNode","headerNode");this.batchConnect([a,"onHScroll","_onHScroll"],[a,"onHeaderCellMouseOver","_onHeaderCellMouseOver"],[a,"onHeaderCellMouseOut","_onHeaderCellMouseOver"],a.columnResizer&&[a.columnResizer,"onResize","_onColumnResize"]);this._initFocus();a._connectEvents(c,"_onMouseEvent",this)},destroy:function(){this.inherited(arguments);j.destroy(this.domNode)},columnMixin:{headerNode:function(){return this.grid.header.getHeaderNode(this.id)}},
getHeaderNode:function(a){return g("[colid='"+a+"']",this.domNode)[0]},refresh:function(){var a=this,c=a.grid,b=c.focus,d=['<table role="presentation" border="0" cellpadding="0" cellspacing="0"><tr>'];c.columns().forEach(function(c){d.push('<th colid="',c.id,'" class="gridxCell ',b&&b.currentArea()=="header"&&c.id==a._focusHeaderId?a._focusClass:"",'" role="columnheader" aria-readonly="true" tabindex="-1" style="width: ',c.getWidth(),'"><div class="gridxSortNode">',c.name(),"</div></th>")});d.push("</tr></table>");
a.innerNode.innerHTML=d.join("");a._onHScroll(a._scrollLeft);a.onRender()},onRender:function(){},onMoveToHeaderCell:function(){},_scrollLeft:0,_onColumnResize:function(a,c,b){a=this.grid;a.autoWidth?(c=this._columnsWidth+=c-b,a.bodyNode.style.width=c+"px",a.domNode.style.width=a.hLayout.lead+a.hLayout.tail+c+"px"):this.grid.hScroller&&this.grid.hScroller._onScroll()},_onHScroll:function(a){var c=this.grid.isLeftToRight();this.innerNode.firstChild.style[c?"marginLeft":"marginRight"]=(!c&&e("ff")?a:
-a)+"px";this._scrollLeft=a},_onMouseEvent:function(a,c){var b=this.grid,d="onHeaderCell"+a,e="onHeader"+a;if(b._isConnected(d)||b._isConnected(e)){this._decorateEvent(c);if(c.columnIndex>=0)b[d](c);b[e](c)}},_decorateEvent:function(a){for(var c=a.target;c&&c!==this.domNode;c=c.parentNode)if(c.tagName.toLowerCase()=="th"){if(c=this.grid._columnsById[c.getAttribute("colid")])a.columnId=c.id,a.columnIndex=c.index;break}},_onHeaderCellMouseOver:function(a){k.toggle(this.getHeaderNode(a.columnId),"gridxHeaderCellOver",
a.type=="mouseover")},_focusHeaderId:null,_focusClass:"gridxHeaderCellFocus",_initFocus:function(){var a=this,c=a.grid;c.focus&&c.focus.registerArea({name:"header",priority:0,focusNode:a.domNode,scope:a,doFocus:a._doFocus,doBlur:a._blurNode,onBlur:a._blurNode,connects:[a.connect(a.domNode,"onkeydown","_onKeyDown"),a.connect(c,"onHeaderCellMouseDown",function(b){a._focusNode(a.getHeaderNode(b.columnId))})]})},_doFocus:function(a){var c=this._focusNode(this._focusHeaderId&&this.getHeaderNode(this._focusHeaderId)||
g("th.gridxCell",this.domNode)[0]);h.stopEvent(c&&a);return c},_focusNode:function(a){if(a){var c=this.grid;if(this._focusHeaderId=a.getAttribute("colid")){this._blurNode();if(c.hScroller){var b=f.position(a),d=f.position(this.domNode),e=b.x+b.w-d.x-d.w;e<0&&(e=b.x-d.x,e>0&&(e=0));e+=this._scrollLeft;this._onHScroll(e);c.hScroller.scroll(e)}k.add(a,this._focusClass);a.focus();return!0}}return!1},_blurNode:function(){var a=g("th."+this._focusClass,this.domNode)[0];a&&k.remove(a,this._focusClass);return!0},
_onKeyDown:function(a){var c=this.grid,b;b=c.isLeftToRight()?1:-1;var d=a.keyCode==m.LEFT_ARROW?-b:b;if(this._focusHeaderId&&(a.keyCode==m.LEFT_ARROW||a.keyCode==m.RIGHT_ARROW))if(h.stopEvent(a),b=c._columnsById[this._focusHeaderId],b=c._columns[b.index+d])this._focusNode(this.getHeaderNode(b.id)),this.onMoveToHeaderCell(b.id,a)}})})},"gridx/core/Row":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred"],function(l,j,k){return l([],{constructor:function(f,g){this.grid=f;
this.model=f.model;this.id=g},index:function(){return this.model.idToIndex(this.id)},cell:function(f,g){return this.grid.cell(this,f,g)},data:function(){return this.model.byId(this.id).data},rawData:function(){return this.model.byId(this.id).rawData},item:function(){return this.model.byId(this.id).item},setRawData:function(f){var g=this.grid.store,e=this.item(),l,h;if(g.setValue){h=new k;try{for(l in f)g.setValue(e,l,f[l]);g.save({onComplete:j.hitch(h,h.callback),onError:j.hitch(h,h.errback)})}catch(d){h.errback(d)}}return h||
k.when(g.put(j.mixin(j.clone(e),f)))}})})},"url:gridx/templates/Grid.html":'<div class="gridx" role="grid" tabindex="0"\r\n\t><div class="gridxHeader" role="presentation" data-dojo-attach-point="headerNode"></div\r\n\t><div class="gridxMain" role="presentation" data-dojo-attach-point="mainNode"\r\n\t\t><div class="gridxBodyEmpty" role="alert" tabindex="-1" data-dojo-attach-point="emptyNode"></div\r\n\t\t><div class="gridxBody" role="presentation" data-dojo-attach-point="bodyNode"></div\r\n\t\t><div class="gridxVScroller" data-dojo-attach-point="vScrollerNode"\r\n\t\t\t><div style=\'width: 1px;\'></div\r\n\t\t></div\r\n\t></div\r\n\t><div class="gridxFooter" data-dojo-attach-point="footerNode"\r\n\t\t><div class="gridxHScroller"\r\n\t\t\t><div class="gridxHScrollerInner" data-dojo-attach-point="hScrollerNode"><div style="width:1px; height: 1px;"></div></div\r\n\t\t></div\r\n\t></div\r\n\t><span data-dojo-attach-point="lastFocusNode" tabindex="0"></span\r\n></div>\r\n',
"gridx/core/Core":function(){define(["require","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/Deferred","dojo/DeferredList","./model/Model","./Row","./Column","./Cell","./_Module"],function(l,j,k,f,g,e,m,h,d,a,c){function b(a){a=a.moduleClass.prototype;return(a.forced||[]).concat(a.optional||[])}function i(a,b){if(b)for(var c in b){var d=a[c],e=b[c];d&&f.isObject(d)&&!v(d)?i(d,e):a[c]=e}}function n(a,b){var c=[],d=b&&b.length||0;q(a.modules,function(a,b){if(v(a)||x(a))a={moduleClass:a};
if(a){var e=a.moduleClass;if(x(e))try{e=a.moduleClass=l(e)}catch(f){console.error(f)}if(v(e)){c.push(a);return}}console.error(["The ",b+1-d,"-th declared module can NOT be found, please require it before using it"].join(""))});a.modules=c;return a}function o(a){var b,c={},d=[];q(a.modules,function(a){c[a.moduleClass.prototype.name]=a});for(b in c)d.push(c[b]);a.modules=d;return a}function w(a){var c=a.modules,d,e,f,g,h=function(a){for(var b=c.length-1;b>=0;--b)if(c[b].moduleClass.prototype.name==
a)return c[b];return null};for(d=c.length-1;e=c[d];--d){f=e.moduleClass.prototype.name;for(g=b(e);g.length;){e=g.shift();if(e==f)throw Error("Module '"+e+"' is in a dependancy circle!");(e=h(e))&&(g=g.concat(b(e)))}}return a}var z=f.delegate,v=f.isFunction,x=f.isString,t=f.hitch,q=k.forEach;return j([],{_reset:function(a){this._uninit();var b={},d;for(d in a)b[d]=a[d];a=b;this.store=a.store;a.modules=a.modules||[];a.modelExtensions=a.modelExtensions||[];this.setColumns(a.structure);a.columns=this._columnsById;
d=n(a,this.coreModules);var a=c._modules,b=d.modules,e,f,g,h,j,i,k;for(e=0;e<b.length;++e){h=b[e].moduleClass.prototype;j=(h.forced||[]).concat(h.required||[]);for(f=0;f<j.length;++f){i=j[f];for(g=b.length-1;g>=0;--g)if(b[g].moduleClass.prototype.name===i)break;g<0&&(a[i]?b.push({moduleClass:a[i]}):(k=1,console.error(["Forced/Required dependent module '",i,"' is NOT found for '",h.name,"' module."].join(""))))}}if(k)throw Error("Some forced/required dependent modules are NOT found.");k=w(o(d));d=
k.modules;for(a=d.length-1;a>=0;--a)(b=d[a].moduleClass.prototype.modelExtensions)&&[].push.apply(k.modelExtensions,b);a=k;this.model=new m(a);this._create(a)},_postCreate:function(){var a=this._deferStartup=new g;this._preload();this._load(a).then(t(this,"onModulesLoaded"))},onModulesLoaded:function(){},setStore:function(a){this.store=a;this._reset(this);this._postCreate();this._deferStartup.callback()},setColumns:function(a){this.structure=a;var a=this._columns=f.clone(a),b={},c,d,e;if(f.isArray(a)){d=
0;for(e=a.length;d<e;++d)c=a[d],c.index=d,c.id=c.id||String(d+1),b[c.id]=c}this._columnsById=b;if(this.model)this.model._cache.onSetColumns(this._columnsById)},row:function(a,b){typeof a=="number"&&!b&&(a=this.model.indexToId(a));if(this.model.idToIndex(a)>=0)return this._rowObj=this._rowObj||this._mixin(new h(this),"row"),z(this._rowObj,{id:a});return null},column:function(a,b){var p;var c,e,f={};typeof a=="number"&&!b&&(p=(c=this._columns[a])&&c.id,a=p);if(c=this._columnsById[a]){this._colObj=this._colObj||
this._mixin(new d(this),"column");for(e in c)this._colObj[e]===void 0&&(f[e]=c[e]);return z(this._colObj,f)}return null},cell:function(b,c,e){if(b=b instanceof h?b:this.row(b,e))if(c=c instanceof d?c:this.column(c,e))return this._cellObj=this._cellObj||this._mixin(new a(this),"cell"),z(this._cellObj,{row:b,column:c});return null},columnCount:function(){return this._columns.length},rowCount:function(a){return this.model.size(a)},columns:function(a,b){return this._arr(this._columns.length,"column",
a,b)},rows:function(a,b){return this._arr(this.model.size(),"row",a,b)},_uninit:function(){var a=this._modules,b;for(b in a){b=a[b].mod;if(b.getAPIPath){var c=b.getAPIPath();if(c){var d=void 0;for(d in c)delete this[d]}}b.destroy()}this.model&&this.model.destroy()},_arr:function(a,b,c,d){for(var e=c||0,c=d>=0?c+d:a,d=[];e<c&&e<a;++e)d.push(this[b](e));for(var g in k)v(k[g])&&(d[g]=f.partial(k[g],d));return d},_preload:function(){var a,b=this._modules;for(a in b)a=b[a],a.mod.preload&&a.mod.preload(a.args)},
_load:function(a){var b=[],c;for(c in this._modules)b.push(this._initMod(a,c));return new e(b,0,1)},_mixin:function(a,b){var c,d,e=this._modules;for(c in e)c=e[c].mod,d=c[b+"Mixin"],v(d)&&(d=d.apply(c)),f.mixin(a,d||{});return a},_create:function(a){var c=this,d=c._modules={};q(a.modules,function(a){var e;e=a.moduleClass.prototype.name;d[e]||(d[e]={args:a,mod:e=new a.moduleClass(c,a),deps:b(a)},e.getAPIPath&&i(c,e.getAPIPath()))})},_initMod:function(a,b){var c=this._modules,d=c[b],f=d.mod,g=f.loaded;
if(!d.done)d.done=1,(new e(k.map(k.filter(d.deps,function(a){return c[a]}),t(this,this._initMod,a)),0,1)).then(function(){f.load?f.load(d.args,a):g.fired<0&&g.callback()});return g}})})}}});define("gridx/gridx-virtual",[],1);