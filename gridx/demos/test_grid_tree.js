//>>built
require({cache:{"gridx/tests/test_grid_tree":function(){require("gridx/Grid,gridx/core/model/cache/Async,gridx/modules/Focus,gridx/modules/Tree,gridx/modules/RowHeader,gridx/modules/VirtualVScroller,gridx/modules/IndirectSelect,gridx/modules/select/Row,gridx/modules/ColumnResizer,gridx/tests/support/data/TreeColumnarTestData,gridx/tests/support/stores/ItemFileWriteStore,gridx/tests/support/TestPane,dojo/domReady!".split(","),function(f,k,m,j,i,h,o,g,e,a,d,b){var c=d({dataSource:a,maxLevel:4,maxChildrenCount:10});
store2=d({dataSource:a,maxLevel:4,maxChildrenCount:10});c.hasChildren=function(a,b){return b&&c.getValues(b,"children").length};c.getChildren=function(a){return c.getValues(a,"children")};store2.hasChildren=function(a,c){return c&&store2.getValues(c,"children").length};store2.getChildren=function(a){return store2.getValues(a,"children")};grid=new f({id:"grid",cacheClass:k,store:c,structure:a.layouts[1],selectRowTriggerOnCell:!1,treeExpandLevel:2,modules:[h,j,e,g,i,o]});grid.placeAt("gridContainer");
grid.startup();f=new b({});f.placeAt("ctrlPane");f.addTestSet("Tree APIs",'<div data-dojo-type="dijit.form.Button" data-dojo-props="onClick: expand">Expand the 3rd row</div><br/><div data-dojo-type="dijit.form.Button" data-dojo-props="onClick: collapse">Collapse the 3rd row</div><br/><div data-dojo-type="dijit.form.Button" data-dojo-props="onClick: expandRec">Recursively expand the 2nd row</div><br/><div data-dojo-type="dijit.form.Button" data-dojo-props="onClick: collapseRec">Recursively collapse the 2nd row</div><br/>');
f.startup()})},"gridx/Grid":function(){define("dojo/_base/kernel,dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/_base/sniff,dojo/on,dojo/dom-class,dojo/dom-geometry,dojo/_base/query,dojox/html/metrics,dijit/_WidgetBase,dijit/_FocusMixin,dijit/_TemplatedMixin,dojo/text!./templates/Grid.html,./core/Core,./core/model/extensions/Query,./core/_Module,./modules/Header,./modules/Body,./modules/VLayout,./modules/HLayout,./modules/VScroller,./modules/HScroller,./modules/ColumnWidth".split(","),function(f,
k,m,j,i,h,o,g,e,a,d,b,c,l,n,p,t,u,s,r,v,q,z,w){var A=m.forEach,x=function(){},k=k("gridx.Grid",[d,c,b,n],{templateString:l,coreModules:[u,s,r,v,q,z,w],coreExtensions:[p],postCreate:function(){var c=this;c.inherited(arguments);c._eventFlags={};c.modules=c.coreModules.concat(c.modules||[]);c.modelExtensions=c.coreExtensions.concat(c.modelExtensions||[]);o.toggle(c.domNode,"gridxRtl",!c.isLeftToRight());c.lastFocusNode.setAttribute("tabIndex",c.domNode.getAttribute("tabIndex"));c._initEvents(c._compNames,
c._eventNames);c._reset(c);c.connect(a,"onFontResize",function(){c.resize()})},startup:function(){this._started||(this.inherited(arguments),this._deferStartup.callback())},destroy:function(){this._uninit();this.inherited(arguments)},resize:function(a){var c={};if(a){if(this.autoWidth)a.w=void 0;if(this.autoHeight)a.h=void 0;g.setMarginBox(this.domNode,a)}this._onResizeBegin(a,c);this._onResizeEnd(a,c)},_onResizeBegin:function(){},_onResizeEnd:function(){},_compNames:["Cell","HeaderCell","Row","Header"],
_eventNames:"Click,DblClick,MouseDown,MouseUp,MouseOver,MouseOut,MouseMove,ContextMenu,KeyDown,KeyPress,KeyUp".split(","),_initEvents:function(a,c){var b=this;A(a,function(a){A(c,function(c){c="on"+a+c;b[c]=b[c]||x})})},_connectEvents:function(a,c,b){for(var l=this.model,d,n=this._eventNames,e=n.length,p=0;p<e;++p)d=n[p],l._cnnts.push(h(a,d.toLowerCase(),j.hitch(b,c,d)))},_isConnected:function(a){return this[a]!==x},_isCopyEvent:function(a){return i("mac")?a.metaKey:a.ctrlKey}});k.markupFactory=function(a,
c,b){if(!a.structure&&"table"==c.nodeName.toLowerCase()){f.deprecated("Column declaration in <th> elements is deprecated,",'use "structure" attribute in data-dojo-props instead',"1.1");var l=a.structure=[];e("thead > tr > th",c).forEach(function(a){var c={};A(t._markupAttrs,function(b){"!"==b[0]?(b=b.slice(1),c[b]=eval(a.getAttribute(b))):c[b]=a.getAttribute(b)});c.name=c.name||a.innerHTML;l.push(c)})}return new b(a,c)};return k})},"dojo/_base/kernel":function(){define(["../has","./config","require",
"module"],function(f,k,m,j){var i,h={},o={},g={config:k,global:this,dijit:h,dojox:o},h={dojo:["dojo",g],dijit:["dijit",h],dojox:["dojox",o]},j=m.map&&m.map[j.id.match(/[^\/]+/)[0]];for(i in j)h[i]?h[i][0]=j[i]:h[i]=[j[i],{}];for(i in h)j=h[i],j[1]._scopeName=j[0],k.noGlobals||(this[j[0]]=j[1]);g.scopeMap=h;g.baseUrl=g.config.baseUrl=m.baseUrl;g.isAsync=m.async;g.locale=k.locale;j="$Rev: 29469 $".match(/\d+/);g.version={major:1,minor:9,patch:0,flag:"dev",revision:j?+j[0]:NaN,toString:function(){var a=
g.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(g);g.exit=function(){};"undefined"!=typeof console||(console={});for(var h="assert,count,debug,dir,dirxml,error,group,groupEnd,info,profile,profileEnd,time,timeEnd,trace,warn,log".split(","),e,j=0;e=h[j++];)console[e]||function(){var a=e+"";console[a]="log"in console?function(){var d=Array.apply({},arguments);d.unshift(a+
":");console.log(d.join(" "))}:function(){};console[a]._fake=!0}();f.add("dojo-debug-messages",!!k.isDebug);g.deprecated=g.experimental=function(){};if(f("dojo-debug-messages"))g.deprecated=function(a,d,b){a="DEPRECATED: "+a;d&&(a+=" "+d);b&&(a+=" -- will be removed in version: "+b);console.warn(a)},g.experimental=function(a,d){var b="EXPERIMENTAL: "+a+" -- APIs subject to change without notice.";d&&(b+=" "+d);console.warn(b)};if(k.modulePaths){g.deprecated("dojo.modulePaths","use paths configuration");
f={};for(i in k.modulePaths)f[i.replace(/\./g,"/")]=k.modulePaths[i];m({paths:f})}g.moduleUrl=function(a,d){g.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var b=null;a&&(b=m.toUrl(a.replace(/\./g,"/")+(d?"/"+d:"")+"/*.*").replace(/\/\*\.\*/,"")+(d?"":"/"));return b};g._hasResource={};return g})},"dojo/has":function(){define(["require","module"],function(f){var k=f.has||function(){};k.add("dom-addeventlistener",!!document.addEventListener);k.add("touch","ontouchstart"in document);k.add("device-width",
screen.availWidth||innerWidth);f=document.createElement("form");k.add("dom-attributes-explicit",0==f.attributes.length);k.add("dom-attributes-specified-flag",0<f.attributes.length&&40>f.attributes.length);k.clearElement=function(f){f.innerHTML="";return f};k.normalize=function(f,j){var i=f.match(/[\?:]|[^:\?]*/g),h=0,o=function(g){var e=i[h++];if(":"==e)return 0;if("?"==i[h++]){if(!g&&k(e))return o();o(!0);return o(g)}return e||0};return(f=o())&&j(f)};k.load=function(f,j,i){f?j([f],i):i()};return k})},
"dojo/_base/config":function(){define(["../has","require"],function(f,k){var m={},j=k.rawConfig,i;for(i in j)m[i]=j[i];return m})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(f,k,m){function j(a,c){throw Error("declare"+(c?" "+c:"")+": "+a);}function i(a,c,b){var l,d,n,p,e,g,t,h=this._inherited=this._inherited||{};"string"==typeof a&&(l=a,a=c,c=b);b=0;p=a.callee;(l=l||p.nom)||j("can't deduce a name to call inherited()",this.declaredClass);e=this.constructor._meta;
n=e.bases;t=h.p;if(l!=w){if(h.c!==p&&(t=0,g=n[0],e=g._meta,e.hidden[l]!==p)){(d=e.chains)&&"string"==typeof d[l]&&j("calling chained method with inherited: "+l,this.declaredClass);do if(e=g._meta,d=g.prototype,e&&(d[l]===p&&d.hasOwnProperty(l)||e.hidden[l]===p))break;while(g=n[++t]);t=g?t:-1}if(g=n[++t])if(d=g.prototype,g._meta&&d.hasOwnProperty(l))b=d[l];else{p=r[l];do if(d=g.prototype,(b=d[l])&&(g._meta?d.hasOwnProperty(l):b!==p))break;while(g=n[++t])}b=g&&b||r[l]}else{if(h.c!==p&&(t=0,(e=n[0]._meta)&&
e.ctor!==p)){d=e.chains;for((!d||"manual"!==d.constructor)&&j("calling chained constructor with inherited",this.declaredClass);(g=n[++t])&&!((e=g._meta)&&e.ctor===p););t=g?t:-1}for(;(g=n[++t])&&!(b=(e=g._meta)?e.ctor:g););b=g&&b}h.c=b;h.p=t;if(b)return!0===c?b:b.apply(this,c||a)}function h(a,c){return"string"==typeof a?this.__inherited(a,c,!0):this.__inherited(a,!0)}function o(a,c,b){var l=this.getInherited(a,c);if(l)return l.apply(this,b||c||a)}function g(a){for(var c=this.constructor._meta.bases,
b=0,l=c.length;b<l;++b)if(c[b]===a)return!0;return this instanceof a}function e(a,c){for(var b in c)b!=w&&c.hasOwnProperty(b)&&(a[b]=c[b]);if(k("bug-for-in-skips-shadowed"))for(var l=m._extraNames,d=l.length;d;)b=l[--d],b!=w&&c.hasOwnProperty(b)&&(a[b]=c[b])}function a(a){u.safeMixin(this.prototype,a);return this}function d(a){return u([this].concat(a))}function b(a,c){return function(){var x;var b=arguments,l=b,d=b[0],n,e;e=a.length;var p;if(!(this instanceof b.callee))return t(b);if(c&&(d&&d.preamble||
this.preamble)){p=Array(a.length);p[0]=b;for(n=0;;){if(d=b[0])(d=d.preamble)&&(b=d.apply(this,b)||b);d=a[n].prototype;(d=d.hasOwnProperty("preamble")&&d.preamble)&&(b=d.apply(this,b)||b);if(++n==e)break;p[n]=b}}for(n=e-1;0<=n;--n)d=a[n],(x=(e=d._meta)?e.ctor:d,d=x)&&d.apply(this,p?p[n]:b);(d=this.postscript)&&d.apply(this,l)}}function c(a,c){return function(){var b=arguments,d=b,l=b[0];if(!(this instanceof b.callee))return t(b);if(c){if(l)(l=l.preamble)&&(d=l.apply(this,d)||d);(l=this.preamble)&&
l.apply(this,d)}a&&a.apply(this,b);(l=this.postscript)&&l.apply(this,b)}}function l(a){return function(){var x;var c=arguments,b=0,l,d;if(!(this instanceof c.callee))return t(c);for(;l=a[b];++b)if(x=(d=l._meta)?d.ctor:l,l=x){l.apply(this,c);break}(l=this.postscript)&&l.apply(this,c)}}function n(a,c,b){return function(){var l,d,n=0,e=1;b&&(n=c.length-1,e=-1);for(;l=c[n];n+=e)d=l._meta,(l=(d?d.hidden:l.prototype)[a])&&l.apply(this,arguments)}}function p(a){q.prototype=a.prototype;a=new q;q.prototype=
null;return a}function t(a){var c=a.callee,b=p(c);c.apply(b,a);return b}function u(t,f,o){"string"!=typeof t&&(o=f,f=t,t="");var o=o||{},k,q,C,y,Q,G,F,D=1,K=f;if("[object Array]"==v.call(f)){D=t;C=[];y=[{cls:0,refs:[]}];G={};for(var N=1,J=f.length,O=0,M,R,I,L;O<J;++O){(M=f[O])?"[object Function]"!=v.call(M)&&j("mixin #"+O+" is not a callable constructor.",D):j("mixin #"+O+" is unknown. Did you use dojo.require to pull it in?",D);R=M._meta?M._meta.bases:[M];I=0;for(M=R.length-1;0<=M;--M){L=R[M].prototype;
if(!L.hasOwnProperty("declaredClass"))L.declaredClass="uniqName_"+z++;L=L.declaredClass;G.hasOwnProperty(L)||(G[L]={count:0,refs:[],cls:R[M]},++N);L=G[L];I&&I!==L&&(L.refs.push(I),++I.count);I=L}++I.count;y[0].refs.push(I)}for(;y.length;){I=y.pop();C.push(I.cls);for(--N;q=I.refs,1==q.length;){I=q[0];if(!I||--I.count){I=0;break}C.push(I.cls);--N}if(I)for(O=0,J=q.length;O<J;++O)I=q[O],--I.count||y.push(I)}N&&j("can't build consistent linearization",D);M=f[0];C[0]=M?M._meta&&M===C[C.length-M._meta.bases.length]?
M._meta.bases.length:1:0;G=C;C=G[0];D=G.length-C;f=G[D]}else G=[0],f?"[object Function]"==v.call(f)?(C=f._meta,G=G.concat(C?C.bases:f)):j("base class is not a callable constructor.",t):null!==f&&j("unknown base class. Did you use dojo.require to pull it in?",t);if(f)for(q=D-1;;--q){k=p(f);if(!q)break;C=G[q];(C._meta?e:s)(k,C.prototype);y=new Function;y.superclass=f;y.prototype=k;f=k.constructor=y}else k={};u.safeMixin(k,o);C=o.constructor;if(C!==r.constructor)C.nom=w,k.constructor=C;for(q=D-1;q;--q)(C=
G[q]._meta)&&C.chains&&(F=s(F||{},C.chains));k["-chains-"]&&(F=s(F||{},k["-chains-"]));C=!F||!F.hasOwnProperty(w);G[0]=y=F&&"manual"===F.constructor?l(G):1==G.length?c(o.constructor,C):b(G,C);y._meta={bases:G,hidden:o,chains:F,parents:K,ctor:o.constructor};y.superclass=f&&f.prototype;y.extend=a;y.createSubclass=d;y.prototype=k;k.constructor=y;k.getInherited=h;k.isInstanceOf=g;k.inherited=A;k.__inherited=i;if(t)k.declaredClass=t,m.setObject(t,y);if(F)for(Q in F)if(k[Q]&&"string"==typeof F[Q]&&Q!=w)C=
k[Q]=n(Q,G,"after"===F[Q]),C.nom=Q;return y}var s=m.mixin,r=Object.prototype,v=r.toString,q=new Function,z=0,w="constructor",A=f.config.isDebug?o:i;f.safeMixin=u.safeMixin=function(a,c){var b,l;for(b in c)if(l=c[b],(l!==r[b]||!(b in r))&&b!=w){if("[object Function]"==v.call(l))l.nom=b;a[b]=l}if(k("bug-for-in-skips-shadowed"))for(var d=m._extraNames,n=d.length;n;)if(b=d[--n],l=c[b],(l!==r[b]||!(b in r))&&b!=w){if("[object Function]"==v.call(l))l.nom=b;a[b]=l}return a};return f.declare=u})},"dojo/_base/lang":function(){define(["./kernel",
"../has","../sniff"],function(f,k){k.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;return 1});var m=k("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],j=m.length,i=function(a,d,b){var c,l=0,n=f.global;if(!b)if(a.length){c=a[l++];try{b=f.scopeMap[c]&&f.scopeMap[c][1]}catch(e){}b=b||(c in n?n[c]:d?n[c]={}:void 0)}else return n;for(;b&&(c=a[l++]);)b=c in b?b[c]:d?b[c]={}:void 0;return b},
h=Object.prototype.toString,o=function(a,d,b){return(b||[]).concat(Array.prototype.slice.call(a,d||0))},g=/\{([^\}]+)\}/g,e={_extraNames:m,_mixin:function(a,d,b){var c,l,n,e={};for(c in d)if(l=d[c],!(c in a)||a[c]!==l&&(!(c in e)||e[c]!==l))a[c]=b?b(l):l;if(k("bug-for-in-skips-shadowed")&&d)for(n=0;n<j;++n)if(c=m[n],l=d[c],!(c in a)||a[c]!==l&&(!(c in e)||e[c]!==l))a[c]=b?b(l):l;return a},mixin:function(a,d){a||(a={});for(var b=1,c=arguments.length;b<c;b++)e._mixin(a,arguments[b]);return a},setObject:function(a,
d,b){var c=a.split("."),a=c.pop();return(b=i(c,!0,b))&&a?b[a]=d:void 0},getObject:function(a,d,b){return i(a.split("."),d,b)},exists:function(a,d){return void 0!==e.getObject(a,!1,d)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===h.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||e.isArray(a)||e.isFunction(a))},isArrayLike:function(a){return a&&
void 0!==a&&!e.isString(a)&&!e.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(e.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!e.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(""+a)},extend:function(a,d){for(var b=1,c=arguments.length;b<c;b++)e._mixin(a.prototype,arguments[b]);return a},_hitchArgs:function(a,d){var b=e._toArray(arguments,2),c=e.isString(d);return function(){var l=e._toArray(arguments),n=c?(a||f.global)[d]:d;return n&&n.apply(a||this,b.concat(l))}},
hitch:function(a,d){if(2<arguments.length)return e._hitchArgs.apply(f,arguments);d||(d=a,a=null);if(e.isString(d)){a=a||f.global;if(!a[d])throw['lang.hitch: scope["',d,'"] is null (scope="',a,'")'].join("");return function(){return a[d].apply(a,arguments||[])}}return!a?d:function(){return d.apply(a,arguments||[])}},delegate:function(){function a(){}return function(d,b){a.prototype=d;var c=new a;a.prototype=null;b&&e._mixin(c,b);return c}}(),_toArray:k("ie")?function(){function a(a,b,c){c=c||[];for(b=
b||0;b<a.length;b++)c.push(a[b]);return c}return function(d){return(d.item?a:o).apply(this,arguments)}}():o,partial:function(a){return e.hitch.apply(f,[null].concat(e._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||e.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);var d,b,c;if(e.isArray(a)){d=[];for(b=0,c=a.length;b<c;++b)b in a&&d.push(e.clone(a[b]))}else d=a.constructor?
new a.constructor:{};return e._mixin(d,a,e.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,d,b){return a.replace(b||g,e.isFunction(d)?d:function(a,b){return e.getObject(b,!1,d)})}};e.mixin(f,e);return e})},"dojo/sniff":function(){define(["./has"],function(f){var k=navigator,m=k.userAgent,k=k.appVersion,j=parseFloat(k);f.add("air",0<=m.indexOf("AdobeAIR"));f.add("khtml",0<=k.indexOf("Konqueror")?j:void 0);
f.add("webkit",parseFloat(m.split("WebKit/")[1])||void 0);f.add("chrome",parseFloat(m.split("Chrome/")[1])||void 0);f.add("safari",0<=k.indexOf("Safari")&&!f("chrome")?parseFloat(k.split("Version/")[1]):void 0);f.add("mac",0<=k.indexOf("Macintosh"));f.add("quirks","BackCompat"==document.compatMode);f.add("ios",/iPhone|iPod|iPad/.test(m));f.add("android",parseFloat(m.split("Android ")[1])||void 0);if(!f("webkit")){0<=m.indexOf("Opera")&&f.add("opera",9.8<=j?parseFloat(m.split("Version/")[1])||j:j);
0<=m.indexOf("Gecko")&&!f("khtml")&&!f("webkit")&&f.add("mozilla",j);f("mozilla")&&f.add("ff",parseFloat(m.split("Firefox/")[1]||m.split("Minefield/")[1])||void 0);if(document.all&&!f("opera"))m=parseFloat(k.split("MSIE ")[1])||void 0,(k=document.documentMode)&&5!=k&&Math.floor(m)!=k&&(m=k),f.add("ie",m);f.add("wii","undefined"!=typeof opera&&opera.wiiremote)}return f})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(f,k,m){function j(a){return o[a]=new Function("item",
"index","array",a)}function i(a){var d=!a;return function(b,c,l){var n=0,e=b&&b.length||0,g;e&&"string"==typeof b&&(b=b.split(""));"string"==typeof c&&(c=o[c]||j(c));if(l)for(;n<e;++n){if(g=!c.call(l,b[n],n,b),a^g)return!g}else for(;n<e;++n)if(g=!c(b[n],n,b),a^g)return!g;return d}}function h(a){var d=1,b=0,c=0;a||(d=b=c=-1);return function(l,n,p,t){if(t&&0<d)return e.lastIndexOf(l,n,p);var t=l&&l.length||0,h=a?t+c:b;p===g?p=a?b:t+c:0>p?(p=t+p,0>p&&(p=b)):p=p>=t?t+c:p;for(t&&"string"==typeof l&&(l=
l.split(""));p!=h;p+=d)if(l[p]==n)return p;return-1}}var o={},g,e={every:i(!1),some:i(!0),indexOf:h(!0),lastIndexOf:h(!1),forEach:function(a,d,b){var c=0,l=a&&a.length||0;l&&"string"==typeof a&&(a=a.split(""));"string"==typeof d&&(d=o[d]||j(d));if(b)for(;c<l;++c)d.call(b,a[c],c,a);else for(;c<l;++c)d(a[c],c,a)},map:function(a,d,b,c){var l=0,n=a&&a.length||0,c=new (c||Array)(n);n&&"string"==typeof a&&(a=a.split(""));"string"==typeof d&&(d=o[d]||j(d));if(b)for(;l<n;++l)c[l]=d.call(b,a[l],l,a);else for(;l<
n;++l)c[l]=d(a[l],l,a);return c},filter:function(a,d,b){var c=0,l=a&&a.length||0,n=[],e;l&&"string"==typeof a&&(a=a.split(""));"string"==typeof d&&(d=o[d]||j(d));if(b)for(;c<l;++c)e=a[c],d.call(b,e,c,a)&&n.push(e);else for(;c<l;++c)e=a[c],d(e,c,a)&&n.push(e);return n},clearCache:function(){o={}}};m.mixin(f,e);return e})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(f,k,m){f._name="browser";k.mixin(f,{isBrowser:!0,isFF:m("ff"),isIE:m("ie"),isKhtml:m("khtml"),isWebKit:m("webkit"),
isMozilla:m("mozilla"),isMoz:m("mozilla"),isOpera:m("opera"),isSafari:m("safari"),isChrome:m("chrome"),isMac:m("mac"),isIos:m("ios"),isAndroid:m("android"),isWii:m("wii"),isQuirks:m("quirks"),isAir:m("air")});f.locale=f.locale||(m("ie")?navigator.userLanguage:navigator.language).toLowerCase();return m})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./has"],function(f,k,m){function j(a,c,d,n,p){if(n=c.match(/(.*):(.*)/))return c=n[2],n=n[1],g.selector(n,c).call(p,
a,d);m("touch")&&(e.test(c)&&(d=z(d)),!m("event-orientationchange")&&"orientationchange"==c&&(c="resize",a=window,d=z(d)));l&&(d=l(d));if(a.addEventListener){var t=c in b,h=t?b[c]:c;a.addEventListener(h,d,t);return{remove:function(){a.removeEventListener(h,d,t)}}}if(u&&a.attachEvent)return u(a,"on"+c,d);throw Error("Target must be an event emitter");}function i(){this.cancelable=!1}function h(){this.bubbles=!1}var o=window.ScriptEngineMajorVersion;m.add("jscript",o&&o()+ScriptEngineMinorVersion()/
10);m.add("event-orientationchange",m("touch")&&!m("android"));m.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);var g=function(a,c,b,l){return a.on&&"function"!=typeof c?a.on(c,b):g.parse(a,c,b,j,l,this)};g.pausable=function(a,c,b,l){var d,a=g(a,c,function(){if(!d)return b.apply(this,arguments)},l);a.pause=function(){d=!0};a.resume=function(){d=!1};return a};g.once=function(a,c,b){var l=g(a,c,function(){l.remove();return b.apply(this,
arguments)});return l};g.parse=function(a,c,b,l,d,n){if(c.call)return c.call(n,a,b);if(-1<c.indexOf(",")){for(var c=c.split(/\s*,\s*/),e=[],p=0,g;g=c[p++];)e.push(l(a,g,b,d,n));e.remove=function(){for(var a=0;a<e.length;a++)e[a].remove()};return e}return l(a,c,b,d,n)};var e=/^touch/;g.selector=function(a,c,b){return function(l,d){function n(c){for(e=e&&e.matches?e:k.query;!e.matches(c,a,l);)if(c==l||!1===b||!(c=c.parentNode)||1!=c.nodeType)return;return c}var e="function"==typeof a?{matches:a}:this,
p=c.bubble;return p?g(l,p(n),d):g(l,c,function(a){var c=n(a.target);return c&&d.call(c,a)})}};var a=[].slice,d=g.emit=function(c,b,l){var d=a.call(arguments,2),n="on"+b;if("parentNode"in c){var e=d[0]={},p;for(p in l)e[p]=l[p];e.preventDefault=i;e.stopPropagation=h;e.target=c;e.type=b;l=e}do c[n]&&c[n].apply(c,d);while(l&&l.bubbles&&(c=c.parentNode));return l&&l.cancelable&&l},b={};if(!m("event-stopimmediatepropagation"))var c=function(){this.modified=this.immediatelyStopped=!0},l=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=
c,a.apply(this,arguments)}};if(m("dom-addeventlistener")){b={focusin:"focus",focusout:"blur"};if(m("opera"))b.keydown="keypress";g.emit=function(a,c,b){if(a.dispatchEvent&&document.createEvent){var l=a.ownerDocument.createEvent("HTMLEvents");l.initEvent(c,!!b.bubbles,!!b.cancelable);for(var n in b)n in l||(l[n]=b[n]);return a.dispatchEvent(l)&&l}return d.apply(g,arguments)}}else{g._fixEvent=function(a,c){if(!a)a=(c&&(c.ownerDocument||c.document||c).parentWindow||window).event;if(!a)return a;n&&a.type==
n.type&&(a=n);if(!a.target){a.target=a.srcElement;a.currentTarget=c||a.srcElement;if("mouseover"==a.type)a.relatedTarget=a.fromElement;if("mouseout"==a.type)a.relatedTarget=a.toElement;if(!a.stopPropagation)a.stopPropagation=s,a.preventDefault=r;switch(a.type){case "keypress":var b="charCode"in a?a.charCode:a.keyCode;10==b?(b=0,a.keyCode=13):13==b||27==b?b=0:3==b&&(b=99);a.charCode=b;b=a;b.keyChar=b.charCode?String.fromCharCode(b.charCode):"";b.charOrCode=b.keyChar||b.keyCode}}return a};var n,p=function(a){this.handle=
a};p.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var t=function(a){return function(c){var c=g._fixEvent(c,this),b=a.call(this,c);c.modified&&(n||setTimeout(function(){n=null}),n=c);return b}},u=function(a,c,b){b=t(b);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>m("jscript"))&&!m("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var l=a[c];if(!l||!l.listeners){var d=l,l=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
l.listeners=[];a[c]=l;l.global=this;d&&l.listeners.push(_dojoIEListeners_.push(d)-1)}l.listeners.push(a=l.global._dojoIEListeners_.push(b)-1);return new p(a)}return f.after(a,c,b,!0)},s=function(){this.cancelBubble=!0},r=g._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1}}if(m("touch"))var v=function(){},q=window.orientation,z=function(a){return function(c){var b=c.corrected;if(!b){var l=c.type;try{delete c.type}catch(d){}c.type?
(v.prototype=c,b=new v,b.preventDefault=function(){c.preventDefault()},b.stopPropagation=function(){c.stopPropagation()}):(b=c,b.type=l);c.corrected=b;if("resize"==l){if(q==window.orientation)return null;q=window.orientation;b.type="orientationchange";return a.call(this,b)}if(!("rotation"in b))b.rotation=0,b.scale=1;var l=b.changedTouches[0],n;for(n in l)delete b[n],b[n]=l[n]}return a.call(this,b)}};return g})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(f,
k,m){function j(e){if("string"==typeof e||e instanceof String){if(e&&!h.test(e))return o[0]=e,o;e=e.split(h);e.length&&!e[0]&&e.shift();e.length&&!e[e.length-1]&&e.pop();return e}return!e?[]:k.filter(e,function(a){return a})}var i,h=/\s+/,o=[""],g={};return i={contains:function(e,a){return 0<=(" "+m.byId(e).className+" ").indexOf(" "+a+" ")},add:function(e,a){var e=m.byId(e),a=j(a),d=e.className,b,d=d?" "+d+" ":" ";b=d.length;for(var c=0,l=a.length,n;c<l;++c)(n=a[c])&&0>d.indexOf(" "+n+" ")&&(d+=
n+" ");b<d.length&&(e.className=d.substr(1,d.length-2))},remove:function(e,a){var e=m.byId(e),d;if(void 0!==a){a=j(a);d=" "+e.className+" ";for(var b=0,c=a.length;b<c;++b)d=d.replace(" "+a[b]+" "," ");d=f.trim(d)}else d="";e.className!=d&&(e.className=d)},replace:function(e,a,d){e=m.byId(e);g.className=e.className;i.remove(g,d);i.add(g,a);e.className!==g.className&&(e.className=g.className)},toggle:function(e,a,d){e=m.byId(e);if(void 0===d)for(var a=j(a),b=0,c=a.length,l;b<c;++b)l=a[b],i[i.contains(e,
l)?"remove":"add"](e,l);else i[d?"add":"remove"](e,a);return d}}})},"dojo/dom":function(){define(["./sniff","./_base/lang","./_base/window"],function(f,k,m){if(7>=f("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(j){}var i={};i.byId=f("ie")?function(h,i){if("string"!=typeof h)return h;var g=i||m.doc,e=h&&g.getElementById(h);if(e&&(e.attributes.id.value==h||e.id==h))return e;g=g.all[h];if(!g||g.nodeName)g=[g];for(var a=0;e=g[a++];)if(e.attributes&&e.attributes.id&&e.attributes.id.value==
h||e.id==h)return e}:function(h,i){return("string"==typeof h?(i||m.doc).getElementById(h):h)||null};i.isDescendant=function(h,f){try{h=i.byId(h);for(f=i.byId(f);h;){if(h==f)return!0;h=h.parentNode}}catch(g){}return!1};i.setSelectable=function(h,j){h=i.byId(h);if(f("mozilla"))h.style.MozUserSelect=j?"":"none";else if(f("khtml")||f("webkit"))h.style.KhtmlUserSelect=j?"auto":"none";else if(f("ie"))for(var g=h.unselectable=j?"":"on",e=h.getElementsByTagName("*"),a=0,d=e.length;a<d;++a)e.item(a).unselectable=
g};return i})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(f,k,m){var j={global:f.global,doc:this.document||null,body:function(i){i=i||f.doc;return i.body||i.getElementsByTagName("body")[0]},setContext:function(i,h){f.global=j.global=i;f.doc=j.doc=h},withGlobal:function(i,h,o,g){var e=f.global;try{return f.global=j.global=i,j.withDoc.call(null,i.document,h,o,g)}finally{f.global=j.global=e}},withDoc:function(i,h,o,g){var e=j.doc,a=m("quirks"),d=m("ie"),b,c,l;try{f.doc=
j.doc=i;f.isQuirks=m.add("quirks","BackCompat"==f.doc.compatMode,!0,!0);if(m("ie")&&(l=i.parentWindow)&&l.navigator)b=parseFloat(l.navigator.appVersion.split("MSIE ")[1])||void 0,(c=i.documentMode)&&5!=c&&Math.floor(b)!=c&&(b=c),f.isIE=m.add("ie",b,!0,!0);o&&"string"==typeof h&&(h=o[h]);return h.apply(o,g||[])}finally{f.doc=j.doc=e,f.isQuirks=m.add("quirks",a,!0,!0),f.isIE=m.add("ie",d,!0,!0)}}};k.mixin(f,j);return j})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],
function(f,k,m,j){function i(a,d,b,c,l,n){n=n||"px";a=a.style;if(!isNaN(d))a.left=d+n;if(!isNaN(b))a.top=b+n;if(0<=c)a.width=c+n;if(0<=l)a.height=l+n}function h(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function o(a){return"border-box"==g.boxModel||"table"==a.tagName.toLowerCase()||h(a)}var g={boxModel:"content-box"};if(f("ie"))g.boxModel="BackCompat"==document.compatMode?"border-box":"content-box";g.getPadExtents=
function(a,d){var a=m.byId(a),b=d||j.getComputedStyle(a),c=j.toPixelValue,l=c(a,b.paddingLeft),n=c(a,b.paddingTop),e=c(a,b.paddingRight),b=c(a,b.paddingBottom);return{l:l,t:n,r:e,b:b,w:l+e,h:n+b}};g.getBorderExtents=function(a,d){var a=m.byId(a),b=j.toPixelValue,c=d||j.getComputedStyle(a),l="none"!=c.borderLeftStyle?b(a,c.borderLeftWidth):0,n="none"!=c.borderTopStyle?b(a,c.borderTopWidth):0,e="none"!=c.borderRightStyle?b(a,c.borderRightWidth):0,b="none"!=c.borderBottomStyle?b(a,c.borderBottomWidth):
0;return{l:l,t:n,r:e,b:b,w:l+e,h:n+b}};g.getPadBorderExtents=function(a,d){var a=m.byId(a),b=d||j.getComputedStyle(a),c=g.getPadExtents(a,b),b=g.getBorderExtents(a,b);return{l:c.l+b.l,t:c.t+b.t,r:c.r+b.r,b:c.b+b.b,w:c.w+b.w,h:c.h+b.h}};g.getMarginExtents=function(a,d){var a=m.byId(a),b=d||j.getComputedStyle(a),c=j.toPixelValue,l=c(a,b.marginLeft),n=c(a,b.marginTop),e=c(a,b.marginRight),b=c(a,b.marginBottom);return{l:l,t:n,r:e,b:b,w:l+e,h:n+b}};g.getMarginBox=function(a,d){var a=m.byId(a),b=d||j.getComputedStyle(a),
c=g.getMarginExtents(a,b),l=a.offsetLeft-c.l,n=a.offsetTop-c.t,e=a.parentNode,t=j.toPixelValue;if(f("mozilla")){var h=parseFloat(b.left),b=parseFloat(b.top);!isNaN(h)&&!isNaN(b)?(l=h,n=b):e&&e.style&&(e=j.getComputedStyle(e),"visible"!=e.overflow&&(l+="none"!=e.borderLeftStyle?t(a,e.borderLeftWidth):0,n+="none"!=e.borderTopStyle?t(a,e.borderTopWidth):0))}else if((f("opera")||8==f("ie")&&!f("quirks"))&&e)e=j.getComputedStyle(e),l-="none"!=e.borderLeftStyle?t(a,e.borderLeftWidth):0,n-="none"!=e.borderTopStyle?
t(a,e.borderTopWidth):0;return{l:l,t:n,w:a.offsetWidth+c.w,h:a.offsetHeight+c.h}};g.getContentBox=function(a,d){var a=m.byId(a),b=d||j.getComputedStyle(a),c=a.clientWidth,l=g.getPadExtents(a,b),n=g.getBorderExtents(a,b);c?(b=a.clientHeight,n.w=n.h=0):(c=a.offsetWidth,b=a.offsetHeight);f("opera")&&(l.l+=n.l,l.t+=n.t);return{l:l.l,t:l.t,w:c-l.w-n.w,h:b-l.h-n.h}};g.setContentSize=function(a,d,b){var a=m.byId(a),c=d.w,d=d.h;o(a)&&(b=g.getPadBorderExtents(a,b),0<=c&&(c+=b.w),0<=d&&(d+=b.h));i(a,NaN,NaN,
c,d)};var e={l:0,t:0,w:0,h:0};g.setMarginBox=function(a,d,b){var a=m.byId(a),c=b||j.getComputedStyle(a),b=d.w,l=d.h,n=o(a)?e:g.getPadBorderExtents(a,c),c=g.getMarginExtents(a,c);if(f("webkit")&&h(a)){var p=a.style;if(0<=b&&!p.width)p.width="4px";if(0<=l&&!p.height)p.height="4px"}0<=b&&(b=Math.max(b-n.w-c.w,0));0<=l&&(l=Math.max(l-n.h-c.h,0));i(a,d.l,d.t,b,l)};g.isBodyLtr=function(a){a=a||k.doc;return"ltr"==(k.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};g.docScroll=function(a){var a=
a||k.doc,d=k.doc.parentWindow||k.doc.defaultView;return"pageXOffset"in d?{x:d.pageXOffset,y:d.pageYOffset}:(d=f("quirks")?k.body(a):a.documentElement)&&{x:g.fixIeBiDiScrollLeft(d.scrollLeft||0,a),y:d.scrollTop||0}};if(f("ie"))g.getIeDocumentElementOffset=function(a){a=a||k.doc;a=a.documentElement;if(8>f("ie")){var d=a.getBoundingClientRect(),b=d.left,d=d.top;7>f("ie")&&(b+=a.clientLeft,d+=a.clientTop);return{x:0>b?0:b,y:0>d?0:d}}return{x:0,y:0}};g.fixIeBiDiScrollLeft=function(a,d){var d=d||k.doc,
b=f("ie");if(b&&!g.isBodyLtr(d)){var c=f("quirks"),l=c?k.body(d):d.documentElement,n=k.global;6==b&&!c&&n.frameElement&&l.scrollHeight>l.clientHeight&&(a+=l.clientLeft);return 8>b||c?a+l.clientWidth-l.scrollWidth:-a}return a};g.position=function(a,d){var a=m.byId(a),b=k.body(a.ownerDocument),c=a.getBoundingClientRect(),c={x:c.left,y:c.top,w:c.right-c.left,h:c.bottom-c.top};if(f("ie")){var l=g.getIeDocumentElementOffset(a.ownerDocument);c.x-=l.x+(f("quirks")?b.clientLeft+b.offsetLeft:0);c.y-=l.y+(f("quirks")?
b.clientTop+b.offsetTop:0)}d&&(b=g.docScroll(a.ownerDocument),c.x+=b.x,c.y+=b.y);return c};g.getMarginSize=function(a,d){var a=m.byId(a),b=g.getMarginExtents(a,d||j.getComputedStyle(a)),c=a.getBoundingClientRect();return{w:c.right-c.left+b.w,h:c.bottom-c.top+b.h}};g.normalizeEvent=function(a){if(!("layerX"in a))a.layerX=a.offsetX,a.layerY=a.offsetY;if(!f("dom-addeventlistener")){var d=a.target,d=d&&d.ownerDocument||document,b=f("quirks")?d.body:d.documentElement,c=g.getIeDocumentElementOffset(d);
a.pageX=a.clientX+g.fixIeBiDiScrollLeft(b.scrollLeft||0,d)-c.x;a.pageY=a.clientY+(b.scrollTop||0)-c.y}};return g})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(f,k){function m(c,b,e){b=b.toLowerCase();if(f("ie")){if("auto"==e){if("height"==b)return c.offsetHeight;if("width"==b)return c.offsetWidth}if("fontweight"==b)switch(e){case 700:return"bold";default:return"normal"}}b in a||(a[b]=d.test(b));return a[b]?h(c,e):e}var j,i={};j=f("webkit")?function(a){var c;if(1==a.nodeType){var b=
a.ownerDocument.defaultView;c=b.getComputedStyle(a,null);if(!c&&a.style)a.style.display="",c=b.getComputedStyle(a,null)}return c||{}}:f("ie")&&(9>f("ie")||f("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};i.getComputedStyle=j;var h;h=f("ie")?function(a,c){if(!c)return 0;if("medium"==c)return 4;if(c.slice&&"px"==c.slice(-2))return parseFloat(c);var b=a.style,d=a.runtimeStyle,e=b.left,
g=d.left;d.left=a.currentStyle.left;try{b.left=c,c=b.pixelLeft}catch(h){c=0}b.left=e;d.left=g;return c}:function(a,c){return parseFloat(c)||0};i.toPixelValue=h;var o=function(a,c){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(b){return c?{}:null}},g=9>f("ie")||f("ie")&&f("quirks")?function(a){try{return o(a).Opacity/100}catch(c){return 1}}:function(a){return j(a).opacity},e=9>f("ie")||f("ie")&&f("quirks")?function(a,c){var b=100*c,d=1==c;a.style.zoom=d?"":1;if(o(a))o(a,1).Opacity=
b;else{if(d)return c;a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+b+")"}o(a,1).Enabled=!d;if("tr"==a.tagName.toLowerCase())for(b=a.firstChild;b;b=b.nextSibling)"td"==b.tagName.toLowerCase()&&e(b,c);return c}:function(a,c){return a.style.opacity=c},a={left:!0,top:!0},d=/margin|padding|width|height|max|min|offset/,b=f("ie")?"styleFloat":"cssFloat",c={cssFloat:b,styleFloat:b,"float":b};i.get=function(a,b){var d=k.byId(a),e=arguments.length;if(2==e&&"opacity"==b)return g(d);var b=
c[b]||b,h=i.getComputedStyle(d);return 1==e?h:m(d,b,h[b]||d.style[b])};i.set=function(a,b,d){var g=k.byId(a),h=arguments.length,f="opacity"==b,b=c[b]||b;if(3==h)return f?e(g,d):g.style[b]=d;for(var j in b)i.set(a,j,b[j]);return i.getComputedStyle(g)};return i})},"dojo/_base/query":function(){define(["../query","./NodeList"],function(f){return f})},"dojo/query":function(){define("./_base/kernel,./has,./dom,./on,./_base/array,./_base/lang,./selector/_loader,./selector/_loader!default".split(","),function(f,
k,m,j,i,h,o,g){function e(a,c){var b=function(b,d){if("string"==typeof d&&(d=m.byId(d),!d))return new c([]);var l="string"==typeof b?a(b,d):b?b.orphan?b:[b]:[];return l.orphan?l:new c(l)};b.matches=a.match||function(a,c,d){return 0<b.filter([a],c,d).length};b.filter=a.filter||function(a,c,d){return b(c,d).filter(function(c){return-1<i.indexOf(a,c)})};if("function"!=typeof a)var d=a.search,a=function(a,c){return d(c||document,a)};return b}k.add("array-extensible",function(){return 1==h.delegate([],
{length:1}).length&&!k("bug-for-in-skips-shadowed")});var a=Array.prototype,d=a.slice,b=a.concat,c=i.forEach,l=function(a,c,b){c=[0].concat(d.call(c,0));b=b||f.global;return function(d){c[0]=d;return a.apply(b,c)}},n=function(a){var c=this instanceof p&&k("array-extensible");"number"==typeof a&&(a=Array(a));var b=a&&"length"in a?a:arguments;if(c||!b.sort){for(var d=c?this:[],l=d.length=b.length,n=0;n<l;n++)d[n]=b[n];if(c)return d;b=d}h._mixin(b,t);b._NodeListCtor=function(a){return p(a)};return b},
p=n,t=p.prototype=k("array-extensible")?[]:{};p._wrap=t._wrap=function(a,c,b){a=new (b||this._NodeListCtor||p)(a);return c?a._stash(c):a};p._adaptAsMap=function(a,c){return function(){return this.map(l(a,arguments,c))}};p._adaptAsForEach=function(a,c){return function(){this.forEach(l(a,arguments,c));return this}};p._adaptAsFilter=function(a,c){return function(){return this.filter(l(a,arguments,c))}};p._adaptWithCondition=function(a,c,b){return function(){var d=arguments,n=l(a,d,b);if(c.call(b||f.global,
d))return this.map(n);this.forEach(n);return this}};c(["slice","splice"],function(c){var b=a[c];t[c]=function(){return this._wrap(b.apply(this,arguments),"slice"==c?this:null)}});c(["indexOf","lastIndexOf","every","some"],function(a){var c=i[a];t[a]=function(){return c.apply(f,[this].concat(d.call(arguments,0)))}});h.extend(n,{constructor:p,_NodeListCtor:p,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,c){var b=this.map(function(b){return j(b,
a,c)});b.remove=function(){for(var a=0;a<b.length;a++)b[a].remove()};return b},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var c=d.call(this,0),l=i.map(arguments,function(a){return d.call(a,0)});return this._wrap(b.apply(c,l),this)},map:function(a,c){return this._wrap(i.map(this,a,c),this)},forEach:function(a,b){c(this,a,b);return this},filter:function(a){var c=arguments,b=this,d=0;if("string"==typeof a){b=u._filterResult(this,c[0]);if(1==c.length)return b._stash(this);
d=1}return this._wrap(i.filter(b,c[d],c[d+1]),this)},instantiate:function(a,c){var b=h.isFunction(a)?a:h.getObject(a),c=c||{};return this.forEach(function(a){new b(c,a)})},at:function(){var a=new this._NodeListCtor(0);c(arguments,function(c){0>c&&(c=this.length+c);this[c]&&a.push(this[c])},this);return a._stash(this)}});var u=e(g,n);f.query=e(g,function(a){return n(a)});u.load=function(a,c,b){o.load(a,c,function(a){b(e(a,n))})};f._filterQueryResult=u._filterResult=function(a,c,b){return new n(u.filter(a,
c,b))};f.NodeList=u.NodeList=n;return u})},"dojo/selector/_loader":function(){define(["../has","require"],function(f,k){var m=document.createElement("div");f.add("dom-qsa2.1",!!m.querySelectorAll);f.add("dom-qsa3",function(){try{return m.innerHTML="<p class='TEST'></p>",1==m.querySelectorAll(".TEST:empty").length}catch(i){}});var j;return{load:function(i,h,o){var g=k,i="default"==i?f("config-selectorEngine")||"css3":i,i="css2"==i||"lite"==i?"./lite":"css2.1"==i?f("dom-qsa2.1")?"./lite":"./acme":"css3"==
i?f("dom-qsa3")?"./lite":"./acme":"acme"==i?"./acme":(g=h)&&i;if("?"==i.charAt(i.length-1))var i=i.substring(0,i.length-1),e=!0;if(e&&(f("dom-compliant-qsa")||j))return o(j);g([i],function(a){"./lite"!=i&&(j=a);o(a)})}}})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(f,k,m){var k=k.NodeList,j=k.prototype;j.connect=k._adaptAsForEach(function(){return f.connect.apply(this,arguments)});j.coords=k._adaptAsMap(f.coords);k.events="blur,focus,change,click,error,keydown,keypress,keyup,load,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,submit".split(",");
m.forEach(k.events,function(i){var h="on"+i;j[h]=function(i,g){return this.connect(h,i,g)}});return f.NodeList=k})},"dojo/_base/html":function(){define("./kernel,../dom,../dom-style,../dom-attr,../dom-prop,../dom-class,../dom-construct,../dom-geometry".split(","),function(f,k,m,j,i,h,o,g){f.byId=k.byId;f.isDescendant=k.isDescendant;f.setSelectable=k.setSelectable;f.getAttr=j.get;f.setAttr=j.set;f.hasAttr=j.has;f.removeAttr=j.remove;f.getNodeProp=j.getNodeProp;f.attr=function(e,a,d){return 2==arguments.length?
j["string"==typeof a?"get":"set"](e,a):j.set(e,a,d)};f.hasClass=h.contains;f.addClass=h.add;f.removeClass=h.remove;f.toggleClass=h.toggle;f.replaceClass=h.replace;f._toDom=f.toDom=o.toDom;f.place=o.place;f.create=o.create;f.empty=function(e){o.empty(e)};f._destroyElement=f.destroy=function(e){o.destroy(e)};f._getPadExtents=f.getPadExtents=g.getPadExtents;f._getBorderExtents=f.getBorderExtents=g.getBorderExtents;f._getPadBorderExtents=f.getPadBorderExtents=g.getPadBorderExtents;f._getMarginExtents=
f.getMarginExtents=g.getMarginExtents;f._getMarginSize=f.getMarginSize=g.getMarginSize;f._getMarginBox=f.getMarginBox=g.getMarginBox;f.setMarginBox=g.setMarginBox;f._getContentBox=f.getContentBox=g.getContentBox;f.setContentSize=g.setContentSize;f._isBodyLtr=f.isBodyLtr=g.isBodyLtr;f._docScroll=f.docScroll=g.docScroll;f._getIeDocumentElementOffset=f.getIeDocumentElementOffset=g.getIeDocumentElementOffset;f._fixIeBiDiScrollLeft=f.fixIeBiDiScrollLeft=g.fixIeBiDiScrollLeft;f.position=g.position;f.marginBox=
function(e,a){return a?g.setMarginBox(e,a):g.getMarginBox(e)};f.contentBox=function(e,a){return a?g.setContentSize(e,a):g.getContentBox(e)};f.coords=function(e,a){f.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");var e=k.byId(e),d=m.getComputedStyle(e),d=g.getMarginBox(e,d),b=g.position(e,a);d.x=b.x;d.y=b.y;return d};f.getProp=i.get;f.setProp=i.set;f.prop=function(e,a,d){return 2==arguments.length?i["string"==typeof a?"get":"set"](e,a):i.set(e,a,d)};f.getStyle=m.get;f.setStyle=
m.set;f.getComputedStyle=m.getComputedStyle;f.__toPixelValue=f.toPixelValue=m.toPixelValue;f.style=function(e,a,d){switch(arguments.length){case 1:return m.get(e);case 2:return m["string"==typeof a?"get":"set"](e,a)}return m.set(e,a,d)};return f})},"dojo/dom-attr":function(){define("exports,./sniff,./_base/lang,./dom,./dom-style,./dom-prop".split(","),function(f,k,m,j,i,h){function o(a,d){var b=a.getAttributeNode&&a.getAttributeNode(d);return b&&b.specified}var g={innerHTML:1,className:1,htmlFor:k("ie"),
value:1},e={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};f.has=function(a,d){var b=d.toLowerCase();return g[h.names[b]||d]||o(j.byId(a),e[b]||d)};f.get=function(a,d){var a=j.byId(a),b=d.toLowerCase(),c=h.names[b]||d,l=a[c];if(g[c]&&"undefined"!=typeof l||"href"!=c&&("boolean"==typeof l||m.isFunction(l)))return l;b=e[b]||d;return o(a,b)?a.getAttribute(b):null};f.set=function(a,d,b){a=j.byId(a);if(2==arguments.length){for(var c in d)f.set(a,c,d[c]);return a}c=d.toLowerCase();
var l=h.names[c]||d,n=g[l];if("style"==l&&"string"!=typeof b)return i.set(a,b),a;if(n||"boolean"==typeof b||m.isFunction(b))return h.set(a,d,b);a.setAttribute(e[c]||d,b);return a};f.remove=function(a,d){j.byId(a).removeAttribute(e[d.toLowerCase()]||d)};f.getNodeProp=function(a,d){var a=j.byId(a),b=d.toLowerCase(),c=h.names[b]||d;if(c in a&&"href"!=c)return a[c];b=e[b]||d;return o(a,b)?a.getAttribute(b):null}})},"dojo/dom-prop":function(){define("exports,./_base/kernel,./sniff,./_base/lang,./dom,./dom-style,./dom-construct,./_base/connect".split(","),
function(f,k,m,j,i,h,o,g){var e={},a=0,d=k._scopeName+"attrid";f.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};f.get=function(a,c){var a=i.byId(a),d=c.toLowerCase();return a[f.names[d]||c]};f.set=function(b,c,l){b=i.byId(b);if(2==arguments.length&&"string"!=typeof c){for(var n in c)f.set(b,n,c[n]);return b}n=c.toLowerCase();n=f.names[n]||c;if("style"==n&&"string"!=typeof l)return h.set(b,
l),b;if("innerHTML"==n)return m("ie")&&b.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(o.empty(b),b.appendChild(o.toDom(l,b.ownerDocument))):b[n]=l,b;if(j.isFunction(l)){var p=b[d];p||(p=a++,b[d]=p);e[p]||(e[p]={});var t=e[p][n];if(t)g.disconnect(t);else try{delete b[n]}catch(k){}l?e[p][n]=g.connect(b,n,l):b[n]=null;return b}b[n]=l;return b}})},"dojo/dom-construct":function(){define("exports,./_base/kernel,./sniff,./_base/window,./dom,./dom-attr,./on".split(","),
function(f,k,m,j,i,h,o){function g(a,c){var b=c.parentNode;b&&b.insertBefore(a,c)}var e={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},a=/<\s*([\w\:]+)/,d={},b=0,c="__"+k._scopeName+"ToDomId",l;for(l in e)if(e.hasOwnProperty(l))k=e[l],k.pre="option"==l?'<select multiple="multiple">':"<"+k.join("><")+">",k.post="</"+
k.reverse().join("></")+">";var n=null,p;o(window,"unload",function(){n=null});f.toDom=function(l,n){var n=n||j.doc,g=n[c];g||(n[c]=g=++b+"",d[g]=n.createElement("div"));var l=l+"",p=l.match(a),h=p?p[1].toLowerCase():"",g=d[g];if(p&&e[h]){p=e[h];g.innerHTML=p.pre+l+p.post;for(p=p.length;p;--p)g=g.firstChild}else g.innerHTML=l;if(1==g.childNodes.length)return g.removeChild(g.firstChild);for(h=n.createDocumentFragment();p=g.firstChild;)h.appendChild(p);return h};f.place=function(a,c,b){c=i.byId(c);
"string"==typeof a&&(a=/^\s*</.test(a)?f.toDom(a,c.ownerDocument):i.byId(a));if("number"==typeof b){var d=c.childNodes;!d.length||d.length<=b?c.appendChild(a):g(a,d[0>b?0:b])}else switch(b){case "before":g(a,c);break;case "after":b=a;(d=c.parentNode)&&(d.lastChild==c?d.appendChild(b):d.insertBefore(b,c.nextSibling));break;case "replace":c.parentNode.replaceChild(a,c);break;case "only":f.empty(c);c.appendChild(a);break;case "first":if(c.firstChild){g(a,c.firstChild);break}default:c.appendChild(a)}return a};
f.create=function(a,c,b,d){var l=j.doc;if(b)b=i.byId(b),l=b.ownerDocument;"string"==typeof a&&(a=l.createElement(a));c&&h.set(a,c);b&&f.place(a,b,d);return a};f.empty=m("ie")?function(a){for(var a=i.byId(a),c;c=a.lastChild;)f.destroy(c)}:function(a){i.byId(a).innerHTML=""};f.destroy=function(a){a=i.byId(a);try{var c=a.ownerDocument;if(!n||p!=c)n=c.createElement("div"),p=c;n.appendChild(a.parentNode?a.parentNode.removeChild(a):a);n.innerHTML=""}catch(b){}}})},"dojo/_base/connect":function(){define("./kernel,../on,../topic,../aspect,./event,../mouse,./sniff,./lang,../keys".split(","),
function(f,k,m,j,i,h,o,g){function e(a,c,b,d,n){d=g.hitch(b,d);if(!a||!a.addEventListener&&!a.attachEvent)return j.after(a||f.global,c,d,!0);"string"==typeof c&&"on"==c.substring(0,2)&&(c=c.substring(2));if(!a)a=f.global;if(!n)switch(c){case "keypress":c=l;break;case "mouseenter":c=h.enter;break;case "mouseleave":c=h.leave}return k(a,c,d,n)}function a(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}o.add("events-keypress-typed",function(){var a={charCode:0};
try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(c){}return 0==a.charCode&&!o("opera")});var d={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},b=o("mac")?"metaKey":"ctrlKey",c=function(c,b){var d=g.mixin({},c,b);a(d);d.preventDefault=function(){c.preventDefault()};d.stopPropagation=function(){c.stopPropagation()};return d},l;l=o("events-keypress-typed")?function(a,
b){var l=k(a,"keydown",function(a){var l=a.keyCode,n=13!=l&&32!=l&&(27!=l||!o("ie"))&&(48>l||90<l)&&(96>l||111<l)&&(186>l||192<l)&&(219>l||222<l)&&229!=l;if(n||a.ctrlKey){n=n?0:l;if(a.ctrlKey){if(3==l||13==l)return b.call(a.currentTarget,a);n=95<n&&106>n?n-48:!a.shiftKey&&65<=n&&90>=n?n+32:d[n]||n}l=c(a,{type:"keypress",faux:!0,charCode:n});b.call(a.currentTarget,l);if(o("ie"))try{a.keyCode=l.keyCode}catch(e){}}}),n=k(a,"keypress",function(a){var d=a.charCode,a=c(a,{charCode:32<=d?d:0,faux:!0});return b.call(this,
a)});return{remove:function(){l.remove();n.remove()}}}:o("opera")?function(a,b){return k(a,"keypress",function(a){var d=a.which;3==d&&(d=99);d=32>d&&!a.shiftKey?0:d;a.ctrlKey&&!a.shiftKey&&65<=d&&90>=d&&(d+=32);return b.call(this,c(a,{charCode:d}))})}:function(c,b){return k(c,"keypress",function(c){a(c);return b.call(this,c)})};var n={_keypress:l,connect:function(a,c,b,d,l){var n=arguments,g=[],h=0;g.push("string"==typeof n[0]?null:n[h++],n[h++]);var i=n[h+1];g.push("string"==typeof i||"function"==
typeof i?n[h++]:null,n[h++]);for(i=n.length;h<i;h++)g.push(n[h]);return e.apply(this,g)},disconnect:function(a){a&&a.remove()},subscribe:function(a,c,b){return m.subscribe(a,g.hitch(c,b))},publish:function(a,c){return m.publish.apply(m,[a].concat(c))},connectPublisher:function(a,c,b){var d=function(){n.publish(a,arguments)};return b?n.connect(c,b,d):n.connect(c,d)},isCopyKey:function(a){return a[b]}};n.unsubscribe=n.disconnect;g.mixin(f,n);return n})},"dojo/topic":function(){define(["./Evented"],
function(f){var k=new f;return{publish:function(f,j){return k.emit.apply(k,arguments)},subscribe:function(f,j){return k.on.apply(k,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(f,k){function m(){}var j=f.after;m.prototype={on:function(i,h){return k.parse(this,i,h,function(i,g){return j(i,"on"+g,h,!0)})},emit:function(i,h){var f=[this];f.push.apply(f,arguments);return k.emit.apply(k,f)}};return m})},"dojo/aspect":function(){define([],function(){function f(g,e,a,d){var b=
g[e],c="around"==e,l;if(c){var n=a(function(){return b.advice(this,arguments)});l={remove:function(){l.cancelled=!0},advice:function(a,c){return l.cancelled?b.advice(a,c):n.apply(a,c)}}}else l={remove:function(){var a=l.previous,c=l.next;if(!c&&!a)delete g[e];else if(a?a.next=c:g[e]=c,c)c.previous=a},id:j++,advice:a,receiveArguments:d};if(b&&!c)if("after"==e){for(a=b;a;)b=a,a=a.next;b.next=l;l.previous=b}else{if("before"==e)g[e]=l,l.next=b,b.previous=l}else g[e]=l;return l}function k(g){return function(e,
a,d,b){var c=e[a],l;if(!c||c.target!=e){e[a]=l=function(){for(var a=j,c=arguments,b=l.before;b;)c=b.advice.apply(this,c)||c,b=b.next;if(l.around)var d=l.around.advice(this,c);for(b=l.after;b&&b.id<a;){if(b.receiveArguments)var e=b.advice.apply(this,c),d=e===m?d:e;else d=b.advice.call(this,d,c);b=b.next}return d};if(c)l.around={advice:function(a,b){return c.apply(a,b)}};l.target=e}e=f(l||c,g,d,b);d=null;return e}}var m,j=0,i=k("after"),h=k("before"),o=k("around");return{before:h,around:o,after:i}})},
"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(f,k,m,j){if(k._fixEvent){var i=k._fixEvent;k._fixEvent=function(h,g){(h=i(h,g))&&j.normalizeEvent(h);return h}}var h={fix:function(h,g){return k._fixEvent?k._fixEvent(h,g):h},stop:function(h){m("dom-addeventlistener")||h&&h.preventDefault?(h.preventDefault(),h.stopPropagation()):(h=h||window.event,h.cancelBubble=!0,k._preventDefault.call(h))}};f.fixEvent=h.fix;f.stopEvent=h.stop;return h})},"dojo/mouse":function(){define(["./_base/kernel",
"./on","./has","./dom","./_base/window"],function(f,k,m,j,i){function h(i,g){var e=function(a,d){return k(a,i,function(b){if(g)return g(b,d);if(!j.isDescendant(b.relatedTarget,a))return d.call(this,b)})};e.bubble=function(a){return h(i,function(d,b){var c=a(d.target),l=d.relatedTarget;if(c&&c!=(l&&1==l.nodeType&&a(l)))return b.call(c,d)})};return e}m.add("dom-quirks",i.doc&&"BackCompat"==i.doc.compatMode);m.add("events-mouseenter",i.doc&&"onmouseenter"in i.doc.createElement("div"));m.add("events-mousewheel",
i.doc&&"onmousewheel"in i.doc);i=m("dom-quirks")||!m("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(h,g){return h.button&g},isLeft:function(h){return h.button&1},isMiddle:function(h){return h.button&4},isRight:function(h){return h.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(h,g){return h.button==g},isLeft:function(h){return 0==h.button},isMiddle:function(h){return 1==h.button},isRight:function(h){return 2==h.button}};f.mouseButtons=i;f=m("events-mousewheel")?"mousewheel":
function(h,g){return k(h,"DOMMouseScroll",function(e){e.wheelDelta=-e.detail;g.call(this,e)})};return{_eventHandler:h,enter:h("mouseover"),leave:h("mouseout"),wheel:f,isLeft:i.isLeft,isMiddle:i.isMiddle,isRight:i.isRight}})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(f,k){return f.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:k("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,
RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,
RIGHT_DPAD:178,copyKey:k("mac")&&!k("air")?k("safari")?91:224:17}})},"dojo/NodeList-dom":function(){define("./_base/kernel,./query,./_base/array,./_base/lang,./dom-class,./dom-construct,./dom-geometry,./dom-attr,./dom-style".split(","),function(f,k,m,j,i,h,o,g,e){function a(a){return function(c,b,d){return 2==arguments.length?a["string"==typeof b?"get":"set"](c,b):a.set(c,b,d)}}var d=function(a){return 1==a.length&&"string"==typeof a[0]},b=function(a){var c=a.parentNode;c&&c.removeChild(a)},c=k.NodeList,
l=c._adaptWithCondition,n=c._adaptAsForEach,p=c._adaptAsMap;j.extend(c,{_normalize:function(a,c){var b=!0===a.parse;if("string"==typeof a.template)var d=a.templateFunc||f.string&&f.string.substitute,a=d?d(a.template,a):a;d=typeof a;"string"==d||"number"==d?(a=h.toDom(a,c&&c.ownerDocument),a=11==a.nodeType?j._toArray(a.childNodes):[a]):j.isArrayLike(a)?j.isArray(a)||(a=j._toArray(a)):a=[a];if(b)a._runParse=!0;return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,c,b,d){if(!(1!=
c.nodeType&&"only"==b))for(var l,n=a.length,e=n-1;0<=e;e--){var g=d?this._cloneNode(a[e]):a[e];if(a._runParse&&f.parser&&f.parser.parse){l||(l=c.ownerDocument.createElement("div"));l.appendChild(g);f.parser.parse(l);for(g=l.firstChild;l.firstChild;)l.removeChild(l.firstChild)}e==n-1?h.place(g,c,b):c.parentNode.insertBefore(g,c);c=g}},position:p(o.position),attr:l(a(g),d),style:l(a(e),d),addClass:n(i.add),removeClass:n(i.remove),toggleClass:n(i.toggle),replaceClass:n(i.replace),empty:n(h.empty),removeAttr:n(g.remove),
marginBox:p(o.getMarginBox),place:function(a,c){var b=k(a)[0];return this.forEach(function(a){h.place(a,b,c)})},orphan:function(a){return(a?k._filterResult(this,a):this).forEach(b)},adopt:function(a,c){return k(a).place(this[0],c)._stash(this)},query:function(a){if(!a)return this;var b=new c;this.map(function(c){k(a,c).forEach(function(a){void 0!==a&&b.push(a)})});return b._stash(this)},filter:function(a){var c=arguments,b=this,d=0;if("string"==typeof a){b=k._filterResult(this,c[0]);if(1==c.length)return b._stash(this);
d=1}return this._wrap(m.filter(b,c[d],c[d+1]),this)},addContent:function(a,c){for(var a=this._normalize(a,this[0]),b=0,d;d=this[b];b++)this._place(a,d,c,0<b);return this}});return c})},"dojox/html/metrics":function(){define("dojo/_base/kernel,dojo/_base/lang,dojo/_base/sniff,dojo/ready,dojo/_base/unload,dojo/_base/window,dojo/dom-geometry".split(","),function(f,k,m,j,i,h,o){var g=k.getObject("dojox.html.metrics",!0),e=k.getObject("dojox");g.getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,
"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0};if(m("ie"))h.doc.documentElement.style.fontSize="100%";var c=h.doc.createElement("div"),b=c.style;b.position="absolute";b.left="-100px";b.top="0";b.width="30px";b.height="1000em";b.borderWidth="0";b.margin="0";b.padding="0";b.outline="0";b.lineHeight="1";b.overflow="hidden";h.body().appendChild(c);for(var d in a)b.fontSize=d,a[d]=16*Math.round(12*c.offsetHeight/16)/12/1E3;h.body().removeChild(c);return a};
var a=null;g.getCachedFontMeasurements=function(c){if(c||!a)a=g.getFontMeasurements();return a};var d=null,b={};g.getTextBox=function(a,c,l){var e,g;if(d)e=d;else{e=d=h.doc.createElement("div");var i=h.doc.createElement("div");i.appendChild(e);g=i.style;g.overflow="scroll";g.position="absolute";g.left="0px";g.top="-10000px";g.width="1px";g.height="1px";g.visibility="hidden";g.borderWidth="0";g.margin="0";g.padding="0";g.outline="0";h.body().appendChild(i)}e.className="";g=e.style;g.borderWidth="0";
g.margin="0";g.padding="0";g.outline="0";if(1<arguments.length&&c)for(var f in c)f in b||(g[f]=c[f]);if(2<arguments.length&&l)e.className=l;e.innerHTML=a;g=o.position(e);g.w=e.parentNode.scrollWidth;return g};var c=16,l=16;g.getScrollbar=function(){return{w:c,h:l}};g._fontResizeNode=null;g.initOnFontResize=function(){var a=g._fontResizeNode=h.doc.createElement("iframe"),c=a.style;c.position="absolute";c.width="5em";c.height="10em";c.top="-10000px";c.display="none";m("ie")?a.onreadystatechange=function(){if("complete"==
a.contentWindow.document.readyState)a.onresize=a.contentWindow.parent[e._scopeName].html.metrics._fontresize}:a.onload=function(){a.contentWindow.onresize=a.contentWindow.parent[e._scopeName].html.metrics._fontresize};a.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}<\/script></head><body></body></html>'");h.body().appendChild(a);g.initOnFontResize=function(){}};g.onFontResize=function(){};g._fontresize=function(){g.onFontResize()};
i.addOnUnload(function(){var a=g._fontResizeNode;if(a){if(m("ie")&&a.onresize)a.onresize=null;else if(a.contentWindow&&a.contentWindow.onresize)a.contentWindow.onresize=null;g._fontResizeNode=null}});j(function(){try{var a=h.doc.createElement("div");a.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";h.body().appendChild(a);c=a.offsetWidth-a.clientWidth;l=a.offsetHeight-a.clientHeight;h.body().removeChild(a);delete a}catch(b){}"fontSizeWatch"in
f.config&&f.config.fontSizeWatch&&g.initOnFontResize()});return g})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(f,k,m,j,i){var h=0,o,g=[],e=0,a=function(){if(h&&!e&&g.length){e=1;var b=g.shift();try{b()}finally{e=0}e=0;g.length&&o(a)}};m.on("idle",a);o=function(){m.idle()&&a()};var k=f.ready=f.addOnLoad=function(a,c,d){var n=i._toArray(arguments);"number"!=typeof a?(d=c,c=a,a=1E3):n.shift();d=d?i.hitch.apply(f,n):function(){c()};d.priority=
a;for(n=0;n<g.length&&a>=g[n].priority;n++);g.splice(n,0,d);o()},d=f.config.addOnLoad;if(d)k[i.isArray(d)?"apply":"call"](f,d);f.config.parseOnLoad&&!f.isAsync&&k(99,function(){f.parser||(f.deprecated("Add explicit require(['dojo/parser']);","","2.0"),m(["dojo/parser"]))});j(function(){h=1;f._postLoad=f.config.afterOnLoad=!0;g.length&&o(a)});return k})},"dojo/domReady":function(){define(["./has"],function(f){function k(a){o?a(j):g.push(a)}var m=this,j=document,i={loaded:1,complete:1},h="string"!=
typeof j.readyState,o=!!i[j.readyState];if(h)j.readyState="loading";if(!o){var g=[],e=[],a=function(a){a=a||m.event;if(!(o||"readystatechange"==a.type&&!i[j.readyState])){o=1;if(h)j.readyState="complete";for(;g.length;)g.shift()(j)}},d=function(c,b){c.addEventListener(b,a,!1);g.push(function(){c.removeEventListener(b,a,!1)})};if(!f("dom-addeventlistener")){var d=function(c,b){b="on"+b;c.attachEvent(b,a);g.push(function(){c.detachEvent(b,a)})},b=j.createElement("div");try{b.doScroll&&null===m.frameElement&&
e.push(function(){try{return b.doScroll("left"),1}catch(a){}})}catch(c){}}d(j,"DOMContentLoaded");d(m,"load");"onreadystatechange"in j?d(j,"readystatechange"):h||e.push(function(){return i[j.readyState]});if(e.length){var l=function(){if(!o){for(var c=e.length;c--;)if(e[c]()){a("poller");return}setTimeout(l,30)}};l()}}k.load=function(a,c,b){k(b)};return k})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(f,k,m){var j=window,i={addOnWindowUnload:function(h,i){if(!f.windowUnloaded)m(j,
"unload",f.windowUnloaded=function(){});m(j,"unload",k.hitch(h,i))},addOnUnload:function(h,i){m(j,"beforeunload",k.hitch(h,i))}};f.addOnWindowUnload=i.addOnWindowUnload;f.addOnUnload=i.addOnUnload;return i})},"dijit/_WidgetBase":function(){define("require,dojo/_base/array,dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/ready,dojo/Stateful,dojo/topic,dojo/_base/window,./Destroyable,./registry".split(","),
function(f,k,m,j,i,h,o,g,e,a,d,b,c,l,n,p,t,u,s,r,v,q){function z(a){return function(c){g[c?"set":"remove"](this.domNode,a,c);this._set(a,c)}}c.add("dijit-legacy-requires",!l.isAsync);c("dijit-legacy-requires")&&t(0,function(){f(["dijit/_base/manager"])});var w={};return h("dijit._WidgetBase",[u,v],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:z("lang"),dir:"",_setDirAttr:z("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,
domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:j.blankGif||f.toUrl("dojo/resources/blank.gif"),postscript:function(a,c){this.create(a,c)},create:function(a,c){this.srcNodeRef=o.byId(c);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&"string"==typeof this.srcNodeRef.id)this.id=this.srcNodeRef.id;if(a)this.params=a,n.mixin(this,a);this.postMixInProperties();if(!this.id)this.id=q.getUniqueId(this.declaredClass.replace(/\./g,
"_")),this.params&&delete this.params.id;this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:r.doc);this.ownerDocumentBody=r.body(this.ownerDocument);q.add(this);this.buildRendering();var b;if(this.domNode){this._applyAttributes();var d=this.srcNodeRef;d&&d.parentNode&&this.domNode!==d&&(d.parentNode.replaceChild(this.domNode,d),b=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();b&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a=
this.constructor,c=a._setterAttrs;if(!c){var c=a._setterAttrs=[],b;for(b in this.attributeMap)c.push(b);var a=a.prototype,d;for(d in a)d in this.attributeMap||"_set"+d.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()})+"Attr"in a&&c.push(d)}k.forEach(c,function(a){this.params&&a in this.params||this[a]&&this.set(a,this[a])},this);for(var l in this.params)this.set(l,this.params[l])},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode)this.domNode=
this.srcNodeRef||this.ownerDocument.createElement("div");if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(k.map(a,function(a){return a+"Rtl"})));e.add(this.domNode,a)}},postCreate:function(){},startup:function(){if(!this._started)this._started=!0,k.forEach(this.getChildren(),function(a){if(!a._started&&!a._destroyed&&n.isFunction(a.startup))a.startup(),a._started=!0})},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},
destroy:function(a){function c(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a)}this._beingDestroyed=!0;this.uninitialize();k.forEach(this._connects,n.hitch(this,"disconnect"));k.forEach(this._supportingWidgets,c);k.forEach(q.findWidgets(this.domNode,this.containerNode),c);this.destroyRendering(a);q.remove(this.id);this._destroyed=!0},destroyRendering:function(c){this.bgIframe&&(this.bgIframe.destroy(c),delete this.bgIframe);this.domNode&&(c?g.remove(this.domNode,"widgetId"):a.destroy(this.domNode),
delete this.domNode);this.srcNodeRef&&(c||a.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){k.forEach(this.getChildren(),function(c){c.destroyRecursive&&c.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var c=this.domNode;n.isObject(a)?b.set(c,a):c.style.cssText=c.style.cssText?c.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,c,b){b=3<=arguments.length?b:this.attributeMap[a];k.forEach(n.isArray(b)?b:[b],function(b){var d=
this[b.node||b||"domNode"];switch(b.type||"attribute"){case "attribute":n.isFunction(c)&&(c=n.hitch(this,c));b=b.attribute?b.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;d.tagName?g.set(d,b,c):d.set(b,c);break;case "innerText":d.innerHTML="";d.appendChild(this.ownerDocument.createTextNode(c));break;case "innerHTML":d.innerHTML=c;break;case "class":e.replace(d,c,this[a])}},this)},get:function(a){var c=this._getAttrNames(a);return this[c.g]?this[c.g]():this[a]},set:function(a,c){if("object"===
typeof a){for(var b in a)this.set(b,a[b]);return this}b=this._getAttrNames(a);var d=this[b.s];if(n.isFunction(d))var l=d.apply(this,Array.prototype.slice.call(arguments,1));else{var d=this.focusNode&&!n.isFunction(this.focusNode)?"focusNode":"domNode",e=this[d].tagName,g;if(!(g=w[e])){g=this[d];var h={},p;for(p in g)h[p.toLowerCase()]=!0;g=w[e]=h}p=a in this.attributeMap?this.attributeMap[a]:b.s in this?this[b.s]:b.l in g&&"function"!=typeof c||/^aria-|^data-|^role$/.test(a)?d:null;null!=p&&this._attrToDom(a,
c,p);this._set(a,c)}return l||this},_attrPairNames:{},_getAttrNames:function(a){var c=this._attrPairNames;if(c[a])return c[a];var b=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return c[a]={n:a+"Node",s:"_set"+b+"Attr",g:"_get"+b+"Attr",l:b.toLowerCase()}},_set:function(a,c){var b=this[a];this[a]=c;this._created&&c!==b&&(this._watchCallbacks&&this._watchCallbacks(a,b,c),this.emit("attrmodified-"+a,{detail:{prevValue:b,newValue:c}}))},emit:function(a,c,b){c=
c||{};if(void 0===c.bubbles)c.bubbles=!0;if(void 0===c.cancelable)c.cancelable=!0;if(!c.detail)c.detail={};c.detail.widget=this;var d,l=this["on"+a];l&&(d=l.apply(this,b?b:c));this._started&&!this._beingDestroyed&&p.emit(this.domNode,a.toLowerCase(),c);return d},on:function(a,c){var b=this._onMap(a);return b?m.after(this,b,c,!0):this.own(p(this.domNode,a,c))[0]},_onMap:function(a){var c=this.constructor,b=c._onMap;if(!b){var b=c._onMap={},d;for(d in c.prototype)/^on/.test(d)&&(b[d.replace(/^on/,"").toLowerCase()]=
d)}return b["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?q.findWidgets(this.containerNode):[]},getParent:function(){return q.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,c,b){return this.own(i.connect(a,c,this,b))[0]},disconnect:function(a){a.remove()},subscribe:function(a,c){return this.own(s.subscribe(a,n.hitch(this,c)))[0]},unsubscribe:function(a){a.remove()},
isLeftToRight:function(){return this.dir?"ltr"==this.dir:d.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=b.get(this.domNode,"display")},placeAt:function(c,b){var d=!c.tagName&&q.byId(c);d&&d.addChild&&(!b||"number"===typeof b)?d.addChild(this,b):(d=d?d.containerNode&&!/after|before|replace/.test(b||"")?d.containerNode:d.domNode:o.byId(c,this.ownerDocument),a.place(this.domNode,d,b),!this._started&&(this.getParent()||{})._started&&this.startup());return this},getTextDir:function(a,
c){return c},applyTextDir:function(){},defer:function(a,c){var b=setTimeout(n.hitch(this,function(){b=null;this._destroyed||n.hitch(this,a)()}),c||0);return{remove:function(){b&&(clearTimeout(b),b=null);return null}}}})})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","dojo/when"],function(f,k,m,j){return f("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(i){var h=this._attrPairNames;return h[i]?h[i]:h[i]={s:"_"+i+"Setter",g:"_"+i+"Getter"}},postscript:function(i){i&&
this.set(i)},_get:function(i,h){return"function"===typeof this[h.g]?this[h.g]():this[i]},get:function(i){return this._get(i,this._getAttrNames(i))},set:function(i,h){if("object"===typeof i){for(var f in i)i.hasOwnProperty(f)&&"_watchCallbacks"!=f&&this.set(f,i[f]);return this}f=this._getAttrNames(i);var g=this._get(i,f);f=this[f.s];var e;"function"===typeof f?e=f.apply(this,Array.prototype.slice.call(arguments,1)):this[i]=h;if(this._watchCallbacks){var a=this;j(e,function(){a._watchCallbacks(i,g,
h)})}return this},_changeAttrValue:function(i,h){var f=this.get(i);this[i]=h;this._watchCallbacks&&this._watchCallbacks(i,f,h);return this},watch:function(i,h){var f=this._watchCallbacks;if(!f)var g=this,f=this._watchCallbacks=function(a,b,c,l){var n=function(l){if(l)for(var l=l.slice(),n=0,e=l.length;n<e;n++)l[n].call(g,a,b,c)};n(f["_"+a]);l||n(f["*"])};!h&&"function"===typeof i?(h=i,i="*"):i="_"+i;var e=f[i];"object"!==typeof e&&(e=f[i]=[]);e.push(h);var a={};a.unwatch=a.remove=function(){var a=
m.indexOf(e,h);-1<a&&e.splice(a,1)};return a}})})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(f,k){return function(m,j,i,h){var o=m&&"function"===typeof m.then,g=o&&m instanceof k;if(o){if(!g)o=new f(m.cancel),m.then(o.resolve,o.reject,o.progress),m=o.promise}else return j?j(m):(new f).resolve(m);return j||i||h?m.then(j,i,h):m}})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(f,
k,m,j,i){var h=Object.freeze||function(){},o=function(a,c,l,n,e){2===c&&d.instrumentRejected&&0===a.length&&d.instrumentRejected(l,!1,n,e);for(e=0;e<a.length;e++)g(a[e],c,l,n)},g=function(b,c,l,n){var g=b[c],h=b.deferred;if(g)try{var i=g(l);if(i&&"function"===typeof i.then){b.cancel=i.cancel;i.then(e(h,1),e(h,2),e(h,0));return}a(h,1,i)}catch(f){a(h,2,f)}else a(h,c,l);2===c&&d.instrumentRejected&&d.instrumentRejected(l,!!g,n,h.promise)},e=function(b,c){return function(d){a(b,c,d)}},a=function(a,c,
d){if(!a.isCanceled())switch(c){case 0:a.progress(d);break;case 1:a.resolve(d);break;case 2:a.reject(d)}},d=function(a){var c=this.promise=new j,l=this,n,e,i,f=!1,k=[];Error.captureStackTrace&&(Error.captureStackTrace(l,d),Error.captureStackTrace(c,d));this.isResolved=c.isResolved=function(){return 1===n};this.isRejected=c.isRejected=function(){return 2===n};this.isFulfilled=c.isFulfilled=function(){return!!n};this.isCanceled=c.isCanceled=function(){return f};this.progress=function(a,b){if(n){if(!0===
b)throw Error("This deferred has already been fulfilled.");return c}o(k,0,a,null,l);return c};this.resolve=function(a,b){if(n){if(!0===b)throw Error("This deferred has already been fulfilled.");return c}o(k,n=1,e=a,null,l);k=null;return c};var r=this.reject=function(a,b){if(n){if(!0===b)throw Error("This deferred has already been fulfilled.");return c}Error.captureStackTrace&&Error.captureStackTrace(i={},r);o(k,n=2,e=a,i,l);k=null;return c};this.then=c.then=function(a,b,l){var h=[l,a,b];h.cancel=
c.cancel;h.deferred=new d(function(a){return h.cancel&&h.cancel(a)});n&&!k?g(h,n,e,i):k.push(h);return h.deferred.promise};this.cancel=c.cancel=function(c,d){if(n){if(!0===d)throw Error("This deferred has already been fulfilled.");}else{if(a)var l=a(c),c="undefined"===typeof l?c:l;f=!0;if(n){if(2===n&&e===c)return c}else return"undefined"===typeof c&&(c=new m),r(c),c}};h(c)};d.prototype.toString=function(){return"[object Deferred]"};i&&i(d);return d})},"dojo/errors/CancelError":function(){define(["./create"],
function(f){return f("CancelError",null,null,{dojoType:"cancel"})})},"dojo/errors/create":function(){define(["../_base/lang"],function(f){return function(k,m,j,i){var j=j||Error,h=function(i){if(j===Error){Error.captureStackTrace&&Error.captureStackTrace(this,h);var g=Error.call(this,i),e;for(e in g)g.hasOwnProperty(e)&&(this[e]=g[e]);this.message=i;this.stack=g.stack}else j.apply(this,arguments);m&&m.apply(this,arguments)};h.prototype=f.delegate(j.prototype,i);h.prototype.name=k;return h.prototype.constructor=
h}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(f){function k(){throw new TypeError("abstract");}return f.extend(function(){},{then:function(){k()},cancel:function(){k()},isResolved:function(){k()},isRejected:function(){k()},isFulfilled:function(){k()},isCanceled:function(){k()},always:function(f){return this.then(f,f)},otherwise:function(f){return this.then(null,f)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},
"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(f,k,m,j){function i(a,c,d){var n="";a&&a.stack&&(n+=a.stack);c&&c.stack&&(n+="\n    ----------------------------------------\n    rejected"+c.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));d&&d.stack&&(n+="\n    ----------------------------------------\n"+d.stack);console.error(a,n)}function h(a,c,d,n){c||i(a,d,n)}function o(b,c,l,n){c?j.some(e,function(a,c){if(a.error===b)return e.splice(c,
1),!0}):j.some(e,function(a){return a.error===b})||e.push({error:b,rejection:l,deferred:n,timestamp:(new Date).getTime()});a||(a=setTimeout(g,d))}function g(){var b=(new Date).getTime(),c=b-d;e=j.filter(e,function(a){return a.timestamp<c?(i(a.error,a.rejection,a.deferred),!1):!0});e.length&&(a=setTimeout(g,e[0].timestamp+d-b))}var e=[],a=!1,d=1E3;return function(a){var c=k("config-useDeferredInstrumentation");if(c){f.on("resolved",m.hitch(console,"log","resolved"));f.on("rejected",m.hitch(console,
"log","rejected"));f.on("progress",m.hitch(console,"log","progress"));var l=[];"string"===typeof c&&(l=c.split(","),c=l.shift());if("report-rejections"===c)a.instrumentRejected=h;else if("report-unhandled-rejections"===c||!0===c||1===c)a.instrumentRejected=o,d=parseInt(l[0],10)||d;else throw Error("Unsupported instrumentation usage <"+c+">");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(f,k,m){function j(f){setTimeout(function(){h.apply(i,f)},0)}
var i=new m,h=i.emit;i.emit=null;k.prototype.trace=function(){var h=f._toArray(arguments);this.then(function(g){j(["resolved",g].concat(h))},function(g){j(["rejected",g].concat(h))},function(g){j(["progress",g].concat(h))});return this};k.prototype.traceRejected=function(){var h=f._toArray(arguments);this.otherwise(function(g){j(["rejected",g].concat(h))});return this};return i})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(f,k,m){return m("dijit.Destroyable",
null,{destroy:function(){this._destroyed=!0},own:function(){f.forEach(arguments,function(f){var i="destroyRecursive"in f?"destroyRecursive":"destroy"in f?"destroy":"remove";f._odh=k.before(this,"destroy",function(h){f._odh.remove();f[i](h)});k.after(f,i,function(){f._odh.remove()})},this);return arguments}})})},"dijit/registry":function(){define(["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],function(f,k,m,j,i){var h={},o={},g={length:0,add:function(e){if(o[e.id])throw Error("Tried to register widget with id=="+
e.id+" but that id is already registered");o[e.id]=e;this.length++},remove:function(e){o[e]&&(delete o[e],this.length--)},byId:function(e){return"string"==typeof e?o[e]:e},byNode:function(e){return o[e.getAttribute("widgetId")]},toArray:function(){var e=[],a;for(a in o)e.push(o[a]);return e},getUniqueId:function(e){var a;do a=e+"_"+(e in h?++h[e]:h[e]=0);while(o[a]);return"dijit"==i._scopeName?a:i._scopeName+"_"+a},findWidgets:function(e,a){function d(c){for(c=c.firstChild;c;c=c.nextSibling)if(1==
c.nodeType){var l=c.getAttribute("widgetId");l?(l=o[l])&&b.push(l):c!==a&&d(c)}}var b=[];d(e);return b},_destroyAll:function(){i._curFocus=null;i._prevFocus=null;i._activeStack=[];f.forEach(g.findWidgets(j.body()),function(e){e._destroyed||(e.destroyRecursive?e.destroyRecursive():e.destroy&&e.destroy())})},getEnclosingWidget:function(e){for(;e;){var a=e.getAttribute&&e.getAttribute("widgetId");if(a)return o[a];e=e.parentNode}return null},_hash:o};return i.registry=g})},"dijit/main":function(){define(["dojo/_base/kernel"],
function(f){return f.dijit})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(f,k,m,j){j.extend(k,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return m("dijit._FocusMixin",null,{_focusManager:f})})},"dijit/focus":function(){define("dojo/aspect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/Evented,dojo/_base/lang,dojo/on,dojo/ready,dojo/sniff,dojo/Stateful,dojo/_base/unload,dojo/_base/window,dojo/window,./a11y,./registry,./main".split(","),
function(f,k,m,j,i,h,o,g,e,a,d,b,c,l,n,p,t){var u=new (k([d,h],{curNode:null,activeStack:[],constructor:function(){var a=o.hitch(this,function(a){m.isDescendant(this.curNode,a)&&this.set("curNode",null);m.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});f.before(i,"empty",a);f.before(i,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(c,b){var d=this,l=function(c){d._justMouseDowned=!0;setTimeout(function(){d._justMouseDowned=!1},0);
if(!a("ie")||!c||!(c.srcElement&&null==c.srcElement.parentNode))d._onTouchNode(b||c.target||c.srcElement,"mouse")},e=a("ie")?c.document.documentElement:c.document;if(e){if(a("ie")){c.document.body.attachEvent("onmousedown",l);var g=function(a){var c=a.srcElement.tagName.toLowerCase();"#document"==c||"body"==c||(n.isTabNavigable(a.srcElement)?d._onFocusNode(b||a.srcElement):d._onTouchNode(b||a.srcElement))};e.attachEvent("onfocusin",g);var h=function(a){d._onBlurNode(b||a.srcElement)};e.attachEvent("onfocusout",
h);return{remove:function(){c.document.detachEvent("onmousedown",l);e.detachEvent("onfocusin",g);e.detachEvent("onfocusout",h);e=null}}}e.body.addEventListener("mousedown",l,!0);e.body.addEventListener("touchstart",l,!0);var p=function(a){d._onFocusNode(b||a.target)};e.addEventListener("focus",p,!0);var i=function(a){d._onBlurNode(b||a.target)};e.addEventListener("blur",i,!0);return{remove:function(){e.body.removeEventListener("mousedown",l,!0);e.body.removeEventListener("touchstart",l,!0);e.removeEventListener("focus",
p,!0);e.removeEventListener("blur",i,!0);e=null}}}},_onBlurNode:function(){this._clearFocusTimer&&clearTimeout(this._clearFocusTimer);this._clearFocusTimer=setTimeout(o.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0);if(!this._justMouseDowned)this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),this._clearActiveWidgetsTimer=setTimeout(o.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)},_onTouchNode:function(a,
b){this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);var d=[];try{for(;a;){var n=j.get(a,"dijitPopupParent");if(n)a=p.byId(n).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===c.body())break;a=l.get(a.ownerDocument).frameElement}else{var e=a.getAttribute&&a.getAttribute("widgetId"),g=e&&p.byId(e);g&&!("mouse"==b&&g.get("disabled"))&&d.unshift(e);a=a.parentNode}}}catch(h){}this._setStack(d,b)},_onFocusNode:function(a){a&&
9!=a.nodeType&&(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,c){var b=this.activeStack;this.set("activeStack",a);for(var d=0;d<Math.min(b.length,a.length)&&!(b[d]!=a[d]);d++);for(var l,n=b.length-1;n>=d;n--)if(l=p.byId(b[n]))l._hasBeenBlurred=!0,l.set("focused",!1),l._focusManager==this&&l._onBlur(c),this.emit("widget-blur",l,c);for(n=
d;n<a.length;n++)if(l=p.byId(a[n]))l.set("focused",!0),l._focusManager==this&&l._onFocus(c),this.emit("widget-focus",l,c)},focus:function(a){if(a)try{a.focus()}catch(c){}}}));e(function(){var d=u.registerWin(l.get(c.doc));a("ie")&&b.addOnWindowUnload(function(){d&&(d.remove(),d=null)})});t.focus=function(a){u.focus(a)};for(var s in u)/^_/.test(s)||(t.focus[s]="function"==typeof u[s]?o.hitch(u,s):u[s]);u.watch(function(a,c,b){t.focus[a]=b});return u})},"dojo/window":function(){define("./_base/lang,./sniff,./_base/window,./dom,./dom-geometry,./dom-style".split(","),
function(f,k,m,j,i,h){var o={getBox:function(g){var g=g||m.doc,e="BackCompat"==g.compatMode?m.body(g):g.documentElement,a=i.docScroll(g);if(k("touch"))var d=o.get(g),g=d.innerWidth||e.clientWidth,e=d.innerHeight||e.clientHeight;else g=e.clientWidth,e=e.clientHeight;return{l:a.x,t:a.y,w:g,h:e}},get:function(g){if(k("ie")&&o!==document.parentWindow){g.parentWindow.execScript("document._parentWindow = window;","Javascript");var e=g._parentWindow;g._parentWindow=null;return e}return g.parentWindow||g.defaultView},
scrollIntoView:function(g,e){try{var g=j.byId(g),a=g.ownerDocument||m.doc,d=m.body(a),b=a.documentElement||d.parentNode,c=k("ie"),l=k("webkit");if((!k("mozilla")&&!c&&!l&&!k("opera")||g==d||g==b)&&"undefined"!=typeof g.scrollIntoView)g.scrollIntoView(!1);else{var n="BackCompat"==a.compatMode,p=9<=c&&"frameElement"in g.ownerDocument.parentWindow?0<b.clientHeight&&0<b.clientWidth&&(0==d.clientHeight||0==d.clientWidth||d.clientHeight>b.clientHeight||d.clientWidth>b.clientWidth)?b:d:n?d:b,l=l?d:p,f=p.clientWidth,
o=p.clientHeight,s=!i.isBodyLtr(a),r=e||i.position(g),v=g.parentNode,a=function(a){return 6>=c||c&&n?!1:"fixed"==h.get(a,"position").toLowerCase()};if(!a(g))for(;v;){v==d&&(v=l);var q=i.position(v),z=a(v);if(v==l){q.w=f;q.h=o;l==b&&c&&s&&(q.x+=l.offsetWidth-q.w);if(0>q.x||!c)q.x=0;if(0>q.y||!c)q.y=0}else{var w=i.getPadBorderExtents(v);q.w-=w.w;q.h-=w.h;q.x+=w.l;q.y+=w.t;var A=v.clientWidth,x=q.w-A;if(0<A&&0<x)q.w=A,q.x+=s&&(c||v.clientLeft>w.l)?x:0;A=v.clientHeight;x=q.h-A;if(0<A&&0<x)q.h=A}if(z){if(0>
q.y)q.h+=q.y,q.y=0;if(0>q.x)q.w+=q.x,q.x=0;if(q.y+q.h>o)q.h=o-q.y;if(q.x+q.w>f)q.w=f-q.x}var E=r.x-q.x,B=r.y-Math.max(q.y,0),H=E+r.w-q.w,P=B+r.h-q.h;if(0<H*E){var C=Math[0>E?"max":"min"](E,H);if(s&&(8==c&&!n||9<=c))C=-C;r.x+=v.scrollLeft;v.scrollLeft+=C;r.x-=v.scrollLeft}0<P*B&&(r.y+=v.scrollTop,v.scrollTop+=Math[0>B?"max":"min"](B,P),r.y-=v.scrollTop);v=v!=l&&!z&&v.parentNode}}}catch(y){console.error("scrollIntoView: "+y),g.scrollIntoView(!1)}}};f.setObject("dojo.window",o);return o})},"dijit/a11y":function(){define("dojo/_base/array,dojo/_base/config,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-style,dojo/sniff,./main".split(","),
function(f,k,m,j,i,h,o,g){var e=g._isElementShown=function(a){var b=h.get(a);return"hidden"!=b.visibility&&"collapsed"!=b.visibility&&"none"!=b.display&&"hidden"!=i.get(a,"type")};g.hasDefaultTabStop=function(a){switch(a.nodeName.toLowerCase()){case "a":return i.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var b;try{var c=a.contentDocument;if("designMode"in c&&"on"==c.designMode)return!0;b=c.body}catch(l){try{b=a.contentWindow.document.body}catch(n){return!1}}return b&&
("true"==b.contentEditable||b.firstChild&&"true"==b.firstChild.contentEditable);default:return"true"==a.contentEditable}};var a=g.isTabNavigable=function(a){return i.get(a,"disabled")?!1:i.has(a,"tabIndex")?0<=i.get(a,"tabIndex"):g.hasDefaultTabStop(a)};g._getTabNavigable=function(d){function b(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}var c,l,n,g,h,f,j={},k=function(d){for(d=d.firstChild;d;d=d.nextSibling)if(!(1!=d.nodeType||
o("ie")&&"HTML"!==d.scopeName||!e(d))){if(a(d)){var m=+i.get(d,"tabIndex");if(!i.has(d,"tabIndex")||0==m)c||(c=d),l=d;else if(0<m){if(!n||m<g)g=m,n=d;if(!h||m>=f)f=m,h=d}m=b(d);i.get(d,"checked")&&m&&(j[m]=d)}"SELECT"!=d.nodeName.toUpperCase()&&k(d)}};e(d)&&k(d);return{first:j[b(c)]||c,last:j[b(l)]||l,lowest:j[b(n)]||n,highest:j[b(h)]||h}};g.getFirstInTabbingOrder=function(a,b){var c=g._getTabNavigable(j.byId(a,b));return c.lowest?c.lowest:c.first};g.getLastInTabbingOrder=function(a,b){var c=g._getTabNavigable(j.byId(a,
b));return c.last?c.last:c.highest};return{hasDefaultTabStop:g.hasDefaultTabStop,isTabNavigable:g.isTabNavigable,_getTabNavigable:g._getTabNavigable,getFirstInTabbingOrder:g.getFirstInTabbingOrder,getLastInTabbingOrder:g.getLastInTabbingOrder}})},"dijit/_TemplatedMixin":function(){define("dojo/_base/lang,dojo/touch,./_WidgetBase,dojo/string,dojo/cache,dojo/_base/array,dojo/_base/declare,dojo/dom-construct,dojo/sniff,dojo/_base/unload".split(","),function(f,k,m,j,i,h,o,g,e,a){var d=o("dijit._TemplatedMixin",
null,{templateString:null,templatePath:null,_skipNodeCache:!1,_earlyTemplatedStartup:!1,constructor:function(){this._attachPoints=[];this._attachEvents=[]},_stringRepl:function(a){var c=this.declaredClass,d=this;return j.substitute(a,this,function(a,b){"!"==b.charAt(0)&&(a=f.getObject(b.substr(1),!1,d));if("undefined"==typeof a)throw Error(c+" template:"+b);return null==a?"":"!"==b.charAt(0)?a:a.toString().replace(/"/g,"&quot;")},this)},buildRendering:function(){if(!this.templateString)this.templateString=
i(this.templatePath,{sanitize:!0});var a=d.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),c;if(f.isString(a)){if(c=g.toDom(this._stringRepl(a),this.ownerDocument),1!=c.nodeType)throw Error("Invalid template: "+a);}else c=a.cloneNode(!0);this.domNode=c;this.inherited(arguments);this._attachTemplateNodes(c,function(a,c){return a.getAttribute(c)});this._beforeFillContent();this._fillContent(this.srcNodeRef)},_beforeFillContent:function(){},_fillContent:function(a){var c=
this.containerNode;if(a&&c)for(;a.hasChildNodes();)c.appendChild(a.firstChild)},_attachTemplateNodes:function(a,c){for(var d=f.isArray(a)?a:a.all||a.getElementsByTagName("*"),n=f.isArray(a)?0:-1;0>n||d[n];n++){var e=-1==n?a:d[n];if(!this.widgetsInTemplate||!c(e,"dojoType")&&!c(e,"data-dojo-type")){var g=c(e,"dojoAttachPoint")||c(e,"data-dojo-attach-point");if(g)for(var h=g.split(/\s*,\s*/);g=h.shift();)f.isArray(this[g])?this[g].push(e):this[g]=e,this._attachPoints.push(g);if(g=c(e,"dojoAttachEvent")||
c(e,"data-dojo-attach-event"))for(var h=g.split(/\s*,\s*/),i=f.trim;g=h.shift();)if(g){var j=null;-1!=g.indexOf(":")?(j=g.split(":"),g=i(j[0]),j=i(j[1])):g=i(g);j||(j=g);this._attachEvents.push(this.connect(e,k[g]||g,j))}}}},destroyRendering:function(){h.forEach(this._attachPoints,function(a){delete this[a]},this);this._attachPoints=[];h.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments)}});d._templateCache={};d.getCachedTemplate=function(a,c,l){var e=
d._templateCache,h=a,i=e[h];if(i){try{if(!i.ownerDocument||i.ownerDocument==(l||document))return i}catch(f){}g.destroy(i)}a=j.trim(a);if(c||a.match(/\$\{([^\}]+)\}/g))return e[h]=a;c=g.toDom(a,l);if(1!=c.nodeType)throw Error("Invalid template: "+a);return e[h]=c};e("ie")&&a.addOnWindowUnload(function(){var a=d._templateCache,c;for(c in a){var l=a[c];"object"==typeof l&&g.destroy(l);delete a[c]}});f.extend(m,{dojoAttachEvent:"",dojoAttachPoint:""});return d})},"dojo/touch":function(){define("./_base/kernel,./_base/lang,./aspect,./dom,./on,./has,./mouse,./ready,./_base/window".split(","),
function(f,k,m,j,i,h,o,g,e){function a(a){return function(c,b){return i(c,a,b)}}var m=h("touch"),d=!1;h("ios")&&(h=navigator.userAgent.match(/OS ([\d_]+)/)?RegExp.$1:"1",d=5>parseFloat(h.replace(/_/,".").replace(/_/g,"")));var b,c;m&&(g(function(){c=e.body();e.doc.addEventListener("touchstart",function(a){var b=c;c=a.target;i.emit(b,"dojotouchout",{target:b,relatedTarget:c,bubbles:!0});i.emit(c,"dojotouchover",{target:c,relatedTarget:b,bubbles:!0})},!0);i(e.doc,"touchmove",function(a){if((a=e.doc.elementFromPoint(a.pageX-
(d?0:e.global.pageXOffset),a.pageY-(d?0:e.global.pageYOffset)))&&c!==a)i.emit(c,"dojotouchout",{target:c,relatedTarget:a,bubbles:!0}),i.emit(a,"dojotouchover",{target:a,relatedTarget:c,bubbles:!0}),c=a})}),b=function(a,b){return i(e.doc,"touchmove",function(d){(a===e.doc||j.isDescendant(c,a))&&b.call(this,k.mixin({},d,{target:c}))})});o={press:a(m?"touchstart":"mousedown"),move:m?b:a("mousemove"),release:a(m?"touchend":"mouseup"),cancel:m?a("touchcancel"):o.leave,over:a(m?"dojotouchover":"mouseover"),
out:a(m?"dojotouchout":"mouseout"),enter:o._eventHandler(m?"dojotouchover":"mouseover"),leave:o._eventHandler(m?"dojotouchout":"mouseout")};return f.touch=o})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(f,k){var m={};k.setObject("dojo.string",m);m.rep=function(f,i){if(0>=i||!f)return"";for(var h=[];;){i&1&&h.push(f);if(!(i>>=1))break;f+=f}return h.join("")};m.pad=function(f,i,h,k){h||(h="0");f=""+f;i=m.rep(h,Math.ceil((i-f.length)/h.length));return k?f+i:i+f};m.substitute=
function(j,i,h,m){m=m||f.global;h=h?k.hitch(m,h):function(g){return g};return j.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(g,e,a){g=k.getObject(e,!1,i);a&&(g=k.getObject(a,!1,m).call(m,g,e));return h(g,e).toString()})};m.trim=String.prototype.trim?k.trim:function(f){for(var f=f.replace(/^\s+/,""),i=f.length-1;0<=i;i--)if(/\S/.test(f.charAt(i))){f=f.substring(0,i+1);break}return f};return m})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(f){return f.cache})},"dojo/text":function(){define(["./_base/kernel",
"require","./has","./_base/xhr"],function(f,k,m,j){var i;i=function(a,d,b){j("GET",{url:a,sync:!!d,load:b,headers:f.config.textPluginHeaders||{}})};var h={},o=function(a){if(a){var a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,""),d=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);d&&(a=d[1])}else a="";return a},g={},e={};f.cache=function(a,d,b){var c;"string"==typeof a?/\//.test(a)?(c=a,b=d):c=k.toUrl(a.replace(/\./g,"/")+(d?"/"+d:"")):(c=a+"",b=d);a=void 0!=b&&"string"!=
typeof b?b.value:b;b=b&&b.sanitize;if("string"==typeof a)return h[c]=a,b?o(a):a;if(null===a)return delete h[c],null;c in h||i(c,!0,function(a){h[c]=a});return b?o(h[c]):h[c]};return{dynamic:!0,normalize:function(a,d){var b=a.split("!"),c=b[0];return(/^\./.test(c)?d(c):c)+(b[1]?"!"+b[1]:"")},load:function(a,d,b){var a=a.split("!"),c=1<a.length,l=a[0],n=d.toUrl(a[0]),a="url:"+n,f=g,j=function(a){b(c?o(a):a)};l in h?f=h[l]:a in d.cache?f=d.cache[a]:n in h&&(f=h[n]);if(f===g)if(e[n])e[n].push(j);else{var k=
e[n]=[j];i(n,!d.async,function(a){h[l]=h[n]=a;for(var c=0;c<k.length;)k[c++](a);delete e[n]})}else j(f)}}})},"dojo/_base/xhr":function(){define("./kernel,./sniff,require,../io-query,../dom,../dom-form,./Deferred,./config,./json,./lang,./array,../on,../aspect,../request/watch,../request/xhr,../request/util".split(","),function(f,k,m,j,i,h,o,g,e,a,d,b,c,l,n,p){f._xhrObj=n._create;var t=f.config;f.objectToQuery=j.objectToQuery;f.queryToObject=j.queryToObject;f.fieldToObject=h.fieldToObject;f.formToObject=
h.toObject;f.formToQuery=h.toQuery;f.formToJson=h.toJson;f._blockAsync=!1;var u=f._contentHandlers=f.contentHandlers={text:function(a){return a.responseText},json:function(a){return e.fromJson(a.responseText||null)},"json-comment-filtered":function(a){g.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}&&\nUse djConfig.useCommentedJson=true to turn off this message.");
var a=a.responseText,c=a.indexOf("/*"),b=a.lastIndexOf("*/");if(-1==c||-1==b)throw Error("JSON was not comment filtered");return e.fromJson(a.substring(c+2,b))},javascript:function(a){return f.eval(a.responseText)},xml:function(a){var c=a.responseXML;if(k("ie")&&(!c||!c.documentElement)){var b=function(a){return"MSXML"+a+".DOMDocument"},b=["Microsoft.XMLDOM",b(6),b(4),b(3),b(2)];d.some(b,function(b){try{var d=new ActiveXObject(b);d.async=!1;d.loadXML(a.responseText);c=d}catch(l){return!1}return!0})}return c},
"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?u["json-comment-filtered"](a):u.json(a)}};f._ioSetArgs=function(c,b,d,l){var e={args:c,url:c.url},n=null;if(c.form){var n=i.byId(c.form),g=n.getAttributeNode("action");e.url=e.url||(g?g.value:null);n=h.toObject(n)}g=[{}];n&&g.push(n);c.content&&g.push(c.content);c.preventCache&&g.push({"dojo.preventCache":(new Date).valueOf()});e.query=j.objectToQuery(a.mixin.apply(null,g));e.handleAs=c.handleAs||"text";
var p=new o(function(a){a.canceled=!0;b&&b(a);var c=a.ioArgs.error;if(!c)c=Error("request cancelled"),c.dojoType="cancel",a.ioArgs.error=c;return c});p.addCallback(d);var k=c.load;k&&a.isFunction(k)&&p.addCallback(function(a){return k.call(c,a,e)});var m=c.error;m&&a.isFunction(m)&&p.addErrback(function(a){return m.call(c,a,e)});var s=c.handle;s&&a.isFunction(s)&&p.addBoth(function(a){return s.call(c,a,e)});p.addErrback(function(a){return l(a,p)});t.ioPublish&&f.publish&&!1!==e.args.ioPublish&&(p.addCallbacks(function(a){f.publish("/dojo/io/load",
[p,a]);return a},function(a){f.publish("/dojo/io/error",[p,a]);return a}),p.addBoth(function(a){f.publish("/dojo/io/done",[p,a]);return a}));p.ioArgs=e;return p};var s=function(a){a=u[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},r=function(a,c){c.ioArgs.args.failOk||console.error(a);return a},v=function(a){0>=q&&(q=0,t.ioPublish&&f.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish)&&f.publish("/dojo/io/stop"))},q=0;c.after(l,"_onAction",function(){q-=1});c.after(l,"_onInFlight",v);f._ioCancelAll=
l.cancelAll;f._ioNotifyStart=function(a){t.ioPublish&&f.publish&&!1!==a.ioArgs.args.ioPublish&&(q||f.publish("/dojo/io/start"),q+=1,f.publish("/dojo/io/send",[a]))};f._ioWatch=function(c,b,d,e){c.ioArgs.options=c.ioArgs.args;a.mixin(c,{response:c.ioArgs,isValid:function(){return b(c)},isReady:function(){return d(c)},handleResponse:function(){return e(c)}});l(c);v(c)};f._ioAddQueryToUrl=function(a){if(a.query.length)a.url+=(-1==a.url.indexOf("?")?"?":"&")+a.query,a.query=null};f.xhr=function(a,c,b){var d,
l=f._ioSetArgs(c,function(){d&&d.cancel()},s,r),e=l.ioArgs;"postData"in c?e.query=c.postData:"putData"in c?e.query=c.putData:"rawBody"in c?e.query=c.rawBody:(2<arguments.length&&!b||-1==="POST|PUT".indexOf(a.toUpperCase()))&&f._ioAddQueryToUrl(e);var g={method:a,handleAs:"text",timeout:c.timeout,withCredentials:c.withCredentials,ioArgs:e};if("undefined"!==typeof c.headers)g.headers=c.headers;if("undefined"!==typeof c.contentType){if(!g.headers)g.headers={};g.headers["Content-Type"]=c.contentType}if("undefined"!==
typeof e.query)g.data=e.query;if("undefined"!==typeof c.sync)g.sync=c.sync;f._ioNotifyStart(l);try{d=n(e.url,g,!0)}catch(h){return l.cancel(),l}l.ioArgs.xhr=d.response.xhr;d.then(function(){l.resolve(l)}).otherwise(function(a){e.error=a;l.reject(a)});return l};f.xhrGet=function(a){return f.xhr("GET",a)};f.rawXhrPost=f.xhrPost=function(a){return f.xhr("POST",a,!0)};f.rawXhrPut=f.xhrPut=function(a){return f.xhr("PUT",a,!0)};f.xhrDelete=function(a){return f.xhr("DELETE",a)};f._isDocumentOk=function(a){return p.checkStatus(a.status)};
f._getText=function(a){var c;f.xhrGet({url:a,sync:!0,load:function(a){c=a}});return c};a.mixin(f.xhr,{_xhrObj:f._xhrObj,fieldToObject:h.fieldToObject,formToObject:h.toObject,objectToQuery:j.objectToQuery,formToQuery:h.toQuery,formToJson:h.toJson,queryToObject:j.queryToObject,contentHandlers:u,_ioSetArgs:f._ioSetArgs,_ioCancelAll:f._ioCancelAll,_ioNotifyStart:f._ioNotifyStart,_ioWatch:f._ioWatch,_ioAddQueryToUrl:f._ioAddQueryToUrl,_isDocumentOk:f._isDocumentOk,_getText:f._getText,get:f.xhrGet,post:f.xhrPost,
put:f.xhrPut,del:f.xhrDelete});return f.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(f){var k={};return{objectToQuery:function(m){var j=encodeURIComponent,i=[],h;for(h in m){var o=m[h];if(o!=k[h]){var g=j(h)+"=";if(f.isArray(o))for(var e=0,a=o.length;e<a;++e)i.push(g+j(o[e]));else i.push(g+j(o))}}return i.join("&")},queryToObject:function(k){for(var j=decodeURIComponent,k=k.split("&"),i={},h,o,g=0,e=k.length;g<e;++g)if(o=k[g],o.length){var a=o.indexOf("=");0>a?(h=j(o),o=""):
(h=j(o.slice(0,a)),o=j(o.slice(a+1)));"string"==typeof i[h]&&(i[h]=[i[h]]);f.isArray(i[h])?i[h].push(o):i[h]=o}return i}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(f,k,m,j){var i={fieldToObject:function(h){var f=null;if(h=k.byId(h)){var g=h.name,e=(h.type||"").toLowerCase();if(g&&e&&!h.disabled)if("radio"==e||"checkbox"==e){if(h.checked)f=h.value}else if(h.multiple){f=[];for(h=[h.firstChild];h.length;)for(g=h.pop();g;g=g.nextSibling)if(1==g.nodeType&&
"option"==g.tagName.toLowerCase())g.selected&&f.push(g.value);else{g.nextSibling&&h.push(g.nextSibling);g.firstChild&&h.push(g.firstChild);break}}else f=h.value}return f},toObject:function(h){for(var j={},h=k.byId(h).elements,g=0,e=h.length;g<e;++g){var a=h[g],d=a.name,b=(a.type||"").toLowerCase();if(d&&b&&0>"file|submit|image|reset|button".indexOf(b)&&!a.disabled){var c=j,l=d,a=i.fieldToObject(a);if(null!==a){var n=c[l];"string"==typeof n?c[l]=[n,a]:f.isArray(n)?n.push(a):c[l]=a}if("image"==b)j[d+
".x"]=j[d+".y"]=j[d].x=j[d].y=0}}return j},toQuery:function(h){return m.objectToQuery(i.toObject(h))},toJson:function(h,f){return j.stringify(i.toObject(h),null,f?4:0)}};return i})},"dojo/json":function(){define(["./has"],function(f){var k="undefined"!=typeof JSON;f.add("json-parse",k);f.add("json-stringify",k&&'{"a":1}'==JSON.stringify({a:0},function(f,i){return i||1}));if(f("json-stringify"))return JSON;var m=function(f){return('"'+f.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,
"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:f("json-parse")?JSON.parse:function(f,i){if(i&&!/^([\s\[\{]*(?:"(?:\\.|[^"])+"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(f))throw new SyntaxError("Invalid characters in JSON");return eval("("+f+")")},stringify:function(f,i,h){function k(e,a,d){i&&(e=i(d,e));var b;b=typeof e;if("number"==b)return isFinite(e)?e+"":"null";if("boolean"==b)return e+"";if(null===e)return"null";if("string"==
typeof e)return m(e);if("function"==b||"undefined"==b)return g;if("function"==typeof e.toJSON)return k(e.toJSON(d),a,d);if(e instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,c,b){a=e["getUTC"+c]()+(b?1:0);return 10>a?"0"+a:a});if(e.valueOf()!==e)return k(e.valueOf(),a,d);var c=h?a+h:"",l=h?" ":"",n=h?"\n":"";if(e instanceof Array){for(var l=e.length,f=[],d=0;d<l;d++)b=k(e[d],c,d),"string"!=typeof b&&(b="null"),f.push(n+c+b);return"["+
f.join(",")+n+a+"]"}f=[];for(d in e){var j;if(e.hasOwnProperty(d)){if("number"==typeof d)j='"'+d+'"';else if("string"==typeof d)j=m(d);else continue;b=k(e[d],c,d);"string"==typeof b&&f.push(n+c+j+":"+l+b)}}return"{"+f.join(",")+n+a+"}"}var g;"string"==typeof i&&(h=i,i=null);return k(f,"","")}}})},"dojo/_base/Deferred":function(){define("./kernel,../Deferred,../promise/Promise,../errors/CancelError,../has,./lang,../when".split(","),function(f,k,m,j,i,h,o){var g=function(){},e=Object.freeze||function(){},
a=f.Deferred=function(d){function b(a){if(n)throw Error("This deferred has already been resolved");l=a;n=!0;c()}function c(){for(var a;!a&&o;){var c=o;o=o.next;if(a=c.progress==g)n=!1;var b=f?c.error:c.resolved;i("config-useDeferredInstrumentation")&&f&&k.instrumentRejected&&k.instrumentRejected(l,!!b);if(b)try{var d=b(l);d&&"function"===typeof d.then?d.then(h.hitch(c.deferred,"resolve"),h.hitch(c.deferred,"reject"),h.hitch(c.deferred,"progress")):(b=a&&void 0===d,a&&!b&&(f=d instanceof Error),c.deferred[b&&
f?"reject":"resolve"](b?l:d))}catch(e){c.deferred.reject(e)}else f?c.deferred.reject(l):c.deferred.resolve(l)}}var l,n,f,t,o,s=this.promise=new m;this.resolve=this.callback=function(a){this.fired=0;this.results=[a,null];b(a)};this.reject=this.errback=function(a){f=!0;this.fired=1;i("config-useDeferredInstrumentation")&&k.instrumentRejected&&k.instrumentRejected(a,!!o);b(a);this.results=[null,a]};this.progress=function(a){for(var c=o;c;){var b=c.progress;b&&b(a);c=c.next}};this.addCallbacks=function(a,
c){this.then(a,c,g);return this};s.then=this.then=function(b,d,l){var e=l==g?this:new a(s.cancel),b={resolved:b,error:d,progress:l,deferred:e};o?t=t.next=b:o=t=b;n&&c();return e.promise};var r=this;s.cancel=this.cancel=function(){if(!n){var a=d&&d(r);if(!n)a instanceof Error||(a=new j(a)),a.log=!1,r.reject(a)}};e(s)};h.extend(a,{addCallback:function(a){return this.addCallbacks(h.hitch.apply(f,arguments))},addErrback:function(a){return this.addCallbacks(null,h.hitch.apply(f,arguments))},addBoth:function(a){var b=
h.hitch.apply(f,arguments);return this.addCallbacks(b,b)},fired:-1});a.when=f.when=o;return a})},"dojo/_base/json":function(){define(["./kernel","../json"],function(f,k){f.fromJson=function(f){return eval("("+f+")")};f._escapeString=k.stringify;f.toJsonIndentStr="\t";f.toJson=function(m,j){return k.stringify(m,function(f,h){if(h){var j=h.__json__||h.json;if("function"==typeof j)return j.call(h)}return h},j&&f.toJsonIndentStr)};return f})},"dojo/request/watch":function(){define("./util,../errors/RequestTimeoutError,../errors/CancelError,../_base/array,../_base/window,../has!host-browser?dom-addeventlistener?:../on:".split(","),
function(f,k,m,j,i,h){function o(){for(var d=+new Date,b=0,c;b<a.length&&(c=a[b]);b++){var l=c.response,n=l.options;if(c.isCanceled&&c.isCanceled()||c.isValid&&!c.isValid(l))a.splice(b--,1),g._onAction&&g._onAction();else if(c.isReady&&c.isReady(l))a.splice(b--,1),c.handleResponse(l),g._onAction&&g._onAction();else if(c.startTime&&c.startTime+(n.timeout||0)<d)a.splice(b--,1),c.cancel(new k(l)),g._onAction&&g._onAction()}g._onInFlight&&g._onInFlight(c);a.length||(clearInterval(e),e=null)}function g(d){if(d.response.options.timeout)d.startTime=
+new Date;d.isFulfilled()||(a.push(d),e||(e=setInterval(o,50)),d.response.options.sync&&o())}var e=null,a=[];g.cancelAll=function(){try{j.forEach(a,function(a){try{a.cancel(new m("All requests canceled."))}catch(c){}})}catch(d){}};i&&h&&i.doc.attachEvent&&h(i.global,"unload",function(){g.cancelAll()});return g})},"dojo/request/util":function(){define("exports,../errors/RequestError,../errors/CancelError,../Deferred,../io-query,../_base/array,../_base/lang".split(","),function(f,k,m,j,i,h,o){function g(a){return e(a)}
f.deepCopy=function(a,d){for(var b in d){var c=a[b],l=d[b];c!==l&&(c&&"object"===typeof c&&l&&"object"===typeof l?f.deepCopy(c,l):a[b]=l)}return a};f.deepCreate=function(a,d){var d=d||{},b=o.delegate(a),c,l;for(c in a)(l=a[c])&&"object"===typeof l&&(b[c]=f.deepCreate(l,d[c]));return f.deepCopy(b,d)};var e=Object.freeze||function(a){return a};f.deferred=function(a,d,b,c,l,n){var h=new j(function(c){d&&d(h,a);return!c||!(c instanceof k)&&!(c instanceof m)?new m("Request canceled",a):c});h.response=
a;h.isValid=b;h.isReady=c;h.handleResponse=l;b=h.then(g).otherwise(function(c){c.response=a;throw c;});f.notify&&b.then(o.hitch(f.notify,"emit","load"),o.hitch(f.notify,"emit","error"));c=b.then(function(a){return a.data||a.text});b=e(o.delegate(c,{response:b}));n&&h.then(function(a){n.call(h,a)},function(c){n.call(h,a,c)});h.promise=b;h.then=b.then;return h};f.addCommonMethods=function(a,d){h.forEach(d||["GET","POST","PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(c,
d){d=o.delegate(d||{});d.method=b;return a(c,d)}})};f.parseArgs=function(a,d,b){var c=d.data,l=d.query;if(c&&!b&&"object"===typeof c)d.data=i.objectToQuery(c);l?("object"===typeof l&&(l=i.objectToQuery(l)),d.preventCache&&(l+=(l?"&":"")+"request.preventCache="+ +new Date)):d.preventCache&&(l="request.preventCache="+ +new Date);a&&l&&(a+=(~a.indexOf("?")?"&":"?")+l);return{url:a,options:d,getHeader:function(){return null}}};f.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||
!a}})},"dojo/errors/RequestError":function(){define(["./create"],function(f){return f("RequestError",function(f,m){this.response=m})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(f,k){return f("RequestTimeoutError",null,k,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(f,k,m,j,i){function h(a,c){var b=a.xhr;a.status=a.xhr.status;a.text=b.responseText;if("xml"===
a.options.handleAs)a.data=b.responseXML;if(!c)try{m(a)}catch(d){c=d}c?this.reject(c):j.checkStatus(b.status)?this.resolve(a):(c=new f("Unable to load "+a.url+" status: "+b.status,a),this.reject(c))}function o(l,n,m){var s=j.parseArgs(l,j.deepCreate(c,n),i("native-formdata")&&n&&n.data&&n.data instanceof FormData),l=s.url,n=s.options,r,v=j.deferred(s,d,g,e,h,function(){r&&r()}),q=s.xhr=o._create();if(!q)return v.cancel(new f("XHR was not created")),m?v:v.promise;s.getHeader=function(a){return this.xhr.getResponseHeader(a)};
a&&(r=a(q,v,s));var z=n.data,w=!n.sync,A=n.method;try{q.open(A,l,w,n.user||b,n.password||b);if(n.withCredentials)q.withCredentials=n.withCredentials;var x=n.headers,E;if(x)for(var B in x)"content-type"===B.toLowerCase()?E=x[B]:x[B]&&q.setRequestHeader(B,x[B]);E&&!1!==E&&q.setRequestHeader("Content-Type",E);(!x||!("X-Requested-With"in x))&&q.setRequestHeader("X-Requested-With","XMLHttpRequest");j.notify&&j.notify.emit("send",s,v.promise.cancel);q.send(z)}catch(H){v.reject(H)}k(v);q=null;return m?v:
v.promise}i.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});i.add("dojo-force-activex-xhr",function(){return i("activex")&&!document.addEventListener&&"file:"===window.location.protocol});i.add("native-xhr2",function(){if(i("native-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});i.add("native-formdata",function(){return"function"===typeof FormData});var g,e,a,d;i("native-xhr2")?(g=
function(){return!this.isFulfilled()},d=function(a,c){c.xhr.abort()},a=function(a,c,b){function d(){c.handleResponse(b)}function l(a){a=new f("Unable to load "+b.url+" status: "+a.target.status,b);c.handleResponse(b,a)}function e(a){if(a.lengthComputable)b.loaded=a.loaded,b.total=a.total,c.progress(b)}a.addEventListener("load",d,!1);a.addEventListener("error",l,!1);a.addEventListener("progress",e,!1);return function(){a.removeEventListener("load",d,!1);a.removeEventListener("error",l,!1);a.removeEventListener("progress",
e,!1)}}):(g=function(a){return a.xhr.readyState},e=function(a){return 4===a.xhr.readyState},d=function(a,c){var b=c.xhr,d=typeof b.abort;("function"===d||"object"===d||"unknown"===d)&&b.abort()});var b,c={data:null,query:null,sync:!1,method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}};o._create=function(){throw Error("XMLHTTP not available");};if(i("native-xhr")&&!i("dojo-force-activex-xhr"))o._create=function(){return new XMLHttpRequest};else if(i("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),
o._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(l){try{new ActiveXObject("Microsoft.XMLHTTP"),o._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(n){}}j.addCommonMethods(o);return o})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has"],function(f,k,m,j){function i(e){var a=g[e.options.handleAs];e.data=a?a(e):e.data||e.text;return e}j.add("activex","undefined"!==typeof ActiveXObject);var h;if(j("activex")){var o=
["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];h=function(e){var a=e.data;if(!a||!a.documentElement){var d=e.text;m.some(o,function(b){try{var c=new ActiveXObject(b);c.async=!1;c.loadXML(d);a=c}catch(l){return!1}return!0})}return a}}var g={javascript:function(e){return k.eval(e.text||"")},json:function(e){return f.parse(e.text||null)},xml:h};i.register=function(e,a){g[e]=a};return i})},"url:gridx/templates/Grid.html":'<div class="gridx" role="grid" tabindex="0" aria-readonly="true"\r\n\t><div class="gridxHeader" role="presentation" data-dojo-attach-point="headerNode"></div\r\n\t><div class="gridxMain" role="presentation" data-dojo-attach-point="mainNode"\r\n\t\t><div class="gridxBodyEmpty" role="alert" tabindex="-1" data-dojo-attach-point="emptyNode"></div\r\n\t\t><div class="gridxBody" role="presentation" data-dojo-attach-point="bodyNode"></div\r\n\t\t><div class="gridxVScroller" data-dojo-attach-point="vScrollerNode" tabindex="-1"\r\n\t\t\t><div style=\'width: 1px;\'></div\r\n\t\t></div\r\n\t></div\r\n\t><div class="gridxFooter" data-dojo-attach-point="footerNode"\r\n\t\t><div class="gridxHScroller"\r\n\t\t\t><div class="gridxHScrollerInner" data-dojo-attach-point="hScrollerNode" tabindex="-1"\r\n\t\t\t\t><div style="width:1px; height: 1px;"></div\r\n\t\t\t></div\r\n\t\t></div\r\n\t></div\r\n\t><span data-dojo-attach-point="lastFocusNode" tabindex="0"></span\r\n></div>\r\n',
"gridx/core/Core":function(){define("require,dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/_base/Deferred,dojo/DeferredList,./model/Model,./Row,./Column,./Cell,./_Module".split(","),function(f,k,m,j,i,h,o,g,e,a,d){function b(a){a=a.moduleClass.prototype;return(a.forced||[]).concat(a.optional||[])}function c(a,b){if(b)for(var d in b){var l=a[d],e=b[d];l&&j.isObject(l)&&!t(l)?c(l,e):a[d]=e}}function l(a,c){var b=[],d=c&&c.length||0;r(a.modules,function(a,c){if(t(a)||u(a))a={moduleClass:a};
if(a){var l=a.moduleClass;if(u(l))try{l=a.moduleClass=f(l)}catch(e){console.error(e)}if(t(l)){b.push(a);return}}console.error(["The ",c+1-d,"-th declared module can NOT be found, please require it before using it"].join(""))});a.modules=b;return a}function n(a){var c,b={},d=[];r(a.modules,function(a){b[a.moduleClass.prototype.name]=a});for(c in b)d.push(b[c]);a.modules=d;return a}var p=j.delegate,t=j.isFunction,u=j.isString,s=j.hitch,r=m.forEach;return k([],{_reset:function(a){var c=this._deferStartup=
new i,e={},g;for(g in a)e[g]=a[g];a=e;this.store=a.store;a.modules=a.modules||[];a.modelExtensions=a.modelExtensions||[];this.setColumns(a.structure);a.columns=this._columnsById;g=l(a,this.coreModules);var a=d._modules,e=g.modules,h,f,p,k,t,m,u;for(h=0;h<e.length;++h){k=e[h].moduleClass.prototype;t=(k.forced||[]).concat(k.required||[]);for(f=0;f<t.length;++f){m=t[f];for(p=e.length-1;0<=p&&!(e[p].moduleClass.prototype.name===m);--p);0>p&&(a[m]?e.push({moduleClass:a[m]}):(u=1,console.error(["Forced/Required dependent module '",
m,"' is NOT found for '",k.name,"' module."].join(""))))}}if(u)throw Error("Some forced/required dependent modules are NOT found.");u=n(g);g=u.modules;for(a=g.length-1;f=g[a];--a){e=f.moduleClass.prototype.name;for(h=b(f);h.length;){f=h.shift();if(f==e)throw Error("Module '"+f+"' is in a dependancy circle!");a:{for(p=g.length-1;0<=p;--p)if(g[p].moduleClass.prototype.name==f){f=g[p];break a}f=null}f&&(h=h.concat(b(f)))}}g=u.modules;for(a=g.length-1;0<=a;--a)(e=g[a].moduleClass.prototype.modelExtensions)&&
[].push.apply(u.modelExtensions,e);a=u;this.model=new o(a);this.when=j.hitch(this.model,this.model.when);this._create(a);this._preload();this._load(c).then(s(this,"onModulesLoaded"))},onModulesLoaded:function(){},setStore:function(a){if(this.store!=a)this.store=a,this.model.setStore(a)},setColumns:function(a){this.structure=a;var a=this._columns=j.clone(a),c={},b,d,l;if(j.isArray(a))for(d=0,l=a.length;d<l;++d)b=a[d],b.index=d,b.id=b.id||""+(d+1),c[b.id]=b;this._columnsById=c;if(this.model)this.model._cache.onSetColumns(this._columnsById)},
row:function(a,c,b){"number"==typeof a&&!c&&(a=this.model.indexToId(a,b));return this.model.byId(a)?(this._rowObj=this._rowObj||this._mixin(new g(this),"row"),p(this._rowObj,{id:a})):null},column:function(a,c){var q;var b,d,l={};"number"==typeof a&&!c&&(q=(b=this._columns[a])&&b.id,a=q);if(b=this._columnsById[a]){this._colObj=this._colObj||this._mixin(new e(this),"column");for(d in b)void 0===this._colObj[d]&&(l[d]=b[d]);return p(this._colObj,l)}return null},cell:function(c,b,d,l){if(c=c instanceof
g?c:this.row(c,d,l))if(b=b instanceof e?b:this.column(b,d))return this._cellObj=this._cellObj||this._mixin(new a(this),"cell"),p(this._cellObj,{row:c,column:b});return null},columnCount:function(){return this._columns.length},rowCount:function(a){return this.model.size(a)},columns:function(a,c){return this._arr(this._columns.length,"column",a,c)},rows:function(a,c,b){return this._arr(this.rowCount(b),"row",a,c,b)},_uninit:function(){var a=this._modules,c;for(c in a){c=a[c].mod;if(c.getAPIPath){var b=
c.getAPIPath();if(b){var d=void 0;for(d in b)delete this[d]}}c.destroy()}this.model&&this.model.destroy()},_arr:function(a,c,b,d,l){for(var e=b||0,b=0<=d?b+d:a,d=[];e<b&&e<a;++e)d.push(this[c](e,0,l));for(var n in m)t(m[n])&&(d[n]=j.partial(m[n],d));return d},_preload:function(){var a,c=this._modules;for(a in c)a=c[a],a.mod.preload&&a.mod.preload(a.args)},_load:function(a){var c=[],b;for(b in this._modules)c.push(this._initMod(a,b));return new h(c,0,1)},_mixin:function(a,c){var b,d,l=this._modules;
for(b in l)b=l[b].mod,d=b[c+"Mixin"],t(d)&&(d=d.apply(b)),j.mixin(a,d||{});return a},_create:function(a){var d=this,l=d._modules={};r(a.modules,function(a){var e;e=a.moduleClass.prototype.name;l[e]||(l[e]={args:a,mod:e=new a.moduleClass(d,a),deps:b(a)},e.getAPIPath&&c(d,e.getAPIPath()))})},_initMod:function(a,c){var b=this._modules,d=b[c],l=d.mod,e=l.loaded;if(!d.done)d.done=1,(new h(m.map(m.filter(d.deps,function(a){return b[a]}),s(this,this._initMod,a)),0,1)).then(function(){l.load?l.load(d.args,
a):0>e.fired&&e.callback()});return e}})})},"dojo/DeferredList":function(){define(["./_base/kernel","./_base/Deferred","./_base/array"],function(f,k,m){f.DeferredList=function(f,i,h,o){var g=[];k.call(this);var e=this;0===f.length&&!i&&this.resolve([0,[]]);var a=0;m.forEach(f,function(d,b){function c(c,d){g[b]=[c,d];a++;a===f.length&&e.resolve(g)}d.then(function(a){i?e.resolve([b,a]):c(!0,a)},function(a){h?e.reject(a):c(!1,a);if(o)return null;throw a;})})};f.DeferredList.prototype=new k;f.DeferredList.prototype.gatherResults=
function(j){j=new f.DeferredList(j,!1,!0,!1);j.addCallback(function(f){var h=[];m.forEach(f,function(f){h.push(f[1])});return h});return j};return f.DeferredList})},"gridx/core/model/Model":function(){define("require,dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/_base/Deferred,dojo/DeferredList,dojo/aspect".split(","),function(f,k,m,j,i,h,o){var g=j.isArrayLike,e=j.isString;return k([],{constructor:function(a){var d=a.cacheClass,d="string"==typeof d?f(d):d;this.store=a.store;this._exts=
{};this._cmdQueue=[];this._model=this._cache=new d(this,a);this._createExts(a.modelExtensions||[],a);a=this._model;this._cnnts=[o.after(a,"onDelete",j.hitch(this,"onDelete"),1),o.after(a,"onNew",j.hitch(this,"onNew"),1),o.after(a,"onSet",j.hitch(this,"onSet"),1)]},destroy:function(){m.forEach(this._cnnts,function(a){a.remove()});for(var a in this._exts)this._exts[a].destroy()},clearCache:function(){this._cache.clear()},isId:function(a){return a||0===a},setStore:function(a){this.store=a;this._cache.setStore(a)},
when:function(a,d,b){this._oldSize=this.size();this._addCmd({name:"_cmdRequest",scope:this,args:arguments,async:1});return this._exec()},scan:function(a,d){var b=new i,c=a.start||0,l=a.pageSize||this._cache.pageSize||1,e=a.count,g=0<e?c+e:Infinity,h=a.whenScope||this,f=a.whenFunc||h.when,j=function(a){b.progress(a/(0<e?a+e:h.size()));f.call(h,{id:[],range:[{start:a,count:l}]},function(){var c,b,e=[];for(c=a;c<a+l&&c<g;++c)if(b=h.byIndex(c))e.push(b);else{g=-1;break}if(d(e,a)||c==g)g=-1}).then(function(){-1==
g?b.callback():j(a+l)})};j(c);return b},onDelete:function(){},onNew:function(){},onSet:function(){},onSizeChange:function(){},_msg:function(){},_addCmd:function(a){var d=this._cmdQueue,b=d[d.length-1];b&&b.name==a.name&&b.scope==a.scope?b.args.push(a.args||[]):(a.args=[a.args||[]],d.push(a))},_onSizeChange:function(){var a=this._oldSize,d=this._oldSize=this.size();if(a!=d)this.onSizeChange(d,a)},_execEvents:function(a,d){this._onSizeChange();d&&d.call(a)},_cmdRequest:function(){var a=this;return new h(m.map(arguments,
function(d){var b=d[0],c=j.hitch(a,a._execEvents,d[2],d[1]);return null===b||!d.length?(d=new i,c(),d.callback(),d):a._model._call("when",[a._normArgs(b),c])}),0,1)},_exec:function(){var a=this,d=a._cache,b=new i,c=a._cmdQueue,l=function(c,b){a._busy=0;d.skipCacheSizeCheck=0;d._checkSize&&d._checkSize();b?c.errback(b):c.callback()},e=function(){if(m.some(c,function(a){return"_cmdRequest"==a.name}))try{for(;c.length;){var a=c.shift(),d=a.scope[a.name].apply(a.scope,a.args);if(a.async){i.when(d,e,j.partial(l,
b));return}}}catch(g){l(b,g);return}l(b)};if(a._busy)return a._busy;a._busy=b;d.skipCacheSizeCheck=1;e();return b},_createExts:function(a,d){a=m.filter(a,function(a){return(a="string"==typeof a?f(a):a)&&a.prototype});a.sort(function(a,c){return a.prototype.priority-c.prototype.priority});for(var b=0,c=a.length;b<c;++b)if(b==a.length-1||a[b]!=a[b+1]){var l=new a[b](this,d);this._exts[l.name]=l}},_normArgs:function(a){var d,b=[],c=[],l={range:b,id:c},n=function(a){return"number"==typeof a&&0<=a},h=
function(a){if(a&&n(a.start))b.push(a);else if(n(a))b.push({start:a,count:1});else if(g(a))for(d=a.length-1;0<=d;--d)n(a[d])?b.push({start:a[d],count:1}):a[d]&&n(a[d].start)?b.push(a[d]):e(a)&&c.push(a[d]);else e(a)&&c.push(a)};if(a&&(a.index||a.range||a.id))if(h(a.index),h(a.range),g(a.id))for(d=a.id.length-1;0<=d;--d)c.push(a.id[d]);else this.isId(a.id)&&c.push(a.id);else h(a);!b.length&&!c.length&&0>this.size()&&b.push({start:0,count:this._cache.pageSize||1});return l}})})},"gridx/core/Row":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/_base/Deferred"],function(f,k,m){return f([],{constructor:function(f,i){this.grid=f;this.model=f.model;this.id=i},index:function(){return this.model.idToIndex(this.id)},parent:function(){return this.grid.row(this.model.treePath(this.id).pop(),1)},cell:function(f,i){return this.grid.cell(this,f,i)},cells:function(f,i){for(var h=this.grid,k=[],g=h._columns,e=g.length,a=f||0,d=0<=i?f+i:e;a<d&&a<e;++a)k.push(h.cell(this.id,g[a].id,1));return k},data:function(){return this.model.byId(this.id).data},
rawData:function(){return this.model.byId(this.id).rawData},item:function(){return this.model.byId(this.id).item},setRawData:function(f){var i=this.grid.store,h=this.item(),o,g;if(i.setValue){g=new m;try{for(o in f)i.setValue(h,o,f[o]);i.save({onComplete:k.hitch(g,g.callback),onError:k.hitch(g,g.errback)})}catch(e){g.errback(e)}}return g||m.when(i.put(k.mixin(k.clone(h),f)))}})})},"gridx/core/Column":function(){define(["dojo/_base/declare"],function(f){return f([],{constructor:function(f,m){this.grid=
f;this.model=f.model;this.id=m},index:function(){var f=this.def();return f?f.index:-1},def:function(){return this.grid._columnsById[this.id]},cell:function(f,m,j){return this.grid.cell(f,this,m,j)},cells:function(f,m,j){for(var i=this.grid,h=[],o=i.rowCount(j),g=f||0,f=0<=m?f+m:o;g<f&&g<o;++g)h.push(i.cell(g,this,0,j));return h},name:function(){return this.def().name||""},setName:function(f){this.def().name=f;return this},field:function(){return this.def().field||null},getWidth:function(){return this.def().width}})})},
"gridx/core/Cell":function(){define(["dojo/_base/declare"],function(f){return f([],{constructor:function(f,m,j){this.grid=f;this.model=f.model;this.row=m;this.column=j},data:function(){return this.model.byId(this.row.id).data[this.column.id]},rawData:function(){var f=this.column.field();return f&&this.model.byId(this.row.id).rawData[f]},setRawData:function(f){var m={},j=this.column.field();if(j)return m[j]=f,this.row.setRawData(m)}})})},"gridx/core/_Module":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/_base/Deferred,dojo/_base/connect,dojo/aspect".split(","),
function(f,k,m,j,i,h){var o=k.isFunction,f=f([],{constructor:function(e,a){this.grid=e;this.model=e.model;this.loaded=new j;this._cnnts=[];this._sbscs=[];k.mixin(this,a)},destroy:function(){var e=m.forEach;e(this._cnnts,i.disconnect);e(this._sbscs,i.unsubscribe)},arg:function(e,a,d){2==arguments.length&&o(a)&&(d=a,a=void 0);var b=this.grid,c=this[e];if(!this.hasOwnProperty(e)){var l=this.name+e.substring(0,1).toUpperCase()+e.substring(1);void 0===b[l]?void 0!==a&&(c=a):c=b[l]}this[e]=d&&!d(c)?a:c;
return c},aspect:function(e,a,d,b,c){e=h[c||"after"](e,a,k.hitch(b||this,d),1);this._cnnts.push(e);return e},connect:function(e,a,d,b,c){var l=this.grid,n=b||this,e=e===l&&"string"==typeof a?i.connect(e,a,function(){var b=arguments;l._eventFlags[a]===c&&(o(d)?d.apply(n,b):o(n[d])&&n[d].apply(n,b))}):i.connect(e,a,n,d);this._cnnts.push(e);return e},batchConnect:function(){for(var e=0,a=arguments,d=a.length;e<d;++e)k.isArrayLike(a[e])&&this.connect.apply(this,a[e])},subscribe:function(e,a,d){e=i.subscribe(e,
d||this,a);this._sbscs.push(e);return e}}),g=f._modules={};f.register=function(e){var a=e.prototype;return g[a.name||a.declaredClass]=e};f._markupAttrs="id,name,field,width,dataType,!formatter,!decorator,!sortable".split(",");return f})},"gridx/core/model/extensions/Query":function(){define(["dojo/_base/declare","../_Extension"],function(f,k){return f(k,{name:"query",priority:40,constructor:function(f,j){this.clear();this._mixinAPI("query");j.query&&this.query(j.query,j.queryOptions)},clear:function(){},
query:function(){this.model._addCmd({name:"_cmdQuery",scope:this,args:arguments})},_cmdQuery:function(){var f=arguments,f=f[f.length-1],j=this.model,i=j._cache,h=i.options=i.options||{};h.query=f[0];h.queryOptions=f[1];j._msg("storeChange");i.clear()}})})},"gridx/core/model/_Extension":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/aspect"],function(f,k,m,j){return f([],{constructor:function(f){var h=this.inner=f._model;this._cnnts=[];this.model=f;f._model=this;
h&&(this.aspect(h,"onDelete","_onDelete"),this.aspect(h,"onNew","_onNew"),this.aspect(h,"onSet","_onSet"))},destroy:function(){m.forEach(this._cnnts,function(f){f.remove()})},aspect:function(f,h,m,g,e){f=j[e||"after"](f,h,k.hitch(g||this,m),1);this._cnnts.push(f);return f},_onNew:function(){this.onNew.apply(this,arguments)},_onSet:function(){this.onSet.apply(this,arguments)},_onDelete:function(){this.onDelete.apply(this,arguments)},onNew:function(){},onDelete:function(){},onSet:function(){},_call:function(f,
h){var j=this[f],g=this.inner;return j?j.apply(this,h||[]):g&&g._call(f,h)},_mixinAPI:function(){var f,h=this.model,j=arguments,g=function(e){return function(){return h._model._call(e,arguments)}};for(f=j.length-1;0<=f;--f)h[j[f]]=g(j[f])}})})},"gridx/modules/Header":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/dom-construct,dojo/dom-class,dojo/dom-geometry,dojo/_base/query,dojo/_base/sniff,dojo/keys,../core/util,../core/_Module".split(","),function(f,k,m,j,i,h,o,g,
e,a,d){return f(d,{name:"header",getAPIPath:function(){return{header:this}},constructor:function(){var a=this.domNode=j.create("div",{"class":"gridxHeaderRow",role:"presentation"});this.innerNode=j.create("div",{"class":"gridxHeaderRowInner",role:"row"});this.grid._connectEvents(a,"_onMouseEvent",this)},preload:function(){var a=this,c=a.grid;a.domNode.appendChild(a.innerNode);a._build();c.headerNode.appendChild(a.domNode);c.vLayout.register(a,"domNode","headerNode");a.aspect(c,"onHScroll","_onHScroll");
a.aspect(c,"onHeaderCellMouseOver","_onHeaderCellMouseOver");a.aspect(c,"onHeaderCellMouseOut","_onHeaderCellMouseOver");c.columnResizer&&a.aspect(c.columnResizer,"onResize",function(){"none"==c.hScrollerNode.style.display&&a._onHScroll(0)});a._initFocus()},destroy:function(){this.inherited(arguments);j.destroy(this.domNode)},columnMixin:{headerNode:function(){return this.grid.header.getHeaderNode(this.id)}},hidden:!1,getHeaderNode:function(a){return o("[colid='"+a+"']",this.domNode)[0]},refresh:function(){this._build();
this._onHScroll(this._scrollLeft);this.onRender()},onRender:function(){},onMoveToHeaderCell:function(){},_scrollLeft:0,_build:function(){var a=this,c=a.grid,d=c.focus,e=['<table role="presentation" border="0" cellpadding="0" cellspacing="0"><tr>'];m.forEach(c._columns,function(g){e.push('<th id="',c.id,"-",g.id,'" role="columnheader" aria-readonly="true" tabindex="-1" colid="',g.id,'" class="gridxCell ',d&&"header"==d.currentArea()&&g.id==a._focusHeaderId?a._focusClass:"",(k.isFunction(g.headerClass)?
g.headerClass(g):g.headerClass)||"",'" style="width: ',g.width,";",(k.isFunction(g.headerStyle)?g.headerStyle(g):g.headerStyle)||"",'"><div class="gridxSortNode">',g.name||"","</div></th>")});e.push("</tr></table>");a.innerNode.innerHTML=e.join("");i.toggle(a.domNode,"gridxHeaderRowHidden",a.arg("hidden"))},_onHScroll:function(a){var c=this.grid.isLeftToRight();this.innerNode.firstChild.style[c?"marginLeft":"marginRight"]=(!c&&g("ff")?a:-a)+"px";this._scrollLeft=a},_onMouseEvent:function(a,c){var d=
this.grid,e="onHeaderCell"+a,g="onHeader"+a;if(d._isConnected(e)||d._isConnected(g)){this._decorateEvent(c);if(0<=c.columnIndex)d[e](c);d[g](c)}},_decorateEvent:function(a){for(var c=a.target,d;c&&c!==this.domNode;c=c.parentNode)if("th"==c.tagName.toLowerCase()){if(d=this.grid._columnsById[c.getAttribute("colid")])a.headerCellNode=c,a.columnId=d.id,a.columnIndex=d.index;break}},_onHeaderCellMouseOver:function(a){i.toggle(this.getHeaderNode(a.columnId),"gridxHeaderCellOver","mouseover"==a.type)},_focusHeaderId:null,
_focusClass:"gridxHeaderCellFocus",_initFocus:function(){var a=this,c=a.grid;c.focus&&c.focus.registerArea({name:"header",priority:0,focusNode:a.domNode,scope:a,doFocus:a._doFocus,doBlur:a._blurNode,onBlur:a._blurNode,connects:[a.connect(c,"onHeaderCellKeyDown","_onKeyDown"),a.connect(c,"onHeaderCellMouseDown",function(c){a._focusNode(a.getHeaderNode(c.columnId))})]})},_doFocus:function(b){var c=this._focusNode(this._focusHeaderId&&this.getHeaderNode(this._focusHeaderId)||o("th.gridxCell",this.domNode)[0]);
a.stopEvent(c&&b);return c},_focusNode:function(a){if(a){var c=this,d=c.grid,e=c._focusHeaderId=a.getAttribute("colid");if(e)return c._blurNode(),d.hScroller&&d.hScroller.scrollToColumn(e),d.body._focusCellCol=d._columnsById[e].index,i.add(a,c._focusClass),setTimeout(function(){g("webkit")&&i.add(a,c._focusClass);a.focus()},0),!0}return!1},_blurNode:function(){var a=o("th."+this._focusClass,this.domNode)[0];a&&i.remove(a,this._focusClass);return!0},_onKeyDown:function(b){var c=this.grid,d;d=c.isLeftToRight()?
1:-1;var n=b.keyCode==e.LEFT_ARROW?-d:d;if(this._focusHeaderId&&!b.ctrlKey&&!b.altKey&&(b.keyCode==e.LEFT_ARROW||b.keyCode==e.RIGHT_ARROW))if(a.stopEvent(b),d=c._columnsById[this._focusHeaderId],d=c._columns[d.index+n])this._focusNode(this.getHeaderNode(d.id)),this.onMoveToHeaderCell(d.id,b)}})})},"gridx/core/util":function(){define({stopEvent:function(f){f&&f.stopPropagation&&f.preventDefault&&(f.stopPropagation(),f.preventDefault())},biSearch:function(f,k){var m=0,j=f.length,i;for(i=Math.floor((m+
j)/2);m+1<j;i=Math.floor((m+j)/2))0<k(f[i])?j=i:m=i;return f.length&&0<=k(f[m])?m:j}})},"gridx/modules/Body":function(){define("dojo/_base/declare,dojo/_base/query,dojo/_base/array,dojo/_base/lang,dojo/dom-construct,dojo/dom-class,dojo/_base/Deferred,dojo/_base/sniff,dojo/keys,../core/_Module,../core/util,dojo/i18n!../nls/Body".split(","),function(f,k,m,j,i,h,o,g,e,a,d,b){return f(a,{name:"body",optional:["tree"],getAPIPath:function(){return{body:this}},constructor:function(){var a=this,d=a.model,
e=a.grid,g=a.domNode=e.bodyNode;a.arg("rowHoverEffect")&&h.add(g,"gridxBodyRowHoverEffect");e.emptyNode.innerHTML=a.arg("loadingInfo",b.loadingInfo);e._connectEvents(g,"_onMouseEvent",a);a.aspect(d,"onDelete","_onDelete");a.aspect(d,"onSet","_onSet");a.aspect(e,"onRowMouseOver","_onRowMouseOver");a.aspect(e,"onCellMouseOver","_onCellMouseOver");a.aspect(e,"onCellMouseOut","_onCellMouseOver");a.connect(e.bodyNode,"onmouseleave",function(){k("> .gridxRowOver",a.domNode).removeClass("gridxRowOver")});
a.connect(e.bodyNode,"onmouseover",function(b){b.target==e.bodyNode&&k("> .gridxRowOver",a.domNode).removeClass("gridxRowOver")});a.aspect(e,"setStore",function(){a.refresh()})},preload:function(){this._initFocus()},load:function(){var a=this,b=a.model,d=a.grid,e=function(){a.aspect(b,"onSizeChange","_onSizeChange");a.loaded.callback()};b.when({},function(){a.rootCount=a.rootCount||b.size();a.visualCount=d.tree?d.tree.getVisualSize(a.rootStart,a.rootCount):a.rootCount;e()}).then(null,function(b){a._loadFail(b);
e()})},destroy:function(){this.inherited(arguments);this.domNode.innerHTML=""},rowMixin:{node:function(){return this.grid.body.getRowNode({rowId:this.id})},visualIndex:function(){var a=this.id;return this.grid.body.getRowInfo({rowId:a,rowIndex:this.index(),parentId:this.model.parentId(a)}).visualIndex}},cellMixin:{node:function(){return this.grid.body.getCellNode({rowId:this.row.id,colId:this.column.id})}},rowHoverEffect:!0,stuffEmptyCell:!0,renderWholeRowOnSet:!1,getRowNode:function(a){return(a=
this._getRowNodeQuery(a))&&k("> "+a,this.domNode)[0]||null},getCellNode:function(a){var b=a.colId,d=this.grid._columns,e=this._getRowNodeQuery(a);if(e){if(!b&&d[a.colIndex])b=d[a.colIndex].id;return k(e+(" [colid='"+b+"'].gridxCell"),this.domNode)[0]||null}return null},getRowInfo:function(a){var b=this.model,d=this.grid,e=a.rowId;if(b.isId(e))a.rowIndex=b.idToIndex(e),a.parentId=b.parentId(e);if("number"==typeof a.rowIndex&&0<=a.rowIndex)a.visualIndex=d.tree?d.tree.getVisualIndexByRowInfo(a.parentId,
a.rowIndex,this.rootStart):a.rowIndex-this.rootStart;else if("number"==typeof a.visualIndex&&0<=a.visualIndex)d.tree?(d=d.tree.getRowInfoByVisualIndex(a.visualIndex,this.rootStart),a.rowIndex=d.start,a.parentId=d.parentId):a.rowIndex=this.rootStart+a.visualIndex;else return a;a.rowId=b.isId(e)?e:b.indexToId(a.rowIndex,a.parentId);return a},refresh:function(a){var b=this;delete b._err;return b.model.when({}).then(function(){var d=b.renderStart,e=b.renderCount;if("number"==typeof a&&0<=a){a=d>a?d:a;
var g=d+e-a,d=k('> [visualindex="'+a+'"]',b.domNode)[0],e=[],f=[];if(d){var h=b._buildRows(a,g,e,f);h&&(i.place(h,d,"before"),m.forEach(f,b.onAfterRow,b))}for(;d;){var f=d.nextSibling,h=parseInt(d.getAttribute("visualindex"),10),j=d.getAttribute("rowid");i.destroy(d);if(h>=a+g)b.onUnrender(j);d=f}o.when(b._buildUncachedRows(e),function(){b.onRender(a,g);b.onForcedScroll()})}else b.renderRows(d,e,0,1),b.onForcedScroll()},function(a){b._loadFail(a)})},refreshCell:function(a,b){var d=new o,e=this,g=
e.model,f=e.grid,h=f._columns[b],i=h&&e.getCellNode({visualIndex:a,colId:h.id});if(i){var j,k=e.getRowInfo({visualIndex:a}),m=k.rowIndex,w=k.parentId;g.when({start:m,count:1,parentId:w},function(){if(j=g.byIndex(m,w)){k.rowId=g.indexToId(m,w);var a=f.tree&&void 0===j.data[h.id],c=f.cell(k.rowId,h.id,1);i.innerHTML=e._buildCellContent(c,a);e.onAfterCell(c)}}).then(function(){d.callback(!!j)});return d}d.callback(!1);return d},rootStart:0,rootCount:0,renderStart:0,renderCount:0,visualStart:0,visualCount:0,
autoUpdate:!0,autoChangeSize:!0,updateRootRange:function(a,b){var d=this.grid.tree,d=this.visualCount=d?d.getVisualSize(a,b):b;this.rootStart=a;this.rootCount=b;if(this.renderStart+this.renderCount>d&&(this.renderStart=d-this.renderCount,0>this.renderStart))this.renderStart=0,this.renderCount=d;if(!this.renderCount&&d)this.onForcedScroll()},renderRows:function(a,d,e,f){var h=this,j=h.grid,k="",r=[],v=[],q=h.domNode,z=j.emptyNode,w=h.arg("emptyInfo",b.emptyInfo),A="";if(!h._err)if(0<d){z.innerHTML=
h.arg("loadingInfo",b.loadingInfo);z.style.zIndex="";"top"!=e&&"bottom"!=e&&h.model.free();k=h._buildRows(a,d,r,v);if("top"==e)h.renderCount+=h.renderStart-a,h.renderStart=a,i.place(k,q,"first");else if("bottom"==e)h.renderCount=a+d-h.renderStart,i.place(k,q,"last");else{h.renderStart=a;h.renderCount=d;e=f?q.scrollTop:0;q.scrollTop=0;if(g("ie"))for(;q.childNodes.length;)q.removeChild(q.firstChild);q.innerHTML=k;if(e)q.scrollTop=e;q.scrollLeft=j.hScrollerNode.scrollLeft;A=k?"":w;if(!k)z.style.zIndex=
1;h.onUnrender()}m.forEach(v,h.onAfterRow,h);o.when(h._buildUncachedRows(r),function(){z.innerHTML=A;h.onRender(a,d)})}else if(!{top:1,bottom:1}[e])q.scrollTop=0,q.innerHTML="",z.innerHTML=w,z.style.zIndex=1,h.onUnrender(),h.onEmpty(),h.model.free()},unrenderRows:function(a,b){if(0<a){var d=0,e,g=this.domNode;if("post"==b)for(;d<a&&g.lastChild;++d)e=g.lastChild.getAttribute("rowid"),this.model.free(e),g.removeChild(g.lastChild),this.onUnrender(e);else{for(var h=g.scrollTop;d<a&&g.firstChild;++d)e=
g.firstChild.getAttribute("rowid"),this.model.free(e),h-=g.firstChild.offsetHeight,g.removeChild(g.firstChild),this.onUnrender(e);this.renderStart+=d;g.scrollTop=0<h?h:0}this.renderCount-=d;this.model.when()}},onAfterRow:function(){},onAfterCell:function(){},onRender:function(){},onUnrender:function(){},onDelete:function(){},onSet:function(){},onMoveToCell:function(){},onEmpty:function(){},onForcedScroll:function(){},collectCellWrapper:function(){},_getRowNodeQuery:function(a){var b;this.model.isId(a.rowId)?
b="[rowid='"+a.rowId+"']":"number"==typeof a.rowIndex&&0<=a.rowIndex?(b="[rowindex='"+a.rowIndex+"']",a.parentId&&(b+="[parentid='"+a.parentId+"']")):"number"==typeof a.visualIndex&&0<=a.visualIndex&&(b="[visualindex='"+a.visualIndex+"']");return b&&b+".gridxRow"},_buildRows:function(a,b,d,e){for(var b=a+b,g=[],h=this.grid,f=this.model,i=this.domNode.scrollWidth;a<b;++a){var j=this.getRowInfo({visualIndex:a}),k=h.row(j.rowId,1);g.push('<div class="gridxRow ',a%2?"gridxRowOdd":"",'" role="row" visualindex="',
a);k?(f.keep(k.id),g.push('" rowid="',k.id,'" rowindex="',j.rowIndex,'" parentid="',j.parentId,'">',this._buildCells(k),"</div>"),e.push(k)):(g.push('"><div class="gridxRowDummy" style="width:',i,'px;"></div></div>'),j.start=j.rowIndex,j.count=1,d.push(j))}return g.join("")},_buildUncachedRows:function(a){var b=this;return a.length&&b.model.when(a,function(){try{m.forEach(a,b._buildRowContent,b)}catch(d){b._loadFail(d)}}).then(null,function(a){b._loadFail(a)})},_loadFail:function(a){console.error(a);
a=this.grid.emptyNode;a.innerHTML=this.arg("loadFailInfo",b.loadFailInfo);a.style.zIndex=1;this.domNode.innerHTML="";this._err=1},_buildRowContent:function(a){var b=k('> [visualindex="'+a.visualIndex+'"]',this.domNode)[0];if(b){var d=this.grid.row(a.rowIndex,0,a.parentId);if(d)this.model.keep(d.id),b.setAttribute("rowid",d.id),b.setAttribute("rowindex",a.rowIndex),b.setAttribute("parentid",a.parentId||""),b.innerHTML=this._buildCells(d),this.onAfterRow(d);else throw Error("Row is not in cache:"+a.rowIndex);
}},_buildCells:function(a){var b,d,e,g,h,f,i,k=this.grid,m=k._columns,o=a.data(),w=k.focus&&"body"==k.focus.currentArea(),A=['<table class="gridxRowTable" role="presentation" border="0" cellpadding="0" cellspacing="0"><tr>'];for(f=0,i=m.length;f<i;++f)b=m[f],e=k.tree&&void 0===o[b.id],d=k.cell(a.id,b.id,1),g=(j.isFunction(b["class"])?b["class"](d):b["class"])||"",h=(j.isFunction(b.style)?b.style(d):b.style)||"",A.push('<td aria-describedby="',k.id,"-",b.id,'" class="gridxCell '),e&&A.push("gridxPaddingCell"),
w&&this._focusCellRow===a.visualIndex()&&this._focusCellCol===f&&A.push("gridxCellFocus"),A.push(g,'" aria-readonly="true" role="gridcell" tabindex="-1" colid="',b.id,'" style="width: ',b.width,"; ",h,'">',this._buildCellContent(d,e),"</td>");A.push("</tr></table>");return A.join("")},_buildCellContent:function(a,b){var d="",e=a.column,h=a.row,f=a.data();b||(d=this._wrapCellData(e.decorator?e.decorator(f,h.id,h.visualIndex()):f,h.id,e.id));return(""===d||null===d||void 0===d)&&(8>g("ie")||this.arg("stuffEmptyCell"))?
"&nbsp;":d},_wrapCellData:function(a,b,d){var e=[];this.collectCellWrapper(e,b,d);var g=e.length-1;for(0<g&&e.sort(function(a,c){a.priority=a.priority||0;c.priority=c.priority||0;return a.priority-c.priority});0<=g;--g)a=e[g].wrap(a,b,d);return a},_onMouseEvent:function(a,b){var d=this.grid,e="onCell"+a,g="onRow"+a;if(d._isConnected(e)||d._isConnected(g))if(this._decorateEvent(b),b.rowId){if(b.columnId)d[e](b);d[g](b)}},_decorateEvent:function(a){for(var b=a.target||a.originalTarget,d=this.grid,e;b&&
b!=d.bodyNode;b=b.parentNode){e=b.tagName.toLowerCase();if("td"==e&&h.contains(b,"gridxCell")){var g=d._columnsById[b.getAttribute("colid")];a.cellNode=b;a.columnId=g.id;a.columnIndex=g.index}if("div"==e&&h.contains(b,"gridxRow")){a.rowId=b.getAttribute("rowid");a.parentId=b.getAttribute("parentid");a.rowIndex=parseInt(b.getAttribute("rowindex"),10);a.visualIndex=parseInt(b.getAttribute("visualindex"),10);break}}},_onSet:function(a,b,d,e){if(this.autoUpdate&&d){var g=this.grid,h=(a=g.row(a,1))&&a.node();
if(h){var f=d.data,i=e.data,d=g._columns,e=this.arg("renderWholeRowOnSet"),j=[];e||m.some(d,function(a){f[a.id]!==i[a.id]&&j.push(a);return 1<j.length});if(e||1<j.length)h.innerHTML=this._buildCells(a),this.onAfterRow(a),this.onSet(a),this.onRender(b,1);else if(1==j.length)b=j[0],g=g.tree&&void 0===f[b.id],a=a.cell(b.id,1),a.node().innerHTML=this._buildCellContent(a,g),this.onAfterCell(a)}}},_onDelete:function(a){if(this.autoUpdate){var b=this.getRowNode({rowId:a});if(b){var d=0,e=parseInt(b.getAttribute("rowindex"),
10),g=b.getAttribute("parentid"),f={},j=[b],k,o=[a];f[a]=1;for(b=b.nextSibling;b&&f[b.getAttribute("parentid")];b=b.nextSibling)k=b.getAttribute("rowid"),o.push(k),j.push(b),f[k]=1;for(;b;b=b.nextSibling)b.getAttribute("parentid")==g&&b.setAttribute("rowindex",parseInt(b.getAttribute("rowindex"),10)-1),f=parseInt(b.getAttribute("visualindex"),10)-j.length,b.setAttribute("visualindex",f),h.toggle(b,"gridxRowOdd",f%2),++d;this.renderCount-=j.length;m.forEach(j,i.destroy);m.forEach(o,this.onUnrender,
this);this.autoChangeSize&&0===this.rootStart&&!g&&this.updateRootRange(0,this.rootCount-1);this.onDelete(a,e);this.onRender(e,d)}}},_onSizeChange:function(a,b){if(this.autoChangeSize&&0===this.rootStart&&(this.rootCount===b||0>b))this.updateRootRange(0,a),this.refresh()},_onRowMouseOver:function(a){var b=k("> div.gridxRowOver",this.domNode)[0],a=this.getRowNode({rowId:a.rowId});b!=a&&(b&&h.remove(b,"gridxRowOver"),a&&h.add(a,"gridxRowOver"))},_onCellMouseOver:function(a){h.toggle(a.cellNode,"gridxCellOver",
"mouseover"==a.type)},_focusCellCol:0,_focusCellRow:0,_initFocus:function(){var a=this,b=a.grid,d=b.isLeftToRight(),g=b.bodyNode,h=b.focus;h&&(h.registerArea({name:"body",priority:1,focusNode:g,scope:a,doFocus:a._doFocus,doBlur:a._blurCell,onFocus:a._onFocus,onBlur:a._blurCell}),a.connect(b.mainNode,"onkeypress",function(g){if("body"==h.currentArea()&&(!b.tree||!g.ctrlKey)){h._noBlur=1;var f={},i=d?1:-1;f[e.LEFT_ARROW]=[0,-i,g];f[e.RIGHT_ARROW]=[0,i,g];f[e.UP_ARROW]=[-1,0,g];f[e.DOWN_ARROW]=[1,0,
g];a._moveFocus.apply(a,f[g.keyCode]||[]);h._noBlur=0}}),a.connect(b,"onCellClick",function(b){a._focusCellRow=b.visualIndex;a._focusCellCol=b.columnIndex}),a.connect(a,"onRender",function(b,d){a._focusCellRow>=b&&a._focusCellRow<b+d&&"body"==h.currentArea()&&a._focusCell()}),a.connect(b.emptyNode,"onfocus",function(){h.focusArea("body")}))},_doFocus:function(a){return this._focusCell(a)||this._focusCell(0,-1,-1)},_focusCell:function(a,b,e){d.stopEvent(a);var a=this.grid,e=0<=e?e:this._focusCellCol,
b=0<=b?b:this._focusCellRow,f=a._columns[e].id,i=this.getCellNode({visualIndex:b,colId:f});if(i){var j=k(".gridxCellFocus",this.domNode)[0];if(i!=j)j&&h.remove(j,"gridxCellFocus"),h.add(i,"gridxCellFocus"),this._focusCellRow=b,this._focusCellCol=e,a.header._focusHeaderId=f;a.hScroller.scrollToColumn(f);8>g("ie")?(b=a.bodyNode.scrollLeft,i.focus(),a.bodyNode.scrollLeft=b):i.focus()}else if(!a.rowCount())return a.emptyNode.focus(),!0;return i},_moveFocus:function(a,b,e){if(a||b){d.stopEvent(e);var g,
h,f=this,i=f.grid,j=i._columns,k=f.visualCount;g=f._focusCellRow+a;g=0>g?0:g>=k?k-1:g;h=f._focusCellCol+b;h=0>h?0:h>=j.length?j.length-1:h;i.vScroller.scrollToRow(g).then(function(){f._focusCell(0,g,h);f.onMoveToCell(g,h,e)})}},_nextCell:function(a,b,d,e){var g=new o,h=this.grid,f=h._columns.length,i=this.visualCount;do if(b+=d,0>b||b>=f)a+=d,b=0>b?f-1:0,0>a?(a=i-1,b=f-1):a>=i&&(b=a=0);while(!e(a,b));h.vScroller.scrollToRow(a).then(function(){g.callback({r:a,c:b})});return g},_blurCell:function(){var a=
k(".gridxCellFocus",this.domNode)[0];a&&h.remove(a,"gridxCellFocus");return!0},_onFocus:function(a){for(a=a.target;a&&a!=this.domNode;a=a.parentNode)if(h.contains(a,"gridxCell")){for(var b=this.grid._columnsById[a.getAttribute("colid")].index;!h.contains(a,"gridxRow");)a=a.parentNode;return this._focusCell(0,parseInt(a.getAttribute("visualindex"),10),b)}return!1}})})},"dojo/i18n":function(){define("./_base/kernel,require,./has,./_base/array,./_base/config,./_base/lang,./_base/xhr,./json,module".split(","),
function(f,k,m,j,i,h,o,g,e){m.add("dojo-preload-i18n-Api",1);var a=f.i18n={},d=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,b=function(a,b,c,d){for(var e=[c+d],b=b.split("-"),g="",l=0;l<b.length;l++)g+=(g?"-":"")+b[l],(!a||a[g])&&e.push(c+g+"/"+d);return e},c={},l=function(a,b,c){c=c?c.toLowerCase():f.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(c)?a+"/nls/"+b:a+"/nls/"+c+"/"+b};f.getL10nName=function(a,b,c){return e.id+"!"+l(a,b,c)};var n=function(a,d,e,g,l,f){a([d],function(n){var i=
h.clone(n.root),j=b(!n._v1x&&n,l,e,g);a(j,function(){for(var a=1;a<j.length;a++)i=h.mixin(h.clone(i),arguments[a]);c[d+"/"+l]=i;f()})})},p=function(a){var b=i.extraLocale||[],b=h.isArray(b)?b:[b];b.push(a);return b},t=function(a,b,e){if(m("dojo-preload-i18n-Api")){var l=a.split("*"),i="preload"==l[1];i&&(c[a]||(c[a]=1,q(l[2],g.parse(l[3]),1,b)),e(1));if(!(l=i))r&&v.push([a,b,e]),l=r;if(l)return}var a=d.exec(a),k=a[1]+"/",o=a[5]||a[4],t=k+o,l=(a=a[5]&&a[4])||f.locale,s=t+"/"+l,a=a?[l]:p(l),u=a.length,
x=function(){--u||e(h.delegate(c[s]))};j.forEach(a,function(a){var d=t+"/"+a;m("dojo-preload-i18n-Api")&&z(d);c[d]?x():n(b,t,k,o,a,x)})};if(m("dojo-unit-tests"))var u=a.unitTests=[];m("dojo-preload-i18n-Api");var s=a.normalizeLocale=function(a){a=a?a.toLowerCase():f.locale;return"root"==a?"ROOT":a},r=0,v=[],q=a._preloadLocalizations=function(a,b,d,e){function l(a,b){e.isXdUrl(k.toUrl(a+".js"))||d?e([a],b):x([a],b,e)}function g(a,b){for(var c=a.split("-");c.length;){if(b(c.join("-")))return;c.pop()}b("ROOT")}
function h(d){d=s(d);g(d,function(d){if(0<=j.indexOf(b,d)){var e=a.replace(/\./g,"/")+"_"+d;r++;l(e,function(a){for(var b in a)c[k.toAbsMid(b)+"/"+d]=a[b];for(--r;!r&&v.length;)t.apply(null,v.shift())});return!0}return!1})}e=e||k;h();j.forEach(f.config.extraLocale,h)},z=function(){},w={},A=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},\t   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
x=function(a,b,d){var e=[];j.forEach(a,function(a){function b(d){d=A(d,z,a,w);d===w?e.push(c[l]=w.result):(d instanceof Error&&(console.error("failed to evaluate i18n bundle; url="+l,d),d={}),e.push(c[l]=/nls\/[^\/]+\/[^\/]+$/.test(l)?d:{root:d,_v1x:1}))}var l=d.toUrl(a+".js");if(c[l])e.push(c[l]);else{var g=d.syncLoadNls(a);if(g)e.push(g);else if(o)o.get({url:l,sync:!0,load:b,error:function(){e.push(c[l]={})}});else try{d.getText(l,!0,b)}catch(h){e.push(c[l]={})}}});b&&b.apply(null,e)},z=function(a){for(var b,
d=a.split("/"),e=f.global[d[0]],l=1;e&&l<d.length-1;e=e[d[l++]]);e&&((b=e[d[l]])||(b=e[d[l].replace(/-/g,"_")]),b&&(c[a]=b));return b};a.getLocalization=function(a,b,c){var d,a=l(a,b,c);t(a,!k.isXdUrl(k.toUrl(a+".js"))?function(a,b){x(a,b,k)}:k,function(a){d=a});return d};m("dojo-unit-tests")&&u.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=A("{prop:1}",z,"nonsense",w);a.is({prop:1},b);a.is(void 0,b[1]);b=A("({prop:1})",z,"nonsense",w);a.is({prop:1},b);a.is(void 0,b[1]);b=A("{'prop-x':1}",
z,"nonsense",w);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=A("({'prop-x':1})",z,"nonsense",w);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=A("define({'prop-x':1})",z,"nonsense",w);a.is(w,b);a.is({"prop-x":1},w.result);b=A("define('some/module', {'prop-x':1})",z,"nonsense",w);a.is(w,b);a.is({"prop-x":1},w.result);b=A("this is total nonsense and should throw an error",z,"nonsense",w);a.is(b instanceof Error,!0)})});return h.mixin(a,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:t,cache:c})})},
"gridx/nls/Body":function(){define({root:{loadingInfo:"Loading...",emptyInfo:"No items to display",loadFailInfo:"Failed to load data!"},ar:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,es:!0,fi:!0,fr:!0,hu:!0,it:!0,ja:!0,kk:!0,ko:!0,nb:!0,nl:!0,pl:!0,pt:!0,"pt-pt":!0,ro:!0,ru:!0,sk:!0,sl:!0,sv:!0,th:!0,tr:!0,zh:!0,"zh-tw":!0})},"gridx/modules/VLayout":function(){define(["dojo/_base/declare","dojo/DeferredList","../core/_Module"],function(f,k,m){return f(m,{name:"vLayout",getAPIPath:function(){return{vLayout:this}},
preload:function(){var f=this,i=f.grid;f.connect(i,"_onResizeEnd",function(h,i){var g,e=[];for(g in i)e.push(i[g]);(new k(e)).then(function(){f.reLayout()})});i.autoHeight?f.connect(i.body,"onRender","reLayout"):f.connect(i,"setColumns",function(){setTimeout(function(){f.reLayout()},0)})},load:function(f,i){var h=this;i.then(function(){h._defs&&h._mods?(new k(h._defs)).then(function(){h._layout();h.loaded.callback()}):h.loaded.callback()})},register:function(f,i,h,k,g){this._defs=this._defs||[];this._mods=
this._mods||{};this._mods[h]=this._mods[h]||[];this._defs.push(g||f.loaded);this._mods[h].push({p:k||0,mod:f,nodeName:i})},reLayout:function(){var f=0,i,h;for(i in this._mods)(h=this.grid[i])&&(f+=h.offsetHeight);this._updateHeight(f)},_layout:function(){var f=0,i=this._mods,h,k,g,e,a,d;for(h in i)if(k=this.grid[h]){e=i[h];e.sort(function(a,c){return a.p-c.p});for(g=0;g<e.length;++g)a=e[g].mod,d=e[g].nodeName,a&&a[d]&&k.appendChild(a[d]);f+=k.offsetHeight}this._updateHeight(f)},_updateHeight:function(f){var i=
this.grid,h=i.domNode,k=i.mainNode.style;if(i.autoHeight)i.vScroller.loaded.then(function(){var g=i.bodyNode.lastChild,g=g?g.offsetTop+g.offsetHeight:i.emptyNode.offsetHeight;h.style.height=g+f+"px";k.height=g+"px"});else if(h.clientHeight>f)k.height=h.clientHeight-f+"px"}})})},"gridx/modules/HLayout":function(){define("dojo/_base/declare,dojo/_base/Deferred,dojo/_base/array,dojo/dom-style,dojo/DeferredList,../core/_Module".split(","),function(f,k,m,j,i,h){return f(h,{name:"hLayout",getAPIPath:function(){return{hLayout:this}},
load:function(f,g){var e=this;e.connect(e.grid,"_onResizeEnd",function(a,d){var b,c=[];for(b in d)c.push(d[b]);(new i(c)).then(function(){e.reLayout()})});g.then(function(){e._layout()})},lead:0,tail:0,register:function(f,g,e){var a=this._regs=this._regs||[];f||(f=new k,f.callback());a.push([f,g,e])},reLayout:function(){var f=this._regs,g=0,e=0;if(f)m.forEach(f,function(a){var d=a[1].offsetWidth||j.get(a[1],"width");a[2]?e+=d:g+=d}),this.lead=g,this.tail=e,this.onUpdateWidth(g,e)},onUpdateWidth:function(){},
_layout:function(){var f=this,g=f._regs;if(g){var e=0,a=0,d=m.map(g,function(a){return a[0]});(new i(d)).then(function(){m.forEach(g,function(b){var c=b[1].offsetWidth||j.get(b[1],"width");b[2]?a+=c:e+=c});f.lead=e;f.tail=a;f.loaded.callback()})}else f.loaded.callback()}})})},"gridx/modules/VScroller":function(){define("dojo/_base/declare,dojo/_base/Deferred,dojo/_base/event,dojo/_base/sniff,dojo/_base/query,dojo/dom-geometry,dojo/keys,dojox/html/metrics,../core/_Module".split(","),function(f,k,m,
j,i,h,o,g,e){return f(e,{name:"vScroller",forced:["body","vLayout","columnWidth"],optional:["pagination"],getAPIPath:function(){return{vScroller:this}},constructor:function(){var a=this.grid,d=this.domNode=a.vScrollerNode;this.stubNode=d.firstChild;if(a.autoHeight){if(d.style.display="none",8>j("ie"))d.style.width="0px"}else{var b=g.getScrollbar().w+"px";d.style.width=b;d.style[a.isLeftToRight()?"right":"left"]=-g.getScrollbar().w+"px";if(8>j("ie"))this.stubNode.style.width=b}},preload:function(){this.grid.hLayout.register(null,
this.domNode,1)},load:function(a,d){var b=this,c=b.grid,e=c.body,g=b.domNode,f=c.bodyNode;b.batchConnect([b.domNode,"onscroll","_doScroll"],[f,"onmousewheel","_onMouseWheel"],[c.mainNode,"onkeypress","_onKeyScroll"],j("ff")&&[f,"DOMMouseScroll","_onMouseWheel"]);b.aspect(c,"_onResizeEnd","_onBodyChange");b.aspect(e,"onForcedScroll","_onForcedScroll");b.aspect(e,"onRender","_onBodyChange");c.autoHeight||b.aspect(e,"onEmpty",function(){var a=g.style;a.display="none";a.width="";if(8>j("ie"))a.width=
b.stub.style.width="0px";c.hLayout.reLayout();c.hScroller.refresh()});d.then(function(){k.when(b._init(a),function(){b.domNode.style.width="";b.loaded.callback()})})},scrollToRow:function(a,d){var b=new k,c=this.grid.bodyNode,e=this.domNode,g=0,f=i('[visualindex="'+a+'"]',c)[0],h=function(a){setTimeout(function(){b.callback(a)},5)};if(f){var g=f.offsetTop,j=c.scrollTop;if(d)return e.scrollTop=g,h(!0),b;if(g<j)g-=j;else if(g+f.offsetHeight>j+c.clientHeight)g=g+f.offsetHeight-j-c.clientHeight;else return h(!0),
b;e.scrollTop+=g}h(!!f);return b},_init:function(){this._onForcedScroll()},_update:function(){var a=this.grid;if(!a.autoHeight){var d=a.body,b=a.bodyNode,d=d.renderCount<d.visualCount||b.scrollHeight>b.clientHeight,b=this.domNode.style;scrollBarWidth=g.getScrollbar().w+(j("webkit")?1:0);if(8>j("ie")){var c=d?scrollBarWidth+"px":"0px";this.stubNode.style.width=c;b.width=c}else b.width="";b.display=d?"":"none";b[a.isLeftToRight()?"right":"left"]=-this.domNode.offsetWidth+"px"}a.hLayout.reLayout()},
_doScroll:function(){this.grid.bodyNode.scrollTop=this.domNode.scrollTop},_onMouseWheel:function(a){"none"!=this.grid.vScrollerNode.style.display&&(this.domNode.scrollTop-="number"===typeof a.wheelDelta?a.wheelDelta/3:-40*a.detail,m.stop(a))},_onBodyChange:function(){var a=this,d=a.grid;a._update();setTimeout(function(){if(d.bodyNode)a.stubNode.style.height=d.bodyNode.scrollHeight+"px",a._doScroll(),d.vScrollerNode.scrollTop=d.vScrollerNode.scrollTop||0},0)},_onForcedScroll:function(){var a=this.grid.body;
return this.model.when({start:a.rootStart,count:a.rootCount},function(){a.renderRows(0,a.visualCount)})},_onKeyScroll:function(a){var d=this.grid,b=d.body,c=d.bodyNode,e=d.focus,d=this.domNode,g;if(c.childNodes.length&&(!e||"body"==e.currentArea())){if(a.keyCode==o.HOME)d.scrollTop=0,g=c.firstChild;else if(a.keyCode==o.END)d.scrollTop=d.scrollHeight-d.offsetHeight,g=c.lastChild;else if(a.keyCode==o.PAGE_UP)d.scrollTop?d.scrollTop-=d.offsetHeight:g=c.firstChild;else if(a.keyCode==o.PAGE_DOWN)d.scrollTop>=
d.scrollHeight-d.offsetHeight?g=c.lastChild:d.scrollTop+=d.offsetHeight;else return;if(e)g?(b._focusCellRow=parseInt(g.getAttribute("visualindex"),10),e.focusArea("body",1)):setTimeout(function(){for(var d=c.childNodes,f=0,i=d.length-1,j=h.position(c),k,m,q=function(b){var c=d[b],b=h.position(c);if(a.keyCode==o.PAGE_DOWN){c=c.previousSibling;if(!c&&b.y>=j.y||b.y==j.y)return 0;return c?(b=h.position(c),b.y<j.y&&b.y+b.h>=j.y?0:b.y>j.y?1:-1):-1}c=c.nextSibling;if(!c&&b.y+b.h<=j.y+j.h||b.y+b.h==j.y+j.h)return 0;
return c?(b=h.position(c),b.y<=j.y+j.h&&b.y+b.h>j.y+j.h?0:b.y>j.y+j.h?1:-1):1};f<=i;)if(k=Math.floor((f+i)/2),m=q(k),0>m)f=k+1;else if(0<m)i=k-1;else{g=d[k];break}if(g)b._focusCellRow=parseInt(g.getAttribute("visualindex"),10),e.focusArea("body",1)},0);m.stop(a)}}})})},"gridx/modules/HScroller":function(){define("dojo/_base/declare,dojo/dom-style,dojo/_base/sniff,dojo/_base/Deferred,dojo/query,dojox/html/metrics,../core/_Module".split(","),function(f,k,m,j,i,h,o){return f(o,{name:"hScroller",getAPIPath:function(){return{hScroller:this}},
constructor:function(){var g=this.grid,e=g.hScrollerNode;g._initEvents(["H"],["Scroll"]);this.domNode=e;this.container=e.parentNode;this.stubNode=e.firstChild},preload:function(){var g=this.grid,e=g.hScrollerNode;if(!g.autoWidth&&(g.vLayout.register(this,"container","footerNode",0),e.style.display="block",this.batchConnect([g.columnWidth,"onUpdate","refresh"],[e,"onscroll","_onScroll"]),m("ie")))e.style.height=h.getScrollbar().h+"px"},scroll:function(g){var e=this.domNode;if((m("webkit")||8>m("ie"))&&
!this.grid.isLeftToRight())g=e.scrollWidth-e.offsetWidth-g;m("ff")&&!this.grid.isLeftToRight()&&0<g&&(g=-g);e.scrollLeft=g},scrollToColumn:function(g){var e=this.grid.header.innerNode,a=i("table",e)[0].rows[0].cells,d=0,b=0,c=this.grid.isLeftToRight(),l=this.domNode.scrollLeft;if(!c&&(m("webkit")||8>m("ie")))l=this.domNode.scrollWidth-l-e.offsetWidth;for(var l=Math.abs(l),f=0;f<a.length;f++){b+=a[f].offsetWidth;if(a[f].getAttribute("colid")==g)break;d+=a[f].offsetWidth}d<l?this.scroll(d):b>l+e.offsetWidth&&
this.scroll(b-e.offsetWidth);e.scrollLeft=c?0:e.scrollWidth-e.offsetWidth},refresh:function(){var g=this.grid,e=g.isLeftToRight(),a=e?"marginLeft":"marginRight",d=e?"marginRight":"marginLeft",b=g.hLayout.lead,c=g.hLayout.tail,l=(g.domNode.clientWidth||k.get(g.domNode,"width"))-b-c,f=g.header.innerNode,e=k.get(f,e?"paddingLeft":"paddingRight")||0,h=this.domNode.style,f=f.firstChild.offsetWidth+e,i=h.display,j=f<=l?"none":"block";h[a]=b+e+"px";h[d]=c+"px";h.width=(0>l-e?0:l-e)+"px";this.stubNode.style.width=
(0>f-e?0:f-e)+"px";h.display=j;i!=j&&g.vLayout.reLayout()},_lastLeft:0,_onScroll:function(){var g=this.domNode.scrollLeft;if((m("webkit")||8>m("ie"))&&!this.grid.isLeftToRight())g=this.domNode.scrollWidth-this.domNode.offsetWidth-g;if(this._lastLeft!=g)this._lastLeft=g,this._doScroll()},_doScroll:function(){var g=this.grid;g.bodyNode.scrollLeft=this.domNode.scrollLeft;g.onHScroll(this._lastLeft)}})})},"gridx/modules/ColumnWidth":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/Deferred,dojo/_base/query,dojo/_base/sniff,dojo/dom-geometry,dojo/dom-class,dojo/dom-style,dojo/keys,../core/_Module".split(","),
function(f,k,m,j,i,h,o,g,e,a){return f(a,{name:"columnWidth",forced:["hLayout"],getAPIPath:function(){return{columnWidth:this}},constructor:function(){this._init()},preload:function(){var a=this.grid;this._ready=new m;this.batchConnect([a.hLayout,"onUpdateWidth","_onUpdateWidth"],[a,"setColumns","_onSetColumns"])},load:function(){this._adaptWidth();this.loaded.callback()},"default":60,autoResize:!1,onUpdate:function(){},_init:function(){var a=this,b=a.grid,c=b.domNode,e=b._columns;k.forEach(e,function(a){if(!a.hasOwnProperty("declaredWidth"))a.declaredWidth=
a.width=a.width||"auto"});b.autoWidth?k.forEach(e,function(b){if("auto"==b.declaredWidth)b.width=a.arg("default")+"px"}):a.arg("autoResize")&&(o.add(c,"gridxPercentColumnWidth"),k.forEach(e,function(a){if(!/%$/.test(a.declaredWidth))a.width="auto"}))},_onUpdateWidth:function(){var a=this,b=a.grid;if(b.autoWidth)a._adaptWidth();else{var c="none"==b.hScrollerNode.style.display;a._adaptWidth(!c,1);!a.arg("autoResize")&&c&&j(".gridxCell",b.bodyNode).forEach(function(c){var e=b._columnsById[c.getAttribute("colId")];
if(a.arg("autoResize")||!e.declaredWidth||"auto"==e.declaredWidth||/%$/.test(e.declaredWidth))c.style.width=e.width});a.onUpdate()}},_adaptWidth:function(a,b){var c=this.grid,e=c.domNode,f=c.header,p=c.isLeftToRight(),m=p?"marginLeft":"marginRight",o=p?"marginRight":"marginLeft",p=c.hLayout.lead,s=c.hLayout.tail,r=f.innerNode,v=c.bodyNode.style,q=r.style,z=(e.clientWidth||g.get(e,"width"))-p-s,w=j(".gridxCell",r)[0],A=w?h.getMarginBox(w).w-h.getContentBox(w).w:0,x=!e.offsetHeight,E=w&&"collapse"==
g.get(w,"borderCollapse"),w=E&&0<p?p-1:p;q[m]=w+"px";q[o]=((this.arg("autoResize")||!E)&&0<s?s-1:0)+"px";c.mainNode.style[m]=w+"px";c.mainNode.style[o]=s+"px";z=0>z?0:z;if(a)this.onUpdate();else{E&&(A+=x?-1:1);if(c.autoWidth){var m=j("th.gridxCell",r),B=E?2:0;m.forEach(function(a){var b=g.get(a,"width");if(!i("safari")||!x)b+=A;B+=b;E&&B--;var d=c._columnsById[a.getAttribute("colid")];if("auto"==d.width||/%$/.test(d.width))a.style.width=d.width=b+"px"});v.width=B+"px";e.style.width=p+s+B+"px"}else if(!this.arg("autoResize")){var H=
[],e=c._columns,P=E?2:0;k.forEach(e,function(a){if("auto"==a.declaredWidth)H.push(a);else if(/%$/.test(a.declaredWidth)){var b=parseInt(z*parseFloat(a.declaredWidth,10)/100-(i("safari")?E?1:0:A),10);0>b&&(b=0);f.getHeaderNode(a.id).style.width=a.width=b+"px"}});k.forEach(e,function(a){if("auto"!=a.declaredWidth){var b=i("safari")?parseFloat(f.getHeaderNode(a.id).style.width,10):g.get(f.getHeaderNode(a.id),"width");if(/%$/.test(a.declaredWidth))a.width=b+"px";i("safari")||(b+=A);P+=b}});if(H.length){i("safari")&&
(A=0);var C=z>P?(z-P)/H.length-A:this.arg("default"),y=parseInt(C,10);z>P&&(E&&(C+=e.length/H.length,8>i("ie")&&(C+=e.length/H.length)),y=z-P-(y+A)*(H.length-1)-A);C=parseInt(C,10);0>C&&(C=0);0>y&&(y=0);k.forEach(H,function(a,b){f.getHeaderNode(a.id).style.width=a.width=(b<H.length-1?C:y)+"px"})}}c.hScroller.scroll(0);f._onHScroll(0);c.vLayout.reLayout();if(!b)this.onUpdate()}},_onSetColumns:function(){var a=this.grid;this._init();a.header.refresh();this._adaptWidth();a.cellWidget&&(a.cellWidget._init(),
a.edit&&a.edit._init());a.tree&&a.tree._initExpandLevel();a.body.refresh()}})})},"gridx/core/model/cache/Async":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/_base/Deferred,dojo/DeferredList,./_Cache".split(","),function(f,k,m,j,i,h){function o(a,b){if(!b.length||!a.length)return a;var c=[],e=0,g,f=[];g=function(a,b){var d,e;for(d=a.length-1;0<=d;--d){e=a[d];var g=e.start,l=b;c[g]=c[g]||0;c[g]+=l;e.count&&(e=e.start+e.count,g=-b,c[e]=c[e]||0,c[e]+=g)}};g(a,1);g(b,2);
for(var h=0,i=c.length;h<i;++h)if(c[h])if(e+=c[h],1===e)f.push({start:h});else{if(3===e)f._overlap=!0;if((g=f[f.length-1])&&!g.count)g.count=h-g.start}return f}function g(a){for(var b=[],c=a.range,e,g,f,h,i,j;0<c.length;){i=f=c.pop();j=0;for(e=c.length-1;0<=e;--e){h=c[e];f.start<h.start&&(g=h,h=f,f=g);if(h.count)if(f.start<=h.start+h.count)if(f.count&&f.start+f.count>h.start+h.count)h.count=f.start+f.count-h.start;else{if(!f.count)h.count=null}else{f=i;continue}c[e]=h;j=1;break}j||b.push(i)}a.range=
b;return a}function e(a,b){var c=a.range,e=[],g,f;for(c.sort(function(a,b){return a.start-b.start});c.length;){g=c.shift();if(c.length)if(f=c[0],f.count&&f.count+f.start-g.start<=b){f.count=f.count+f.start-g.start;f.start=g.start;continue}else if(!f.count&&f.start-g.start<b){f.start=g.start;continue}e.push(g)}if(1==e.length&&e[0].count<b)e[0].count=b;a.range=e;return a}var a=m.hitch;return f(h,{isAsync:!0,constructor:function(a,b){var c=b.cacheSize,e=b.pageSize;this.cacheSize="number"==typeof c&&
!isNaN(c)?c:-1;this.pageSize="number"==typeof e&&!isNaN(e)&&0<e?e:100},when:function(d,b){var c=this,e=d._def=new j,g=a(e,e.errback),f=function(a){c._requests.pop();g(a)};c._fetchById(d).then(function(a){c._fetchByIndex(a).then(function(a){c._fetchByParentId(a).then(function(a){j.when(a._req,function(){var a;if(b)try{b()}catch(d){a=d}c._requests.shift();a?e.errback(a):e.callback()},f)},f)},f)},g);return e},keep:function(a){var b=this._kept;this._cache[a]&&this._struct[a]&&!b[a]&&(b[a]=1,++this._keptSize)},
free:function(a){this.model.isId(a)?this._kept[a]&&(delete this._kept[a],--this._keptSize):(this._kept={},this._keptSize=0)},clear:function(){this._requests&&this._requests.length?this._clearLock=1:(this.inherited(arguments),this._requests=[],this._priority=[],this._kept={},this._keptSize=0)},_init:function(){},_findMissingIds:function(a){var b=this._cache;return k.filter(a,function(a){return!b[a]})},_searchRootLevel:function(d){var b=this,c=new j,e=a(c,c.errback),g=b._struct[""],f=[],h,i;if(d.length){for(var k=
1,m=g.length;k<m;++k)g[k]||(i?h.count++:(i=1,f.push(h={start:k-1,count:1})));f.push({start:2>g.length?0:g.length-2})}var o=function(a){a.length&&f.length?b._storeFetch(f.shift()).then(function(){o(b._findMissingIds(a))},e):c.callback(a)};o(d);return c},_searchChildLevel:function(d){var b=this,c=new j,e=a(c,c.errback),g=b._struct,f=g[""].slice(1),h=function(a){if(a.length&&f.length){var d=f.shift();b._loadChildren(d).then(function(){[].push.apply(f,g[d].slice(1));h(b._findMissingIds(a))},e)}else c.callback(a)};
h(d);return c},_fetchById:function(d){var b=this,c=new j,e,g,f=a(c,c.callback),h=a(c,c.errback),i=d.range,m=b.store.getChildren;d.pids=[];if(m)for(e=i.length-1;0<=e;--e)g=i[e],g=g.parentId,b.model.isId(g)&&(d.id.push(g),d.pids.push(g),i.splice(e,1));e=b._findMissingIds(d.id);var o=[];e.length?(k.forEach(e,function(a){var c=b.idToIndex(a);0<=c&&!b.treePath(a).pop()?i.push({start:c,count:1}):o.push(a)}),b._searchRootLevel(o).then(function(a){a.length&&m?b._searchChildLevel(a).then(function(a){a.length&&
console.warn("Requested row ids are not found: ",a);f(d)},h):f(d)},h)):f(d);return c},_fetchByParentId:function(d){var b=this,c=new j;(new i(k.map(d.pids,function(a){return b._loadChildren(a)}),0,1)).then(a(c,c.callback,d),a(c,c.errback));return c},_fetchByIndex:function(d){var b=this,c=new j,f=b._size[""],d=e(b._mergePendingRequests(b._findMissingIndexes(g(d))),b.pageSize),h=0<f?k.filter(d.range,function(a){if(0<a.count&&f<a.start+a.count)a.count=f-a.start;return a.start<f}):d.range;(new i(k.map(h,
function(a){return b._storeFetch(a)}),0,1)).then(a(c,c.callback,d),a(c,c.errback));return c},_findMissingIndexes:function(a){var b,c,e,g,f,h=[],i=this._struct[""],j=this._size[""];for(b=a.range.length-1;0<=b;--b){e=a.range[b];g=e.count?e.start+e.count:i.length-1;f=1;for(c=e.start;c<g;++c){var k=i[c+1];!k||!this._cache[k]?(f?h.push({start:c,count:1}):++h[h.length-1].count,f=0):f=1}e.count||(f?(0>j||c<j)&&h.push({start:c}):delete h[h.length-1].count)}a.range=h;return a},_mergePendingRequests:function(a){var b,
c,e=[],g=this._requests;for(b=g.length-1;0<=b;--b)c=g[b],a.range=o(a.range,c.range),a.range._overlap&&e.push(c._def);a._req=e.length&&new i(e,0,1);g.push(a);return a},_checkSize:function(){var a,b=this.cacheSize,c=this._priority;if(this._clearLock)this._clearLock=0,this.clear();else if(0<=b)for(b+=this._keptSize;c.length>b;)a=c.shift(),this._kept[a]?c.push(a):delete this._cache[a]}})})},"gridx/core/model/cache/_Cache":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/Deferred",
"../_Extension"],function(f,k,m,j,i){var h=m.hitch,o=m.mixin,g=k.indexOf;return f(i,{constructor:function(e,a){this.setStore(a.store);this.columns=a.columns;this._mixinAPI("byIndex","byId","indexToId","idToIndex","size","treePath","parentId","hasChildren","children","keep","free")},destroy:function(){this.inherited(arguments);this.clear()},setStore:function(e){var a=this,d=e.fetch;a.clear();a.store=e;!d&&e.notify?a.aspect(e,"notify",function(b,c){void 0===b?a._onDelete(c):void 0===c?a._onNew(b):a._onSet(b)}):
(a.aspect(e,d?"onSet":"put","_onSet"),a.aspect(e,d?"onNew":"add","_onNew"),a.aspect(e,d?"onDelete":"remove","_onDelete"))},clear:function(){this._filled=0;this._priority=[];this._struct={};this._cache={};this._size={};this._struct[""]=[];this._size[""]=-1},byIndex:function(e,a){this._init("byIndex",arguments);return this._cache[this.indexToId(e,a)]},byId:function(e){this._init("byId",arguments);return this._cache[e]},indexToId:function(e,a){this._init("indexToId",arguments);var d=this._struct[this.model.isId(a)?
a:""];return"number"==typeof e&&0<=e?d&&d[e+1]:void 0},idToIndex:function(e){this._init("idToIndex",arguments);var a=this._struct,a=g(a[a[e]&&a[e][0]]||[],e);return 0<a?a-1:-1},treePath:function(e){this._init("treePath",arguments);for(var a=this._struct,d=[];void 0!==e;)d.unshift(e),e=a[e]&&a[e][0];""!==d[0]?d=[]:d.pop();return d},parentId:function(e){return this.treePath(e).pop()},hasChildren:function(e){var a=this.store,d;this._init("hasChildren",arguments);d=this.byId(e);return a.hasChildren&&
a.hasChildren(e,d&&d.item)},children:function(e){this._init("children",arguments);for(var e=this.model.isId(e)?e:"",a=this._size[e],d=[],b=0;b<a;++b)d.push(this.indexToId(b,e));return d},size:function(e){this._init("size",arguments);var a=this._size[this.model.isId(e)?e:""];return 0<=a?a:-1},onBeforeFetch:function(){},onAfterFetch:function(){},onLoadRow:function(){},onSetColumns:function(e){var a,d,b,c;this.columns=e;for(a in this._cache)for(b in d=this._cache[a],e)c=e[b],d.data[b]=this._formatCell(c.id,
d.rawData)},_itemToObject:function(e){var a=this.store;if(a.fetch){var d={};k.forEach(a.getAttributes(e),function(b){d[b]=a.getValue(e,b)});return d}return e},_formatCell:function(e,a){var d=this.columns[e];return d.formatter?d.formatter(a):a[d.field||e]},_formatRow:function(e){var a=this.columns,d={},b;for(b in a)d[b]=this._formatCell(b,e);return d},_addRow:function(e,a,d,b,c){var f=this._struct,h=this._priority,c=this.model.isId(c)?c:"",i=f[c];if(!i)throw Error("Fatal error of cache._addRow: parent item "+
c+" of "+e+" is not loaded");if(i[a+1]){if(i[a+1]!==e)throw Error("Fatal error of cache._addRow: different row id "+e+" and "+i[a+1]+" for same row index "+a);}else i[a+1]=e;f[e]=f[e]||[c];""===c&&(a=g(h,e),0<=a&&h.splice(a,1),h.push(e));this._cache[e]={data:this._formatRow(d),rawData:d,item:b};this.onLoadRow(e)},_loadChildren:function(e){var a=this,d=new j,b=a.store,c=a.byId(e),c=c&&b.getChildren&&b.getChildren(c.item)||[];j.when(c,function(c){for(var g=0,f,h=a._size[e]=c.length;g<h;++g)f=c[g],a._addRow(b.getIdentity(f),
g,a._itemToObject(f),f,e);d.callback()},h(d,d.errback));return d},_onBegin:function(e){this._size[""]=parseInt(e,10)},_onComplete:function(e,a,d){try{for(var b=0,c;c=d[b];++b)this._addRow(this.store.getIdentity(c),a+b,this._itemToObject(c),c);e.callback()}catch(g){e.errback(g)}},_storeFetch:function(e){var a=this.store,d=new j,b=o({},this.options||{},e),c=h(this,this._onBegin),e=h(this,this._onComplete,d,e.start),g=h(d,d.errback);this._filled=1;this.onBeforeFetch();a.fetch?a.fetch(o(b,{onBegin:c,
onComplete:e,onError:g})):(a=a.query(b.query,b),j.when(a.total,c),j.when(a,e,g));d.then(h(this,this.onAfterFetch));return d},_onSet:function(e){var a=this.store.getIdentity(e),d=this.idToIndex(a),b=this.treePath(a),c=this._cache[a];b.length&&this._addRow(a,d,this._itemToObject(e),e,b.pop());this.onSet(a,d,this._cache[a],c)},_onNew:function(e,a){var d=this.store,b=this._itemToObject(e),c=a&&a[d.fetch?"item":"parent"];c&&d.getIdentity(c);var g=this._size[""];this.clear();this.onNew(d.getIdentity(e),
0,{data:this._formatRow(b),rawData:b,item:e});!c&&0<=g&&(this._size[""]=g+1,this.model._onSizeChange())},_onDelete:function(e){var a=this.store,d=this._struct,e=a.fetch?a.getIdentity(e):e,b=this.treePath(e);if(b.length){var c,f,a=[e],h=b.pop(),i=this._size,j=i[""],k=g(d[h],e);d[h].splice(k,1);--i[h];for(c=0;c<a.length;++c)if(b=d[a[c]])for(f=b.length-1;0<f;--f)a.push(b[f]);for(c=a.length-1;0<=c;--c)f=a[c],delete this._cache[f],delete d[f],delete i[f];c=g(this._priority,e);0<=c&&this._priority.splice(c,
1);this.onDelete(e,k-1);!h&&0<=j&&(i[""]=j-1,this.model._onSizeChange())}else this.onDelete(e)}})})},"gridx/modules/Focus":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/connect,dojo/_base/lang,dojo/_base/sniff,dojo/_base/window,dojo/keys,../core/_Module,../core/util".split(","),function(f,k,m,j,i,h,o,g,e){return f(g,{name:"focus",getAPIPath:function(){return{focus:this}},constructor:function(){var a=this,d=a.grid;a._areas={};a._tabQueue=[];a._focusNodes=[];a._onDocFocus=function(b){if(!a._noBlur){if(i("ie"))b.target=
b.srcElement;a._onFocus(b)}};a.batchConnect([d.domNode,"onkeydown","_onTabDown"],[d.domNode,"onfocus","_focus"],[d.lastFocusNode,"onfocus","_focus"],[d,"onBlur","_doBlur"]);i("ie")?h.doc.attachEvent("onfocusin",a._onDocFocus):h.doc.addEventListener("focus",a._onDocFocus,!0)},destroy:function(){this._areaQueue=this._areas=null;this._focusNodes=[];this._queueIdx=-1;i("ie")?h.doc.detachEvent("onfocusin",this._onDocFocus):h.doc.removeEventListener("focus",this._onDocFocus,!0);this.inherited(arguments)},
registerArea:function(a){if(a&&a.name&&"number"==typeof a.priority){var d=this._tabQueue,b=function(b){a[b]=a[b]?j.hitch(a.scope||a,a[b]):function(){return!0}};this._areas[a.name]&&this.removeArea(a.name);b("doFocus");b("doBlur");b("onFocus");b("onBlur");a.connects=a.connects||[];this._areas[a.name]=a;b=e.biSearch(d,function(b){return b.p-a.priority});d[b]&&d[b].p===a.priority?(d[b].stack.unshift(a.name),this._focusNodes[b]=a.focusNode||this._focusNodes[b]):(d.splice(b,0,{p:a.priority,stack:[a.name]}),
this._focusNodes.splice(b,0,a.focusNode))}},focusArea:function(a,d){var b=this._areas[a];if(b){var c=this._areas[this.currentArea()];if(c&&c.name===a)return d&&c.doFocus(),!0;if(!c||c.doBlur()){if(c)this.onBlurArea(c.name);if(b.doFocus())return this.onFocusArea(b.name),this._updateCurrentArea(b),!0;this._updateCurrentArea()}}return!1},currentArea:function(){var a=this._tabQueue[this._queueIdx];return a?a.stack[this._stackIdx]:""},tab:function(a,d){var b=this._areas,c=b[this.currentArea()];if(!a)return c?
c.name:"";var e=this._queueIdx+a,g=0<a?1:-1,f=this._tabQueue;if(c){var h=c.doBlur(d,a),i=b[h];if(h)this.onBlurArea(c.name);if(i&&i.doFocus(d,a))return this.onFocusArea(i.name),this._updateCurrentArea(i),i.name;if(!h)return c.name}for(;0<=e&&e<f.length;e+=g){h=f[e].stack;for(c=0;c<h.length;++c)if(i=h[c],b[i].doFocus(d,a))return this.onFocusArea(i),this._queueIdx=e,this._stackIdx=c,i}this._tabingOut=1;0>a?(this._queueIdx=-1,this.grid.domNode.focus()):(this._queueIdx=f.length,this.grid.lastFocusNode.focus());
return""},removeArea:function(a){var d=this._areas[a];if(d){this.currentArea()===a&&this._updateCurrentArea();var b=e.biSearch(this._tabQueue,function(a){return a.p-d.priority}),c,g=this._tabQueue[b].stack;for(c=g.length-1;0<=c;--c)if(g[c]===d.name){g.splice(c,1);break}g.length||(this._tabQueue.splice(b,1),this._focusNodes.splice(b,1));k.forEach(d.connects,m.disconnect);delete this._areas[a];return!0}return!1},onFocusArea:function(){},onBlurArea:function(){},_queueIdx:-1,_stackIdx:0,_onTabDown:function(a){a.keyCode===
o.TAB&&this.tab(a.shiftKey?-1:1,a)},_onFocus:function(a){var d,b,c,e;b=this.grid.domNode;c=a.target;for(var g=this._areas[this.currentArea()];c&&c!==b;){d=k.indexOf(this._focusNodes,c);if(0<=d){c=this._tabQueue[d].stack;for(b=0;b<c.length;++b)if(e=this._areas[c[b]],e.onFocus(a)){g&&g.name!==e.name&&(g.onBlur(a),this.onBlurArea(g.name));this.onFocusArea(e.name);this._queueIdx=d;this._stackIdx=b;break}return}c=c.parentNode}c==b&&g&&this._doBlur(a,g)},_focus:function(a){if(this._tabingOut)this._tabingOut=
0;else if(a.target==this.grid.domNode)this._queueIdx=-1,this.tab(1);else if(a.target===this.grid.lastFocusNode)this._queueIdx=this._tabQueue.length,this.tab(-1)},_doBlur:function(a,d){!d&&this.currentArea()&&(d=this._areas[this.currentArea()]);d&&(d.onBlur(a),this.onBlurArea(d.name),this._updateCurrentArea())},_updateCurrentArea:function(a){var d=this._tabQueue;if(a){var b=this._queueIdx=e.biSearch(d,function(b){return b.p-a.priority});this._stackIdx=k.indexOf(d[b].stack,a.name)}else this._queueIdx=
null,this._stackIdx=0}})})},"gridx/modules/Tree":function(){define("dojo/_base/kernel,dojo/_base/declare,dojo/_base/array,dojo/dom-class,dojo/dom-geometry,dojo/_base/lang,dojo/_base/Deferred,dojo/DeferredList,dojo/query,dojo/keys,../core/util,../core/_Module".split(","),function(f,k,m,j,i,h,o,g,e,a,d,b){function c(a){return(a=a.firstChild)&&a.className&&j.contains(a,"gridxTreeExpandoCell")&&!j.contains(a,"gridxTreeExpandoLoading")}f.experimental("gridx/modules/Tree");b._markupAttrs.push("!expandLevel");
return k(b,{name:"tree",constructor:function(){this._clear()},getAPIPath:function(){return{tree:this}},preload:function(){var l;var a=this.grid;this.model.treeMarkMode&&this.model.treeMarkMode("",!0);a.domNode.setAttribute("role","treegrid");this.batchConnect([a.body,"collectCellWrapper","_createCellWrapper"],[a.body,"onAfterRow","_onAfterRow"],[a,"onCellClick","_onCellClick"],[a,"setStore","_clear"]);this._initExpandLevel();this._initFocus();if(a.persist){var b,c=a.persist.registerAndLoad("tree",
function(){return{openInfo:this._openInfo,parentOpenInfo:this._parentOpenInfo}});if(c){a=this._openInfo=c.openInfo;l=this._parentOpenInfo=c.parentOpenInfo,c=l;for(b in a)a[b].openned=c[b];this._persisted=1}}},load:function(){var a=this;a._persisted?a.loaded.callback():a.model.when({},function(){a._openInfo[""].count=a.model.size()}).then(function(){a.loaded.callback()})},rowMixin:{canExpand:function(){return this.grid.tree.canExpand(this.id)},isExpanded:function(){return this.grid.tree.isExpanded(this.id)},
expand:function(){return this.grid.tree.expand(this.id)},collapse:function(){return this.grid.tree.collapse(this.id)},expandRecursive:function(){return this.grid.expandRecursive(this.id)},collapseRecursive:function(){return this.grid.collapseRecursive(this.id)}},nested:!1,expandoPadding:18,expandLevel:1/0,onExpand:function(){},onCollapse:function(){},canExpand:function(a){var b=this.model,c=b.treePath(a).length,d=this.arg("expandLevel");return b.hasChildren(a)&&(!(0<d)||c<=d)},isExpanded:function(a){return!!this._openInfo[a]},
expand:function(a,b){var c=new o,d=this;a&&!d.isExpanded(a)?d.model.when({parentId:a,start:0},function(){d._logicExpand(a)}).then(function(){o.when(b||d._updateBody(a),function(){c.callback();d.onExpand(a)})}):c.callback();return c},collapse:function(a,b){var c=new o,d=this;a&&d.isExpanded(a)?(d._logicCollapse(a),o.when(b||d._updateBody(a),function(){c.callback();d.onCollapse(a)})):c.callback();return c},expandRecursive:function(a,b){var c=this,d=c.model,e=new o;c.expand(a,1).then(function(){var f,
h=[],i=d.size(a);d.when({start:0,parentId:a},function(){for(f=0;f<i;++f){var b=d.indexToId(f,a);h.push(c.expandRecursive(b,1))}}).then(function(){(new g(h)).then(function(){o.when(b||c._updateBody(a),function(){e.callback()})})})});return e},collapseRecursive:function(a,b){var c=new o,d=h.hitch(c,c.callback),e=h.hitch(c,c.errback),f=this,i=f._openInfo[a||""],j,k=[];if(i){for(j=i.openned.length-1;0<=j;--j)k.push(f.collapseRecursive(i.openned[j],1));(new g(k)).then(function(){a?f.collapse(a,b).then(d,
e):b||f._updateBody().then(d,e)})}else d();return c},getRowInfoByVisualIndex:function(a,b){var c=this._openInfo[""].openned,d,e;for(e=0;e<c.length;++e)if(d=this._openInfo[c[e]],d.index<b)a+=d.count+1;else break;for(c={parentId:"",preCount:0};!c.found;)c=this._getChild(a,c);return c},getVisualIndexByRowInfo:function(a,b,c){a=this._getAbsoluteVisualIndex(a,b);return 0<=a?a-this._getAbsoluteVisualIndex("",c):null},getVisualSize:function(a,b,c){if(c=this._openInfo[c||""]){var d,e=c.openned.length,g,f=
b;for(d=0;d<e;++d)g=this._openInfo[c.openned[d]],g.index>=a&&g.index<a+b&&(f+=g.count);return f}return 0},_clear:function(){var a=[];this._openInfo={"":{id:"",parentId:null,index:-1,count:0,openned:a}};this._parentOpenInfo={"":a}},_initExpandLevel:function(){var a=this.grid._columns;if(!m.some(a,function(a){return a.expandLevel}))this.arg("nested")?m.forEach(a,function(a,b){a.expandLevel=b+1}):a[0].expandLevel=1},_createCellWrapper:function(a,b,c){c=this.grid._columnsById[c];if(c.expandLevel){var d=
this.arg("nested"),e=this.model.treePath(b).length,g=this.arg("expandLevel");if((!d||c.expandLevel==e)&&(!(0<g)||e<=g+1)){var f=this.model.hasChildren(b),h=this.isExpanded(b),i=0,j=this.arg("expandoPadding"),k=this.grid.isLeftToRight();d||(i=(e-1)*j);if(e==g+1){if(d)return;f=!1}a.push({priority:0,wrap:function(a){return["<div class='gridxTreeExpandoCell ",h?"gridxTreeExpandoCellOpen":"","' style='padding-",k?"left":"right",": ",i+j,"px;'><span class='gridxTreeExpandoIcon ",f?"":"gridxTreeExpandoIconNoChildren",
"' style='margin-",k?"left":"right",": ",i,"px;'><span class='gridxTreeExpandoInner'>",h?"-":"+","</span></span><span class='gridxTreeExpandoContent'>",a,"</span></span>"].join("")}})}}},_onCellClick:function(a){if(c(a.cellNode)){var b=i.position(e(".gridxTreeExpandoIcon",a.cellNode)[0]);a.clientX>=b.x&&a.clientX<=b.x+b.w&&a.clientY>=b.y&&a.clientY<=b.y+b.h&&(this.isExpanded(a.rowId)?this.collapse(a.rowId):this.expand(a.rowId))}},_updateBody:function(a){var b=this.grid.body;if(b){b.updateRootRange(b.rootStart,
b.rootCount);var c=b.getRowNode({rowId:a}),d,g,f=this.isExpanded(a);if(c&&(d=e(".gridxTreeExpandoCell",c)[0]))g=e(".gridxTreeExpandoIcon",d)[0],g.firstChild.innerHTML="o",j.add(d,"gridxTreeExpandoLoading");a=a?this.getVisualIndexByRowInfo(this.model.treePath(a).pop(),this.model.idToIndex(a),b.rootStart):-1;return b.refresh(a+1).then(function(){if(d)c.setAttribute("aria-expanded",f?"true":"false"),g.firstChild.innerHTML=f?"-":"+",j.remove(d,"gridxTreeExpandoLoading"),j.toggle(d,"gridxTreeExpandoCellOpen",
f)})}return null},_getAbsoluteVisualIndex:function(a,b){var c=this._openInfo[a||""];if(c){for(var d=0,e=this._openInfo;c;){for(var d=d+b,g=void 0,f=void 0,f=0;f<c.openned.length;++f)if(g=e[c.openned[f]],g.index<b)d+=g.count;else break;b=c.index;c.id&&d++;c=e[c.parentId]}return d}return-1},_logicExpand:function(a){var b=this.model,c=b.treePath(a),e=c.length,g=this.arg("expandLevel");if(b.hasChildren(a)&&(!(0<g)||e<=g)){var c=c.pop(),f=this._openInfo,e=this._parentOpenInfo,g=e[c]=e[c]||[];e[a]=e[a]||
[];if(!f[a]){var h=b.idToIndex(a),b=b.size(a),i=d.biSearch(g,function(a){return f[a].index-h});g[i]!==a&&g.splice(i,0,a);for(i=e[a].length-1;0<=i;--i)b+=f[e[a][i]].count;f[a]={id:a,parentId:c,index:h,count:b,openned:e[a]};for(a=f[c];a;)a.count+=b,a=f[a.parentId]}}},_logicCollapse:function(a){var b=this._openInfo[a];if(b){var c=this._openInfo,e=this.model.treePath(a).pop(),g=this._parentOpenInfo[e],f=d.biSearch(g,function(a){return c[a].index-b.index}),h=b.count;g.splice(f,1);for(b=c[e];b;)b.count-=
h,b=c[b.parentId];delete c[a]}},_getChild:function(a,b){var c=this._openInfo[b.parentId],d,e,g=b.preCount+c.index+1,f={found:!0,visualIndex:a,count:1};for(d=0,e=c.openned.length;d<e;++d){var i=c.openned[d],j=this._openInfo[i],k=j.index+g;if(k===a)return h.mixin({parentId:c.id,start:j.index},f);if(k>a)break;else if(k+j.count>=a)return{parentId:i,preCount:g};g+=j.count}return h.mixin({parentId:c.id,start:a-g},f)},_onAfterRow:function(a){this.model.hasChildren(a.id)&&a.node().setAttribute("aria-expanded",
this.isExpanded(a.id))},_initFocus:function(){this.connect(this.grid,"onCellKeyPress","_onKey")},_onKey:function(b){if(b.keyCode==a.ESCAPE){var d=this.model,e=d.treePath(b.rowId),g=e.pop(),b=e.length,f=this.grid;if(g){var h,i,j;for(h=f._columns.length-1;0<=h&&!(i=f._columns[h],i.expandLevel&&(!this.arg("nested")||i.expandLevel==b));--h);d.when({id:g},function(){j=f.body.getVisualIndex({parentId:e.pop(),rowIndex:d.idToIndex(g)}).visualIndex}).then(function(){f.vScroller.scrollToRow(j).then(function(){f.body._focusCell(null,
j,i.index)})})}}else b.ctrlKey&&c(b.cellNode)&&(h=this.grid.isLeftToRight(),b.keyCode==(h?a.LEFT_ARROW:a.RIGHT_ARROW)&&this._openInfo[b.rowId]?this.collapse(b.rowId):b.keyCode==(h?a.RIGHT_ARROW:a.LEFT_ARROW)&&!this._openInfo[b.rowId]&&this.expand(b.rowId))}})})},"gridx/modules/RowHeader":function(){define("dojo/_base/declare,dojo/_base/query,dojo/_base/lang,dojo/_base/sniff,dojo/aspect,dojo/dom-construct,dojo/dom-class,dojo/dom-style,dojo/keys,../core/_Module,../core/util".split(","),function(f,k,
m,j,i,h,o,g,e,a,d){return f(a,{name:"rowHeader",getAPIPath:function(){return{rowHeader:this}},constructor:function(){this.headerNode=h.create("div",{"class":"gridxRowHeaderHeader",role:"row",innerHTML:['<table border="0" cellspacing="0" cellpadding="0" style="width: ',this.arg("width"),';"><tr><th class="gridxRowHeaderHeaderCell" role="rowheader" tabindex="-1"></th></tr></table>'].join("")});this.bodyNode=h.create("div",{"class":"gridxRowHeaderBody"})},destroy:function(){this.inherited(arguments);
this._b.remove();h.destroy(this.headerNode);h.destroy(this.bodyNode)},preload:function(){var a=this.headerNode,c=this.bodyNode,d=this.grid,e=d.body,g=this.arg("width");d._initEvents(["RowHeaderHeader","RowHeaderCell"],d._eventNames);d.header.domNode.appendChild(a);a.style.width=g;this.headerCellNode=k("th",a)[0];d._connectEvents(a,"_onHeaderMouseEvent",this);d.mainNode.appendChild(c);c.style.width=g;d.hLayout.register(null,c);this.batchConnect([e,"onRender","_onRendered"],[e,"onAfterRow","_onAfterRow"],
[e,"onAfterCell","_onAfterCell"],[e,"onUnrender","_onUnrender"],[d.bodyNode,"onscroll","_onScroll"],[d,"onRowMouseOver","_onRowMouseOver"],[d,"onRowMouseOut","_onRowMouseOver"],[d,"_onResizeEnd","_onResize"],d.columnWidth&&[d.columnWidth,"onUpdate","_onResize"],d.columnResizer&&[d.columnResizer,"onResize","_onResize"],[d,"onRowHeaderCellMouseOver","_onCellMouseOver"],[d,"onRowHeaderCellMouseOut","_onCellMouseOver"]);this._b=i.before(e,"renderRows",m.hitch(this,this._onRenderRows),!0);d._connectEvents(c,
"_onBodyMouseEvent",this);this._initFocus()},load:function(a,c){var d=this,e=d.bodyNode;c.then(function(){var a=e.offsetWidth||g.get(e,"width");e.style[d.grid.isLeftToRight()?"left":"right"]=-a+"px";d.loaded.callback()})},width:"20px",onMoveToRowHeaderCell:function(){},_onRenderRows:function(a,c,d){var e=this.bodyNode;if(0<c)a=this._buildRows(a,c),"top"==d?h.place(a,e,"first"):"bottom"==d?h.place(a,e,"last"):(e.innerHTML=a,e.scrollTop=0);else if("top"!=d&&"bottom"!=d)e.innerHTML=""},_onAfterRow:function(a){var c=
a.visualIndex(),d=k('[visualindex="'+c+'"].gridxRowHeaderRow',this.bodyNode)[0],c=k('[visualindex="'+c+'"].gridxRow .gridxRowTable',this.grid.bodyNode)[0],e=d.firstChild,g=this.arg("cellProvider");d.setAttribute("rowid",a.id);d.setAttribute("rowindex",a.index());d.setAttribute("parentid",this.model.treePath(a.id).pop()||"");if(g)e.firstChild.firstChild.firstChild.innerHTML=g.call(this,a);this._syncRowHeight(e,c)},_onAfterCell:function(a){var c=a.row.visualIndex(),a=k('[visualindex="'+c+'"].gridxRowHeaderRow',
this.bodyNode)[0],c=k('[visualindex="'+c+'"].gridxRow .gridxRowTable',this.grid.bodyNode)[0];this._syncRowHeight(a.firstChild,c)},_syncRowHeight:function(a,c){function d(){return j("ie")||e._isCollapse?c.offsetHeight+"px":g.getComputedStyle(c).height}var e=this;if(void 0===e._isCollapse){var f=k(".gridxCell",e.grid.header.innerNode)[0];e._isCollapse=f&&"collapse"==g.get(f,"borderCollapse")}a.style.height=d();setTimeout(function(){a.style.height=d()},0)},_onRendered:function(){var a=this.arg("headerProvider");
if(a)this.headerCellNode.innerHTML=a();this._onScroll()},_onUnrender:function(a){(a=a&&k('[rowid="'+a+'"].gridxRowHeaderRow',this.bodyNode))&&a.length&&h.destroy(a[a.length-1])},_onScroll:function(){this.bodyNode.scrollTop=this.grid.bodyNode.scrollTop},_onResize:function(){for(var a=this.grid.bodyNode.firstChild,c=this.bodyNode.firstChild;a&&c;a=a.nextSibling,c=c.nextSibling)c.firstChild.style.height=a.firstChild.offsetHeight+"px"},_buildRows:function(a,c){for(var d=[],e=0;e<c;++e)d.push('<div class="gridxRowHeaderRow" role="row" visualindex="',
a+e,'"><table border="0" cellspacing="0" cellpadding="0" style="height: 24px;"><tr><td class="gridxRowHeaderCell" role="rowheader" tabindex="-1"></td></tr></table></div>');return d.join("")},_onHeaderMouseEvent:function(a,c){var d=this.grid,e="onRowHeaderHeader"+a,g="onHeader"+a;if(d._isConnected(e))d[e](c);if(d._isConnected(g))d[g](c)},_onBodyMouseEvent:function(a,c){var d=this.grid,e="onRowHeaderCell"+a,g="onRow"+a,f=d._isConnected(e),h=d._isConnected(g);if(f||h)if(this._decorateBodyEvent(c),0<=
c.rowIndex){if(c.isRowHeader&&f)d[e](c);if(h)d[g](c)}},_decorateBodyEvent:function(a){for(var c=a.target||a.originalTarget;c&&c!=this.bodyNode;){if(o.contains(c,"gridxRowHeaderCell"))a.isRowHeader=!0,a.rowHeaderCellNode=c;else if("div"===c.tagName.toLowerCase()&&o.contains(c,"gridxRowHeaderRow")){a.rowId=c.getAttribute("rowid");a.parentId=c.getAttribute("parentid");a.rowIndex=parseInt(c.getAttribute("rowindex"),10);a.visualIndex=parseInt(c.getAttribute("visualindex"),10);break}c=c.parentNode}},_onRowMouseOver:function(a){var c=
k('> [rowid="'+a.rowId+'"].gridxRowHeaderRow',this.bodyNode)[0];c&&o.toggle(c,"gridxRowOver","mouseover"==a.type.toLowerCase())},_onCellMouseOver:function(a){var c=k('> [rowid="'+a.rowId+'"].gridxRowHeaderRow .gridxRowHeaderCell',this.bodyNode)[0];c&&o.toggle(c,"gridxRowHeaderCellOver","mouseover"==a.type.toLowerCase())},_initFocus:function(){var a=this.grid.focus;a&&a.registerArea({name:"rowHeader",priority:0.9,focusNode:this.bodyNode,scope:this,doFocus:this._doFocus,onFocus:this._onFocus,doBlur:this._blur,
onBlur:this._blur,connects:[this.connect(this.bodyNode,"onkeydown","_onKeyDown")]})},_doFocus:function(a){if(this._focusRow(this.grid.body._focusCellRow))return d.stopEvent(a),!0},_onFocus:function(a){for(a=a.target;a!=this.bodyNode;){if(o.contains(a,"gridxRowHeaderRow"))return this._focusRow(this.grid.body._focusCellRow=parseInt(a.getAttribute("visualindex"),10)),!0;a=a.parentNode}},_focusRow:function(a){a=k('[visualindex="'+a+'"] .gridxRowHeaderCell',this.bodyNode)[0];this._blur();if(a=a||this.bodyNode.firstChild)o.add(a,
"gridxCellFocus"),a.focus();return a},_blur:function(){k(".gridxCellFocus",this.bodyNode).forEach(function(a){o.remove(a,"gridxCellFocus")});return!0},_onKeyDown:function(a){var c=this,g=c.grid;if("rowHeader"==g.focus.currentArea()&&a.keyCode==e.UP_ARROW||a.keyCode==e.DOWN_ARROW){d.stopEvent(a);var f=g.body,h=f._focusCellRow+(a.keyCode==e.UP_ARROW?-1:1);f._focusCellRow=h=0>h?0:h>=f.visualCount?f.visualCount-1:h;g.vScroller.scrollToRow(h).then(function(){c._focusRow(h);c.onMoveToRowHeaderCell(h,a)})}}})})},
"gridx/modules/VirtualVScroller":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/_base/sniff,dojo/_base/event,dojo/_base/Deferred,dojo/query,dojo/keys,./VScroller,../core/_Module".split(","),function(f,k,m,j,i,h,o,g,e){return f(e,{constructor:function(a,d){a.autoHeight?k.mixin(this,new e(a,d)):this._scrolls=[]},buffSize:5,lazy:!1,lazyTimeout:50,scrollToRow:function(a,d){var b=new h,c=this,e=c._scrolls,g=function(){c._subScrollToRow(a,b,d)};e.push(b);c._lazy=c.arg("lazy");
c.lazy=!1;1<e.length?e[e.length-2].then(g):g();return b},_subScrollToRow:function(a,d,b){var c=this,e=0,g=c._avgRowHeight,f=c.grid.bodyNode,h=c.domNode,e=f.scrollTop,i=h.scrollTop,j=o('[visualindex="'+a+'"]',f)[0],k=c.grid.focus,v=function(a){c._scrolls.splice(m.indexOf(c._scrolls,d),1);k&&"body"==k.currentArea()&&k.focusArea("body",1);c.lazy=c._lazy;setTimeout(function(){d.callback(a)},5)};if(j)if(g=j.offsetTop,g+j.offsetHeight>e+f.clientHeight)e=g-e,b||(e+=j.offsetHeight-f.clientHeight);else if(g<
e||b&&g>e)e=g-e;else{v(!0);return}else if(f.childNodes.length){for(j=f.firstChild;j&&j.offsetTop<e;)j=j.nextSibling;var q=j&&j.getAttribute("visualindex");if(j&&a<q)e=(a-q)*g;else{for(j=f.lastChild;j&&j.offsetTop+j.offsetHeight>e+f.clientHeight;)j=j.previousSibling;q=j&&j.getAttribute("visualindex");if(j&&a>q)e=(a-q)*g;else{v(!1);return}}}else{v(!1);return}g=0===i&&0>e;i=i>=h.scrollHeight-h.offsetHeight&&0<e;g||i?c._doVirtualScroll(1):h.scrollTop+=e/c._ratio;g&&0==f.firstChild.getAttribute("visualindex")||
i&&f.lastChild.getAttribute("visualindex")==c.grid.body.visualCount-1?v(!1):setTimeout(function(){c._subScrollToRow(a,d,b)},5)},_init:function(){var a=this;a._rowHeight={};a._syncHeight();a.connect(a.grid,"_onResizeEnd",function(){a._doScroll(0,1)});a._doScroll(0,1)},_doVirtualScroll:function(a){var d=this.domNode,b=d.scrollTop,c=this._ratio*(b-(this._lastScrollTop||0));if(a||c){this._lastScrollTop=b;var e=this.arg("buffSize"),a=d.scrollHeight-d.offsetHeight,g=this.grid.body,f=g.visualStart,h=f+g.visualCount,
i=this.grid.bodyNode,j=i.firstChild,k=j&&j.offsetTop-c,m=i.lastChild,q=m&&m.offsetTop-c+m.offsetHeight,z=i.scrollTop,w=z+i.clientHeight,A=this._avgRowHeight,d=Math.ceil(d.offsetHeight/A)+2*e,x,E,B;if(z!=w||w){if(j&&k>z&&k<w)E=g.renderStart,B=Math.ceil((k-z)/A)+e,x=0===b?f:Math.max(E-B,f),B="top";else if(m&&q>z&&q<w)x=g.renderStart+g.renderCount,B=Math.ceil((w-q)/A)+e,E=b===a&&b?h:Math.min(x+B,h),B="bottom";else if(!j||k>w||!m||q<z)b<=a/2?(x=0===b?f:f+Math.max(Math.floor(b/A)-e,0),E=Math.min(x+d,h)):
(E=b===a?h:h+Math.min(d-Math.floor((a-b)/A),0),x=Math.max(E-d,f)),B="clear";else if(j)0===b?(h=g.renderStart,h>f&&(x=f,E=h,B="top")):b===a&&(f=g.renderStart+g.renderCount-1,f<h-1&&(x=f+1,E=h,B="bottom"));"number"==typeof x&&"number"==typeof E&&(g.renderRows(x,E-x,B),b&&x<E&&(x=o('[visualindex="'+E+'"]',i)[0])&&(c+=x.offsetTop));0===b?i.scrollTop=0:b>=a?i.scrollTop=i.scrollHeight:"clear"!=B&&(i.scrollTop+=c)}}},_doScroll:function(a,d){this.arg("lazy")?(this._lazyScrollHandle&&clearTimeout(this._lazyScrollHandle),
this._lazyScrollHandle=setTimeout(k.hitch(this,this._doVirtualScroll,d),this.arg("lazyTimeout"))):this._doVirtualScroll(d)},_onMouseWheel:function(a){"none"!=this.grid.vScrollerNode.style.display&&(this.domNode.scrollTop-=("number"===typeof a.wheelDelta?a.wheelDelta/3:-40*a.detail)/this._ratio,i.stop(a))},_onBodyChange:function(){this._update();this._doScroll(0,1);this._doVirtual()},_onForcedScroll:function(){this._rowHeight={};this._doScroll(0,1);this._doVirtual()},_avgRowHeight:24,_rowHeight:null,
_ratio:1,_syncHeight:function(){var a=this._avgRowHeight*this.grid.body.visualCount,d=1342177;j("ff")?d=17895697:j("webkit")&&(d=134217726);if(a>d)this._ratio=a/d,a=d;this.stubNode.style.height=a+"px"},_doVirtual:function(){var a=this;clearTimeout(a._pVirtual);a._pVirtual=setTimeout(function(){a._updateRowHeight()},100)},_updateRowHeight:function(){var a=0,d=0,b=this.grid,c=b.body,b=b.bodyNode,e=this.buffSize*this._avgRowHeight,g=b.scrollTop,f=g-e,h=g+b.clientHeight+e,i=this._rowHeight;m.forEach(b.childNodes,
function(b){i[b.getAttribute("rowid")]=b.offsetHeight;b.offsetTop>h?++d:b.offsetTop+b.offsetHeight<f&&++a});c.unrenderRows(a);c.unrenderRows(d,"post");var j,b=c=0;for(j in i)c+=i[j],++b;if(b)this._avgRowHeight=c/b,this._syncHeight()},_onKeyScroll:function(a){var n;var l;var d=this.grid.body,b=this.grid.focus,c=this.domNode;if(!b||"body"==b.currentArea()){if(a.keyCode==g.HOME)d._focusCellRow=0,c.scrollTop=0;else if(a.keyCode==g.END)d._focusCellRow=d.visualCount-1,c.scrollTop=this.stubNode.clientHeight-
d.domNode.offsetHeight;else if(a.keyCode==g.PAGE_UP)l=d._focusCellRow=Math.max(d.renderStart-d.renderCount,0),d=l,this.scrollToRow(d);else if(a.keyCode==g.PAGE_DOWN)n=d._focusCellRow=Math.min(d.visualCount-1,d.renderStart+d.renderCount),d=n,this.scrollToRow(d,1);else return;i.stop(a)}}})})},"gridx/modules/IndirectSelect":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/event,dojo/_base/query,dojo/_base/lang,dojo/dom-class,dojo/_base/Deferred,dojo/keys,../core/_Module,../core/util,./RowHeader".split(","),
function(f,k,m,j,i,h,o,g,e,a){return f(e,{name:"indirectSelect",required:["rowHeader","selectRow"],preload:function(){var a=this,b=a.grid,c=b.focus,e=b.select.row,g=b.rowHeader;g.cellProvider=i.hitch(a,a._createSelector);a.batchConnect([e,"onHighlightChange","_onHighlightChange"],[e,"clear","_onClear"],[e,"onSelectionChange","_onSelectionChange"],[b,"onRowMouseOver","_onMouseOver"],[b,"onRowMouseOut","_onMouseOut"],[b,"onRowKeyDown","_onKeyDown"],[b,"onHeaderKeyDown","_onKeyDown"],c&&[c,"onFocusArea",
function(b){"rowHeader"==b&&a._onMouseOver()}],c&&[c,"onBlurArea",function(b){"rowHeader"==b&&a._onMouseOut()}]);if(e.selectByIndex&&a.arg("all"))a._allSelected={},g.headerProvider=i.hitch(a,a._createSelectAllBox),g.loaded.then(function(){c&&a._initFocus();a.connect(b,"onRowHeaderHeaderMouseDown","_onSelectAll")})},all:!0,_createSelector:function(a){var b=a.node(),a=b&&h.contains(b,"gridxRowSelected"),b=b&&h.contains(b,"gridxRowPartialSelected");return this._createCheckBox(a,b)},_createCheckBox:function(a,
b){var c=this._getDijitClass();return['<span role="',this._isSingle()?"radio":"checkbox",'" class="gridxIndirectSelectionCheckBox dijitReset dijitInline ',c," ",a?c+"Checked":"",b?c+"Partial":"",'" aria-checked="',a?"true":b?"mixed":"false",'"><span class="gridxIndirectSelectionCheckBoxInner">',a?"&#10003;":b?"&#9646;":"&#9744;","</span></span>"].join("")},_createSelectAllBox:function(){return this._createCheckBox(this._allSelected[this._getPageId()])},_getPageId:function(){return this.grid.body.rootStart+
","+this.grid.body.rootCount},_onClear:function(){var a=this._getDijitClass()+"Checked";j("."+a,this.grid.rowHeader.bodyNode).forEach(function(b){h.remove(b,a)})},_onHighlightChange:function(a,b){var c=j('[visualindex="'+a.row+'"].gridxRowHeaderRow .gridxIndirectSelectionCheckBox',this.grid.rowHeader.bodyNode)[0];if(c){var e=this._getDijitClass(),g="mixed"==b,f=b&&!g;h.toggle(c,e+"Checked",f);h.toggle(c,e+"Partial",g);c.setAttribute("aria-checked",f?"true":g?"mixed":"false");c.firstChild.innerHTML=
f?"&#10003;":g?"&#9646;":"&#9744;"}},_onMouseOver:function(){var a=this.grid.select.row;if(!a.holdingCtrl)this._holdingCtrl=!1,a.holdingCtrl=!0},_onMouseOut:function(){if(this.hasOwnProperty("_holdingCtrl"))this.grid.select.row.holdingCtrl=!1,delete this._holdingCtrl},_getDijitClass:function(){return this._isSingle()?"dijitRadio":"dijitCheckBox"},_isSingle:function(){var a=this.grid.select.row;return a.hasOwnProperty("multiple")&&!a.arg("multiple")},_onSelectAll:function(){var a=this.grid,b=a.body;
a.select.row[this._allSelected[this._getPageId()]?"deselectByIndex":"selectByIndex"]([0,b.visualCount-1])},_onSelectionChange:function(a){var b=this,c,e,g=b.grid.body,f=b.model,i=g.rootStart,j=g.rootCount,m=k.filter(a,function(a){return!f.treePath(a).pop()});j===f.size()?e=j==m.length:(c=new o,f.when({start:i,count:j},function(){var a=k.filter(k.map(m,function(a){return f.idToIndex(a)}),function(a){return a>=i&&a<i+j});e=j==a.length;c.callback()}));o.when(c,function(){b._allSelected[b._getPageId()]=
e;var a=b.grid.rowHeader.headerCellNode.firstChild;h.toggle(a,b._getDijitClass()+"Checked",e);a.setAttribute("aria-checked",e?"true":"false")})},_initFocus:function(){var d=this.grid,b=d.rowHeader,c=b.headerCellNode,e=function(b){a.stopEvent(b);h.add(c,"gridxHeaderCellFocus");c.focus();return!0},g=function(){h.remove(c,"gridxHeaderCellFocus");return!0};d.focus.registerArea({name:"selectAll",priority:0.89,focusNode:b.headerNode,doFocus:e,doBlur:g,onFocus:e,onBlur:g})},_onKeyDown:function(a){65==a.keyCode&&
a.ctrlKey&&!a.shiftKey&&(this._allSelected[this._getPageId()]||this._onSelectAll(),m.stop(a))}})})},"gridx/modules/select/Row":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/sniff,dojo/_base/query,dojo/dom-class,dojo/keys,./_RowCellBase,../../core/_Module".split(","),function(f,k,m,j,i,h,o){return f(o,{name:"selectRow",rowMixin:{select:function(){this.grid.select.row.selectById(this.id);return this},deselect:function(){this.grid.select.row.deselectById(this.id);return this},isSelected:function(){return this.grid.select.row.isSelected(this.id)}},
triggerOnCell:!1,treeMode:!0,getSelected:function(){return this.model.getMarkedIds()},clear:function(){if(this.arg("enabled")){var g=this.model;k.forEach(g.getMarkedIds(),function(e){g.markById(e,0)});g.when()}},_type:"row",_init:function(){var g=this,e=g.grid;g.model.treeMarkMode("",g.arg("treeMode"));g.inherited(arguments);g.model._spTypes.select=1;g.batchConnect([e,"onRowMouseDown",function(a){(g.arg("triggerOnCell")&&!i.contains(a.target,"gridxTreeExpandoIcon")&&!i.contains(a.target,"gridxTreeExpandoInner")||
!a.columnId)&&g._select(a.rowId,e._isCopyEvent(a))}],[e,4>m("ff")?"onRowKeyUp":"onRowKeyDown",function(a){(g.arg("triggerOnCell")||!a.columnId)&&a.keyCode==h.SPACE&&g._select(a.rowId,e._isCopyEvent(a))}])},_onMark:function(g,e,a,d){if("select"==d){var b=this;b._highlight(g,e);b.model.when({id:g},function(){b[e?"onSelected":"onDeselected"](b.grid.row(g,1))})}},_highlight:function(g,e){var a=j('[rowid="'+g+'"]',this.grid.mainNode),d=e&&"mixed"!=e;a.length&&(a.forEach(function(a){i.toggle(a,"gridxRowSelected",
d);i.toggle(a,"gridxRowPartialSelected","mixed"==e);a.setAttribute("aria-selected",!!d)}),this.onHighlightChange({row:parseInt(a[0].getAttribute("visualindex"),10)},e))},_markById:function(g,e){var a=this.model;a.treeMarkMode()&&!a.getMark(g)&&e&&(e="mixed");a.markById(g,e);a.when()},_onRender:function(g,e){var a=this.model,d=g+e,b,c;for(b=g;b<d;++b)if(c=this.grid.body.getRowNode({visualIndex:b}))c=c.getAttribute("rowid"),this._highlight(c,a.getMark(c))}})})},"gridx/modules/select/_RowCellBase":function(){define(["dojo/_base/declare",
"dojo/_base/lang","./_Base","../../core/model/extensions/Mark"],function(f,k,m,j){return f(m,{modelExtensions:[j],selectById:function(f,h){var j=this.model;this.arg("enabled")&&(j.markById(f,1,this._getMarkType(h)),j.when())},deselectById:function(f,h){var j=this.model;this.arg("enabled")&&(j.markById(f,0,this._getMarkType(h)),j.when())},isSelected:function(f,h){return!0===this.model.getMark(f,this._getMarkType(h))},_init:function(){this.connect(this.model,"onMarkChange","_onMark")}})})},"gridx/modules/select/_Base":function(){define(["dojo/_base/declare",
"dojo/_base/connect","../../core/_Module"],function(f,k,m){return f(m,{getAPIPath:function(){var f={select:{}};f.select[this._type]=this;return f},preload:function(){var f=this,i=f.grid;f.subscribe("gridClearSelection_"+i.id,function(h){h!=f._type&&f.clear()});f.connect(i.body,"onRender","_onRender");f.arg("multiple")&&i.domNode.setAttribute("aria-multiselectable",!0);f._init()},enabled:!0,multiple:!0,holdingCtrl:!1,onSelected:function(){},onDeselected:function(){},onHighlightChange:function(){},
_getMarkType:function(){},_isSelected:function(){return this.isSelected.apply(this,arguments)},_select:function(f,i){var h=1;this.arg("enabled")&&(this.arg("multiple")&&(i||this.arg("holdingCtrl"))?h=!this._isSelected(f):this.clear(),k.publish("gridClearSelection_"+this.grid.id,[this._type]),this._markById(f,h))}})})},"gridx/core/model/extensions/Mark":function(){define(["dojo/_base/declare","dojo/_base/array","../_Extension"],function(f,k,m){return f(m,{name:"move",priority:5,constructor:function(f){this.mixed=
"mixed";this.states={"0":!1,1:this.mixed,2:!0};this.clear();this._mixinAPI("getMark","getMarkedIds","markById","markByIndex","clearMark","treeMarkMode");this.aspect(f,"_msg","_receiveMsg");this.aspect(f._cache,"onLoadRow","_onLoadRow");this.aspect(f,"setStore","clear");f.onMarkChange=function(){};f._spTypes={}},clear:function(){this._byId={};this._last={};this._lazy={};this._tree={}},clearMark:function(f){this._byId[this._initMark(f)]={}},getMarkedIds:function(f,i){var h=[],k,g=this._byId[this._initMark(f)];
if(g)for(k in g)(i||2==g[k])&&h.push(k);return h},isMarked:function(f,i){i=this._initMark(i);return 2==this._byId[i][f]},isPartialMarked:function(f,i){return 1==this._byId[this._initMark(i)][f]},getMark:function(f,i){return{"0":!1,1:this.mixed,2:!0}[this._byId[this._initMark(i)][f]||0]},markById:function(f,i,h){this._cmd(f,i,h,1)},markByIndex:function(f,i,h,k){0<=f&&Infinity>f&&this._cmd(f,i,h,0,k)},treeMarkMode:function(f,i){var f=this._initMark(f),h=this._tree;return void 0===i?h[f]:h[f]=i},_cmdMark:function(){var f=
this,i=arguments,h=[],m=f.model._model;k.forEach(i,function(g){g[3]||h.push({start:g[0],count:1})});return m._call("when",[{id:[],range:h},function(){k.forEach(i,function(g){var e=g[3]?g[0]:m._call("indexToId",[g[0],g[4]]),a=g[1],g=f._initMark(g[2]),a=a===f.mixed?1:a?2:0;f._mark(e,a,g)})}])},_onDelete:function(f){var i,h=this._byId,k=this._last,g=this._lazy;for(i in h)i=this._initMark(i),delete h[i][f],delete k[i][f],delete g[i][f];this.onDelete.apply(this,arguments)},_initMark:function(f){var i=
this._byId,h=this._last,k=this._lazy,f=f||"select";i[f]=i[f]||{};k[f]=k[f]||{};h[f]=h[f]||{};return f},_cmd:function(){this.model._addCmd({name:"_cmdMark",scope:this,args:arguments,async:1})},_receiveMsg:function(f,i){if("filter"==f){var h,k,g=this.model._spTypes;for(h in g)if(g[h])for(k in this._byId[h])i[k]||this._doMark(k,h,0)}},_mark:function(f,i,h){var h=this._initMark(h),k=this._byId[h][f]||0;this.model.isId(f)&&k!=i&&this._doMark(f,h,i)},_onLoadRow:function(f){var i=this.model,h=i._model,k=
this._lazy,g,e,a=h._call("treePath",[f]).pop();if(i.isId(a))for(g in k)i=k[g],e=i[a],"number"==typeof e&&(e=i[a]={toMark:e,count:h._call("size",[a])}),e&&(--e.count,e.count||delete i[a],this._doMark(f,g,e.toMark,1))},_fireEvent:function(f,i,h,k){var g=this.model;h!=k&&(h||delete this._byId[i][f],g.onMarkChange(f,this.states[h||0],this.states[k||0],i))},_doMark:function(f,i,h,m){var g,e,a,d,b=this.model._model,c=this._byId[i],l=this._last[i];d=this._lazy[i];var n=c[f]||0,p;this._tree[i]&&(e=b._call("children",
[f]),1==h&&k.every(e,function(a){return(l[a]||0)==(l[e[0]]||0)})&&(h=2));c[f]=l[f]=h;this._fireEvent(f,i,h,n);if(this._tree[i]){for(g=[f];g.length;)a=g.shift(),n=c[a]||0,p=c[a]=1==h?l[a]||0:h,this._fireEvent(a,i,p,n),b._call("hasChildren",[a])&&(e=b._call("children",[a]),e.length?g=g.concat(e):d[a]=h);if(!m){d=b._call("treePath",[f]);for(f=d.length-1;0<f;--f)h=d[f],n=c[h],m=b._call("children",[h]),g=k.filter(m,function(a){return l[a]=c[a]}).length,a=k.filter(m,function(a){return 2==c[a]}).length,
a==m.length&&2!=n?c[h]=2:!g&&n?delete c[h]:g&&a<m.length&&1!=n&&(c[h]=1),this._fireEvent(h,i,c[h],n)}}}})})},"gridx/modules/ColumnResizer":function(){define("dojo/_base/declare,dojo/_base/sniff,dojo/_base/window,dojo/_base/event,dojo/dom,dojo/dom-style,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/keys,dojo/query,../core/_Module".split(","),function(f,k,m,j,i,h,o,g,e,a,d,b){function c(a){var b=a.target;if(b){if(/table/i.test(b.tagName)){for(var a=a.offsetX||a.layerX||0,c=0,b=b.rows[0].cells;0<
a&&b[c];)a-=b[c].offsetWidth,c++;return b[c]||null}for(;b&&b.tagName;){if("th"==b.tagName.toLowerCase())return b;b=b.parentNode}}return null}var l=o.remove;return f(b,{name:"columnResizer",minWidth:20,detectWidth:5,load:function(){var a=this.grid;this.batchConnect([a.header.innerNode,"mousemove","_mousemove"],[a,"onHeaderMouseOut","_mouseout"],[a,"onHeaderMouseDown","_mousedown",this,this.name],[a,"onHeaderKeyDown","_keydown"],[m.doc,"mousemove","_docMousemove"],[m.doc,"onmouseup","_mouseup"]);this.loaded.callback()},
getAPIPath:function(){return{columnResizer:this}},columnMixin:{setWidth:function(a){this.grid.columnResizer.setWidth(this.id,a)}},setWidth:function(a,b){var c=this.grid,e,g=c._columns;e=this.arg("minWidth");var f,b=parseInt(b,10);b<e&&(b=e);c._columnsById[a].width=b+"px";for(e=0;e<g.length;++e)g[e].declaredWidth=g[e].width;d('[colid="'+a+'"]',c.domNode).forEach(function(a){f||(f=h.get(a,"width"));a.style.width=b+"px"});c.body.onRender();c.vLayout.reLayout();this.onResize(a,b,f)},onResize:function(){},
_mousemove:function(a){var b=c(a),d=this.grid._eventFlags;if(b&&(this._resizing&&l(b,"gridxHeaderCellOver"),!this._resizing&&b&&!this._ismousedown))a=this._readyToResize=this._isInResizeRange(a),d.onHeaderMouseDown=d.onHeaderCellMouseDown=a?this.name:void 0,o.toggle(m.body(),"gridxColumnResizing",a),a&&l(b,"gridxHeaderCellOver")},_docMousemove:function(a){this._resizing&&this._updateResizerPosition(a)},_mouseout:function(){if(!this._resizing)this._readyToResize=0,l(m.body(),"gridxColumnResizing")},
_keydown:function(b){if((b.keyCode==a.LEFT_ARROW||b.keyCode==a.RIGHT_ARROW)&&b.ctrlKey&&b.shiftKey){var c=b.columnId,e=this.grid,g=2*(e.isLeftToRight()?1:-1);d('[colid="'+c+'"]',e.header.domNode).forEach(function(d){d=h.get(d,"width");d=b.keyCode==a.LEFT_ARROW?d-g:d+g;this.setWidth(c,d);j.stop(b)},this)}},_updateResizerPosition:function(a){var b=a.pageX-this._startX,c=this._targetCell,d=this.grid,e=d.hScroller,g=0,a=a.pageX-this._gridX,g=this.arg("minWidth"),f=this.grid.isLeftToRight();f||(b=-b);
c.offsetWidth+b<g&&(a=f?this._startX-this._gridX-c.offsetWidth+g:this._startX-this._gridX+(c.offsetWidth-g));b=e&&e.container.offsetHeight?e.container:d.bodyNode;g=b.parentNode.offsetTop+b.offsetHeight-d.header.domNode.offsetTop;h.set(this._resizer,{top:d.header.domNode.offsetTop+"px",left:a+"px",height:g+"px"})},_showResizer:function(a){if(!this._resizer)this._resizer=g.create("div",{className:"gridxColumnResizer"},this.grid.domNode,"last"),this.connect(this._resizer,"mouseup","_mouseup");this._resizer.style.display=
"block";this._updateResizerPosition(a)},_hideResizer:function(){this._resizer.style.display="none"},_mousedown:function(a){this._readyToResize?(i.setSelectable(this.grid.domNode,!1),m.doc.onselectstart=function(){return!1},this._resizing=1,this._startX=a.pageX,this._gridX=e.position(this.grid.domNode).x,this._showResizer(a)):this._ismousedown=1},_mouseup:function(a){this._ismousedown=0;if(this._resizing){this._readyToResize=this._resizing=0;l(m.body(),"gridxColumnResizing");i.setSelectable(this.grid.domNode,
!0);m.doc.onselectstart=null;var b=this._targetCell,a=a.pageX-this._startX;this.grid.isLeftToRight()||(a=-a);var a=(k("webkit")?b.offsetWidth:h.get(b,"width"))+a,c=this.arg("minWidth");a<c&&(a=c);this.setWidth(b.getAttribute("colid"),a);this._hideResizer()}},_isInResizeRange:function(a){var b=c(a),a=this._getCellX(a),d=this.arg("detectWidth"),e=this.grid.isLeftToRight();if(a<d){if(e)return!!(this._targetCell=b.previousSibling);this._targetCell=b;return 1}return a>b.offsetWidth-d&&a<=b.offsetWidth?
e?(this._targetCell=b,1):!!(this._targetCell=b.previousSibling):0},_getCellX:function(a){var b=a.target,d=c(a);if(!d)return 1E5;if(/table/i.test(b.tagName))return 0;var e=a.offsetX;if(void 0==e)e=a.layerX;/th/i.test(b.tagName)||(e+=b.offsetLeft);k("ff")&&/th/i.test(b.tagName)&&(a=this.grid.isLeftToRight(),b=-parseInt(h.get(d.parentNode.parentNode.parentNode,a?"marginLeft":"marginRight")),a||(b=this.grid.header.domNode.firstChild.scrollWidth-b-this.grid.header.innerNode.offsetWidth),a=e-(d.offsetLeft-
b),0<=a&&(e=a),e>=d.offsetWidth&&(e=0));return e}})})},"gridx/tests/support/data/TreeColumnarTestData":function(){define([],function(){var f=9973,k=function(i){f=(8887*f+9643)%8677;return Math.floor(f/8677*i)},m="0,1,2,3, ,4,5,6,7, ,8,9,a,b, ,c,d,e,f, ,g,h,i,j, ,k,l,m,n, ,k,o,p,q, ,r,s,t,u, ,v,w,x,y, ,z".split(","),j=function(f,h,o,g){var e,a,d=[],b=k(g);for(e=0;e<b;++e){a=f+"-"+(e+1);var c=k(1E4),l;l=k(50);for(var n=void 0,p=[],n=0;n<l;++n)p.push(m[k(m.length)]);l=p.join("");a={id:a,number:c,string:l,
date:(new Date(k(1E13))).toDateString(),time:(new Date(k(1E13))).toTimeString().split(" ")[0],bool:5>k(10)};d.push(a);if(h<o)a.children=j(a.id,h+1,o,g)}return d};return{getData:function(f,h){return{identifier:"id",label:"id",items:j("item",1,f,h)}},layouts:[[{id:"id",name:"id",field:"id",expandLevel:"all"},{id:"number",name:"number",field:"number"},{id:"string",name:"string",field:"string"},{id:"date",name:"date",field:"date"},{id:"time",name:"time",field:"time"},{id:"bool",name:"bool",field:"bool"}],
[{id:"id",name:"id",field:"id"},{id:"number",name:"number",field:"number"},{id:"string",name:"string",field:"string"},{id:"date",name:"date",field:"date"},{id:"time",name:"time",field:"time"},{id:"bool",name:"bool",field:"bool"}]]}})},"gridx/tests/support/stores/ItemFileWriteStore":function(){define(["dojo/data/ItemFileWriteStore","./MockServerStore"],function(f,k){return function(m){var j=m.maxLevel?m.dataSource.getData(m.maxLevel,m.maxChildrenCount):m.dataSource.getData(m.size);return new (m.isAsync?
k:f)({data:j})}})},"dojo/data/ItemFileWriteStore":function(){define("../_base/lang,../_base/declare,../_base/array,../_base/json,../_base/kernel,./ItemFileReadStore,../date/stamp".split(","),function(f,k,m,j,i,h,o){return k("dojo.data.ItemFileWriteStore",h,{constructor:function(g){this._features["dojo.data.api.Write"]=!0;this._features["dojo.data.api.Notification"]=!0;this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};if(!this._datatypeMap.Date.serialize)this._datatypeMap.Date.serialize=
function(e){return o.toISOString(e,{zulu:!0})};if(g&&!1===g.referenceIntegrity)this.referenceIntegrity=!1;this._saveInProgress=!1},referenceIntegrity:!0,_assert:function(g){if(!g)throw Error("assertion failed in ItemFileWriteStore");},_getIdentifierAttribute:function(){return this.getFeatures()["dojo.data.api.Identity"]},newItem:function(g,e){this._assert(!this._saveInProgress);this._loadFinished||this._forceLoad();if("object"!=typeof g&&"undefined"!=typeof g)throw Error("newItem() was passed something other than an object");
var a=null,d=this._getIdentifierAttribute();if(d===Number)a=this._arrayOfAllItems.length;else{a=g[d];if("undefined"===typeof a)throw Error("newItem() was not passed an identity for the new item");if(f.isArray(a))throw Error("newItem() was not passed an single-valued identity");}this._itemsByIdentity&&this._assert("undefined"===typeof this._itemsByIdentity[a]);this._assert("undefined"===typeof this._pending._newItems[a]);this._assert("undefined"===typeof this._pending._deletedItems[a]);var b={};b[this._storeRefPropName]=
this;b[this._itemNumPropName]=this._arrayOfAllItems.length;this._itemsByIdentity&&(this._itemsByIdentity[a]=b,b[d]=[a]);this._arrayOfAllItems.push(b);d=null;if(e&&e.parent&&e.attribute){var d={item:e.parent,attribute:e.attribute,oldValue:void 0},c=this.getValues(e.parent,e.attribute);if(c&&0<c.length){var h=c.slice(0,c.length);d.oldValue=1===c.length?c[0]:c.slice(0,c.length);h.push(b);this._setValueOrValues(e.parent,e.attribute,h,!1);d.newValue=this.getValues(e.parent,e.attribute)}else this._setValueOrValues(e.parent,
e.attribute,b,!1),d.newValue=b}else b[this._rootItemPropName]=!0,this._arrayOfTopLevelItems.push(b);this._pending._newItems[a]=b;for(var i in g){if(i===this._storeRefPropName||i===this._itemNumPropName)throw Error("encountered bug in ItemFileWriteStore.newItem");a=g[i];f.isArray(a)||(a=[a]);b[i]=a;if(this.referenceIntegrity)for(c=0;c<a.length;c++)h=a[c],this.isItem(h)&&this._addReferenceToMap(h,b,i)}this.onNew(b,d);return b},_removeArrayElement:function(g,e){var a=m.indexOf(g,e);return-1!=a?(g.splice(a,
1),!0):!1},deleteItem:function(g){this._assert(!this._saveInProgress);this._assertIsItem(g);var e=g[this._itemNumPropName],a=this.getIdentity(g);if(this.referenceIntegrity){var d=this.getAttributes(g);g[this._reverseRefMap]&&(g["backup_"+this._reverseRefMap]=f.clone(g[this._reverseRefMap]));m.forEach(d,function(a){m.forEach(this.getValues(g,a),function(b){this.isItem(b)&&(g["backupRefs_"+this._reverseRefMap]||(g["backupRefs_"+this._reverseRefMap]=[]),g["backupRefs_"+this._reverseRefMap].push({id:this.getIdentity(b),
attr:a}),this._removeReferenceFromMap(b,g,a))},this)},this);if(d=g[this._reverseRefMap])for(var b in d){var c=null;if(c=this._itemsByIdentity?this._itemsByIdentity[b]:this._arrayOfAllItems[b])for(var h in d[b]){var i=this.getValues(c,h)||[],j=m.filter(i,function(b){return!(this.isItem(b)&&this.getIdentity(b)==a)},this);this._removeReferenceFromMap(g,c,h);j.length<i.length&&this._setValueOrValues(c,h,j,!0)}}}this._arrayOfAllItems[e]=null;g[this._storeRefPropName]=null;this._itemsByIdentity&&delete this._itemsByIdentity[a];
this._pending._deletedItems[a]=g;g[this._rootItemPropName]&&this._removeArrayElement(this._arrayOfTopLevelItems,g);this.onDelete(g);return!0},setValue:function(g,e,a){return this._setValueOrValues(g,e,a,!0)},setValues:function(g,e,a){return this._setValueOrValues(g,e,a,!0)},unsetAttribute:function(g,e){return this._setValueOrValues(g,e,[],!0)},_setValueOrValues:function(g,e,a,d){this._assert(!this._saveInProgress);this._assertIsItem(g);this._assert(f.isString(e));this._assert("undefined"!==typeof a);
var b=this._getIdentifierAttribute();if(e==b)throw Error("ItemFileWriteStore does not have support for changing the value of an item's identifier.");var b=this._getValueOrValues(g,e),c=this.getIdentity(g);if(!this._pending._modifiedItems[c]){var h={},i;for(i in g)h[i]=i===this._storeRefPropName||i===this._itemNumPropName||i===this._rootItemPropName?g[i]:i===this._reverseRefMap?f.clone(g[i]):g[i].slice(0,g[i].length);this._pending._modifiedItems[c]=h}c=!1;if(f.isArray(a)&&0===a.length){if(c=delete g[e],
a=void 0,this.referenceIntegrity&&b){i=b;f.isArray(i)||(i=[i]);for(var j=0;j<i.length;j++)h=i[j],this.isItem(h)&&this._removeReferenceFromMap(h,g,e)}}else{c=f.isArray(a)?a.slice(0,a.length):[a];if(this.referenceIntegrity)if(b){i=b;f.isArray(i)||(i=[i]);var k={};m.forEach(i,function(a){this.isItem(a)&&(a=this.getIdentity(a),k[a.toString()]=!0)},this);m.forEach(c,function(a){if(this.isItem(a)){var b=this.getIdentity(a);k[b.toString()]?delete k[b.toString()]:this._addReferenceToMap(a,g,e)}},this);for(j in k)this._removeReferenceFromMap(this._itemsByIdentity?
this._itemsByIdentity[j]:this._arrayOfAllItems[j],g,e)}else for(j=0;j<c.length;j++)h=c[j],this.isItem(h)&&this._addReferenceToMap(h,g,e);g[e]=c;c=!0}if(d)this.onSet(g,e,b,a);return c},_addReferenceToMap:function(g,e,a){var e=this.getIdentity(e),d=g[this._reverseRefMap];d||(d=g[this._reverseRefMap]={});(g=d[e])||(g=d[e]={});g[a]=!0},_removeReferenceFromMap:function(g,e,a){var e=this.getIdentity(e),d=g[this._reverseRefMap],b;if(d){for(b in d)b==e&&(delete d[b][a],this._isEmpty(d[b])&&delete d[b]);this._isEmpty(d)&&
delete g[this._reverseRefMap]}},_dumpReferenceMap:function(){var g;for(g=0;g<this._arrayOfAllItems.length;g++);},_getValueOrValues:function(g,e){var a=void 0;this.hasAttribute(g,e)&&(a=this.getValues(g,e),a=1==a.length?a[0]:a);return a},_flatten:function(g){if(this.isItem(g))return{_reference:this.getIdentity(g)};if("object"===typeof g)for(var e in this._datatypeMap){var a=this._datatypeMap[e];if(f.isObject(a)&&!f.isFunction(a)){if(g instanceof a.type){if(!a.serialize)throw Error("ItemFileWriteStore:  No serializer defined for type mapping: ["+
e+"]");return{_type:e,_value:a.serialize(g)}}}else if(g instanceof a)return{_type:e,_value:g.toString()}}return g},_getNewFileContentString:function(){var g={},e=this._getIdentifierAttribute();if(e!==Number)g.identifier=e;if(this._labelAttr)g.label=this._labelAttr;g.items=[];for(e=0;e<this._arrayOfAllItems.length;++e){var a=this._arrayOfAllItems[e];if(null!==a){var d={},b;for(b in a)if(b!==this._storeRefPropName&&b!==this._itemNumPropName&&b!==this._reverseRefMap&&b!==this._rootItemPropName){var c=
this.getValues(a,b);if(1==c.length)d[b]=this._flatten(c[0]);else for(var f=[],h=0;h<c.length;++h)f.push(this._flatten(c[h])),d[b]=f}g.items.push(d)}}return j.toJson(g,!0)},_isEmpty:function(g){var e=!0;if(f.isObject(g))for(var a in g){e=!1;break}else f.isArray(g)&&0<g.length&&(e=!1);return e},save:function(g){this._assert(!this._saveInProgress);this._saveInProgress=!0;var e=this,a=function(){e._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};e._saveInProgress=!1;g&&g.onComplete&&g.onComplete.call(g.scope||
i.global)},d=function(a){e._saveInProgress=!1;g&&g.onError&&g.onError.call(g.scope||i.global,a)};if(this._saveEverything){var b=this._getNewFileContentString();this._saveEverything(a,d,b)}this._saveCustom&&this._saveCustom(a,d);!this._saveEverything&&!this._saveCustom&&a()},revert:function(){this._assert(!this._saveInProgress);for(var g in this._pending._modifiedItems){var e=this._pending._modifiedItems[g],a=null,a=this._itemsByIdentity?this._itemsByIdentity[g]:this._arrayOfAllItems[g];e[this._storeRefPropName]=
this;for(var d in a)delete a[d];f.mixin(a,e)}var b;for(g in this._pending._deletedItems)b=this._pending._deletedItems[g],b[this._storeRefPropName]=this,e=b[this._itemNumPropName],b["backup_"+this._reverseRefMap]&&(b[this._reverseRefMap]=b["backup_"+this._reverseRefMap],delete b["backup_"+this._reverseRefMap]),this._arrayOfAllItems[e]=b,this._itemsByIdentity&&(this._itemsByIdentity[g]=b),b[this._rootItemPropName]&&this._arrayOfTopLevelItems.push(b);for(g in this._pending._deletedItems)b=this._pending._deletedItems[g],
b["backupRefs_"+this._reverseRefMap]&&(m.forEach(b["backupRefs_"+this._reverseRefMap],function(a){this._addReferenceToMap(this._itemsByIdentity?this._itemsByIdentity[a.id]:this._arrayOfAllItems[a.id],b,a.attr)},this),delete b["backupRefs_"+this._reverseRefMap]);for(g in this._pending._newItems)e=this._pending._newItems[g],e[this._storeRefPropName]=null,this._arrayOfAllItems[e[this._itemNumPropName]]=null,e[this._rootItemPropName]&&this._removeArrayElement(this._arrayOfTopLevelItems,e),this._itemsByIdentity&&
delete this._itemsByIdentity[g];this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};return!0},isDirty:function(g){return g?(g=this.getIdentity(g),(new Boolean(this._pending._newItems[g]||this._pending._modifiedItems[g]||this._pending._deletedItems[g])).valueOf()):!this._isEmpty(this._pending._newItems)||!this._isEmpty(this._pending._modifiedItems)||!this._isEmpty(this._pending._deletedItems)},onSet:function(){},onNew:function(){},onDelete:function(){},close:function(g){if(this.clearOnClose){if(this.isDirty())throw Error("dojo.data.ItemFileWriteStore: There are unsaved changes present in the store.  Please save or revert the changes before invoking close.");
this.inherited(arguments)}}})})},"dojo/data/ItemFileReadStore":function(){define("../_base/kernel,../_base/lang,../_base/declare,../_base/array,../_base/xhr,../Evented,./util/filter,./util/simpleFetch,../date/stamp".split(","),function(f,k,m,j,i,h,o,g,e){m=m("dojo.data.ItemFileReadStore",[h],{constructor:function(a){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=!1;this.url=this._ccUrl=this._jsonFileUrl=a.url;this._jsonData=a.data;this.data=null;this._datatypeMap=a.typeMap||
{};this._datatypeMap.Date||(this._datatypeMap.Date={type:Date,deserialize:function(a){return e.fromISOString(a)}});this._features={"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=!1;this._queuedFetches=[];if(void 0!==a.urlPreventCache)this.urlPreventCache=a.urlPreventCache?!0:!1;if(void 0!==a.hierarchical)this.hierarchical=a.hierarchical?
!0:!1;if(a.clearOnClose)this.clearOnClose=!0;if("failOk"in a)this.failOk=a.failOk?!0:!1},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:!1,urlPreventCache:!1,failOk:!1,hierarchical:!0,_assertIsItem:function(a){if(!this.isItem(a))throw Error(this.declaredClass+": Invalid item argument.");},_assertIsAttribute:function(a){if("string"!==typeof a)throw Error(this.declaredClass+": Invalid attribute argument.");},getValue:function(a,d,b){a=this.getValues(a,d);return 0<a.length?a[0]:b},getValues:function(a,
d){this._assertIsItem(a);this._assertIsAttribute(d);return(a[d]||[]).slice(0)},getAttributes:function(a){this._assertIsItem(a);var d=[],b;for(b in a)b!==this._storeRefPropName&&b!==this._itemNumPropName&&b!==this._rootItemPropName&&b!==this._reverseRefMap&&d.push(b);return d},hasAttribute:function(a,d){this._assertIsItem(a);this._assertIsAttribute(d);return d in a},containsValue:function(a,d,b){var c=void 0;"string"===typeof b&&(c=o.patternToRegExp(b,!1));return this._containsValue(a,d,b,c)},_containsValue:function(a,
d,b,c){return j.some(this.getValues(a,d),function(a){if(null!==a&&!k.isObject(a)&&c){if(a.toString().match(c))return!0}else if(b===a)return!0})},isItem:function(a){return a&&a[this._storeRefPropName]===this&&this._arrayOfAllItems[a[this._itemNumPropName]]===a?!0:!1},isItemLoaded:function(a){return this.isItem(a)},loadItem:function(a){this._assertIsItem(a.item)},getFeatures:function(){return this._features},getLabel:function(a){if(this._labelAttr&&this.isItem(a))return this.getValue(a,this._labelAttr)},
getLabelAttributes:function(){return this._labelAttr?[this._labelAttr]:null},filter:function(a,d,b){var c=[],e,g;if(a.query){var f;e=a.queryOptions?a.queryOptions.ignoreCase:!1;var h={};for(g in a.query)f=a.query[g],"string"===typeof f?h[g]=o.patternToRegExp(f,e):f instanceof RegExp&&(h[g]=f);for(e=0;e<d.length;++e){var i=!0,j=d[e];if(null===j)i=!1;else for(g in a.query)f=a.query[g],this._containsValue(j,g,f,h[g])||(i=!1);i&&c.push(j)}}else for(e=0;e<d.length;++e)g=d[e],null!==g&&c.push(g);b(c,a)},
_fetchItems:function(a,d,b){var c=this;if(this._loadFinished)this.filter(a,this._getItemsArray(a.queryOptions),d);else{if(this._jsonFileUrl!==this._ccUrl)f.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl;else if(this.url!==this._ccUrl)this._ccUrl=this._jsonFileUrl=this.url;if(null!=this.data)this._jsonData=this.data,this.data=null;if(this._jsonFileUrl)if(this._loadInProgress)this._queuedFetches.push({args:a,
filter:k.hitch(c,"filter"),findCallback:k.hitch(c,d)});else{this._loadInProgress=!0;var e=i.get({url:c._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk});e.addCallback(function(e){try{c._getItemsFromLoadedData(e),c._loadFinished=!0,c._loadInProgress=!1,c.filter(a,c._getItemsArray(a.queryOptions),d),c._handleQueuedFetches()}catch(g){c._loadFinished=!0,c._loadInProgress=!1,b(g,a)}});e.addErrback(function(d){c._loadInProgress=!1;b(d,a)});var g=null;if(a.abort)g=
a.abort;a.abort=function(){e&&-1===e.fired&&e.cancel();g&&g.call(a)}}else if(this._jsonData)try{this._loadFinished=!0,this._getItemsFromLoadedData(this._jsonData),this._jsonData=null,c.filter(a,this._getItemsArray(a.queryOptions),d)}catch(h){b(h,a)}else b(Error(this.declaredClass+": No JSON source data was provided as either URL or a nested Javascript object."),a)}},_handleQueuedFetches:function(){if(0<this._queuedFetches.length){for(var a=0;a<this._queuedFetches.length;a++){var d=this._queuedFetches[a],
b=d.args,c=d.filter,d=d.findCallback;c?c(b,this._getItemsArray(b.queryOptions),d):this.fetchItemByIdentity(b)}this._queuedFetches=[]}},_getItemsArray:function(a){return a&&a.deep?this._arrayOfAllItems:this._arrayOfTopLevelItems},close:function(){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress)this._arrayOfAllItems=[],this._arrayOfTopLevelItems=[],this._loadFinished=!1,this._itemsByIdentity=null,this._loadInProgress=!1,this._queuedFetches=[]},_getItemsFromLoadedData:function(a){function d(a){return null!==
a&&"object"===typeof a&&(!k.isArray(a)||c)&&!k.isFunction(a)&&(a.constructor==Object||k.isArray(a))&&"undefined"===typeof a._reference&&"undefined"===typeof a._type&&"undefined"===typeof a._value&&e.hierarchical}function b(a){e._arrayOfAllItems.push(a);for(var c in a){var g=a[c];if(g)if(k.isArray(g))for(var f=0;f<g.length;++f){var h=g[f];d(h)&&b(h)}else d(g)&&b(g)}}var c=!1,e=this;this._labelAttr=a.label;var g,f;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=a.items;for(g=0;g<this._arrayOfTopLevelItems.length;++g)f=
this._arrayOfTopLevelItems[g],k.isArray(f)&&(c=!0),b(f),f[this._rootItemPropName]=!0;var h={},i;for(g=0;g<this._arrayOfAllItems.length;++g)for(i in f=this._arrayOfAllItems[g],f){if(i!==this._rootItemPropName){var j=f[i];null!==j?k.isArray(j)||(f[i]=[j]):f[i]=[null]}h[i]=i}for(;h[this._storeRefPropName];)this._storeRefPropName+="_";for(;h[this._itemNumPropName];)this._itemNumPropName+="_";for(;h[this._reverseRefMap];)this._reverseRefMap+="_";if(h=a.identifier){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=
h;for(g=0;g<this._arrayOfAllItems.length;++g)if(f=this._arrayOfAllItems[g],a=f[h],a=a[0],Object.hasOwnProperty.call(this._itemsByIdentity,a)){if(this._jsonFileUrl)throw Error(this.declaredClass+":  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+h+"].  Value collided: ["+a+"]");if(this._jsonData)throw Error(this.declaredClass+":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+
h+"].  Value collided: ["+a+"]");}else this._itemsByIdentity[a]=f}else this._features["dojo.data.api.Identity"]=Number;for(g=0;g<this._arrayOfAllItems.length;++g)f=this._arrayOfAllItems[g],f[this._storeRefPropName]=this,f[this._itemNumPropName]=g;for(g=0;g<this._arrayOfAllItems.length;++g)for(i in f=this._arrayOfAllItems[g],f){a=f[i];for(h=0;h<a.length;++h)if(j=a[h],null!==j&&"object"==typeof j){if("_type"in j&&"_value"in j){var m=j._type,o=this._datatypeMap[m];if(o)if(k.isFunction(o))a[h]=new o(j._value);
else if(k.isFunction(o.deserialize))a[h]=o.deserialize(j._value);else throw Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");else throw Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+m+"'");}if(j._reference){j=j._reference;if(k.isObject(j))for(m=0;m<this._arrayOfAllItems.length;++m){var o=this._arrayOfAllItems[m],q=!0,z;for(z in j)o[z]!=j[z]&&
(q=!1);q&&(a[h]=o)}else a[h]=this._getItemByIdentity(j);this.referenceIntegrity&&(j=a[h],this.isItem(j)&&this._addReferenceToMap(j,f,i))}else this.isItem(j)&&this.referenceIntegrity&&this._addReferenceToMap(j,f,i)}}},_addReferenceToMap:function(){},getIdentity:function(a){var d=this._features["dojo.data.api.Identity"];return d===Number?a[this._itemNumPropName]:(a=a[d])?a[0]:null},fetchItemByIdentity:function(a){var d,b;if(this._loadFinished)d=this._getItemByIdentity(a.identity),a.onItem&&(b=a.scope?
a.scope:f.global,a.onItem.call(b,d));else{var c=this;if(this._jsonFileUrl!==this._ccUrl)f.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl;else if(this.url!==this._ccUrl)this._ccUrl=this._jsonFileUrl=this.url;if(null!=this.data&&null==this._jsonData)this._jsonData=this.data,this.data=null;if(this._jsonFileUrl)this._loadInProgress?this._queuedFetches.push({args:a}):
(this._loadInProgress=!0,b=i.get({url:c._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk}),b.addCallback(function(b){var e=a.scope?a.scope:f.global;try{c._getItemsFromLoadedData(b),c._loadFinished=!0,c._loadInProgress=!1,d=c._getItemByIdentity(a.identity),a.onItem&&a.onItem.call(e,d),c._handleQueuedFetches()}catch(g){c._loadInProgress=!1,a.onError&&a.onError.call(e,g)}}),b.addErrback(function(b){c._loadInProgress=!1;a.onError&&a.onError.call(a.scope?
a.scope:f.global,b)}));else if(this._jsonData)c._getItemsFromLoadedData(c._jsonData),c._jsonData=null,c._loadFinished=!0,d=c._getItemByIdentity(a.identity),a.onItem&&(b=a.scope?a.scope:f.global,a.onItem.call(b,d))}},_getItemByIdentity:function(a){var d=null;this._itemsByIdentity?Object.hasOwnProperty.call(this._itemsByIdentity,a)&&(d=this._itemsByIdentity[a]):Object.hasOwnProperty.call(this._arrayOfAllItems,a)&&(d=this._arrayOfAllItems[a]);void 0===d&&(d=null);return d},getIdentityAttributes:function(){var a=
this._features["dojo.data.api.Identity"];return a===Number?null:[a]},_forceLoad:function(){var a=this;if(this._jsonFileUrl!==this._ccUrl)f.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl;else if(this.url!==this._ccUrl)this._ccUrl=this._jsonFileUrl=this.url;if(null!=this.data)this._jsonData=this.data,this.data=null;if(this._jsonFileUrl){var d=i.get({url:this._jsonFileUrl,
handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:!0});d.addCallback(function(b){try{if(!0!==a._loadInProgress&&!a._loadFinished)a._getItemsFromLoadedData(b),a._loadFinished=!0;else if(a._loadInProgress)throw Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.");}catch(c){throw c;}});d.addErrback(function(a){throw a;})}else if(this._jsonData)a._getItemsFromLoadedData(a._jsonData),a._jsonData=null,a._loadFinished=
!0}});k.extend(m,g);return m})},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(f){var k={};f.setObject("dojo.data.util.filter",k);k.patternToRegExp=function(f,j){for(var i="^",h=null,k=0;k<f.length;k++)switch(h=f.charAt(k),h){case "\\":i+=h;k++;i+=f.charAt(k);break;case "*":i+=".*";break;case "?":i+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":i+="\\";default:i+=h}i+="$";return j?RegExp(i,"mi"):RegExp(i,
"m")};return k})},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(f,k,m){var j={};f.setObject("dojo.data.util.simpleFetch",j);j.errorHandler=function(f,h){h.onError&&h.onError.call(h.scope||k.global,f,h)};j.fetchHandler=function(f,h){var j=h.abort||null,g=!1,e=h.start?h.start:0,a=h.count&&Infinity!==h.count?e+h.count:f.length;h.abort=function(){g=!0;j&&j.call(h)};var d=h.scope||k.global;if(!h.store)h.store=this;h.onBegin&&h.onBegin.call(d,
f.length,h);h.sort&&f.sort(m.createSortFunction(h.sort,this));if(h.onItem)for(var b=e;b<f.length&&b<a;++b){var c=f[b];g||h.onItem.call(d,c,h)}h.onComplete&&!g&&(b=null,h.onItem||(b=f.slice(e,a)),h.onComplete.call(d,b,h))};j.fetch=function(i){i=i||{};if(!i.store)i.store=this;this._fetchItems(i,f.hitch(this,"fetchHandler"),f.hitch(this,"errorHandler"));return i};return j})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(f){var k={};f.setObject("dojo.data.util.sorter",k);k.basicComparator=
function(f,j){var i=-1;null===f&&(f=void 0);null===j&&(j=void 0);if(f==j)i=0;else if(f>j||null==f)i=1;return i};k.createSortFunction=function(f,j){function i(a,b,d,e){return function(g,f){var h=e.getValue(g,a),i=e.getValue(f,a);return b*d(h,i)}}for(var h=[],o,g=j.comparatorMap,e=k.basicComparator,a=0;a<f.length;a++){o=f[a];var d=o.attribute;if(d){o=o.descending?-1:1;var b=e;g&&("string"!==typeof d&&"toString"in d&&(d=d.toString()),b=g[d]||e);h.push(i(d,o,b,j))}}return function(a,b){for(var d=0;d<
h.length;){var e=h[d++](a,b);if(0!==e)return e}return 0}};return k})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(f,k){var m={};f.setObject("dojo.date.stamp",m);m.fromISOString=function(f,i){if(!m._isoRegExp)m._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;var h=m._isoRegExp.exec(f),o=null;if(h){h.shift();h[1]&&h[1]--;h[6]&&(h[6]*=1E3);i&&(i=new Date(i),k.forEach(k.map("FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds".split(","),
function(a){return i["get"+a]()}),function(a,d){h[d]=h[d]||a}));o=new Date(h[0]||1970,h[1]||0,h[2]||1,h[3]||0,h[4]||0,h[5]||0,h[6]||0);100>h[0]&&o.setFullYear(h[0]||1970);var g=0,e=h[7]&&h[7].charAt(0);"Z"!=e&&(g=60*(h[8]||0)+(Number(h[9])||0),"-"!=e&&(g*=-1));e&&(g-=o.getTimezoneOffset());g&&o.setTime(o.getTime()+6E4*g)}return o};m.toISOString=function(f,i){var h=function(a){return 10>a?"0"+a:a},i=i||{},k=[],g=i.zulu?"getUTC":"get",e="";"time"!=i.selector&&(e=f[g+"FullYear"](),e=["0000".substr((e+
"").length)+e,h(f[g+"Month"]()+1),h(f[g+"Date"]())].join("-"));k.push(e);if("date"!=i.selector){e=[h(f[g+"Hours"]()),h(f[g+"Minutes"]()),h(f[g+"Seconds"]())].join(":");g=f[g+"Milliseconds"]();i.milliseconds&&(e+="."+(100>g?"0":"")+h(g));if(i.zulu)e+="Z";else if("time"!=i.selector)var g=f.getTimezoneOffset(),a=Math.abs(g),e=e+((0<g?"-":"+")+h(Math.floor(a/60))+":"+h(a%60));k.push(e)}return k.join("T")};return m})},"gridx/tests/support/stores/MockServerStore":function(){define("gridx/tests/MockServerStore",
["dojo","dojo/data/ItemFileWriteStore"],function(f){return f.declare("gridx.tests.MockServerStore",f.data.ItemFileWriteStore,{constructor:function(){var f=this.fetch;this.fetch=function(m){var j=this;setTimeout(function(){f.call(j,m)},200);return m}}})})},"dojo/main":function(){define("./_base/kernel,./has,require,./sniff,./_base/lang,./_base/array,./_base/config,./ready,./_base/declare,./_base/connect,./_base/Deferred,./_base/json,./_base/Color,./has!dojo-firebug?./_firebug/firebug,./_base/browser,./_base/loader".split(","),
function(f,k,m,j,i,h,o,g){o.isDebug&&m(["./_firebug/firebug"]);var e=o.require;e&&(e=h.map(i.isArray(e)?e:[e],function(a){return a.replace(/\./g,"/")}),f.isAsync?m(e):g(1,function(){m(e)}));return f})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(f,k,m,j){var i=f.Color=function(f){f&&this.setColor(f)};i.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,
128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:j.transparentColor||[0,0,0,0]};k.extend(i,{r:255,g:255,b:255,a:1,_set:function(f,i,g,e){this.r=f;this.g=i;this.b=g;this.a=e},setColor:function(f){k.isString(f)?i.fromString(f,this):k.isArray(f)?i.fromArray(f,this):(this._set(f.r,f.g,f.b,f.a),f instanceof i||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},
toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+m.map(["r","g","b"],function(f){f=this[f].toString(16);return 2>f.length?"0"+f:f},this).join("")},toCss:function(f){var i=this.r+", "+this.g+", "+this.b;return(f?"rgba("+i+", "+this.a:"rgb("+i)+")"},toString:function(){return this.toCss(!0)}});i.blendColors=f.blendColors=function(f,j,g,e){var a=e||new i;m.forEach(["r","g","b","a"],function(d){a[d]=f[d]+(j[d]-f[d])*g;"a"!=d&&(a[d]=Math.round(a[d]))});return a.sanitize()};
i.fromRgb=f.colorFromRgb=function(f,j){var g=f.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return g&&i.fromArray(g[1].split(/\s*,\s*/),j)};i.fromHex=f.colorFromHex=function(f,j){var g=j||new i,e=4==f.length?4:8,a=(1<<e)-1,f=Number("0x"+f.substr(1));if(isNaN(f))return null;m.forEach(["b","g","r"],function(d){var b=f&a;f>>=e;g[d]=4==e?17*b:b});g.a=1;return g};i.fromArray=f.colorFromArray=function(f,j){var g=j||new i;g._set(Number(f[0]),Number(f[1]),Number(f[2]),Number(f[3]));if(isNaN(g.a))g.a=1;
return g.sanitize()};i.fromString=f.colorFromString=function(f,j){var g=i.named[f];return g&&i.fromArray(g,j)||i.fromRgb(f,j)||i.fromHex(f,j)};return i})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready,./kernel,./connect,./unload,./window,./event,./html,./NodeList,../query,./xhr,./fx".split(","),function(f){return f})},"dojo/_base/fx":function(){define("./kernel,./config,./lang,../Evented,./Color,./connect,./sniff,../dom,../dom-style".split(","),
function(f,k,m,j,i,h,o,g,e){var a=m.mixin,d={},b=d._Line=function(a,b){this.start=a;this.end=b};b.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var c=d.Animation=function(c){a(this,c);if(m.isArray(this.curve))this.curve=new b(this.curve[0],this.curve[1])};c.prototype=new j;m.extend(c,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var c=b||[];if(this[a])if(k.debugAtAllCosts)this[a].apply(this,
c);else try{this[a].apply(this,c)}catch(d){console.error("exception in animation handler for:",a),console.error(d)}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var c=a||this.delay,d=m.hitch(this,"_play",b);if(0<c)return this._delayTimer=setTimeout(d,c),this;d();return this},_play:function(){this._delayTimer&&this._clearTimer();
this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;var a=this.curve.getValue(this._getStep());if(!this._percent){if(!this._startRepeatCount)this._startRepeatCount=this.repeat;this._fire("onBegin",[a])}this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);
return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();if(a)this._percent=1;this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===
this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);if(1>this._percent)this._startTimer();else{this._active=!1;if(0<this.repeat)this.repeat--,this.play(null,!0);else if(-1==this.repeat)this.play(null,!0);else if(this._startRepeatCount)this.repeat=this._startRepeatCount,this._startRepeatCount=0;this._percent=0;this._fire("onEnd",[this.node]);!this.repeat&&this._stopTimer()}}return this},_clearTimer:function(){clearTimeout(this._delayTimer);
delete this._delayTimer}});var l=0,n=null,p={run:function(){}};m.extend(c,{_startTimer:function(){if(!this._timer)this._timer=h.connect(p,"run",this,"_cycle"),l++;n||(n=setInterval(m.hitch(p,"run"),this.rate))},_stopTimer:function(){if(this._timer)h.disconnect(this._timer),this._timer=null,l--;0>=l&&(clearInterval(n),n=null,l=0)}});var t=o("ie")?function(a){var b=a.style;if(!b.width.length&&"auto"==e.get(a,"width"))b.width="auto"}:function(){};d._fade=function(b){b.node=g.byId(b.node);var c=a({properties:{}},
b),b=c.properties.opacity={};b.start=!("start"in c)?function(){return+e.get(c.node,"opacity")||0}:c.start;b.end=c.end;b=d.animateProperty(c);h.connect(b,"beforeBegin",m.partial(t,c.node));return b};d.fadeIn=function(b){return d._fade(a({end:1},b))};d.fadeOut=function(b){return d._fade(a({end:0},b))};d._defaultEasing=function(a){return 0.5+Math.sin((a+1.5)*Math.PI)/2};var u=function(a){this._properties=a;for(var b in a){var c=a[b];if(c.start instanceof i)c.tempColor=new i}};u.prototype.getValue=function(a){var b=
{},c;for(c in this._properties){var d=this._properties[c],e=d.start;e instanceof i?b[c]=i.blendColors(e,d.end,a,d.tempColor).toCss():m.isArray(e)||(b[c]=(d.end-e)*a+e+("opacity"!=c?d.units||"px":0))}return b};d.animateProperty=function(b){var d=b.node=g.byId(b.node);if(!b.easing)b.easing=f._defaultEasing;b=new c(b);h.connect(b,"beforeBegin",b,function(){var b={},c;for(c in this.properties){if("width"==c||"height"==c)this.node.display="block";var f=this.properties[c];m.isFunction(f)&&(f=f(d));f=b[c]=
a({},m.isObject(f)?f:{end:f});if(m.isFunction(f.start))f.start=f.start(d);if(m.isFunction(f.end))f.end=f.end(d);var g=0<=c.toLowerCase().indexOf("color"),h=function(a,b){var c={height:a.offsetHeight,width:a.offsetWidth}[b];if(void 0!==c)return c;c=e.get(a,b);return"opacity"==b?+c:g?c:parseFloat(c)};if("end"in f){if(!("start"in f))f.start=h(d,c)}else f.end=h(d,c);g?(f.start=new i(f.start),f.end=new i(f.end)):f.start="opacity"==c?+f.start:parseFloat(f.start)}this.curve=new u(b)});h.connect(b,"onAnimate",
m.hitch(e,"set",b.node));return b};d.anim=function(a,b,e,f,g,h){return d.animateProperty({node:a,duration:e||c.prototype.duration,properties:b,easing:f,onEnd:g}).play(h||0)};a(f,d);f._Animation=c;return d})},"dojo/_base/loader":function(){define("./kernel,../has,require,module,./json,./lang,./array".split(","),function(f,k,m,j,i,h,o){var g=function(a){return a.replace(/\./g,"/")},e=/\/\/>>built/,a=[],d=[],b=function(b,e,f){a.push(f);o.forEach(b.split(","),function(a){a=H(a,e.module);d.push(a);P(a)});
c()},c=function(){var b,c;for(c in E){b=E[c];if(void 0===b.noReqPluginCheck)b.noReqPluginCheck=/loadInit\!/.test(c)||/require\!/.test(c)?1:0;if(!b.executed&&!b.noReqPluginCheck&&b.injected==v)return}D(function(){var b=a;a=[];o.forEach(b,function(a){a(1)})})},l=function(a,b,c){var d=/\(|\)/g,e=1;for(d.lastIndex=b;(b=d.exec(a))&&!(e=")"==b[0]?e-1:e+1,0==e););if(0!=e)throw"unmatched paren around character "+d.lastIndex+" in: "+a;return[f.trim(a.substring(c,d.lastIndex))+";\n",d.lastIndex]},n=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,
p=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,t=/(^|\s)(require|define)\s*\(/m,u=function(a,b){var c,d,e,f=[],g=[];c=[];for(b=b||a.replace(n,function(a){p.lastIndex=t.lastIndex=0;return p.test(a)||t.test(a)?"":a});c=p.exec(b);)d=p.lastIndex,e=d-c[0].length,d=l(b,d,e),"loadInit"==c[2]?f.push(d[0]):g.push(d[0]),p.lastIndex=d[1];c=f.concat(g);return c.length||!t.test(b)?[a.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 && dojo.loadInit("),c.join(""),
c]:0},s=m.initSyncLoader(b,c,function(a,b){var c,d,g=[],h=[];if(e.test(b)||!(c=u(b)))return 0;d=a.mid+"-*loadInit";for(var i in H("dojo",a).result.scopeMap)g.push(i),h.push('"'+i+'"');return"// xdomain rewrite of "+a.mid+"\ndefine('"+d+"',{\n\tnames:"+f.toJson(g)+",\n\tdef:function("+g.join(",")+"){"+c[1]+"}});\n\ndefine("+f.toJson(g.concat(["dojo/loadInit!"+d]))+", function("+g.join(",")+"){\n"+c[0]+"});"}),r=s.sync,v=s.requested,q=s.arrived,z=s.nonmodule,w=s.executing,A=s.executed,x=s.syncExecStack,
E=s.modules,B=s.execQ,H=s.getModule,P=s.injectModule,C=s.setArrived,y=s.signal,Q=s.finishExec,G=s.execModule,F=s.getLegacyMode,D=s.guardCheckComplete,b=s.dojoRequirePlugin;f.provide=function(a){var b=x[0],c=h.mixin(H(g(a),m.module),{executed:w,result:h.getObject(a,!0)});C(c);if(b)(b.provides||(b.provides=[])).push(function(){c.result=h.getObject(a);delete c.provides;c.executed!==A&&Q(c)});return c.result};k.add("config-publishRequireResult",1,0,0);f.require=function(a,b){var c=function(a,b){var c=
H(g(a),m.module);if(x.length&&x[0].finish)x[0].finish.push(a);else{if(c.executed)return c.result;b&&(c.result=z);var d=F();P(c);d=F();c.executed!==A&&c.injected===q&&s.guardCheckComplete(function(){G(c)});if(c.executed)return c.result;d==r?c.cjs?B.unshift(c):x.length&&(x[0].finish=[a]):B.push(c)}}(a,b);k("config-publishRequireResult")&&!h.exists(a)&&void 0!==c&&h.setObject(a,c);return c};f.loadInit=function(a){a()};f.registerModulePath=function(a,b){var c={};c[a.replace(/\./g,"/")]=b;m({paths:c})};
f.platformRequire=function(a){for(var a=(a.common||[]).concat(a[f._name]||a["default"]||[]),b;a.length;)h.isArray(b=a.shift())?f.require.apply(f,b):f.require(b)};f.requireIf=f.requireAfterIf=function(a,b,c){a&&f.require(b,c)};f.requireLocalization=function(a,b,c){m(["../i18n"],function(d){d.getLocalization(a,b,c)})};return{extractLegacyApiApplications:u,require:b,loadInit:function(a,c,d){c([a],function(a){c(a.names,function(){for(var e="",h=[],i=0;i<arguments.length;i++)e+="var "+a.names[i]+"= arguments["+
i+"]; ",h.push(arguments[i]);eval(e);var l=c.module,k=[],m,e={provide:function(a){a=g(a);a=H(a,l);a!==l&&C(a)},require:function(a,b){a=g(a);b&&(H(a,l).result=z);k.push(a)},requireLocalization:function(a,b,c){m||(m=["dojo/i18n"]);c=(c||f.locale).toLowerCase();a=g(a)+"/nls/"+(/root/i.test(c)?"":c+"/")+g(b);H(a,l).isXd&&m.push("dojo/i18n!"+a)},loadInit:function(a){a()}},i={},n;try{for(n in e)i[n]=f[n],f[n]=e[n];a.def.apply(null,h)}catch(o){y("error",[{src:j.id,id:"failedDojoLoadInit"},o])}finally{for(n in e)f[n]=
i[n]}m&&(k=k.concat(m));k.length?b(k.join(","),c,d):d()})})}}})},"gridx/tests/support/TestPane":function(){define(["dojo/_base/declare","dijit/layout/ContentPane","dijit/layout/AccordionContainer","dijit/form/Button"],function(f,k,m){return f("gridx.tests.support.TestPane",m,{addTestSet:function(f,i){this.addChild(new k({title:f,content:i}))}})})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel,dojo/_base/lang,../_Widget,../_Container,./_ContentPaneResizeMixin,dojo/string,dojo/html,dojo/i18n!../nls/loading,dojo/_base/array,dojo/_base/declare,dojo/_base/Deferred,dojo/dom,dojo/dom-attr,dojo/_base/xhr,dojo/i18n,dojo/when".split(","),
function(f,k,m,j,i,h,o,g,e,a,d,b,c,l,n,p){return a("dijit.layout.ContentPane",[m,j,i],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:f._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},
onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,create:function(a,c){if((!a||!a.template)&&c&&!("href"in a)&&!("content"in a)){for(var c=b.byId(c),d=c.ownerDocument.createDocumentFragment();c.firstChild;)d.appendChild(c.firstChild);a=k.delegate(a,{content:d})}this.inherited(arguments,[a,c])},postMixInProperties:function(){this.inherited(arguments);var a=n.getLocalization("dijit","loading",this.lang);this.loadingMessage=h.substitute(this.loadingMessage,a);this.errorMessage=h.substitute(this.errorMessage,
a)},buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode;this.domNode.title="";c.get(this.domNode,"role")||this.domNode.setAttribute("role","group")},startup:function(){this.inherited(arguments);this._contentSetter&&e.forEach(this._contentSetter.parseResults,function(a){if(!a._started&&!a._destroyed&&k.isFunction(a.startup))a.startup(),a._started=!0},this)},setHref:function(a){f.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.",
"","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new d(k.hitch(this,"cancel"));this.onLoadDeferred.then(k.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){f.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href",
"");this.cancel();this.onLoadDeferred=new d(k.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(k.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||
this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new d(k.hitch(this,"cancel"));this.onLoadDeferred.then(k.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};
k.isObject(this.ioArgs)&&k.mixin(b,this.ioArgs);var c=this._xhrDfd=(this.ioMethod||l.get)(b),d;c.then(function(b){d=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(c){a._onError("Content",c)}},function(b){c.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return d});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){console.error("Error "+this.widgetId+
" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var b=this._contentSetter;e.forEach(this.getChildren(),function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});b&&(e.forEach(b.parseResults,function(b){if(!b._destroyed)b.destroyRecursive?
b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0}),delete b.parseResults);a||o._emptyNode(this.containerNode);delete this._singleChild},_setContent:function(a,b){this.destroyDescendants();var c=this._contentSetter;if(!(c&&c instanceof o._ContentSetter))c=this._contentSetter=new o._ContentSetter({node:this.containerNode,_onError:k.hitch(this,this._onError),onContentError:k.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+
this.id+" could not change content due to "+b.message,b)}})});var d=k.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),d=c.set(k.isObject(a)&&a.domNode?a.domNode:a,d),e=this;return p(d&&d.then?d:c.parseDeferred,function(){delete e._contentSetterParams;b||(e._started&&(delete e._started,e.startup(),e._scheduleLayout()),
e._onLoadHandler(a))})},_onError:function(a,b,c){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"dijit/_Widget":function(){define("dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/query,dojo/ready,./registry,./_WidgetBase,./_OnDijitClickMixin,./_FocusMixin,dojo/uacss,./hccss".split(","),
function(f,k,m,j,i,h,o,g,e,a,d,b,c){function l(){}function n(a){return function(b,c,d,e){return b&&"string"==typeof c&&b[c]==l?b.on(c.substring(2).toLowerCase(),o.hitch(d,e)):a.apply(m,arguments)}}f.around(m,"connect",n);h.connect&&f.around(h,"connect",n);f=j("dijit._Widget",[d,b,c],{onClick:l,onDblClick:l,onKeyDown:l,onKeyPress:l,onKeyUp:l,onMouseDown:l,onMouseMove:l,onMouseOut:l,onMouseOver:l,onMouseLeave:l,onMouseEnter:l,onMouseUp:l,constructor:function(a){this._toConnect={};for(var b in a)this[b]===
l&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===l?m.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){h.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.",
"","2.0");this.set(a,b)},attr:function(a,b){if(k.isDebug){var c=arguments.callee._ach||(arguments.callee._ach={}),d=(arguments.callee.caller||"unknown caller").toString();c[d]||(h.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+d,"","2.0"),c[d]=!0)}return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){h.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.",
"","2.0");return this.containerNode?g("[widgetId]",this.containerNode).map(a.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});i("dijit-legacy-requires")&&e(0,function(){require(["dijit/_base"])});return f})},"dijit/_OnDijitClickMixin":function(){define("dojo/on,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/has,dojo/_base/unload,dojo/_base/window".split(","),function(f,k,m,j,i,h,o){function g(a){return(a.keyCode===m.ENTER||a.keyCode===
m.SPACE)&&!a.ctrlKey&&!a.shiftKey&&!a.altKey&&!a.metaKey}var e=null;i("dom-addeventlistener")?o.doc.addEventListener("keydown",function(a){e=a.target},!0):function(){var a=function(a){e=a.srcElement};o.doc.attachEvent("onkeydown",a);h.addOnWindowUnload(function(){o.doc.detachEvent("onkeydown",a)})}();var a=function(a,b){if(/input|button/i.test(a.nodeName))return f(a,"click",b);var c=[f(a,"keypress",function(a){if(g(a))e=a.target,a.preventDefault()}),f(a,"keyup",function(a){g(a)&&a.target==e&&(e=null,
f.emit(a.target,"click",{cancelable:!0,bubbles:!0}))}),f(a,"click",function(a){b.call(this,a)})];if(i("touch")){var h;c.push(f(a,"touchend",function(a){var b=a.target;h=setTimeout(function(){h=null;f.emit(b,"click",{cancelable:!0,bubbles:!0})},0);a.preventDefault()}))}return{remove:function(){k.forEach(c,function(a){a.remove()});h&&(clearTimeout(h),h=null)}}},j=j("dijit._OnDijitClickMixin",null,{connect:function(d,b,c){return this.inherited(arguments,[d,"ondijitclick"==b?a:b,c])}});j.a11yclick=a;
return j})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./ready","./sniff","./_base/window"],function(f,k,m,j,i){var h=i.doc.documentElement,o=j("ie"),g=j("opera"),e=Math.floor,a=j("ff"),i=f.boxModel.replace(/-/,""),o={dj_ie:o,dj_ie6:6==e(o),dj_ie7:7==e(o),dj_ie8:8==e(o),dj_ie9:9==e(o),dj_quirks:j("quirks"),dj_iequirks:o&&j("quirks"),dj_opera:g,dj_khtml:j("khtml"),dj_webkit:j("webkit"),dj_safari:j("safari"),dj_chrome:j("chrome"),dj_gecko:j("mozilla"),dj_ff3:3==e(a)};o["dj_"+i]=
!0;var d="",b;for(b in o)o[b]&&(d+=b+" ");h.className=k.trim(h.className+" "+d);m(90,function(){if(!f.isBodyLtr()){var a="dj_rtl dijitRtl "+d.replace(/ /g,"-rtl ");h.className=k.trim(h.className+" "+a+"dj_rtl dijitRtl "+d.replace(/ /g,"-rtl "))}});return j})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/ready","dojo/_base/window"],function(f,k,m,j){m(90,function(){k("highcontrast")&&f.add(j.body(),"dijit_a11y")});return k})},"dojo/hccss":function(){define("require,./_base/config,./dom-class,./dom-construct,./dom-style,./has,./ready,./_base/window".split(","),
function(f,k,m,j,i,h,o,g){h.add("highcontrast",function(){var e=g.doc.createElement("div");e.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("+(k.blankGif||f.toUrl("./resources/blank.gif"))+");";g.body().appendChild(e);var a=i.getComputedStyle(e),d=a.backgroundImage,a=a.borderTopColor==a.borderRightColor||d&&("none"==d||"url(invalid-url:)"==d);j.destroy(e);return a});o(90,function(){h("highcontrast")&&m.add(g.body(),"dj_a11y")});
return h})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(f,k,m){return k("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode},addChild:function(f,i){var h=this.containerNode;if(i&&"number"==typeof i){var k=this.getChildren();if(k&&k.length>=i)h=k[i-1].domNode,i="after"}m.place(f.domNode,h,i);this._started&&!f._started&&f.startup()},removeChild:function(f){"number"==
typeof f&&(f=this.getChildren()[f]);if(f)(f=f.domNode)&&f.parentNode&&f.parentNode.removeChild(f)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(j,i){var h=this.getChildren(),k=f.indexOf(this.getChildren(),j);return h[k+i]},getIndexOfChild:function(j){return f.indexOf(this.getChildren(),j)}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,dojo/query,dojo/sniff,../registry,../Viewport,./utils".split(","),
function(f,k,m,j,i,h,o,g,e,a,d){return k("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var b=this.getParent();this._childOfLayoutWidget=b&&b.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(a.on("resize",h.hitch(this,"resize")))}},_checkIfSingleChild:function(){var a=[],c=!1;o("> *",this.containerNode).some(function(d){var f=
e.byNode(d);f&&f.resize?a.push(f):d.offsetHeight&&(c=!0)});this._singleChild=1==a.length&&!c?a[0]:null;m.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)},resize:function(a,c){this._resizeCalled=!0;this._scheduleLayout(a,c)},_scheduleLayout:function(a,c){this._isShown()?this._layout(a,c):(this._needLayout=!0,this._changeSize=a,this._resultSize=c)},_layout:function(a,c){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();a&&j.setMarginBox(this.domNode,
a);var e=this.containerNode;if(e===this.domNode){var f=c||{};h.mixin(f,a||{});if(!("h"in f)||!("w"in f))f=h.mixin(j.getMarginBox(e),f);this._contentBox=d.marginBox2contentBox(e,f)}else this._contentBox=j.getContentBox(e);this._layoutChildren()},_layoutChildren:function(){this.doLayout&&this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||j.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else f.forEach(this.getChildren(),function(a){a.resize&&
a.resize()})},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,c=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!m.contains(a,"dijitHidden")&&c&&c.style&&"none"!=c.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dijit/Viewport":function(){define("dojo/Evented,dojo/on,dojo/ready,dojo/sniff,dojo/_base/window,dojo/window".split(","),
function(f,k,m,j,i,h){var o=new f;m(200,function(){var f=h.getBox();o._rlh=k(i.global,"resize",function(){var a=h.getBox();f.h==a.h&&f.w==a.w||(f=a,o.emit("resize"))});if(8==j("ie")){var e=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=e)e=screen.deviceXDPI,o.emit("resize")},500)}});return o})},"dijit/layout/utils":function(){define("dojo/_base/array,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,../main".split(","),function(f,k,m,j,i,h){function o(f,e){var a=f.resize?
f.resize(e):m.setMarginBox(f.domNode,e);a?i.mixin(f,a):(i.mixin(f,m.getMarginBox(f.domNode)),i.mixin(f,e))}h=i.getObject("layout",!0,h);h.marginBox2contentBox=function(f,e){var a=j.getComputedStyle(f),d=m.getMarginExtents(f,a),b=m.getPadBorderExtents(f,a);return{l:j.toPixelValue(f,a.paddingLeft),t:j.toPixelValue(f,a.paddingTop),w:e.w-(d.w+b.w),h:e.h-(d.h+b.h)}};h.layoutChildren=function(g,e,a,d,b){e=i.mixin({},e);k.add(g,"dijitLayoutContainer");a=f.filter(a,function(a){return"center"!=a.region&&"client"!=
a.layoutAlign}).concat(f.filter(a,function(a){return"center"==a.region||"client"==a.layoutAlign}));f.forEach(a,function(a){var f=a.domNode,g=a.region||a.layoutAlign;if(!g)throw Error("No region setting for "+a.id);var h=f.style;h.left=e.l+"px";h.top=e.t+"px";h.position="absolute";k.add(f,"dijitAlign"+(g.substring(0,1).toUpperCase()+g.substring(1)));f={};d&&d==a.id&&(f["top"==a.region||"bottom"==a.region?"h":"w"]=b);"top"==g||"bottom"==g?(f.w=e.w,o(a,f),e.h-=a.h,"top"==g?e.t+=a.h:h.top=e.t+e.h+"px"):
"left"==g||"right"==g?(f.h=e.h,o(a,f),e.w-=a.w,"left"==g?e.l+=a.w:h.left=e.l+e.w+"px"):("client"==g||"center"==g)&&o(a,e)})};return{marginBox2contentBox:h.marginBox2contentBox,layoutChildren:h.layoutChildren}})},"dojo/html":function(){define("./_base/kernel,./_base/lang,./_base/array,./_base/declare,./dom,./dom-construct,./parser".split(","),function(f,k,m,j,i,h,o){var g={};k.setObject("dojo.html",g);var e=0;g._secureForInnerHtml=function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,
"")};g._emptyNode=h.empty;g._setNodeContent=function(a,d){h.empty(a);if(d)if("string"==typeof d&&(d=h.toDom(d,a.ownerDocument)),!d.nodeType&&k.isArrayLike(d))for(var b=d.length,c=0;c<d.length;c=b==d.length?c+1:0)h.place(d[c],a,"last");else h.place(d,a,"last");return a};g._ContentSetter=j("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:f._scopeName,startup:!0,constructor:function(a,d){k.mixin(this,a||{});d=this.node=i.byId(this.node||
d);if(!this.id)this.id=["Setter",d?d.id||d.tagName:"",e++].join("_")},set:function(a,d){if(void 0!==a)this.content=a;d&&this._mixin(d);this.onBegin();this.setContent();var b=this.onEnd();return b&&b.then?b:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=g._setNodeContent(a,this.content)}catch(d){var b=this.onContentError(d);try{a.innerHTML=b}catch(c){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+
c.message,c)}}this.node=a},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(m.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);g._emptyNode(this.node)},onBegin:function(){var a=this.content;if(k.isString(a)&&(this.cleanContent&&(a=g._secureForInnerHtml(a)),this.extractContent)){var d=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);d&&(a=
d[1])}this.empty();this.content=a;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+a},_mixin:function(a){var d={},b;for(b in a)b in d||(this[b]=a[b])},_parse:function(){var a=this.node;try{var d={};m.forEach(["dir","lang",
"textDir"],function(a){this[a]&&(d[a]=this[a])},this);var b=this;this.parseDeferred=o.parse({rootNode:a,noStart:!this.startup,inherited:d,scope:this.parserScope}).then(function(a){return b.parseResults=a})}catch(c){this._onError("Content",c,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(a,d,b){a=this["on"+a+"Error"].call(this,d);b?console.error(b,d):a&&g._setNodeContent(this.node,a,!0)}});g.set=function(a,d,b){void 0==d&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),
d="");return b?(new g._ContentSetter(k.mixin(b,{content:d,node:a}))).set():g._setNodeContent(a,d,!0)};return g})},"dojo/parser":function(){define("./_base/kernel,./_base/lang,./_base/array,./_base/config,./_base/html,./_base/window,./_base/url,./_base/json,./aspect,./date/stamp,./Deferred,./has,./query,./on,./ready".split(","),function(f,k,m,j,i,h,o,g,e,a,d,b,c,l,n){function p(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<u){var b=a._nameCaseMap={},d;for(d in c)"_"!==d.charAt(0)&&(b[d.toLowerCase()]=
d);b._extendCnt=u}return b}function t(a){var b=a.join();if(!s[b]){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];c[c.length]=s[f]=s[f]||k.getObject(f)||~f.indexOf("/")&&require(f)}a=c.shift();s[b]=c.length?a.createSubclass?a.createSubclass(c):a.extend.apply(a,c):a}return s[b]}var u=0;e.after(k,"extend",function(){u++},!0);var s={},r={_clearCache:function(){u++;s={}},_functionFromScript:function(a,b){var c="",d="",e=a.getAttribute(b+"args")||a.getAttribute("args"),f=a.getAttribute("with"),e=(e||"").split(/\s*,\s*/);
f&&f.length&&m.forEach(f.split(/\s*,\s*/),function(a){c+="with("+a+"){";d+="}"});return new Function(e,c+a.innerHTML+d)},instantiate:function(a,b,c){var b=b||{},c=c||{},d=(c.scope||f._scopeName)+"Type",e="data-"+(c.scope||f._scopeName)+"-",g=e+"type",h=e+"mixins",i=[];m.forEach(a,function(a){var c=d in b?b[d]:a.getAttribute(g)||a.getAttribute(d);if(c){var e=a.getAttribute(h),c=e?[c].concat(e.split(/\s*,\s*/)):[c];i.push({node:a,types:c})}});return this._instantiate(i,b,c)},_instantiate:function(a,
b,c){a=m.map(a,function(a){var d=a.ctor||t(a.types);if(!d)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(d,a.node,b,c,a.scripts,a.inherited)},this);!b._started&&!c.noStart&&m.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a},construct:function(d,h,i,j,n,x){var q;var t=d&&d.prototype,j=j||{},B={};j.defaults&&k.mixin(B,j.defaults);x&&k.mixin(B,x);var s;b("dom-attributes-explicit")?s=h.attributes:b("dom-attributes-specified-flag")?
s=m.filter(h.attributes,function(a){return a.specified}):(x=(/^input$|^img$/i.test(h.nodeName)?h:h.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),s=m.map(x.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:"LI"==h.nodeName&&"value"==a||"enctype"==b?h.getAttribute(b):h.getAttributeNode(b).value}}));var r=j.scope||f._scopeName,x="data-"+r+"-",C={};"dojo"!==r&&(C[x+"props"]="data-dojo-props",C[x+"type"]="data-dojo-type",
C[x+"mixins"]="data-dojo-mixins",C[r+"type"]="dojoType",C[x+"id"]="data-dojo-id");for(var r=0,y,u=[],G,F;y=s[r++];){var D=y.name,K=D.toLowerCase();y=y.value;switch(C[K]||K){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":F=y;break;case "data-dojo-id":case "jsid":G=y;break;case "data-dojo-attach-point":case "dojoattachpoint":B.dojoAttachPoint=y;break;case "data-dojo-attach-event":case "dojoattachevent":B.dojoAttachEvent=y;break;case "class":B["class"]=h.className;
break;case "style":B.style=h.style&&h.style.cssText;break;default:if(D in t||(D=p(d)[K]||D),D in t)switch(typeof t[D]){case "string":B[D]=y;break;case "number":B[D]=y.length?Number(y):NaN;break;case "boolean":B[D]="false"!=y.toLowerCase();break;case "function":B[D]=""===y||-1!=y.search(/[^\w\.]+/i)?new Function(y):k.getObject(y,!1)||new Function(y);u.push(D);break;default:K=t[D],B[D]=K&&"length"in K?y?y.split(/\s*,\s*/):[]:K instanceof Date?""==y?new Date(""):"now"==y?new Date:a.fromISOString(y):
K instanceof o?f.baseUrl+y:g.fromJson(y)}else B[D]=y}}for(r=0;r<u.length;r++)s=u[r].toLowerCase(),h.removeAttribute(s),h[s]=null;if(F)try{F=g.fromJson.call(j.propsThis,"{"+F+"}"),k.mixin(B,F)}catch(N){throw Error(N.toString()+" in data-dojo-props='"+F+"'");}k.mixin(B,i);n||(n=d&&(d._noScript||t._noScript)?[]:c("> script[type^='dojo/']",h));i=[];j=[];F=[];u=[];if(n)for(r=0;r<n.length;r++){var J=n[r];h.removeChild(J);s=J.getAttribute(x+"event")||J.getAttribute("event");C=J.getAttribute(x+"prop");D=
J.getAttribute(x+"method");K=J.getAttribute(x+"advice");y=J.getAttribute("type");J=this._functionFromScript(J,x);s?"dojo/connect"==y?i.push({method:s,func:J}):"dojo/on"==y?u.push({event:s,func:J}):B[s]=J:"dojo/aspect"==y?i.push({method:D,advice:K,func:J}):"dojo/watch"==y?F.push({prop:C,func:J}):j.push(J)}q=(n=d.markupFactory||t.markupFactory)?n(B,h,d):new d(B,h),d=q;G&&k.setObject(G,d);for(r=0;r<i.length;r++)e[i[r].advice||"after"](d,i[r].method,k.hitch(d,i[r].func),!0);for(r=0;r<j.length;r++)j[r].call(d);
for(r=0;r<F.length;r++)d.watch(F[r].prop,F[r].func);for(r=0;r<u.length;r++)l(d,u[r].event,u[r].func);return d},scan:function(a,c){function e(a){if(!a.inherited){a.inherited={};var b=a.node,c=e(a.parent),b={dir:b.getAttribute("dir")||c.dir,lang:b.getAttribute("lang")||c.lang,textDir:b.getAttribute(n)||c.textDir},d;for(d in b)b[d]&&(a.inherited[d]=b[d])}return a.inherited}var g=[],h=[],i={},j=(c.scope||f._scopeName)+"Type",l="data-"+(c.scope||f._scopeName)+"-",k=l+"type",n=l+"textdir",l=l+"mixins",
o=a.firstChild,p=c.inherited;if(!p){var r=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&r(a.parentNode,b)},p={dir:r(a,"dir"),lang:r(a,"lang"),textDir:r(a,n)},s;for(s in p)p[s]||delete p[s]}for(var p={inherited:p},u,D;;)if(o)if(1!=o.nodeType)o=o.nextSibling;else if(u&&"script"==o.nodeName.toLowerCase())(K=o.getAttribute("type"))&&/^dojo\/\w/i.test(K)&&u.push(o),o=o.nextSibling;else if(D)o=o.nextSibling;else{var K=o.getAttribute(k)||o.getAttribute(j);s=o.firstChild;if(!K&&(!s||
3==s.nodeType&&!s.nextSibling))o=o.nextSibling;else{D=null;if(K){var N=o.getAttribute(l);u=N?[K].concat(N.split(/\s*,\s*/)):[K];try{D=t(u)}catch(J){}D||m.forEach(u,function(a){~a.indexOf("/")&&!i[a]&&(i[a]=!0,h[h.length]=a)});N=D&&!D.prototype._noScript?[]:null;p={types:u,ctor:D,parent:p,node:o,scripts:N};p.inherited=e(p);g.push(p)}else p={node:o,scripts:u,parent:p};o=s;u=N;D=D&&D.prototype.stopParser&&!c.template}}else{if(!p||!p.node)break;o=p.node.nextSibling;u=p.scripts;D=!1;p=p.parent}var O=new d;
h.length?(b("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+h.join(", ")),require(h,function(){O.resolve(m.filter(g,function(a){if(!a.ctor)try{a.ctor=t(a.types)}catch(b){}for(var d=a.parent;d&&!d.types;)d=d.parent;var e=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(e&&e.stopParser&&!c.template);a.instantiate=!d||d.instantiate&&d.instantiateChildren;return a.instantiate}))})):O.resolve(g);return O.promise},_require:function(a){var a=g.fromJson("{"+a.innerHTML+"}"),
b=[],c=[],e=new d,f;for(f in a)b.push(f),c.push(a[f]);require(c,function(){for(var a=0;a<b.length;a++)k.setObject(b[a],arguments[a]);e.resolve(arguments)});return e.promise},_scanAmd:function(a){var b=new d,e=b.promise;b.resolve(!0);var f=this;c("script[type='dojo/require']",a).forEach(function(a){e=e.then(function(){return f._require(a)});a.parentNode.removeChild(a)});return e},parse:function(a,b){var c;!b&&a&&a.rootNode?(b=a,c=b.rootNode):a&&k.isObject(a)&&!("nodeType"in a)?b=a:c=a;c=c?i.byId(c):
h.body();var b=b||{},d=b.template?{template:!0}:{},e=[],f=this,g=this._scanAmd(c,b).then(function(){return f.scan(c,b)}).then(function(a){return e=e.concat(f._instantiate(a,d,b))}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});k.mixin(e,g);return e}};f.parser=r;j.parseOnLoad&&n(100,r,"parse");return r})},"dojo/_base/url":function(){define(["./kernel"],function(f){var k=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,m=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,
j=function(){for(var f=arguments,h=[f[0]],o=1;o<f.length;o++)if(f[o]){var g=new j(f[o]+""),h=new j(h[0]+"");if(""==g.path&&!g.scheme&&!g.authority&&!g.query){if(null!=g.fragment)h.fragment=g.fragment;g=h}else if(!g.scheme&&(g.scheme=h.scheme,!g.authority&&(g.authority=h.authority,"/"!=g.path.charAt(0)))){for(var h=(h.path.substring(0,h.path.lastIndexOf("/")+1)+g.path).split("/"),e=0;e<h.length;e++)"."==h[e]?e==h.length-1?h[e]="":(h.splice(e,1),e--):0<e&&!(1==e&&""==h[0])&&".."==h[e]&&".."!=h[e-1]&&
(e==h.length-1?(h.splice(e,1),h[e-1]=""):(h.splice(e-1,2),e-=2));g.path=h.join("/")}h=[];g.scheme&&h.push(g.scheme,":");g.authority&&h.push("//",g.authority);h.push(g.path);g.query&&h.push("?",g.query);g.fragment&&h.push("#",g.fragment)}this.uri=h.join("");f=this.uri.match(k);this.scheme=f[2]||(f[1]?"":null);this.authority=f[4]||(f[3]?"":null);this.path=f[5];this.query=f[7]||(f[6]?"":null);this.fragment=f[9]||(f[8]?"":null);if(null!=this.authority)f=this.authority.match(m),this.user=f[3]||null,this.password=
f[4]||null,this.host=f[6]||f[7],this.port=f[9]||null};j.prototype.toString=function(){return this.uri};return f._Url=j})},"dijit/nls/loading":function(){define({root:{loadingState:"Loading...",errorState:"Sorry, an error occurred"},zh:!0,"zh-tw":!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,az:!0,ar:!0})},"dijit/layout/AccordionContainer":function(){define("require,dojo/_base/array,dojo/_base/declare,dojo/_base/event,dojo/_base/fx,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/keys,dojo/_base/lang,dojo/sniff,dojo/topic,../focus,../_base/manager,dojo/ready,../_Widget,../_Container,../_TemplatedMixin,../_CssStateMixin,./StackContainer,./ContentPane,dojo/text!./templates/AccordionButton.html".split(","),
function(f,k,m,j,i,h,o,g,e,a,d,b,c,l,n,p,t,u,s,r,v,q,z,w){var s=m("dijit.layout._AccordionButton",[u,r,v],{templateString:w,label:"",_setLabelAttr:{node:"titleTextNode",type:"innerHTML"},title:"",_setTitleAttr:{node:"titleTextNode",type:"attribute",attribute:"title"},iconClassAttr:"",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitAccordionTitle",getParent:function(){return this.parent},buildRendering:function(){this.inherited(arguments);var a=this.id.replace(" ","_");o.set(this.titleTextNode,
"id",a+"_title");this.focusNode.setAttribute("aria-labelledby",o.get(this.titleTextNode,"id"));h.setSelectable(this.domNode,!1)},getTitleHeight:function(){return a.getMarginSize(this.domNode).h},_onTitleClick:function(){this.getParent().selectChild(this.contentWidget,!0);n.focus(this.focusNode)},_onTitleKeyPress:function(a){return this.getParent()._onKeyPress(a,this.contentWidget)},_setSelectedAttr:function(a){this._set("selected",a);this.focusNode.setAttribute("aria-expanded",a?"true":"false");this.focusNode.setAttribute("aria-selected",
a?"true":"false");this.focusNode.setAttribute("tabIndex",a?"0":"-1")}}),A=m("dijit.layout._AccordionInnerContainer",[u,v],{baseClass:"dijitAccordionInnerContainer",isLayoutContainer:!0,buildRendering:function(){this.domNode=e.place("<div class='"+this.baseClass+"' role='presentation'>",this.contentWidget.domNode,"after");var a=this.contentWidget,c=b.isString(this.buttonWidget)?b.getObject(this.buttonWidget):this.buttonWidget;this.button=a._buttonWidget=(new c({contentWidget:a,label:a.title,title:a.tooltip,
dir:a.dir,lang:a.lang,textDir:a.textDir,iconClass:a.iconClass,id:a.id+"_button",parent:this.parent})).placeAt(this.domNode);this.containerNode=e.place("<div class='dijitAccordionChildWrapper' style='display:none'>",this.domNode);e.place(this.contentWidget.domNode,this.containerNode)},postCreate:function(){this.inherited(arguments);var a=this.button;this._contentWidgetWatches=[this.contentWidget.watch("title",b.hitch(this,function(b,c,d){a.set("label",d)})),this.contentWidget.watch("tooltip",b.hitch(this,
function(b,c,d){a.set("title",d)})),this.contentWidget.watch("iconClass",b.hitch(this,function(b,c,d){a.set("iconClass",d)}))]},_setSelectedAttr:function(a){this._set("selected",a);this.button.set("selected",a);if(a&&(a=this.contentWidget,a.onSelected))a.onSelected()},startup:function(){this.contentWidget.startup()},destroy:function(){this.button.destroyRecursive();k.forEach(this._contentWidgetWatches||[],function(a){a.unwatch()});delete this.contentWidget._buttonWidget;delete this.contentWidget._wrapperWidget;
this.inherited(arguments)},destroyDescendants:function(a){this.contentWidget.destroyRecursive(a)}}),m=m("dijit.layout.AccordionContainer",q,{duration:p.defaultDuration,buttonWidget:s,baseClass:"dijitAccordionContainer",buildRendering:function(){this.inherited(arguments);this.domNode.style.overflow="hidden";this.domNode.setAttribute("role","tablist")},startup:function(){this._started||(this.inherited(arguments),this.selectedChildWidget&&this.selectedChildWidget._wrapperWidget.set("selected",!0))},
layout:function(){var b=this.selectedChildWidget;if(b){var c=b._wrapperWidget.domNode,d=a.getMarginExtents(c),c=a.getPadBorderExtents(c),e=b._wrapperWidget.containerNode,f=a.getMarginExtents(e),e=a.getPadBorderExtents(e),g=this._contentBox,h=0;k.forEach(this.getChildren(),function(c){c!=b&&(h+=a.getMarginSize(c._wrapperWidget.domNode).h)});this._verticalSpace=g.h-h-d.h-c.h-f.h-e.h-b._buttonWidget.getTitleHeight();this._containerContentBox={h:this._verticalSpace,w:this._contentBox.w-d.w-c.w-f.w-e.w};
b&&b.resize(this._containerContentBox)}},_setupChild:function(a){a._wrapperWidget=A({contentWidget:a,buttonWidget:this.buttonWidget,id:a.id+"_wrapper",dir:a.dir,lang:a.lang,textDir:a.textDir,parent:this});this.inherited(arguments)},addChild:function(a,b){if(this._started){var c=this.containerNode;if(b&&"number"==typeof b){var d=u.prototype.getChildren.call(this);if(d&&d.length>=b)c=d[b-1].domNode,b="after"}e.place(a.domNode,c,b);a._started||a.startup();this._setupChild(a);l.publish(this.id+"-addChild",
a,b);this.layout();this.selectedChildWidget||this.selectChild(a)}else this.inherited(arguments)},removeChild:function(a){a._wrapperWidget&&(e.place(a.domNode,a._wrapperWidget.domNode,"after"),a._wrapperWidget.destroy(),delete a._wrapperWidget);g.remove(a.domNode,"dijitHidden");this.inherited(arguments)},getChildren:function(){return k.map(this.inherited(arguments),function(a){return"dijit.layout._AccordionInnerContainer"==a.declaredClass?a.contentWidget:a},this)},destroy:function(){this._animation&&
this._animation.stop();k.forEach(this.getChildren(),function(a){a._wrapperWidget?a._wrapperWidget.destroy():a.destroyRecursive()});this.inherited(arguments)},_showChild:function(a){a._wrapperWidget.containerNode.style.display="block";return this.inherited(arguments)},_hideChild:function(a){a._wrapperWidget.containerNode.style.display="none";this.inherited(arguments)},_transition:function(b,d,e){8>c("ie")&&(e=!1);this._animation&&(this._animation.stop(!0),delete this._animation);var f=this;if(b){b._wrapperWidget.set("selected",
!0);var g=this._showChild(b);this.doLayout&&b.resize&&b.resize(this._containerContentBox)}d&&(d._wrapperWidget.set("selected",!1),e||this._hideChild(d));if(e){var h=b._wrapperWidget.containerNode,j=d._wrapperWidget.containerNode,e=b._wrapperWidget.containerNode,b=a.getMarginExtents(e),e=a.getPadBorderExtents(e),l=b.h+e.h;j.style.height=f._verticalSpace-l+"px";this._animation=new i.Animation({node:h,duration:this.duration,curve:[1,this._verticalSpace-l-1],onAnimate:function(a){a=Math.floor(a);h.style.height=
a+"px";j.style.height=f._verticalSpace-l-a+"px"},onEnd:function(){delete f._animation;h.style.height="auto";d._wrapperWidget.containerNode.style.display="none";j.style.height="auto";f._hideChild(d)}});this._animation.onStop=this._animation.onEnd;this._animation.play()}return g},_onKeyPress:function(a,b){if(!this.disabled&&!(a.altKey||!b&&!a.ctrlKey)){var c=a.charOrCode;if(b&&(c==d.LEFT_ARROW||c==d.UP_ARROW)||a.ctrlKey&&c==d.PAGE_UP)this._adjacent(!1)._buttonWidget._onTitleClick(),j.stop(a);else if(b&&
(c==d.RIGHT_ARROW||c==d.DOWN_ARROW)||a.ctrlKey&&(c==d.PAGE_DOWN||c==d.TAB))this._adjacent(!0)._buttonWidget._onTitleClick(),j.stop(a)}}});c("dijit-legacy-requires")&&t(0,function(){f(["dijit/layout/AccordionPane"])});m._InnerContainer=A;m._Button=s;return m})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","../registry","../main"],function(f,k,m,j){f.forEach("byId,getUniqueId,findWidgets,_destroyAll,byNode,getEnclosingWidget".split(","),function(f){j[f]=m[f]});j.defaultDuration=
k.defaultDuration||200;return j})},"dijit/_CssStateMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/dom-class,dojo/_base/lang,dojo/on,dojo/ready,dojo/_base/window,./registry".split(","),function(f,k,m,j,i,h,o,g,e){k=k("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);f.forEach("disabled,readOnly,checked,selected,focused,state,hovering,active,_opened".split(","),function(a){this.watch(a,i.hitch(this,"_setStateClass"))},
this);for(var a in this.cssStateNodes)this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":this._set("hovering",!0);this._set("active",this._mouseDown);break;case "mouseout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":this._set("active",!0);break;case "mouseup":case "touchend":this._set("active",!1)}},_setStateClass:function(){function a(a){d=
d.concat(f.map(d,function(b){return b+a}),"dijit"+a)}var d=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var b="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(b);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var b=this.stateNode||this.domNode,c={};f.forEach(b.className.split(" "),function(a){c[a]=
!0});"_stateClasses"in this&&f.forEach(this._stateClasses,function(a){delete c[a]});f.forEach(d,function(a){c[a]=!0});var e=[],g;for(g in c)e.push(g);b.className=e.join(" ");this._stateClasses=d},_subnodeCssMouseEvent:function(a,d,b){function c(b){j.toggle(a,d+"Active",b)}if(!this.disabled&&!this.readOnly)switch(b.type){case "mouseover":j.toggle(a,d+"Hover",!0);break;case "mouseout":j.toggle(a,d+"Hover",!1);c(!1);break;case "mousedown":case "touchstart":c(!0);break;case "mouseup":case "touchend":c(!1);
break;case "focus":case "focusin":j.toggle(a,d+"Focused",!0);break;case "blur":case "focusout":j.toggle(a,d+"Focused",!1)}},_trackMouseState:function(a,d){a._cssState=d}});o(function(){function a(a){if(!m.isDescendant(a.relatedTarget,a.target))for(var b=a.target;b&&b!=a.relatedTarget;b=b.parentNode)if(b._cssState){var d=e.getEnclosingWidget(b);b==d.domNode?d._cssMouseEvent(a):d._subnodeCssMouseEvent(b,b._cssState,a)}}function d(b){b.target=b.srcElement;a(b)}var b=g.body();f.forEach("mouseover,mouseout,mousedown,touchstart,mouseup,touchend".split(","),
function(c){b.addEventListener?b.addEventListener(c,a,!0):b.attachEvent("on"+c,d)});h(b,"focusin, focusout",function(a){var b=a.target;b._cssState&&!b.getAttribute("widgetId")&&e.getEnclosingWidget(b)._subnodeCssMouseEvent(b,b._cssState,a)})});return k})},"dijit/layout/StackContainer":function(){define("dojo/_base/array,dojo/cookie,dojo/_base/declare,dojo/dom-class,dojo/has,dojo/_base/lang,dojo/ready,dojo/topic,../registry,../_WidgetBase,./_LayoutWidget,dojo/i18n!../nls/common".split(","),function(f,
k,m,j,i,h,o,g,e,a,d){i("dijit-legacy-requires")&&o(0,function(){require(["dijit/layout/StackController"])});h.extend(a,{selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0});return m("dijit.layout.StackContainer",d,{doLayout:!0,persist:!1,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);j.add(this.domNode,"dijitLayoutContainer");this.containerNode.setAttribute("role","tabpanel")},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,
"onkeypress",this._onKeyPress)},startup:function(){if(!this._started){var a=this.getChildren();f.forEach(a,this._setupChild,this);this.persist?this.selectedChildWidget=e.byId(k(this.id+"_selectedChild")):f.some(a,function(a){if(a.selected)this.selectedChildWidget=a;return a.selected},this);var c=this.selectedChildWidget;if(!c&&a[0])c=this.selectedChildWidget=a[0],c.selected=!0;g.publish(this.id+"-startup",{children:a,selected:c});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=
!0;var a=this.selectedChildWidget;a&&this._showChild(a)}this.inherited(arguments)},_setupChild:function(a){this.inherited(arguments);j.replace(a.domNode,"dijitHidden","dijitVisible");a.domNode.title=""},addChild:function(a,c){this.inherited(arguments);this._started&&(g.publish(this.id+"-addChild",a,c),this.layout(),this.selectedChildWidget||this.selectChild(a))},removeChild:function(a){this.inherited(arguments);this._started&&g.publish(this.id+"-removeChild",a);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===
a&&(this.selectedChildWidget=void 0,this._started)){var c=this.getChildren();c.length&&this.selectChild(c[0])}this._started&&this.layout()}},selectChild:function(a,c){a=e.byId(a);if(this.selectedChildWidget!=a){var d=this._transition(a,this.selectedChildWidget,c);this._set("selectedChildWidget",a);g.publish(this.id+"-selectChild",a);this.persist&&k(this.id+"_selectedChild",this.selectedChildWidget.id)}return d},_transition:function(a,c){c&&this._hideChild(c);var d=this._showChild(a);a.resize&&(this.doLayout?
a.resize(this._containerContentBox||this._contentBox):a.resize());return d},_adjacent:function(a){var c=this.getChildren(),d=f.indexOf(c,this.selectedChildWidget),d=d+(a?1:c.length-1);return c[d%c.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0)},back:function(){return this.selectChild(this._adjacent(!1),!0)},_onKeyPress:function(a){g.publish(this.id+"-containerKeyPress",{e:a,page:this})},layout:function(){var a=this.selectedChildWidget;a&&a.resize&&(this.doLayout?a.resize(this._containerContentBox||
this._contentBox):a.resize())},_showChild:function(a){var c=this.getChildren();a.isFirstChild=a==c[0];a.isLastChild=a==c[c.length-1];a._set("selected",!0);j.replace(a.domNode,"dijitVisible","dijitHidden");return a._onShow&&a._onShow()||!0},_hideChild:function(a){a._set("selected",!1);j.replace(a.domNode,"dijitHidden","dijitVisible");a.onHide&&a.onHide()},closeChild:function(a){a.onClose(this,a)&&(this.removeChild(a),a.destroyRecursive())},destroyDescendants:function(a){this._descendantsBeingDestroyed=
!0;this.selectedChildWidget=void 0;f.forEach(this.getChildren(),function(c){a||this.removeChild(c);c.destroyRecursive(a)},this);this._descendantsBeingDestroyed=!1}})})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(f,k){f.cookie=function(f,j,i){var h=document.cookie,o;if(1==arguments.length)o=(o=h.match(RegExp("(?:^|; )"+k.escapeString(f)+"=([^;]*)")))?decodeURIComponent(o[1]):void 0;else{i=i||{};h=i.expires;if("number"==typeof h){var g=new Date;g.setTime(g.getTime()+864E5*
h);h=i.expires=g}if(h&&h.toUTCString)i.expires=h.toUTCString();var j=encodeURIComponent(j),h=f+"="+j,e;for(e in i)h+="; "+e,g=i[e],!0!==g&&(h+="="+g);document.cookie=h}return o};f.cookie.isSupported=function(){if(!("cookieEnabled"in navigator))this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1});return navigator.cookieEnabled};return f.cookie})},"dojo/regexp":function(){define(["./_base/kernel",
"./_base/lang"],function(f,k){var m={};k.setObject("dojo.regexp",m);m.escapeString=function(f,i){return f.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(f){return i&&-1!=i.indexOf(f)?f:"\\"+f})};m.buildGroupRE=function(f,i,h){if(!(f instanceof Array))return i(f);for(var k=[],g=0;g<f.length;g++)k.push(i(f[g]));return m.group(k.join("|"),h)};m.group=function(f,i){return"("+(i?"?:":"")+f+")"};return m})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang,../_Widget,../_Container,../_Contained,../Viewport,dojo/_base/declare,dojo/dom-class,dojo/dom-geometry,dojo/dom-style".split(","),
function(f,k,m,j,i,h,o,g,e){return h("dijit.layout._LayoutWidget",[k,m,j],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,buildRendering:function(){this.inherited(arguments);o.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();if(!a||!a.isLayoutContainer)this.resize(),this.own(i.on("resize",f.hitch(this,"resize")))}},resize:function(a,d){var b=this.domNode;a&&g.setMarginBox(b,a);var c=d||{};f.mixin(c,a||
{});if(!("h"in c)||!("w"in c))c=f.mixin(g.getMarginBox(b),c);var h=e.getComputedStyle(b),i=g.getMarginExtents(b,h),j=g.getBorderExtents(b,h),c=this._borderBox={w:c.w-(i.w+j.w),h:c.h-(i.h+j.h)},i=g.getPadExtents(b,h);this._contentBox={l:e.toPixelValue(b,h.paddingLeft),t:e.toPixelValue(b,h.paddingTop),w:c.w-i.w,h:c.h-i.h};this.layout()},layout:function(){},_setupChild:function(a){o.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,d){this.inherited(arguments);
this._started&&this._setupChild(a)},removeChild:function(a){o.remove(a.domNode,this.baseClass+"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(f,k){return f("dijit._Contained",null,{_getSibling:function(f){var j=this.domNode;do j=j[f+"Sibling"];while(j&&1!=j.nodeType);return j&&k.byNode(j)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},
getIndexInParent:function(){var f=this.getParent();return!f||!f.getIndexOfChild?-1:f.getIndexOfChild(this)}})})},"dijit/nls/common":function(){define({root:{buttonOk:"OK",buttonCancel:"Cancel",buttonSave:"Save",itemClose:"Close"},zh:!0,"zh-tw":!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,az:!0,ar:!0})},"url:dijit/layout/templates/AccordionButton.html":'<div data-dojo-attach-event=\'onclick:_onTitleClick\' class=\'dijitAccordionTitle\' role="presentation">\r\n\t<div data-dojo-attach-point=\'titleNode,focusNode\' data-dojo-attach-event=\'onkeypress:_onTitleKeyPress\'\r\n\t\t\tclass=\'dijitAccordionTitleFocus\' role="tab" aria-expanded="false"\r\n\t\t><span class=\'dijitInline dijitAccordionArrow\' role="presentation"></span\r\n\t\t><span class=\'arrowTextUp\' role="presentation">+</span\r\n\t\t><span class=\'arrowTextDown\' role="presentation">-</span\r\n\t\t><img src="${_blankGif}" alt="" class="dijitIcon" data-dojo-attach-point=\'iconNode\' style="vertical-align: middle" role="presentation"/>\r\n\t\t<span role="presentation" data-dojo-attach-point=\'titleTextNode\' class=\'dijitAccordionText\'></span>\r\n\t</div>\r\n</div>\r\n',
"dijit/form/Button":function(){define("require,dojo/_base/declare,dojo/dom-class,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/ready,./_FormWidget,./_ButtonMixin,dojo/text!./templates/Button.html".split(","),function(f,k,m,j,i,h,o,g,e,a){j("dijit-legacy-requires")&&o(0,function(){f(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});return k("dijit.form.Button",[g,e],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",
templateString:a,_setValueAttr:"valueNode",_onClick:function(a){var b=this.inherited(arguments);b&&this.valueNode&&(this.valueNode.click(),a.preventDefault(),a.stopPropagation());return b},_fillContent:function(a){if(a&&(!this.params||!("label"in this.params)))if(a=h.trim(a.innerHTML))this.label=a},_setShowLabelAttr:function(a){this.containerNode&&m.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){i.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.",
"","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);if(!this.showLabel&&!("title"in this.params))this.titleNode.title=h.trim(this.containerNode.innerText||this.containerNode.textContent||"")}})})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare,dojo/has,dojo/_base/kernel,dojo/ready,../_Widget,../_CssStateMixin,../_TemplatedMixin,./_FormWidgetMixin".split(","),function(f,k,m,j,i,h,o,g){k("dijit-legacy-requires")&&j(0,function(){require(["dijit/form/_FormValueWidget"])});
return f("dijit.form._FormWidget",[i,o,h,g],{setDisabled:function(e){m.deprecated("setDisabled("+e+") is deprecated. Use set('disabled',"+e+") instead.","","2.0");this.set("disabled",e)},setValue:function(e){m.deprecated("dijit.form._FormWidget:setValue("+e+") is deprecated.  Use set('value',"+e+") instead.","","2.0");this.set("value",e)},getValue:function(){m.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=
this.name?'name="'+this.name.replace(/"/g,"&quot;")+'"':"";this.inherited(arguments)},_setTypeAttr:null})})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-attr,dojo/dom-style,dojo/_base/lang,dojo/mouse,dojo/sniff,dojo/window,../a11y".split(","),function(f,k,m,j,i,h,o,g,e){return k("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",
_setDisabledAttr:function(a){this._set("disabled",a);m.set(this.focusNode,"disabled",a);this.valueNode&&m.set(this.valueNode,"disabled",a);this.focusNode.setAttribute("aria-disabled",a?"true":"false");a?(this._set("hovering",!1),this._set("active",!1),a="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",f.forEach(i.isArray(a)?a:[a],function(a){a=this[a];o("webkit")||e.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},
this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var d=this.connect(this.focusNode,"onfocus",function(){this.disconnect(b);this.disconnect(d)}),b=this.connect(this.ownerDocumentBody,"onmouseup",function(){this.disconnect(b);this.disconnect(d);this.focused&&this.focus()});this.scrollOnFocus&&this.defer(function(){g.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&
"none"!=j.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,d){return"number"==typeof a&&"number"==typeof d?isNaN(a)&&isNaN(d)?0:a-d:a>d?1:a<d?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,d){if(void 0==this._lastValueReported&&(null===d||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||
0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||d||void 0===d)&&this._pendingOnChange)if(this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive)this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)})},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));
this.inherited(arguments)}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(f,k,m,j){return f("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(f){if(this.disabled)return m.stop(f),!1;var h=!1===this.onClick(f);if(!h&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var k=this.domNode;k.parentNode;k=k.parentNode){var g=j.byNode(k);if(g&&"function"==typeof g._onSubmit){g._onSubmit(f);h=
!0;break}}h&&f.preventDefault();return!h},postCreate:function(){this.inherited(arguments);k.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(f){this._set("label",f);(this.containerNode||this.focusNode).innerHTML=f}})})},"url:dijit/form/templates/Button.html":'<span class="dijit dijitReset dijitInline" role="presentation"\r\n\t><span class="dijitReset dijitInline dijitButtonNode"\r\n\t\tdata-dojo-attach-event="ondijitclick:_onClick" role="presentation"\r\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point="titleNode,focusNode"\r\n\t\t\trole="button" aria-labelledby="${id}_label"\r\n\t\t\t><span class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode"></span\r\n\t\t\t><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\r\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid="${id}_label"\r\n\t\t\t\tdata-dojo-attach-point="containerNode"\r\n\t\t\t></span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen"\r\n\t\ttabIndex="-1" role="presentation" data-dojo-attach-point="valueNode"\r\n/></span>\r\n',
"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(f,k,m,j,i){var h=j.trim,o=m.forEach,g="BackCompat"==i.doc.compatMode,e=!1,a=function(){return!0},d=function(a){for(var a=0<=">~+".indexOf(a.slice(-1))?a+" * ":a+" ",b=function(b,c){return h(a.slice(b,c))},c=[],d=-1,f=-1,g=-1,i=-1,j=-1,k=-1,l=-1,m,n="",o="",p,q=0,t=a.length,r=null,s=null,u=function(){if(0<=k)r.id=b(k,q).replace(/\\/g,""),k=-1;if(0<=l){var a=l==q?null:b(l,q);r[0>
">~+".indexOf(a)?"tag":"oper"]=a;l=-1}0<=j&&(r.classes.push(b(j+1,q).replace(/\\/g,"")),j=-1)};n=o,o=a.charAt(q),q<t;q++)if("\\"!=n)if(r||(p=q,r={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return e?this.otag:this.tag}},l=q),m)o==m&&(m=null);else if("'"==o||'"'==o)m=o;else if(0<=d)if("]"==o){s.attr?s.matchFor=b(g||d+1,q):s.attr=b(d+1,q);if((d=s.matchFor)&&('"'==d.charAt(0)||"'"==d.charAt(0)))s.matchFor=d.slice(1,-1);if(s.matchFor)s.matchFor=s.matchFor.replace(/\\/g,
"");r.attrs.push(s);s=null;d=g=-1}else{if("="==o)g=0<="|~^$*".indexOf(n)?n:"",s.type=g+o,s.attr=b(d+1,q-g.length),g=q+1}else if(0<=f){if(")"==o){if(0<=i)s.value=b(f+1,q);i=f=-1}}else if("#"==o)u(),k=q+1;else if("."==o)u(),j=q;else if(":"==o)u(),i=q;else if("["==o)u(),d=q,s={};else if("("==o)0<=i&&(s={name:b(i+1,q),value:null},r.pseudos.push(s)),f=q;else if(" "==o&&n!=o){u();0<=i&&r.pseudos.push({name:b(i+1,q)});r.loops=r.pseudos.length||r.attrs.length||r.classes.length;r.oquery=r.query=b(p,q);r.otag=
r.tag=r.oper?null:r.tag||"*";if(r.tag)r.tag=r.tag.toUpperCase();if(c.length&&c[c.length-1].oper)r.infixOper=c.pop(),r.query=r.infixOper.query+" "+r.query;c.push(r);r=null}return c},b=function(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}},c=function(a,b){var c=b||[];a&&c.push(a);return c},l=function(a){return 1==a.nodeType},n=function(a,b){return!a?"":"class"==b?a.className||"":"for"==b?a.htmlFor||"":"style"==b?a.style.cssText||"":(e?a.getAttribute(b):
a.getAttribute(b,2))||""},p={"*=":function(a,b){return function(c){return 0<=n(c,a).indexOf(b)}},"^=":function(a,b){return function(c){return 0==n(c,a).indexOf(b)}},"$=":function(a,b){return function(c){var c=" "+n(c,a),d=c.lastIndexOf(b);return-1<d&&d==c.length-b.length}},"~=":function(a,b){var c=" "+b+" ";return function(b){return 0<=(" "+n(b,a)+" ").indexOf(c)}},"|=":function(a,b){var c=b+"-";return function(d){d=n(d,a);return d==b||0==d.indexOf(c)}},"=":function(a,b){return function(c){return n(c,
a)==b}}},t="undefined"==typeof i.doc.firstChild.nextElementSibling,u=!t?"nextElementSibling":"nextSibling",s=!t?"previousElementSibling":"previousSibling",r=t?l:a,v=function(a){for(;a=a[s];)if(r(a))return!1;return!0},q=function(a){for(;a=a[u];)if(r(a))return!1;return!0},z=function(a){var b=a.parentNode,b=7!=b.nodeType?b:b.nextSibling,c=0,d=b.children||b.childNodes,e=a._i||a.getAttribute("_i")||-1,f=b._l||("undefined"!==typeof b.getAttribute?b.getAttribute("_l"):-1);if(!d)return-1;d=d.length;if(f==
d&&0<=e&&0<=f)return e;k("ie")&&"undefined"!==typeof b.setAttribute?b.setAttribute("_l",d):b._l=d;e=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[u])if(r(b))k("ie")?b.setAttribute("_i",++c):b._i=++c,a===b&&(e=c);return e},w=function(a){return!(z(a)%2)},A=function(a){return z(a)%2},x={checked:function(){return function(a){return!!("checked"in a?a.checked:a.selected)}},disabled:function(){return function(a){return a.disabled}},enabled:function(){return function(a){return!a.disabled}},"first-child":function(){return v},
"last-child":function(){return q},"only-child":function(){return function(a){return v(a)&&q(a)}},empty:function(){return function(a){for(var b=a.childNodes,a=a.childNodes.length-1;0<=a;a--){var c=b[a].nodeType;if(1===c||3==c)return!1}return!0}},contains:function(a,b){var c=b.charAt(0);if('"'==c||"'"==c)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},not:function(a,b){var c=d(b)[0],e={el:1};if("*"!=c.tag)e.tag=1;if(!c.classes.length)e.classes=1;var f=B(c,e);return function(a){return!f(a)}},
"nth-child":function(a,b){var c=parseInt;if("odd"==b)return A;if("even"==b)return w;if(-1!=b.indexOf("n")){var d=b.split("n",2),e=d[0]?"-"==d[0]?-1:c(d[0]):1,f=d[1]?c(d[1]):0,g=0,h=-1;0<e?0>f?f=f%e&&e+f%e:0<f&&(f>=e&&(g=f-f%e),f%=e):0>e&&(e*=-1,0<f&&(h=f,f%=e));if(0<e)return function(a){a=z(a);return a>=g&&(0>h||a<=h)&&a%e==f};b=f}var i=c(b);return function(a){return z(a)==i}}},E=k("ie")&&(9>k("ie")||k("quirks"))?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(c){return e?
c.getAttribute(a):c[a]||c[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}},B=function(c,d){if(!c)return a;var d=d||{},f=null;"el"in d||(f=b(f,l));"tag"in d||"*"!=c.tag&&(f=b(f,function(a){return a&&(e?a.tagName:a.tagName.toUpperCase())==c.getTag()}));"classes"in d||o(c.classes,function(a,c){var d=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");f=b(f,function(a){return d.test(a.className)});f.count=c});"pseudos"in d||o(c.pseudos,function(a){var c=a.name;x[c]&&(f=b(f,x[c](c,a.value)))});
"attrs"in d||o(c.attrs,function(a){var c,d=a.attr;a.type&&p[a.type]?c=p[a.type](d,a.matchFor):d.length&&(c=E(d));c&&(f=b(f,c))});"id"in d||c.id&&(f=b(f,function(a){return!!a&&a.id==c.id}));f||"default"in d||(f=a);return f},H=function(a){return function(b,c,d){for(;b=b[u];)if(!t||l(b)){(!d||S(b,d))&&a(b)&&c.push(b);break}return c}},P=function(a){return function(b,c,d){for(b=b[u];b;){if(r(b)){if(d&&!S(b,d))break;a(b)&&c.push(b)}b=b[u]}return c}},C=function(b){b=b||a;return function(a,c,d){for(var e=
0,f=a.children||a.childNodes;a=f[e++];)r(a)&&(!d||S(a,d))&&b(a,e)&&c.push(a);return c}},y={},Q=function(b){var d=y[b.query];if(d)return d;var e=b.infixOper,e=e?e.oper:"",h=B(b,{el:1}),j="*"==b.tag,k=i.doc.getElementsByClassName;if(e){k={el:1};if(j)k.tag=1;h=B(b,k);"+"==e?d=H(h):"~"==e?d=P(h):">"==e&&(d=C(h))}else if(b.id)h=!b.loops&&j?a:B(b,{el:1,id:1}),d=function(a,d){var e=f.byId(b.id,a.ownerDocument||a);if(e&&h(e)){if(9==a.nodeType)return c(e,d);for(var g=e.parentNode;g&&!(g==a);)g=g.parentNode;
if(g)return c(e,d)}};else if(k&&/\{\s*\[native code\]\s*\}/.test(""+k)&&b.classes.length&&!g)var h=B(b,{el:1,classes:1,id:1}),l=b.classes.join(" "),d=function(a,b,d){for(var b=c(0,b),e,f=0,g=a.getElementsByClassName(l);e=g[f++];)h(e,a)&&S(e,d)&&b.push(e);return b};else!j&&!b.loops?d=function(a,d,e){for(var d=c(0,d),f=0,g=b.getTag(),g=g?a.getElementsByTagName(g):[];a=g[f++];)S(a,e)&&d.push(a);return d}:(h=B(b,{el:1,tag:1,id:1}),d=function(a,d,e){for(var d=c(0,d),f,g=0,i=(f=b.getTag())?a.getElementsByTagName(f):
[];f=i[g++];)h(f,a)&&S(f,e)&&d.push(f);return d});return y[b.query]=d},G={},F={},D=function(a){var b=d(h(a));if(1==b.length){var e=Q(b[0]);return function(a){if(a=e(a,[]))a.nozip=!0;return a}}return function(a){for(var a=c(a),d,e,f=b.length,g,h,i=0;i<f;i++){h=[];d=b[i];e=a.length-1;if(0<e)g={},h.nozip=!0;e=Q(d);for(var j=0;d=a[j];j++)e(d,h,g);if(!h.length)break;a=h}return h}},K=k("ie")?"commentStrip":"nozip",N=!!i.doc.querySelectorAll,J=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,O=function(a,b,c,d){return c?
(b?b+" ":"")+c+(d?" "+d:""):a},M=/([^[]*)([^\]]*])?/g,R=function(a,b,c){return b.replace(J,O)+(c||"")},I=function(a,b){a=a.replace(M,R);if(N){var c=F[a];if(c&&!b)return c}if(c=G[a])return c;var c=a.charAt(0),d=-1==a.indexOf(" ");0<=a.indexOf("#")&&d&&(b=!0);if(N&&!b&&-1==">~+".indexOf(c)&&(!k("ie")||-1==a.indexOf(":"))&&!(g&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf(":checked")&&-1==a.indexOf("|=")){var e=0<=">~+".indexOf(a.charAt(a.length-1))?a+" *":a;return F[a]=function(b){try{if(!(9==
b.nodeType||d))throw"";var c=b.querySelectorAll(e);c[K]=!0;return c}catch(f){return I(a,!0)(b)}}}var f=a.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return G[a]=2>f.length?D(a):function(a){for(var b=0,c=[],d;d=f[b++];)c=c.concat(D(d)(a));return c}},L=0,U=k("ie")?function(a){return e?a.getAttribute("_uid")||a.setAttribute("_uid",++L)||L:a.uniqueID}:function(a){return a._uid||(a._uid=++L)},S=function(a,b){if(!b)return 1;var c=U(a);return!b[c]?b[c]=1:0},V=function(a){if(a&&a.nozip)return a;
var b=[];if(!a||!a.length)return b;a[0]&&b.push(a[0]);if(2>a.length)return b;L++;var c,d;if(k("ie")&&e){var f=L+"";a[0].setAttribute("_zipIdx",f);for(c=1;d=a[c];c++)a[c].getAttribute("_zipIdx")!=f&&b.push(d),d.setAttribute("_zipIdx",f)}else if(k("ie")&&a.commentStrip)try{for(c=1;d=a[c];c++)l(d)&&b.push(d)}catch(g){}else{a[0]&&(a[0]._zipIdx=L);for(c=1;d=a[c];c++)a[c]._zipIdx!=L&&b.push(d),d._zipIdx=L}return b},T=function(a,b){b=b||i.doc;e="div"===(b.ownerDocument||b).createElement("div").tagName;var c=
I(a)(b);return c&&c.nozip?c:V(c)};T.filter=function(a,b,c){for(var e=[],g=d(b),g=1==g.length&&!/[^\w#\.]/.test(b)?B(g[0]):function(a){return-1!=m.indexOf(T(b,f.byId(c)),a)},h=0,i;i=a[h];h++)g(i)&&e.push(i);return e};return T})}}});define("test_grid_tree",[],1);