//>>built
require({cache:{"gridx/tests/demo_grid":function(){require("dojo/ready,gridx/Grid,gridx/core/model/cache/Sync,gridx/core/model/cache/Async,gridx/tests/support/data/MusicData,gridx/tests/support/data/TestData,gridx/tests/support/data/TreeColumnarTestData,gridx/tests/support/data/TreeNestedTestData,gridx/tests/support/stores/ItemFileWriteStore,gridx/tests/support/stores/JsonRestStore,gridx/tests/support/stores/Memory,gridx/tests/support/stores/TreeJsonRestStore,gridx/tests/support/stores/HugeStore,gridx/tests/support/modules,dojo/store/Memory,gridx/tests/support/GridConfig,dijit/Menu,dijit/MenuItem,dijit/MenuSeparator,dijit/PopupMenuItem,dijit/CheckedMenuItem,dojo/domReady!".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p){function r(a){q();a.id="grid";(new Date).getTime();window.grid=new m(a);(new Date).getTime();window.grid.placeAt("gridContainer");(new Date).getTime();window.grid.startup();(new Date).getTime();document.getElementById("tutor").style.display="none"}function q(){if(window.grid)window.grid.destroy(),window.grid=null;document.getElementById("tutor").style.display=""}var t={"music store":{defaultCheck:!0,store:c({dataSource:f,size:200}),layouts:{"layout 1":f.layouts[0],
"layout 2":f.layouts[1]}},"test store":{store:b({dataSource:e,size:100}),layouts:{"layout 1":e.layouts[0],"layout 2":e.layouts[1]}},"server store":{isServerSide:!0,store:a({path:"./support/stores",size:1E4}),layouts:{"layout 1":e.layouts[0],"layout 2":e.layouts[1]},onChange:function(a,b){a&&b.getHandle("cache","Asynchronous Cache").set("checked",!0)}},"huge server store":{isServerSide:!0,store:j({path:"./support/stores",size:1E7}),layouts:{"layout 1":e.layouts[1]},onChange:function(a,b){a&&b.getHandle("cache",
"Asynchronous Cache").set("checked",!0);b.getHandle("attr","vScrollerLazy").set("checked",a)}},"tree columnar store":{store:c({dataSource:h,maxLevel:3,maxChildrenCount:10}),layouts:{"layout 1":h.layouts[0]},onChange:function(a,b){b.getHandle("mod","tree").set("checked",a)}},"tree store nested":{store:c({dataSource:d,maxLevel:3,maxChildrenCount:10}),layouts:{"layout 1":d.layouts[0]},onChange:function(a,b){b.getHandle("mod","tree").set("checked",a);b.getHandle("attr","treeNested").set("checked",a)}}},
w={"Asynchronous Cache":{defaultCheck:!0,cache:i},"Synchronous Cache":{cache:l}},u={autoWidth:{type:"bool"},autoHeight:{type:"bool"},headerDefaultColumnWidth:{type:"number",value:50},vScrollerLazy:{type:"bool"},vScrollerLazyTimeout:{type:"number",value:200},vScrollerBuffSize:{type:"number",value:5},columnResizerMinWidth:{type:"number",value:10},columnResizerDetectWidth:{type:"number",value:20},treeNested:{type:"bool"},columnLockCount:{type:"number",value:1},dodUseAnimation:{type:"bool"},dodDuration:{type:"number",
value:300},dodDefaultShow:{type:"bool"},dodShowExpando:{type:"bool"},dodAutoClose:{type:"bool"},sortPreSort:{type:"json",value:'[{colId: "1", descending: true}]'},filterBarMaxRuleCount:{type:"number",value:0},filterBarCloseFilterBarButton:{type:"bool",value:!0},filterBarDefineFilterButton:{type:"bool",value:!0},filterBarTooltipDelay:{type:"number",value:300},filterBarRuleCountToConfirmClearFilter:{type:"number",value:2},paginationInitialPage:{type:"number",value:0},paginationInitialPageSize:{type:"number",
value:10},paginationBarVisibleSteppers:{type:"number",value:5},paginationBarSizeSeparator:{type:"string",value:"|"},paginationBarPosition:{type:"enum",values:{top:"top",bottom:"bottom"}},paginationBarSizes:{type:"json",value:"[10, 20, 40, 80, 0]"},paginationBarDescription:{type:"bool"},paginationBarSizeSwitch:{type:"bool"},paginationBarStepper:{type:"bool"},paginationBarGotoButton:{type:"bool"},rowHeaderWidth:{type:"string",value:"20px"},selectRowTriggerOnCell:{type:"bool"},selectRowMultiple:{type:"bool"},
selectColumnMultiple:{type:"bool"},selectCellMultiple:{type:"bool"},moveCellCopy:{type:"bool"},titleBarLabel:{type:"string",value:"All in one grid"}},s={"Make formatted columns sortable":o.FormatSort},y={"vertical scroll":{virtual:o.VirtualVScroller,"non virtual":o.VScroller},focus:{"default":o.Focus},columnResizer:{"default":o.ColumnResizer},persistence:{"default":o.Persist},toolBar:{"default":o.ToolBar},sort:{single:o.SingleSort,nested:o.NestedSort},"export CSV":{"default":o.ExportCSV},"export Table":{"default":o.ExportTable},
print:{"default":o.Printer},"column lock":{"default":o.ColumnLock},"row header":{defalt:o.RowHeader},"indirect selection":{defalt:o.IndirectSelect},"row select":{basic:o.SelectRow,extended:o.ExtendedSelectRow},"column select":{basic:o.SelectColumn,extended:o.ExtendedSelectColumn},"cell select":{basic:o.SelectCell,extended:o.ExtendedSelectCell},"row move api":{"default":o.MoveRow},"column move api":{"default":o.MoveColumn},"row dnd":{"default":o.DndRow},"column dnd":{"default":o.DndColumn},"pagination api":{"default":o.Pagination},
"pagination bar":{"default":o.PaginationBar,"drop down":o.PaginationBarDD},"filter api":{"default":o.Filter},"filter bar":{"default":o.FilterBar},"widget in cell":{"default":o.CellWidget},edit:{"default":o.Edit},"title bar":{"default":o.TitleBar},tree:{"default":o.Tree},"summary bar":{"default":o.SummaryBar},menu:{"default":o.Menu}};k(function(){(new p({stores:t,caches:w,gridAttrs:u,modules:y,modelExts:s,onCreate:r,onDestroy:q},"gridConfig")).startup()})})},"dojo/ready":function(){define(["./_base/kernel",
"./has","require","./domReady","./_base/lang"],function(k,m,l,i,f){var e=0,h,d=[],c=0,a=function(){if(e&&!c&&d.length){c=1;var b=d.shift();try{b()}finally{c=0}c=0;d.length&&h(a)}};l.on("idle",a);h=function(){l.idle()&&a()};var m=k.ready=k.addOnLoad=function(a,b,c){var n=f._toArray(arguments);"number"!=typeof a?(c=b,b=a,a=1E3):n.shift();c=c?f.hitch.apply(k,n):function(){b()};c.priority=a;for(n=0;n<d.length&&a>=d[n].priority;n++);d.splice(n,0,c);h()},b=k.config.addOnLoad;if(b)m[f.isArray(b)?"apply":
"call"](k,b);k.config.parseOnLoad&&!k.isAsync&&m(99,function(){k.parser||(k.deprecated("Add explicit require(['dojo/parser']);","","2.0"),l(["dojo/parser"]))});i(function(){e=1;k._postLoad=k.config.afterOnLoad=!0;d.length&&h(a)});return m})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(k,m,l,i){var f,e={},h={},d={config:m,global:this,dijit:e,dojox:h},e={dojo:["dojo",d],dijit:["dijit",e],dojox:["dojox",h]},i=l.map&&l.map[i.id.match(/[^\/]+/)[0]];for(f in i)e[f]?
e[f][0]=i[f]:e[f]=[i[f],{}];for(f in e)i=e[f],i[1]._scopeName=i[0],m.noGlobals||(this[i[0]]=i[1]);d.scopeMap=e;d.baseUrl=d.config.baseUrl=l.baseUrl;d.isAsync=l.async;d.locale=m.locale;i="$Rev: 29469 $".match(/\d+/);d.version={major:1,minor:9,patch:0,flag:"dev",revision:i?+i[0]:NaN,toString:function(){var a=d.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(d);d.exit=
function(){};"undefined"!=typeof console||(console={});for(var e="assert,count,debug,dir,dirxml,error,group,groupEnd,info,profile,profileEnd,time,timeEnd,trace,warn,log".split(","),c,i=0;c=e[i++];)console[c]||function(){var a=c+"";console[a]="log"in console?function(){var b=Array.apply({},arguments);b.unshift(a+":");console.log(b.join(" "))}:function(){};console[a]._fake=!0}();k.add("dojo-debug-messages",!!m.isDebug);d.deprecated=d.experimental=function(){};if(k("dojo-debug-messages"))d.deprecated=
function(a,b,g){a="DEPRECATED: "+a;b&&(a+=" "+b);g&&(a+=" -- will be removed in version: "+g);console.warn(a)},d.experimental=function(a,b){var g="EXPERIMENTAL: "+a+" -- APIs subject to change without notice.";b&&(g+=" "+b);console.warn(g)};if(m.modulePaths){d.deprecated("dojo.modulePaths","use paths configuration");k={};for(f in m.modulePaths)k[f.replace(/\./g,"/")]=m.modulePaths[f];l({paths:k})}d.moduleUrl=function(a,b){d.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var g=null;a&&(g=
l.toUrl(a.replace(/\./g,"/")+(b?"/"+b:"")+"/*.*").replace(/\/\*\.\*/,"")+(b?"":"/"));return g};d._hasResource={};return d})},"dojo/has":function(){define(["require","module"],function(k){var m=k.has||function(){};m.add("dom-addeventlistener",!!document.addEventListener);m.add("touch","ontouchstart"in document);m.add("device-width",screen.availWidth||innerWidth);k=document.createElement("form");m.add("dom-attributes-explicit",0==k.attributes.length);m.add("dom-attributes-specified-flag",0<k.attributes.length&&
40>k.attributes.length);m.clearElement=function(k){k.innerHTML="";return k};m.normalize=function(k,i){var f=k.match(/[\?:]|[^:\?]*/g),e=0,h=function(d){var c=f[e++];if(":"==c)return 0;if("?"==f[e++]){if(!d&&m(c))return h();h(!0);return h(d)}return c||0};return(k=h())&&i(k)};m.load=function(k,i,f){k?i([k],f):f()};return m})},"dojo/_base/config":function(){define(["../has","require"],function(k,m){var l={},i=m.rawConfig,f;for(f in i)l[f]=i[f];return l})},"dojo/domReady":function(){define(["./has"],
function(k){function m(a){h?a(i):d.push(a)}var l=this,i=document,f={loaded:1,complete:1},e="string"!=typeof i.readyState,h=!!f[i.readyState];if(e)i.readyState="loading";if(!h){var d=[],c=[],a=function(a){a=a||l.event;if(!(h||"readystatechange"==a.type&&!f[i.readyState])){h=1;if(e)i.readyState="complete";for(;d.length;)d.shift()(i)}},b=function(b,j){b.addEventListener(j,a,!1);d.push(function(){b.removeEventListener(j,a,!1)})};if(!k("dom-addeventlistener")){var b=function(b,j){j="on"+j;b.attachEvent(j,
a);d.push(function(){b.detachEvent(j,a)})},g=i.createElement("div");try{g.doScroll&&null===l.frameElement&&c.push(function(){try{return g.doScroll("left"),1}catch(a){}})}catch(j){}}b(i,"DOMContentLoaded");b(l,"load");"onreadystatechange"in i?b(i,"readystatechange"):e||c.push(function(){return f[i.readyState]});if(c.length){var o=function(){if(!h){for(var b=c.length;b--;)if(c[b]()){a("poller");return}setTimeout(o,30)}};o()}}m.load=function(a,b,j){m(j)};return m})},"dojo/_base/lang":function(){define(["./kernel",
"../has","../sniff"],function(k,m){m.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;return 1});var l=m("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],i=l.length,f=function(a,b,g){var j,c=0,d=k.global;if(!g)if(a.length){j=a[c++];try{g=k.scopeMap[j]&&k.scopeMap[j][1]}catch(p){}g=g||(j in d?d[j]:b?d[j]={}:void 0)}else return d;for(;g&&(j=a[c++]);)g=j in g?g[j]:b?g[j]={}:void 0;return g},
e=Object.prototype.toString,h=function(a,b,g){return(g||[]).concat(Array.prototype.slice.call(a,b||0))},d=/\{([^\}]+)\}/g,c={_extraNames:l,_mixin:function(a,b,g){var j,c,d,p={};for(j in b)if(c=b[j],!(j in a)||a[j]!==c&&(!(j in p)||p[j]!==c))a[j]=g?g(c):c;if(m("bug-for-in-skips-shadowed")&&b)for(d=0;d<i;++d)if(j=l[d],c=b[j],!(j in a)||a[j]!==c&&(!(j in p)||p[j]!==c))a[j]=g?g(c):c;return a},mixin:function(a,b){a||(a={});for(var g=1,j=arguments.length;g<j;g++)c._mixin(a,arguments[g]);return a},setObject:function(a,
b,g){var j=a.split("."),a=j.pop();return(g=f(j,!0,g))&&a?g[a]=b:void 0},getObject:function(a,b,g){return f(a.split("."),b,g)},exists:function(a,b){return void 0!==c.getObject(a,!1,b)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===e.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||c.isArray(a)||c.isFunction(a))},isArrayLike:function(a){return a&&
void 0!==a&&!c.isString(a)&&!c.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(c.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!c.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(""+a)},extend:function(a,b){for(var g=1,j=arguments.length;g<j;g++)c._mixin(a.prototype,arguments[g]);return a},_hitchArgs:function(a,b){var g=c._toArray(arguments,2),j=c.isString(b);return function(){var d=c._toArray(arguments),n=j?(a||k.global)[b]:b;return n&&n.apply(a||this,g.concat(d))}},
hitch:function(a,b){if(2<arguments.length)return c._hitchArgs.apply(k,arguments);b||(b=a,a=null);if(c.isString(b)){a=a||k.global;if(!a[b])throw['lang.hitch: scope["',b,'"] is null (scope="',a,'")'].join("");return function(){return a[b].apply(a,arguments||[])}}return!a?b:function(){return b.apply(a,arguments||[])}},delegate:function(){function a(){}return function(b,g){a.prototype=b;var j=new a;a.prototype=null;g&&c._mixin(j,g);return j}}(),_toArray:m("ie")?function(){function a(a,g,j){j=j||[];for(g=
g||0;g<a.length;g++)j.push(a[g]);return j}return function(b){return(b.item?a:h).apply(this,arguments)}}():h,partial:function(a){return c.hitch.apply(k,[null].concat(c._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||c.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);var b,g,j;if(c.isArray(a)){b=[];for(g=0,j=a.length;g<j;++g)g in a&&b.push(c.clone(a[g]))}else b=a.constructor?
new a.constructor:{};return c._mixin(b,a,c.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,b,g){return a.replace(g||d,c.isFunction(b)?b:function(a,g){return c.getObject(g,!1,b)})}};c.mixin(k,c);return c})},"dojo/sniff":function(){define(["./has"],function(k){var m=navigator,l=m.userAgent,m=m.appVersion,i=parseFloat(m);k.add("air",0<=l.indexOf("AdobeAIR"));k.add("khtml",0<=m.indexOf("Konqueror")?i:void 0);
k.add("webkit",parseFloat(l.split("WebKit/")[1])||void 0);k.add("chrome",parseFloat(l.split("Chrome/")[1])||void 0);k.add("safari",0<=m.indexOf("Safari")&&!k("chrome")?parseFloat(m.split("Version/")[1]):void 0);k.add("mac",0<=m.indexOf("Macintosh"));k.add("quirks","BackCompat"==document.compatMode);k.add("ios",/iPhone|iPod|iPad/.test(l));k.add("android",parseFloat(l.split("Android ")[1])||void 0);if(!k("webkit")){0<=l.indexOf("Opera")&&k.add("opera",9.8<=i?parseFloat(l.split("Version/")[1])||i:i);
0<=l.indexOf("Gecko")&&!k("khtml")&&!k("webkit")&&k.add("mozilla",i);k("mozilla")&&k.add("ff",parseFloat(l.split("Firefox/")[1]||l.split("Minefield/")[1])||void 0);if(document.all&&!k("opera"))l=parseFloat(m.split("MSIE ")[1])||void 0,(m=document.documentMode)&&5!=m&&Math.floor(l)!=m&&(l=m),k.add("ie",l);k.add("wii","undefined"!=typeof opera&&opera.wiiremote)}return k})},"gridx/Grid":function(){define("dojo/_base/kernel,dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/_base/sniff,dojo/on,dojo/dom-class,dojo/dom-geometry,dojo/_base/query,dojox/html/metrics,dijit/_WidgetBase,dijit/_FocusMixin,dijit/_TemplatedMixin,dojo/text!./templates/Grid.html,./core/Core,./core/model/extensions/Query,./core/_Module,./modules/Header,./modules/Body,./modules/VLayout,./modules/HLayout,./modules/VScroller,./modules/HScroller,./modules/ColumnWidth".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p,r,q,t,w,u,s,y,v){var x=l.forEach,B=function(){},m=m("gridx.Grid",[b,j,g,n],{templateString:o,coreModules:[q,t,w,u,s,y,v],coreExtensions:[p],postCreate:function(){var b=this;b.inherited(arguments);b._eventFlags={};b.modules=b.coreModules.concat(b.modules||[]);b.modelExtensions=b.coreExtensions.concat(b.modelExtensions||[]);h.toggle(b.domNode,"gridxRtl",!b.isLeftToRight());b.lastFocusNode.setAttribute("tabIndex",b.domNode.getAttribute("tabIndex"));b._initEvents(b._compNames,
b._eventNames);b._reset(b);b.connect(a,"onFontResize",function(){b.resize()})},startup:function(){this._started||(this.inherited(arguments),this._deferStartup.callback())},destroy:function(){this._uninit();this.inherited(arguments)},resize:function(a){var b={};if(a){if(this.autoWidth)a.w=void 0;if(this.autoHeight)a.h=void 0;d.setMarginBox(this.domNode,a)}this._onResizeBegin(a,b);this._onResizeEnd(a,b)},_onResizeBegin:function(){},_onResizeEnd:function(){},_compNames:["Cell","HeaderCell","Row","Header"],
_eventNames:"Click,DblClick,MouseDown,MouseUp,MouseOver,MouseOut,MouseMove,ContextMenu,KeyDown,KeyPress,KeyUp".split(","),_initEvents:function(a,b){var j=this;x(a,function(a){x(b,function(b){b="on"+a+b;j[b]=j[b]||B})})},_connectEvents:function(a,b,j){for(var g=this.model,c,d=this._eventNames,n=d.length,o=0;o<n;++o)c=d[o],g._cnnts.push(e(a,c.toLowerCase(),i.hitch(j,b,c)))},_isConnected:function(a){return this[a]!==B},_isCopyEvent:function(a){return f("mac")?a.metaKey:a.ctrlKey}});m.markupFactory=function(a,
b,j){if(!a.structure&&"table"==b.nodeName.toLowerCase()){k.deprecated("Column declaration in <th> elements is deprecated,",'use "structure" attribute in data-dojo-props instead',"1.1");var g=a.structure=[];c("thead > tr > th",b).forEach(function(a){var b={};x(r._markupAttrs,function(j){"!"==j[0]?(j=j.slice(1),b[j]=eval(a.getAttribute(j))):b[j]=a.getAttribute(j)});b.name=b.name||a.innerHTML;g.push(b)})}return new j(a,b)};return m})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],
function(k,m,l){function i(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function f(a,b,j){var g,c,d,o,n,p,r,e=this._inherited=this._inherited||{};"string"==typeof a&&(g=a,a=b,b=j);j=0;o=a.callee;(g=g||o.nom)||i("can't deduce a name to call inherited()",this.declaredClass);n=this.constructor._meta;d=n.bases;r=e.p;if(g!=v){if(e.c!==o&&(r=0,p=d[0],n=p._meta,n.hidden[g]!==o)){(c=n.chains)&&"string"==typeof c[g]&&i("calling chained method with inherited: "+g,this.declaredClass);do if(n=p._meta,c=p.prototype,
n&&(c[g]===o&&c.hasOwnProperty(g)||n.hidden[g]===o))break;while(p=d[++r]);r=p?r:-1}if(p=d[++r])if(c=p.prototype,p._meta&&c.hasOwnProperty(g))j=c[g];else{o=w[g];do if(c=p.prototype,(j=c[g])&&(p._meta?c.hasOwnProperty(g):j!==o))break;while(p=d[++r])}j=p&&j||w[g]}else{if(e.c!==o&&(r=0,(n=d[0]._meta)&&n.ctor!==o)){c=n.chains;for((!c||"manual"!==c.constructor)&&i("calling chained constructor with inherited",this.declaredClass);(p=d[++r])&&!((n=p._meta)&&n.ctor===o););r=p?r:-1}for(;(p=d[++r])&&!(j=(n=p._meta)?
n.ctor:p););j=p&&j}e.c=j;e.p=r;if(j)return!0===b?j:j.apply(this,b||a)}function e(a,b){return"string"==typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function h(a,b,j){var g=this.getInherited(a,b);if(g)return g.apply(this,j||b||a)}function d(a){for(var b=this.constructor._meta.bases,j=0,g=b.length;j<g;++j)if(b[j]===a)return!0;return this instanceof a}function c(a,b){for(var j in b)j!=v&&b.hasOwnProperty(j)&&(a[j]=b[j]);if(m("bug-for-in-skips-shadowed"))for(var g=l._extraNames,c=g.length;c;)j=
g[--c],j!=v&&b.hasOwnProperty(j)&&(a[j]=b[j])}function a(a){q.safeMixin(this.prototype,a);return this}function b(a){return q([this].concat(a))}function g(a,b){return function(){var z;var j=arguments,g=j,c=j[0],d,n;n=a.length;var o;if(!(this instanceof j.callee))return r(j);if(b&&(c&&c.preamble||this.preamble)){o=Array(a.length);o[0]=j;for(d=0;;){if(c=j[0])(c=c.preamble)&&(j=c.apply(this,j)||j);c=a[d].prototype;(c=c.hasOwnProperty("preamble")&&c.preamble)&&(j=c.apply(this,j)||j);if(++d==n)break;o[d]=
j}}for(d=n-1;0<=d;--d)c=a[d],(z=(n=c._meta)?n.ctor:c,c=z)&&c.apply(this,o?o[d]:j);(c=this.postscript)&&c.apply(this,g)}}function j(a,b){return function(){var j=arguments,g=j,c=j[0];if(!(this instanceof j.callee))return r(j);if(b){if(c)(c=c.preamble)&&(g=c.apply(this,g)||g);(c=this.preamble)&&c.apply(this,g)}a&&a.apply(this,j);(c=this.postscript)&&c.apply(this,j)}}function o(a){return function(){var z;var b=arguments,j=0,g,c;if(!(this instanceof b.callee))return r(b);for(;g=a[j];++j)if(z=(c=g._meta)?
c.ctor:g,g=z){g.apply(this,b);break}(g=this.postscript)&&g.apply(this,b)}}function n(a,b,j){return function(){var g,c,d=0,n=1;j&&(d=b.length-1,n=-1);for(;g=b[d];d+=n)c=g._meta,(g=(c?c.hidden:g.prototype)[a])&&g.apply(this,arguments)}}function p(a){s.prototype=a.prototype;a=new s;s.prototype=null;return a}function r(a){var b=a.callee,j=p(b);b.apply(j,a);return j}function q(r,h,k){"string"!=typeof r&&(k=h,h=r,r="");var k=k||{},m,s,E,C,J,F,I,H=1,L=h;if("[object Array]"==u.call(h)){H=r;E=[];C=[{cls:0,
refs:[]}];F={};for(var P=1,K=h.length,Q=0,O,R,M,N;Q<K;++Q){(O=h[Q])?"[object Function]"!=u.call(O)&&i("mixin #"+Q+" is not a callable constructor.",H):i("mixin #"+Q+" is unknown. Did you use dojo.require to pull it in?",H);R=O._meta?O._meta.bases:[O];M=0;for(O=R.length-1;0<=O;--O){N=R[O].prototype;if(!N.hasOwnProperty("declaredClass"))N.declaredClass="uniqName_"+y++;N=N.declaredClass;F.hasOwnProperty(N)||(F[N]={count:0,refs:[],cls:R[O]},++P);N=F[N];M&&M!==N&&(N.refs.push(M),++M.count);M=N}++M.count;
C[0].refs.push(M)}for(;C.length;){M=C.pop();E.push(M.cls);for(--P;s=M.refs,1==s.length;){M=s[0];if(!M||--M.count){M=0;break}E.push(M.cls);--P}if(M)for(Q=0,K=s.length;Q<K;++Q)M=s[Q],--M.count||C.push(M)}P&&i("can't build consistent linearization",H);O=h[0];E[0]=O?O._meta&&O===E[E.length-O._meta.bases.length]?O._meta.bases.length:1:0;F=E;E=F[0];H=F.length-E;h=F[H]}else F=[0],h?"[object Function]"==u.call(h)?(E=h._meta,F=F.concat(E?E.bases:h)):i("base class is not a callable constructor.",r):null!==
h&&i("unknown base class. Did you use dojo.require to pull it in?",r);if(h)for(s=H-1;;--s){m=p(h);if(!s)break;E=F[s];(E._meta?c:t)(m,E.prototype);C=new Function;C.superclass=h;C.prototype=m;h=m.constructor=C}else m={};q.safeMixin(m,k);E=k.constructor;if(E!==w.constructor)E.nom=v,m.constructor=E;for(s=H-1;s;--s)(E=F[s]._meta)&&E.chains&&(I=t(I||{},E.chains));m["-chains-"]&&(I=t(I||{},m["-chains-"]));E=!I||!I.hasOwnProperty(v);F[0]=C=I&&"manual"===I.constructor?o(F):1==F.length?j(k.constructor,E):g(F,
E);C._meta={bases:F,hidden:k,chains:I,parents:L,ctor:k.constructor};C.superclass=h&&h.prototype;C.extend=a;C.createSubclass=b;C.prototype=m;m.constructor=C;m.getInherited=e;m.isInstanceOf=d;m.inherited=x;m.__inherited=f;if(r)m.declaredClass=r,l.setObject(r,C);if(I)for(J in I)if(m[J]&&"string"==typeof I[J]&&J!=v)E=m[J]=n(J,F,"after"===I[J]),E.nom=J;return C}var t=l.mixin,w=Object.prototype,u=w.toString,s=new Function,y=0,v="constructor",x=k.config.isDebug?h:f;k.safeMixin=q.safeMixin=function(a,b){var j,
g;for(j in b)if(g=b[j],(g!==w[j]||!(j in w))&&j!=v){if("[object Function]"==u.call(g))g.nom=j;a[j]=g}if(m("bug-for-in-skips-shadowed"))for(var c=l._extraNames,d=c.length;d;)if(j=c[--d],g=b[j],(g!==w[j]||!(j in w))&&j!=v){if("[object Function]"==u.call(g))g.nom=j;a[j]=g}return a};return k.declare=q})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(k,m,l){function i(a){return h[a]=new Function("item","index","array",a)}function f(a){var b=!a;return function(g,j,c){var d=
0,p=g&&g.length||0,r;p&&"string"==typeof g&&(g=g.split(""));"string"==typeof j&&(j=h[j]||i(j));if(c)for(;d<p;++d){if(r=!j.call(c,g[d],d,g),a^r)return!r}else for(;d<p;++d)if(r=!j(g[d],d,g),a^r)return!r;return b}}function e(a){var b=1,g=0,j=0;a||(b=g=j=-1);return function(o,n,p,r){if(r&&0<b)return c.lastIndexOf(o,n,p);var r=o&&o.length||0,e=a?r+j:g;p===d?p=a?g:r+j:0>p?(p=r+p,0>p&&(p=g)):p=p>=r?r+j:p;for(r&&"string"==typeof o&&(o=o.split(""));p!=e;p+=b)if(o[p]==n)return p;return-1}}var h={},d,c={every:f(!1),
some:f(!0),indexOf:e(!0),lastIndexOf:e(!1),forEach:function(a,b,g){var j=0,c=a&&a.length||0;c&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=h[b]||i(b));if(g)for(;j<c;++j)b.call(g,a[j],j,a);else for(;j<c;++j)b(a[j],j,a)},map:function(a,b,g,j){var c=0,d=a&&a.length||0,j=new (j||Array)(d);d&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=h[b]||i(b));if(g)for(;c<d;++c)j[c]=b.call(g,a[c],c,a);else for(;c<d;++c)j[c]=b(a[c],c,a);return j},filter:function(a,b,g){var j=0,c=a&&a.length||
0,d=[],p;c&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=h[b]||i(b));if(g)for(;j<c;++j)p=a[j],b.call(g,p,j,a)&&d.push(p);else for(;j<c;++j)p=a[j],b(p,j,a)&&d.push(p);return d},clearCache:function(){h={}}};l.mixin(k,c);return c})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(k,m,l){k._name="browser";m.mixin(k,{isBrowser:!0,isFF:l("ff"),isIE:l("ie"),isKhtml:l("khtml"),isWebKit:l("webkit"),isMozilla:l("mozilla"),isMoz:l("mozilla"),isOpera:l("opera"),isSafari:l("safari"),
isChrome:l("chrome"),isMac:l("mac"),isIos:l("ios"),isAndroid:l("android"),isWii:l("wii"),isQuirks:l("quirks"),isAir:l("air")});k.locale=k.locale||(l("ie")?navigator.userLanguage:navigator.language).toLowerCase();return l})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./has"],function(k,m,l){function i(a,b,j,n,p){if(n=b.match(/(.*):(.*)/))return b=n[2],n=n[1],d.selector(n,b).call(p,a,j);l("touch")&&(c.test(b)&&(j=y(j)),!l("event-orientationchange")&&"orientationchange"==
b&&(b="resize",a=window,j=y(j)));o&&(j=o(j));if(a.addEventListener){var r=b in g,e=r?g[b]:b;a.addEventListener(e,j,r);return{remove:function(){a.removeEventListener(e,j,r)}}}if(q&&a.attachEvent)return q(a,"on"+b,j);throw Error("Target must be an event emitter");}function f(){this.cancelable=!1}function e(){this.bubbles=!1}var h=window.ScriptEngineMajorVersion;l.add("jscript",h&&h()+ScriptEngineMinorVersion()/10);l.add("event-orientationchange",l("touch")&&!l("android"));l.add("event-stopimmediatepropagation",
window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);var d=function(a,b,j,g){return a.on&&"function"!=typeof b?a.on(b,j):d.parse(a,b,j,i,g,this)};d.pausable=function(a,b,j,g){var c,a=d(a,b,function(){if(!c)return j.apply(this,arguments)},g);a.pause=function(){c=!0};a.resume=function(){c=!1};return a};d.once=function(a,b,j){var g=d(a,b,function(){g.remove();return j.apply(this,arguments)});return g};d.parse=function(a,b,j,g,c,d){if(b.call)return b.call(d,a,j);
if(-1<b.indexOf(",")){for(var b=b.split(/\s*,\s*/),n=[],o=0,p;p=b[o++];)n.push(g(a,p,j,c,d));n.remove=function(){for(var a=0;a<n.length;a++)n[a].remove()};return n}return g(a,b,j,c,d)};var c=/^touch/;d.selector=function(a,b,j){return function(g,c){function n(b){for(o=o&&o.matches?o:m.query;!o.matches(b,a,g);)if(b==g||!1===j||!(b=b.parentNode)||1!=b.nodeType)return;return b}var o="function"==typeof a?{matches:a}:this,p=b.bubble;return p?d(g,p(n),c):d(g,b,function(a){var b=n(a.target);return b&&c.call(b,
a)})}};var a=[].slice,b=d.emit=function(b,j,g){var c=a.call(arguments,2),d="on"+j;if("parentNode"in b){var n=c[0]={},o;for(o in g)n[o]=g[o];n.preventDefault=f;n.stopPropagation=e;n.target=b;n.type=j;g=n}do b[d]&&b[d].apply(b,c);while(g&&g.bubbles&&(b=b.parentNode));return g&&g.cancelable&&g},g={};if(!l("event-stopimmediatepropagation"))var j=function(){this.modified=this.immediatelyStopped=!0},o=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=j,a.apply(this,
arguments)}};if(l("dom-addeventlistener")){g={focusin:"focus",focusout:"blur"};if(l("opera"))g.keydown="keypress";d.emit=function(a,j,g){if(a.dispatchEvent&&document.createEvent){var c=a.ownerDocument.createEvent("HTMLEvents");c.initEvent(j,!!g.bubbles,!!g.cancelable);for(var n in g)n in c||(c[n]=g[n]);return a.dispatchEvent(c)&&c}return b.apply(d,arguments)}}else{d._fixEvent=function(a,b){if(!a)a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event;if(!a)return a;n&&a.type==n.type&&(a=
n);if(!a.target){a.target=a.srcElement;a.currentTarget=b||a.srcElement;if("mouseover"==a.type)a.relatedTarget=a.fromElement;if("mouseout"==a.type)a.relatedTarget=a.toElement;if(!a.stopPropagation)a.stopPropagation=t,a.preventDefault=w;switch(a.type){case "keypress":var j="charCode"in a?a.charCode:a.keyCode;10==j?(j=0,a.keyCode=13):13==j||27==j?j=0:3==j&&(j=99);a.charCode=j;j=a;j.keyChar=j.charCode?String.fromCharCode(j.charCode):"";j.charOrCode=j.keyChar||j.keyCode}}return a};var n,p=function(a){this.handle=
a};p.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var r=function(a){return function(b){var b=d._fixEvent(b,this),j=a.call(this,b);b.modified&&(n||setTimeout(function(){n=null}),n=b);return j}},q=function(a,b,j){j=r(j);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>l("jscript"))&&!l("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var g=a[b];if(!g||!g.listeners){var c=g,g=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
g.listeners=[];a[b]=g;g.global=this;c&&g.listeners.push(_dojoIEListeners_.push(c)-1)}g.listeners.push(a=g.global._dojoIEListeners_.push(j)-1);return new p(a)}return k.after(a,b,j,!0)},t=function(){this.cancelBubble=!0},w=d._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1}}if(l("touch"))var u=function(){},s=window.orientation,y=function(a){return function(b){var j=b.corrected;if(!j){var g=b.type;try{delete b.type}catch(c){}b.type?
(u.prototype=b,j=new u,j.preventDefault=function(){b.preventDefault()},j.stopPropagation=function(){b.stopPropagation()}):(j=b,j.type=g);b.corrected=j;if("resize"==g){if(s==window.orientation)return null;s=window.orientation;j.type="orientationchange";return a.call(this,j)}if(!("rotation"in j))j.rotation=0,j.scale=1;var g=j.changedTouches[0],d;for(d in g)delete j[d],j[d]=g[d]}return a.call(this,j)}};return d})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(k,
m,l){function i(c){if("string"==typeof c||c instanceof String){if(c&&!e.test(c))return h[0]=c,h;c=c.split(e);c.length&&!c[0]&&c.shift();c.length&&!c[c.length-1]&&c.pop();return c}return!c?[]:m.filter(c,function(a){return a})}var f,e=/\s+/,h=[""],d={};return f={contains:function(c,a){return 0<=(" "+l.byId(c).className+" ").indexOf(" "+a+" ")},add:function(c,a){var c=l.byId(c),a=i(a),b=c.className,g,b=b?" "+b+" ":" ";g=b.length;for(var j=0,d=a.length,n;j<d;++j)(n=a[j])&&0>b.indexOf(" "+n+" ")&&(b+=
n+" ");g<b.length&&(c.className=b.substr(1,b.length-2))},remove:function(c,a){var c=l.byId(c),b;if(void 0!==a){a=i(a);b=" "+c.className+" ";for(var g=0,j=a.length;g<j;++g)b=b.replace(" "+a[g]+" "," ");b=k.trim(b)}else b="";c.className!=b&&(c.className=b)},replace:function(c,a,b){c=l.byId(c);d.className=c.className;f.remove(d,b);f.add(d,a);c.className!==d.className&&(c.className=d.className)},toggle:function(c,a,b){c=l.byId(c);if(void 0===b)for(var a=i(a),g=0,j=a.length,d;g<j;++g)d=a[g],f[f.contains(c,
d)?"remove":"add"](c,d);else f[b?"add":"remove"](c,a);return b}}})},"dojo/dom":function(){define(["./sniff","./_base/lang","./_base/window"],function(k,m,l){if(7>=k("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(i){}var f={};f.byId=k("ie")?function(e,h){if("string"!=typeof e)return e;var d=h||l.doc,c=e&&d.getElementById(e);if(c&&(c.attributes.id.value==e||c.id==e))return c;d=d.all[e];if(!d||d.nodeName)d=[d];for(var a=0;c=d[a++];)if(c.attributes&&c.attributes.id&&c.attributes.id.value==
e||c.id==e)return c}:function(e,h){return("string"==typeof e?(h||l.doc).getElementById(e):e)||null};f.isDescendant=function(e,h){try{e=f.byId(e);for(h=f.byId(h);e;){if(e==h)return!0;e=e.parentNode}}catch(d){}return!1};f.setSelectable=function(e,h){e=f.byId(e);if(k("mozilla"))e.style.MozUserSelect=h?"":"none";else if(k("khtml")||k("webkit"))e.style.KhtmlUserSelect=h?"auto":"none";else if(k("ie"))for(var d=e.unselectable=h?"":"on",c=e.getElementsByTagName("*"),a=0,b=c.length;a<b;++a)c.item(a).unselectable=
d};return f})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(k,m,l){var i={global:k.global,doc:this.document||null,body:function(f){f=f||k.doc;return f.body||f.getElementsByTagName("body")[0]},setContext:function(f,e){k.global=i.global=f;k.doc=i.doc=e},withGlobal:function(f,e,h,d){var c=k.global;try{return k.global=i.global=f,i.withDoc.call(null,f.document,e,h,d)}finally{k.global=i.global=c}},withDoc:function(f,e,h,d){var c=i.doc,a=l("quirks"),b=l("ie"),g,j,o;try{k.doc=
i.doc=f;k.isQuirks=l.add("quirks","BackCompat"==k.doc.compatMode,!0,!0);if(l("ie")&&(o=f.parentWindow)&&o.navigator)g=parseFloat(o.navigator.appVersion.split("MSIE ")[1])||void 0,(j=f.documentMode)&&5!=j&&Math.floor(g)!=j&&(g=j),k.isIE=l.add("ie",g,!0,!0);h&&"string"==typeof e&&(e=h[e]);return e.apply(h,d||[])}finally{k.doc=i.doc=c,k.isQuirks=l.add("quirks",a,!0,!0),k.isIE=l.add("ie",b,!0,!0)}}};m.mixin(k,i);return i})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],
function(k,m,l,i){function f(a,b,g,j,c,d){d=d||"px";a=a.style;if(!isNaN(b))a.left=b+d;if(!isNaN(g))a.top=g+d;if(0<=j)a.width=j+d;if(0<=c)a.height=c+d}function e(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function h(a){return"border-box"==d.boxModel||"table"==a.tagName.toLowerCase()||e(a)}var d={boxModel:"content-box"};if(k("ie"))d.boxModel="BackCompat"==document.compatMode?"border-box":"content-box";d.getPadExtents=
function(a,b){var a=l.byId(a),g=b||i.getComputedStyle(a),j=i.toPixelValue,c=j(a,g.paddingLeft),d=j(a,g.paddingTop),p=j(a,g.paddingRight),g=j(a,g.paddingBottom);return{l:c,t:d,r:p,b:g,w:c+p,h:d+g}};d.getBorderExtents=function(a,b){var a=l.byId(a),g=i.toPixelValue,j=b||i.getComputedStyle(a),c="none"!=j.borderLeftStyle?g(a,j.borderLeftWidth):0,d="none"!=j.borderTopStyle?g(a,j.borderTopWidth):0,p="none"!=j.borderRightStyle?g(a,j.borderRightWidth):0,g="none"!=j.borderBottomStyle?g(a,j.borderBottomWidth):
0;return{l:c,t:d,r:p,b:g,w:c+p,h:d+g}};d.getPadBorderExtents=function(a,b){var a=l.byId(a),g=b||i.getComputedStyle(a),j=d.getPadExtents(a,g),g=d.getBorderExtents(a,g);return{l:j.l+g.l,t:j.t+g.t,r:j.r+g.r,b:j.b+g.b,w:j.w+g.w,h:j.h+g.h}};d.getMarginExtents=function(a,b){var a=l.byId(a),g=b||i.getComputedStyle(a),j=i.toPixelValue,c=j(a,g.marginLeft),d=j(a,g.marginTop),p=j(a,g.marginRight),g=j(a,g.marginBottom);return{l:c,t:d,r:p,b:g,w:c+p,h:d+g}};d.getMarginBox=function(a,b){var a=l.byId(a),g=b||i.getComputedStyle(a),
j=d.getMarginExtents(a,g),c=a.offsetLeft-j.l,n=a.offsetTop-j.t,p=a.parentNode,r=i.toPixelValue;if(k("mozilla")){var e=parseFloat(g.left),g=parseFloat(g.top);!isNaN(e)&&!isNaN(g)?(c=e,n=g):p&&p.style&&(p=i.getComputedStyle(p),"visible"!=p.overflow&&(c+="none"!=p.borderLeftStyle?r(a,p.borderLeftWidth):0,n+="none"!=p.borderTopStyle?r(a,p.borderTopWidth):0))}else if((k("opera")||8==k("ie")&&!k("quirks"))&&p)p=i.getComputedStyle(p),c-="none"!=p.borderLeftStyle?r(a,p.borderLeftWidth):0,n-="none"!=p.borderTopStyle?
r(a,p.borderTopWidth):0;return{l:c,t:n,w:a.offsetWidth+j.w,h:a.offsetHeight+j.h}};d.getContentBox=function(a,b){var a=l.byId(a),g=b||i.getComputedStyle(a),j=a.clientWidth,c=d.getPadExtents(a,g),n=d.getBorderExtents(a,g);j?(g=a.clientHeight,n.w=n.h=0):(j=a.offsetWidth,g=a.offsetHeight);k("opera")&&(c.l+=n.l,c.t+=n.t);return{l:c.l,t:c.t,w:j-c.w-n.w,h:g-c.h-n.h}};d.setContentSize=function(a,b,g){var a=l.byId(a),j=b.w,b=b.h;h(a)&&(g=d.getPadBorderExtents(a,g),0<=j&&(j+=g.w),0<=b&&(b+=g.h));f(a,NaN,NaN,
j,b)};var c={l:0,t:0,w:0,h:0};d.setMarginBox=function(a,b,g){var a=l.byId(a),j=g||i.getComputedStyle(a),g=b.w,o=b.h,n=h(a)?c:d.getPadBorderExtents(a,j),j=d.getMarginExtents(a,j);if(k("webkit")&&e(a)){var p=a.style;if(0<=g&&!p.width)p.width="4px";if(0<=o&&!p.height)p.height="4px"}0<=g&&(g=Math.max(g-n.w-j.w,0));0<=o&&(o=Math.max(o-n.h-j.h,0));f(a,b.l,b.t,g,o)};d.isBodyLtr=function(a){a=a||m.doc;return"ltr"==(m.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};d.docScroll=function(a){var a=
a||m.doc,b=m.doc.parentWindow||m.doc.defaultView;return"pageXOffset"in b?{x:b.pageXOffset,y:b.pageYOffset}:(b=k("quirks")?m.body(a):a.documentElement)&&{x:d.fixIeBiDiScrollLeft(b.scrollLeft||0,a),y:b.scrollTop||0}};if(k("ie"))d.getIeDocumentElementOffset=function(a){a=a||m.doc;a=a.documentElement;if(8>k("ie")){var b=a.getBoundingClientRect(),g=b.left,b=b.top;7>k("ie")&&(g+=a.clientLeft,b+=a.clientTop);return{x:0>g?0:g,y:0>b?0:b}}return{x:0,y:0}};d.fixIeBiDiScrollLeft=function(a,b){var b=b||m.doc,
g=k("ie");if(g&&!d.isBodyLtr(b)){var j=k("quirks"),c=j?m.body(b):b.documentElement,n=m.global;6==g&&!j&&n.frameElement&&c.scrollHeight>c.clientHeight&&(a+=c.clientLeft);return 8>g||j?a+c.clientWidth-c.scrollWidth:-a}return a};d.position=function(a,b){var a=l.byId(a),g=m.body(a.ownerDocument),j=a.getBoundingClientRect(),j={x:j.left,y:j.top,w:j.right-j.left,h:j.bottom-j.top};if(k("ie")){var c=d.getIeDocumentElementOffset(a.ownerDocument);j.x-=c.x+(k("quirks")?g.clientLeft+g.offsetLeft:0);j.y-=c.y+(k("quirks")?
g.clientTop+g.offsetTop:0)}b&&(g=d.docScroll(a.ownerDocument),j.x+=g.x,j.y+=g.y);return j};d.getMarginSize=function(a,b){var a=l.byId(a),g=d.getMarginExtents(a,b||i.getComputedStyle(a)),j=a.getBoundingClientRect();return{w:j.right-j.left+g.w,h:j.bottom-j.top+g.h}};d.normalizeEvent=function(a){if(!("layerX"in a))a.layerX=a.offsetX,a.layerY=a.offsetY;if(!k("dom-addeventlistener")){var b=a.target,b=b&&b.ownerDocument||document,g=k("quirks")?b.body:b.documentElement,j=d.getIeDocumentElementOffset(b);
a.pageX=a.clientX+d.fixIeBiDiScrollLeft(g.scrollLeft||0,b)-j.x;a.pageY=a.clientY+(g.scrollTop||0)-j.y}};return d})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(k,m){function l(j,g,c){g=g.toLowerCase();if(k("ie")){if("auto"==c){if("height"==g)return j.offsetHeight;if("width"==g)return j.offsetWidth}if("fontweight"==g)switch(c){case 700:return"bold";default:return"normal"}}g in a||(a[g]=b.test(g));return a[g]?e(j,c):c}var i,f={};i=k("webkit")?function(a){var b;if(1==a.nodeType){var j=
a.ownerDocument.defaultView;b=j.getComputedStyle(a,null);if(!b&&a.style)a.style.display="",b=j.getComputedStyle(a,null)}return b||{}}:k("ie")&&(9>k("ie")||k("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};f.getComputedStyle=i;var e;e=k("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var j=a.style,g=a.runtimeStyle,c=j.left,
d=g.left;g.left=a.currentStyle.left;try{j.left=b,b=j.pixelLeft}catch(e){b=0}j.left=c;g.left=d;return b}:function(a,b){return parseFloat(b)||0};f.toPixelValue=e;var h=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(j){return b?{}:null}},d=9>k("ie")||k("ie")&&k("quirks")?function(a){try{return h(a).Opacity/100}catch(b){return 1}}:function(a){return i(a).opacity},c=9>k("ie")||k("ie")&&k("quirks")?function(a,b){var j=100*b,g=1==b;a.style.zoom=g?"":1;if(h(a))h(a,1).Opacity=
j;else{if(g)return b;a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+j+")"}h(a,1).Enabled=!g;if("tr"==a.tagName.toLowerCase())for(j=a.firstChild;j;j=j.nextSibling)"td"==j.tagName.toLowerCase()&&c(j,b);return b}:function(a,b){return a.style.opacity=b},a={left:!0,top:!0},b=/margin|padding|width|height|max|min|offset/,g=k("ie")?"styleFloat":"cssFloat",j={cssFloat:g,styleFloat:g,"float":g};f.get=function(a,b){var g=m.byId(a),c=arguments.length;if(2==c&&"opacity"==b)return d(g);var b=
j[b]||b,e=f.getComputedStyle(g);return 1==c?e:l(g,b,e[b]||g.style[b])};f.set=function(a,b,g){var d=m.byId(a),e=arguments.length,h="opacity"==b,b=j[b]||b;if(3==e)return h?c(d,g):d.style[b]=g;for(var i in b)f.set(a,i,b[i]);return f.getComputedStyle(d)};return f})},"dojo/_base/query":function(){define(["../query","./NodeList"],function(k){return k})},"dojo/query":function(){define("./_base/kernel,./has,./dom,./on,./_base/array,./_base/lang,./selector/_loader,./selector/_loader!default".split(","),function(k,
m,l,i,f,e,h,d){function c(a,b){var j=function(j,g){if("string"==typeof g&&(g=l.byId(g),!g))return new b([]);var c="string"==typeof j?a(j,g):j?j.orphan?j:[j]:[];return c.orphan?c:new b(c)};j.matches=a.match||function(a,b,g){return 0<j.filter([a],b,g).length};j.filter=a.filter||function(a,b,g){return j(b,g).filter(function(b){return-1<f.indexOf(a,b)})};if("function"!=typeof a)var g=a.search,a=function(a,b){return g(b||document,a)};return j}m.add("array-extensible",function(){return 1==e.delegate([],
{length:1}).length&&!m("bug-for-in-skips-shadowed")});var a=Array.prototype,b=a.slice,g=a.concat,j=f.forEach,o=function(a,j,g){j=[0].concat(b.call(j,0));g=g||k.global;return function(b){j[0]=b;return a.apply(g,j)}},n=function(a){var b=this instanceof p&&m("array-extensible");"number"==typeof a&&(a=Array(a));var j=a&&"length"in a?a:arguments;if(b||!j.sort){for(var g=b?this:[],c=g.length=j.length,d=0;d<c;d++)g[d]=j[d];if(b)return g;j=g}e._mixin(j,r);j._NodeListCtor=function(a){return p(a)};return j},
p=n,r=p.prototype=m("array-extensible")?[]:{};p._wrap=r._wrap=function(a,b,j){a=new (j||this._NodeListCtor||p)(a);return b?a._stash(b):a};p._adaptAsMap=function(a,b){return function(){return this.map(o(a,arguments,b))}};p._adaptAsForEach=function(a,b){return function(){this.forEach(o(a,arguments,b));return this}};p._adaptAsFilter=function(a,b){return function(){return this.filter(o(a,arguments,b))}};p._adaptWithCondition=function(a,b,j){return function(){var g=arguments,c=o(a,g,j);if(b.call(j||k.global,
g))return this.map(c);this.forEach(c);return this}};j(["slice","splice"],function(b){var j=a[b];r[b]=function(){return this._wrap(j.apply(this,arguments),"slice"==b?this:null)}});j(["indexOf","lastIndexOf","every","some"],function(a){var j=f[a];r[a]=function(){return j.apply(k,[this].concat(b.call(arguments,0)))}});e.extend(n,{constructor:p,_NodeListCtor:p,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var j=this.map(function(j){return i(j,
a,b)});j.remove=function(){for(var a=0;a<j.length;a++)j[a].remove()};return j},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var j=b.call(this,0),c=f.map(arguments,function(a){return b.call(a,0)});return this._wrap(g.apply(j,c),this)},map:function(a,b){return this._wrap(f.map(this,a,b),this)},forEach:function(a,b){j(this,a,b);return this},filter:function(a){var b=arguments,j=this,g=0;if("string"==typeof a){j=q._filterResult(this,b[0]);if(1==b.length)return j._stash(this);
g=1}return this._wrap(f.filter(j,b[g],b[g+1]),this)},instantiate:function(a,b){var j=e.isFunction(a)?a:e.getObject(a),b=b||{};return this.forEach(function(a){new j(b,a)})},at:function(){var a=new this._NodeListCtor(0);j(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var q=c(d,n);k.query=c(d,function(a){return n(a)});q.load=function(a,b,j){h.load(a,b,function(a){j(c(a,n))})};k._filterQueryResult=q._filterResult=function(a,b,j){return new n(q.filter(a,
b,j))};k.NodeList=q.NodeList=n;return q})},"dojo/selector/_loader":function(){define(["../has","require"],function(k,m){var l=document.createElement("div");k.add("dom-qsa2.1",!!l.querySelectorAll);k.add("dom-qsa3",function(){try{return l.innerHTML="<p class='TEST'></p>",1==l.querySelectorAll(".TEST:empty").length}catch(f){}});var i;return{load:function(f,e,h){var d=m,f="default"==f?k("config-selectorEngine")||"css3":f,f="css2"==f||"lite"==f?"./lite":"css2.1"==f?k("dom-qsa2.1")?"./lite":"./acme":"css3"==
f?k("dom-qsa3")?"./lite":"./acme":"acme"==f?"./acme":(d=e)&&f;if("?"==f.charAt(f.length-1))var f=f.substring(0,f.length-1),c=!0;if(c&&(k("dom-compliant-qsa")||i))return h(i);d([f],function(a){"./lite"!=f&&(i=a);h(a)})}}})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(k,m,l){var m=m.NodeList,i=m.prototype;i.connect=m._adaptAsForEach(function(){return k.connect.apply(this,arguments)});i.coords=m._adaptAsMap(k.coords);m.events="blur,focus,change,click,error,keydown,keypress,keyup,load,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,submit".split(",");
l.forEach(m.events,function(f){var e="on"+f;i[e]=function(h,d){return this.connect(e,h,d)}});return k.NodeList=m})},"dojo/_base/html":function(){define("./kernel,../dom,../dom-style,../dom-attr,../dom-prop,../dom-class,../dom-construct,../dom-geometry".split(","),function(k,m,l,i,f,e,h,d){k.byId=m.byId;k.isDescendant=m.isDescendant;k.setSelectable=m.setSelectable;k.getAttr=i.get;k.setAttr=i.set;k.hasAttr=i.has;k.removeAttr=i.remove;k.getNodeProp=i.getNodeProp;k.attr=function(c,a,b){return 2==arguments.length?
i["string"==typeof a?"get":"set"](c,a):i.set(c,a,b)};k.hasClass=e.contains;k.addClass=e.add;k.removeClass=e.remove;k.toggleClass=e.toggle;k.replaceClass=e.replace;k._toDom=k.toDom=h.toDom;k.place=h.place;k.create=h.create;k.empty=function(c){h.empty(c)};k._destroyElement=k.destroy=function(c){h.destroy(c)};k._getPadExtents=k.getPadExtents=d.getPadExtents;k._getBorderExtents=k.getBorderExtents=d.getBorderExtents;k._getPadBorderExtents=k.getPadBorderExtents=d.getPadBorderExtents;k._getMarginExtents=
k.getMarginExtents=d.getMarginExtents;k._getMarginSize=k.getMarginSize=d.getMarginSize;k._getMarginBox=k.getMarginBox=d.getMarginBox;k.setMarginBox=d.setMarginBox;k._getContentBox=k.getContentBox=d.getContentBox;k.setContentSize=d.setContentSize;k._isBodyLtr=k.isBodyLtr=d.isBodyLtr;k._docScroll=k.docScroll=d.docScroll;k._getIeDocumentElementOffset=k.getIeDocumentElementOffset=d.getIeDocumentElementOffset;k._fixIeBiDiScrollLeft=k.fixIeBiDiScrollLeft=d.fixIeBiDiScrollLeft;k.position=d.position;k.marginBox=
function(c,a){return a?d.setMarginBox(c,a):d.getMarginBox(c)};k.contentBox=function(c,a){return a?d.setContentSize(c,a):d.getContentBox(c)};k.coords=function(c,a){k.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");var c=m.byId(c),b=l.getComputedStyle(c),b=d.getMarginBox(c,b),g=d.position(c,a);b.x=g.x;b.y=g.y;return b};k.getProp=f.get;k.setProp=f.set;k.prop=function(c,a,b){return 2==arguments.length?f["string"==typeof a?"get":"set"](c,a):f.set(c,a,b)};k.getStyle=l.get;k.setStyle=
l.set;k.getComputedStyle=l.getComputedStyle;k.__toPixelValue=k.toPixelValue=l.toPixelValue;k.style=function(c,a,b){switch(arguments.length){case 1:return l.get(c);case 2:return l["string"==typeof a?"get":"set"](c,a)}return l.set(c,a,b)};return k})},"dojo/dom-attr":function(){define("exports,./sniff,./_base/lang,./dom,./dom-style,./dom-prop".split(","),function(k,m,l,i,f,e){function h(a,b){var g=a.getAttributeNode&&a.getAttributeNode(b);return g&&g.specified}var d={innerHTML:1,className:1,htmlFor:m("ie"),
value:1},c={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};k.has=function(a,b){var g=b.toLowerCase();return d[e.names[g]||b]||h(i.byId(a),c[g]||b)};k.get=function(a,b){var a=i.byId(a),g=b.toLowerCase(),j=e.names[g]||b,o=a[j];if(d[j]&&"undefined"!=typeof o||"href"!=j&&("boolean"==typeof o||l.isFunction(o)))return o;g=c[g]||b;return h(a,g)?a.getAttribute(g):null};k.set=function(a,b,g){a=i.byId(a);if(2==arguments.length){for(var j in b)k.set(a,j,b[j]);return a}j=b.toLowerCase();
var o=e.names[j]||b,n=d[o];if("style"==o&&"string"!=typeof g)return f.set(a,g),a;if(n||"boolean"==typeof g||l.isFunction(g))return e.set(a,b,g);a.setAttribute(c[j]||b,g);return a};k.remove=function(a,b){i.byId(a).removeAttribute(c[b.toLowerCase()]||b)};k.getNodeProp=function(a,b){var a=i.byId(a),g=b.toLowerCase(),j=e.names[g]||b;if(j in a&&"href"!=j)return a[j];g=c[g]||b;return h(a,g)?a.getAttribute(g):null}})},"dojo/dom-prop":function(){define("exports,./_base/kernel,./sniff,./_base/lang,./dom,./dom-style,./dom-construct,./_base/connect".split(","),
function(k,m,l,i,f,e,h,d){var c={},a=0,b=m._scopeName+"attrid";k.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};k.get=function(a,b){var a=f.byId(a),c=b.toLowerCase();return a[k.names[c]||b]};k.set=function(g,j,o){g=f.byId(g);if(2==arguments.length&&"string"!=typeof j){for(var n in j)k.set(g,n,j[n]);return g}n=j.toLowerCase();n=k.names[n]||j;if("style"==n&&"string"!=typeof o)return e.set(g,
o),g;if("innerHTML"==n)return l("ie")&&g.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(h.empty(g),g.appendChild(h.toDom(o,g.ownerDocument))):g[n]=o,g;if(i.isFunction(o)){var p=g[b];p||(p=a++,g[b]=p);c[p]||(c[p]={});var r=c[p][n];if(r)d.disconnect(r);else try{delete g[n]}catch(q){}o?c[p][n]=d.connect(g,n,o):g[n]=null;return g}g[n]=o;return g}})},"dojo/dom-construct":function(){define("exports,./_base/kernel,./sniff,./_base/window,./dom,./dom-attr,./on".split(","),
function(k,m,l,i,f,e,h){function d(a,b){var j=b.parentNode;j&&j.insertBefore(a,b)}var c={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},a=/<\s*([\w\:]+)/,b={},g=0,j="__"+m._scopeName+"ToDomId",o;for(o in c)if(c.hasOwnProperty(o))m=c[o],m.pre="option"==o?'<select multiple="multiple">':"<"+m.join("><")+">",m.post="</"+
m.reverse().join("></")+">";var n=null,p;h(window,"unload",function(){n=null});k.toDom=function(d,n){var n=n||i.doc,p=n[j];p||(n[j]=p=++g+"",b[p]=n.createElement("div"));var d=d+"",o=d.match(a),e=o?o[1].toLowerCase():"",p=b[p];if(o&&c[e]){o=c[e];p.innerHTML=o.pre+d+o.post;for(o=o.length;o;--o)p=p.firstChild}else p.innerHTML=d;if(1==p.childNodes.length)return p.removeChild(p.firstChild);for(e=n.createDocumentFragment();o=p.firstChild;)e.appendChild(o);return e};k.place=function(a,b,j){b=f.byId(b);
"string"==typeof a&&(a=/^\s*</.test(a)?k.toDom(a,b.ownerDocument):f.byId(a));if("number"==typeof j){var g=b.childNodes;!g.length||g.length<=j?b.appendChild(a):d(a,g[0>j?0:j])}else switch(j){case "before":d(a,b);break;case "after":j=a;(g=b.parentNode)&&(g.lastChild==b?g.appendChild(j):g.insertBefore(j,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,b);break;case "only":k.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){d(a,b.firstChild);break}default:b.appendChild(a)}return a};
k.create=function(a,b,j,g){var c=i.doc;if(j)j=f.byId(j),c=j.ownerDocument;"string"==typeof a&&(a=c.createElement(a));b&&e.set(a,b);j&&k.place(a,j,g);return a};k.empty=l("ie")?function(a){for(var a=f.byId(a),b;b=a.lastChild;)k.destroy(b)}:function(a){f.byId(a).innerHTML=""};k.destroy=function(a){a=f.byId(a);try{var b=a.ownerDocument;if(!n||p!=b)n=b.createElement("div"),p=b;n.appendChild(a.parentNode?a.parentNode.removeChild(a):a);n.innerHTML=""}catch(j){}}})},"dojo/_base/connect":function(){define("./kernel,../on,../topic,../aspect,./event,../mouse,./sniff,./lang,../keys".split(","),
function(k,m,l,i,f,e,h,d){function c(a,b,j,g,c){g=d.hitch(j,g);if(!a||!a.addEventListener&&!a.attachEvent)return i.after(a||k.global,b,g,!0);"string"==typeof b&&"on"==b.substring(0,2)&&(b=b.substring(2));if(!a)a=k.global;if(!c)switch(b){case "keypress":b=o;break;case "mouseenter":b=e.enter;break;case "mouseleave":b=e.leave}return m(a,b,g,c)}function a(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}h.add("events-keypress-typed",function(){var a={charCode:0};
try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(b){}return 0==a.charCode&&!h("opera")});var b={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},g=h("mac")?"metaKey":"ctrlKey",j=function(b,j){var g=d.mixin({},b,j);a(g);g.preventDefault=function(){b.preventDefault()};g.stopPropagation=function(){b.stopPropagation()};return g},o;o=h("events-keypress-typed")?function(a,
g){var c=m(a,"keydown",function(a){var c=a.keyCode,d=13!=c&&32!=c&&(27!=c||!h("ie"))&&(48>c||90<c)&&(96>c||111<c)&&(186>c||192<c)&&(219>c||222<c)&&229!=c;if(d||a.ctrlKey){d=d?0:c;if(a.ctrlKey){if(3==c||13==c)return g.call(a.currentTarget,a);d=95<d&&106>d?d-48:!a.shiftKey&&65<=d&&90>=d?d+32:b[d]||d}c=j(a,{type:"keypress",faux:!0,charCode:d});g.call(a.currentTarget,c);if(h("ie"))try{a.keyCode=c.keyCode}catch(n){}}}),d=m(a,"keypress",function(a){var b=a.charCode,a=j(a,{charCode:32<=b?b:0,faux:!0});return g.call(this,
a)});return{remove:function(){c.remove();d.remove()}}}:h("opera")?function(a,b){return m(a,"keypress",function(a){var g=a.which;3==g&&(g=99);g=32>g&&!a.shiftKey?0:g;a.ctrlKey&&!a.shiftKey&&65<=g&&90>=g&&(g+=32);return b.call(this,j(a,{charCode:g}))})}:function(b,j){return m(b,"keypress",function(b){a(b);return j.call(this,b)})};var n={_keypress:o,connect:function(a,b,j,g,d){var n=arguments,o=[],e=0;o.push("string"==typeof n[0]?null:n[e++],n[e++]);var h=n[e+1];o.push("string"==typeof h||"function"==
typeof h?n[e++]:null,n[e++]);for(h=n.length;e<h;e++)o.push(n[e]);return c.apply(this,o)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,j){return l.subscribe(a,d.hitch(b,j))},publish:function(a,b){return l.publish.apply(l,[a].concat(b))},connectPublisher:function(a,b,j){var g=function(){n.publish(a,arguments)};return j?n.connect(b,j,g):n.connect(b,g)},isCopyKey:function(a){return a[g]}};n.unsubscribe=n.disconnect;d.mixin(k,n);return n})},"dojo/topic":function(){define(["./Evented"],
function(k){var m=new k;return{publish:function(k,i){return m.emit.apply(m,arguments)},subscribe:function(k,i){return m.on.apply(m,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(k,m){function l(){}var i=k.after;l.prototype={on:function(f,e){return m.parse(this,f,e,function(h,d){return i(h,"on"+d,e,!0)})},emit:function(f,e){var h=[this];h.push.apply(h,arguments);return m.emit.apply(m,h)}};return l})},"dojo/aspect":function(){define([],function(){function k(d,c,a,b){var g=
d[c],j="around"==c,o;if(j){var n=a(function(){return g.advice(this,arguments)});o={remove:function(){o.cancelled=!0},advice:function(a,b){return o.cancelled?g.advice(a,b):n.apply(a,b)}}}else o={remove:function(){var a=o.previous,b=o.next;if(!b&&!a)delete d[c];else if(a?a.next=b:d[c]=b,b)b.previous=a},id:i++,advice:a,receiveArguments:b};if(g&&!j)if("after"==c){for(a=g;a;)g=a,a=a.next;g.next=o;o.previous=g}else{if("before"==c)d[c]=o,o.next=g,g.previous=o}else d[c]=o;return o}function m(d){return function(c,
a,b,g){var j=c[a],o;if(!j||j.target!=c){c[a]=o=function(){for(var a=i,b=arguments,j=o.before;j;)b=j.advice.apply(this,b)||b,j=j.next;if(o.around)var g=o.around.advice(this,b);for(j=o.after;j&&j.id<a;){if(j.receiveArguments)var c=j.advice.apply(this,b),g=c===l?g:c;else g=j.advice.call(this,g,b);j=j.next}return g};if(j)o.around={advice:function(a,b){return j.apply(a,b)}};o.target=c}c=k(o||j,d,b,g);b=null;return c}}var l,i=0,f=m("after"),e=m("before"),h=m("around");return{before:e,around:h,after:f}})},
"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(k,m,l,i){if(m._fixEvent){var f=m._fixEvent;m._fixEvent=function(e,d){(e=f(e,d))&&i.normalizeEvent(e);return e}}var e={fix:function(e,d){return m._fixEvent?m._fixEvent(e,d):e},stop:function(e){l("dom-addeventlistener")||e&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e=e||window.event,e.cancelBubble=!0,m._preventDefault.call(e))}};k.fixEvent=e.fix;k.stopEvent=e.stop;return e})},"dojo/mouse":function(){define(["./_base/kernel",
"./on","./has","./dom","./_base/window"],function(k,m,l,i,f){function e(h,d){var c=function(a,b){return m(a,h,function(g){if(d)return d(g,b);if(!i.isDescendant(g.relatedTarget,a))return b.call(this,g)})};c.bubble=function(a){return e(h,function(b,g){var j=a(b.target),c=b.relatedTarget;if(j&&j!=(c&&1==c.nodeType&&a(c)))return g.call(j,b)})};return c}l.add("dom-quirks",f.doc&&"BackCompat"==f.doc.compatMode);l.add("events-mouseenter",f.doc&&"onmouseenter"in f.doc.createElement("div"));l.add("events-mousewheel",
f.doc&&"onmousewheel"in f.doc);f=l("dom-quirks")||!l("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,d){return e.button&d},isLeft:function(e){return e.button&1},isMiddle:function(e){return e.button&4},isRight:function(e){return e.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,d){return e.button==d},isLeft:function(e){return 0==e.button},isMiddle:function(e){return 1==e.button},isRight:function(e){return 2==e.button}};k.mouseButtons=f;k=l("events-mousewheel")?"mousewheel":
function(e,d){return m(e,"DOMMouseScroll",function(c){c.wheelDelta=-c.detail;d.call(this,c)})};return{_eventHandler:e,enter:e("mouseover"),leave:e("mouseout"),wheel:k,isLeft:f.isLeft,isMiddle:f.isMiddle,isRight:f.isRight}})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(k,m){return k.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:m("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,
RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,
RIGHT_DPAD:178,copyKey:m("mac")&&!m("air")?m("safari")?91:224:17}})},"dojo/NodeList-dom":function(){define("./_base/kernel,./query,./_base/array,./_base/lang,./dom-class,./dom-construct,./dom-geometry,./dom-attr,./dom-style".split(","),function(k,m,l,i,f,e,h,d,c){function a(a){return function(b,j,g){return 2==arguments.length?a["string"==typeof j?"get":"set"](b,j):a.set(b,j,g)}}var b=function(a){return 1==a.length&&"string"==typeof a[0]},g=function(a){var b=a.parentNode;b&&b.removeChild(a)},j=m.NodeList,
o=j._adaptWithCondition,n=j._adaptAsForEach,p=j._adaptAsMap;i.extend(j,{_normalize:function(a,b){var j=!0===a.parse;if("string"==typeof a.template)var g=a.templateFunc||k.string&&k.string.substitute,a=g?g(a.template,a):a;g=typeof a;"string"==g||"number"==g?(a=e.toDom(a,b&&b.ownerDocument),a=11==a.nodeType?i._toArray(a.childNodes):[a]):i.isArrayLike(a)?i.isArray(a)||(a=i._toArray(a)):a=[a];if(j)a._runParse=!0;return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,b,j,g){if(!(1!=
b.nodeType&&"only"==j))for(var c,d=a.length,n=d-1;0<=n;n--){var o=g?this._cloneNode(a[n]):a[n];if(a._runParse&&k.parser&&k.parser.parse){c||(c=b.ownerDocument.createElement("div"));c.appendChild(o);k.parser.parse(c);for(o=c.firstChild;c.firstChild;)c.removeChild(c.firstChild)}n==d-1?e.place(o,b,j):b.parentNode.insertBefore(o,b);b=o}},position:p(h.position),attr:o(a(d),b),style:o(a(c),b),addClass:n(f.add),removeClass:n(f.remove),toggleClass:n(f.toggle),replaceClass:n(f.replace),empty:n(e.empty),removeAttr:n(d.remove),
marginBox:p(h.getMarginBox),place:function(a,b){var j=m(a)[0];return this.forEach(function(a){e.place(a,j,b)})},orphan:function(a){return(a?m._filterResult(this,a):this).forEach(g)},adopt:function(a,b){return m(a).place(this[0],b)._stash(this)},query:function(a){if(!a)return this;var b=new j;this.map(function(j){m(a,j).forEach(function(a){void 0!==a&&b.push(a)})});return b._stash(this)},filter:function(a){var b=arguments,j=this,g=0;if("string"==typeof a){j=m._filterResult(this,b[0]);if(1==b.length)return j._stash(this);
g=1}return this._wrap(l.filter(j,b[g],b[g+1]),this)},addContent:function(a,b){for(var a=this._normalize(a,this[0]),j=0,g;g=this[j];j++)this._place(a,g,b,0<j);return this}});return j})},"dojox/html/metrics":function(){define("dojo/_base/kernel,dojo/_base/lang,dojo/_base/sniff,dojo/ready,dojo/_base/unload,dojo/_base/window,dojo/dom-geometry".split(","),function(k,m,l,i,f,e,h){var d=m.getObject("dojox.html.metrics",!0),c=m.getObject("dojox");d.getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,
"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0};if(l("ie"))e.doc.documentElement.style.fontSize="100%";var b=e.doc.createElement("div"),j=b.style;j.position="absolute";j.left="-100px";j.top="0";j.width="30px";j.height="1000em";j.borderWidth="0";j.margin="0";j.padding="0";j.outline="0";j.lineHeight="1";j.overflow="hidden";e.body().appendChild(b);for(var g in a)j.fontSize=g,a[g]=16*Math.round(12*b.offsetHeight/16)/12/1E3;e.body().removeChild(b);return a};
var a=null;d.getCachedFontMeasurements=function(b){if(b||!a)a=d.getFontMeasurements();return a};var b=null,g={};d.getTextBox=function(a,j,c){var d,o;if(b)d=b;else{d=b=e.doc.createElement("div");var f=e.doc.createElement("div");f.appendChild(d);o=f.style;o.overflow="scroll";o.position="absolute";o.left="0px";o.top="-10000px";o.width="1px";o.height="1px";o.visibility="hidden";o.borderWidth="0";o.margin="0";o.padding="0";o.outline="0";e.body().appendChild(f)}d.className="";o=d.style;o.borderWidth="0";
o.margin="0";o.padding="0";o.outline="0";if(1<arguments.length&&j)for(var i in j)i in g||(o[i]=j[i]);if(2<arguments.length&&c)d.className=c;d.innerHTML=a;o=h.position(d);o.w=d.parentNode.scrollWidth;return o};var j=16,o=16;d.getScrollbar=function(){return{w:j,h:o}};d._fontResizeNode=null;d.initOnFontResize=function(){var a=d._fontResizeNode=e.doc.createElement("iframe"),b=a.style;b.position="absolute";b.width="5em";b.height="10em";b.top="-10000px";b.display="none";l("ie")?a.onreadystatechange=function(){if("complete"==
a.contentWindow.document.readyState)a.onresize=a.contentWindow.parent[c._scopeName].html.metrics._fontresize}:a.onload=function(){a.contentWindow.onresize=a.contentWindow.parent[c._scopeName].html.metrics._fontresize};a.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}<\/script></head><body></body></html>'");e.body().appendChild(a);d.initOnFontResize=function(){}};d.onFontResize=function(){};d._fontresize=function(){d.onFontResize()};
f.addOnUnload(function(){var a=d._fontResizeNode;if(a){if(l("ie")&&a.onresize)a.onresize=null;else if(a.contentWindow&&a.contentWindow.onresize)a.contentWindow.onresize=null;d._fontResizeNode=null}});i(function(){try{var a=e.doc.createElement("div");a.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";e.body().appendChild(a);j=a.offsetWidth-a.clientWidth;o=a.offsetHeight-a.clientHeight;e.body().removeChild(a);delete a}catch(b){}"fontSizeWatch"in
k.config&&k.config.fontSizeWatch&&d.initOnFontResize()});return d})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(k,m,l){var i=window,f={addOnWindowUnload:function(e,h){if(!k.windowUnloaded)l(i,"unload",k.windowUnloaded=function(){});l(i,"unload",m.hitch(e,h))},addOnUnload:function(e,h){l(i,"beforeunload",m.hitch(e,h))}};k.addOnWindowUnload=f.addOnWindowUnload;k.addOnUnload=f.addOnUnload;return f})},"dijit/_WidgetBase":function(){define("require,dojo/_base/array,dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/ready,dojo/Stateful,dojo/topic,dojo/_base/window,./Destroyable,./registry".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p,r,q,t,w,u,s){function y(a){return function(b){d[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}j.add("dijit-legacy-requires",!o.isAsync);j("dijit-legacy-requires")&&r(0,function(){k(["dijit/_base/manager"])});var v={};return e("dijit._WidgetBase",[q,u],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:y("lang"),dir:"",_setDirAttr:y("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,
domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:i.blankGif||k.toUrl("dojo/resources/blank.gif"),postscript:function(a,b){this.create(a,b)},create:function(a,b){this.srcNodeRef=h.byId(b);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&"string"==typeof this.srcNodeRef.id)this.id=this.srcNodeRef.id;if(a)this.params=a,n.mixin(this,a);this.postMixInProperties();if(!this.id)this.id=s.getUniqueId(this.declaredClass.replace(/\./g,
"_")),this.params&&delete this.params.id;this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:w.doc);this.ownerDocumentBody=w.body(this.ownerDocument);s.add(this);this.buildRendering();var j;if(this.domNode){this._applyAttributes();var g=this.srcNodeRef;g&&g.parentNode&&this.domNode!==g&&(g.parentNode.replaceChild(this.domNode,g),j=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();j&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a=
this.constructor,b=a._setterAttrs;if(!b){var b=a._setterAttrs=[],j;for(j in this.attributeMap)b.push(j);var a=a.prototype,g;for(g in a)g in this.attributeMap||"_set"+g.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()})+"Attr"in a&&b.push(g)}m.forEach(b,function(a){this.params&&a in this.params||this[a]&&this.set(a,this[a])},this);for(var c in this.params)this.set(c,this.params[c])},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode)this.domNode=
this.srcNodeRef||this.ownerDocument.createElement("div");if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(m.map(a,function(a){return a+"Rtl"})));c.add(this.domNode,a)}},postCreate:function(){},startup:function(){if(!this._started)this._started=!0,m.forEach(this.getChildren(),function(a){if(!a._started&&!a._destroyed&&n.isFunction(a.startup))a.startup(),a._started=!0})},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},
destroy:function(a){function b(j){j.destroyRecursive?j.destroyRecursive(a):j.destroy&&j.destroy(a)}this._beingDestroyed=!0;this.uninitialize();m.forEach(this._connects,n.hitch(this,"disconnect"));m.forEach(this._supportingWidgets,b);m.forEach(s.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);s.remove(this.id);this._destroyed=!0},destroyRendering:function(b){this.bgIframe&&(this.bgIframe.destroy(b),delete this.bgIframe);this.domNode&&(b?d.remove(this.domNode,"widgetId"):a.destroy(this.domNode),
delete this.domNode);this.srcNodeRef&&(b||a.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){m.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;n.isObject(a)?g.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,b,j){j=3<=arguments.length?j:this.attributeMap[a];m.forEach(n.isArray(j)?j:[j],function(j){var g=
this[j.node||j||"domNode"];switch(j.type||"attribute"){case "attribute":n.isFunction(b)&&(b=n.hitch(this,b));j=j.attribute?j.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;g.tagName?d.set(g,j,b):g.set(j,b);break;case "innerText":g.innerHTML="";g.appendChild(this.ownerDocument.createTextNode(b));break;case "innerHTML":g.innerHTML=b;break;case "class":c.replace(g,b,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this[a]},set:function(a,b){if("object"===
typeof a){for(var j in a)this.set(j,a[j]);return this}j=this._getAttrNames(a);var g=this[j.s];if(n.isFunction(g))var c=g.apply(this,Array.prototype.slice.call(arguments,1));else{var g=this.focusNode&&!n.isFunction(this.focusNode)?"focusNode":"domNode",d=this[g].tagName,o;if(!(o=v[d])){o=this[g];var p={},e;for(e in o)p[e.toLowerCase()]=!0;o=v[d]=p}e=a in this.attributeMap?this.attributeMap[a]:j.s in this?this[j.s]:j.l in o&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?g:null;null!=e&&this._attrToDom(a,
b,e);this._set(a,b)}return c||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var j=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+j+"Attr",g:"_get"+j+"Attr",l:j.toLowerCase()}},_set:function(a,b){var j=this[a];this[a]=b;this._created&&b!==j&&(this._watchCallbacks&&this._watchCallbacks(a,j,b),this.emit("attrmodified-"+a,{detail:{prevValue:j,newValue:b}}))},emit:function(a,b,j){b=
b||{};if(void 0===b.bubbles)b.bubbles=!0;if(void 0===b.cancelable)b.cancelable=!0;if(!b.detail)b.detail={};b.detail.widget=this;var g,c=this["on"+a];c&&(g=c.apply(this,j?j:b));this._started&&!this._beingDestroyed&&p.emit(this.domNode,a.toLowerCase(),b);return g},on:function(a,b){var j=this._onMap(a);return j?l.after(this,j,b,!0):this.own(p(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,j=b._onMap;if(!j){var j=b._onMap={},g;for(g in b.prototype)/^on/.test(g)&&(j[g.replace(/^on/,"").toLowerCase()]=
g)}return j["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?s.findWidgets(this.containerNode):[]},getParent:function(){return s.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,j){return this.own(f.connect(a,b,this,j))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(t.subscribe(a,n.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},
isLeftToRight:function(){return this.dir?"ltr"==this.dir:b.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=g.get(this.domNode,"display")},placeAt:function(b,j){var g=!b.tagName&&s.byId(b);g&&g.addChild&&(!j||"number"===typeof j)?g.addChild(this,j):(g=g?g.containerNode&&!/after|before|replace/.test(j||"")?g.containerNode:g.domNode:h.byId(b,this.ownerDocument),a.place(this.domNode,g,j),!this._started&&(this.getParent()||{})._started&&this.startup());return this},getTextDir:function(a,
b){return b},applyTextDir:function(){},defer:function(a,b){var j=setTimeout(n.hitch(this,function(){j=null;this._destroyed||n.hitch(this,a)()}),b||0);return{remove:function(){j&&(clearTimeout(j),j=null);return null}}}})})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","dojo/when"],function(k,m,l,i){return k("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(f){var e=this._attrPairNames;return e[f]?e[f]:e[f]={s:"_"+f+"Setter",g:"_"+f+"Getter"}},postscript:function(f){f&&
this.set(f)},_get:function(f,e){return"function"===typeof this[e.g]?this[e.g]():this[f]},get:function(f){return this._get(f,this._getAttrNames(f))},set:function(f,e){if("object"===typeof f){for(var h in f)f.hasOwnProperty(h)&&"_watchCallbacks"!=h&&this.set(h,f[h]);return this}h=this._getAttrNames(f);var d=this._get(f,h);h=this[h.s];var c;"function"===typeof h?c=h.apply(this,Array.prototype.slice.call(arguments,1)):this[f]=e;if(this._watchCallbacks){var a=this;i(c,function(){a._watchCallbacks(f,d,
e)})}return this},_changeAttrValue:function(f,e){var h=this.get(f);this[f]=e;this._watchCallbacks&&this._watchCallbacks(f,h,e);return this},watch:function(f,e){var h=this._watchCallbacks;if(!h)var d=this,h=this._watchCallbacks=function(a,g,j,c){var n=function(c){if(c)for(var c=c.slice(),o=0,n=c.length;o<n;o++)c[o].call(d,a,g,j)};n(h["_"+a]);c||n(h["*"])};!e&&"function"===typeof f?(e=f,f="*"):f="_"+f;var c=h[f];"object"!==typeof c&&(c=h[f]=[]);c.push(e);var a={};a.unwatch=a.remove=function(){var a=
l.indexOf(c,e);-1<a&&c.splice(a,1)};return a}})})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(k,m){return function(l,i,f,e){var h=l&&"function"===typeof l.then,d=h&&l instanceof m;if(h){if(!d)h=new k(l.cancel),l.then(h.resolve,h.reject,h.progress),l=h.promise}else return i?i(l):(new k).resolve(l);return i||f||e?l.then(i,f,e):l}})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(k,
m,l,i,f){var e=Object.freeze||function(){},h=function(a,j,c,n,p){2===j&&b.instrumentRejected&&0===a.length&&b.instrumentRejected(c,!1,n,p);for(p=0;p<a.length;p++)d(a[p],j,c,n)},d=function(g,j,d,n){var p=g[j],e=g.deferred;if(p)try{var h=p(d);if(h&&"function"===typeof h.then){g.cancel=h.cancel;h.then(c(e,1),c(e,2),c(e,0));return}a(e,1,h)}catch(f){a(e,2,f)}else a(e,j,d);2===j&&b.instrumentRejected&&b.instrumentRejected(d,!!p,n,e.promise)},c=function(b,j){return function(c){a(b,j,c)}},a=function(a,b,
c){if(!a.isCanceled())switch(b){case 0:a.progress(c);break;case 1:a.resolve(c);break;case 2:a.reject(c)}},b=function(a){var j=this.promise=new i,c=this,n,p,r,f=!1,t=[];Error.captureStackTrace&&(Error.captureStackTrace(c,b),Error.captureStackTrace(j,b));this.isResolved=j.isResolved=function(){return 1===n};this.isRejected=j.isRejected=function(){return 2===n};this.isFulfilled=j.isFulfilled=function(){return!!n};this.isCanceled=j.isCanceled=function(){return f};this.progress=function(a,b){if(n){if(!0===
b)throw Error("This deferred has already been fulfilled.");return j}h(t,0,a,null,c);return j};this.resolve=function(a,b){if(n){if(!0===b)throw Error("This deferred has already been fulfilled.");return j}h(t,n=1,p=a,null,c);t=null;return j};var k=this.reject=function(a,b){if(n){if(!0===b)throw Error("This deferred has already been fulfilled.");return j}Error.captureStackTrace&&Error.captureStackTrace(r={},k);h(t,n=2,p=a,r,c);t=null;return j};this.then=j.then=function(a,g,c){var o=[c,a,g];o.cancel=
j.cancel;o.deferred=new b(function(a){return o.cancel&&o.cancel(a)});n&&!t?d(o,n,p,r):t.push(o);return o.deferred.promise};this.cancel=j.cancel=function(b,j){if(n){if(!0===j)throw Error("This deferred has already been fulfilled.");}else{if(a)var c=a(b),b="undefined"===typeof c?b:c;f=!0;if(n){if(2===n&&p===b)return b}else return"undefined"===typeof b&&(b=new l),k(b),b}};e(j)};b.prototype.toString=function(){return"[object Deferred]"};f&&f(b);return b})},"dojo/errors/CancelError":function(){define(["./create"],
function(k){return k("CancelError",null,null,{dojoType:"cancel"})})},"dojo/errors/create":function(){define(["../_base/lang"],function(k){return function(m,l,i,f){var i=i||Error,e=function(h){if(i===Error){Error.captureStackTrace&&Error.captureStackTrace(this,e);var d=Error.call(this,h),c;for(c in d)d.hasOwnProperty(c)&&(this[c]=d[c]);this.message=h;this.stack=d.stack}else i.apply(this,arguments);l&&l.apply(this,arguments)};e.prototype=k.delegate(i.prototype,f);e.prototype.name=m;return e.prototype.constructor=
e}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(k){function m(){throw new TypeError("abstract");}return k.extend(function(){},{then:function(){m()},cancel:function(){m()},isResolved:function(){m()},isRejected:function(){m()},isFulfilled:function(){m()},isCanceled:function(){m()},always:function(k){return this.then(k,k)},otherwise:function(k){return this.then(null,k)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},
"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(k,m,l,i){function f(a,b,c){var d="";a&&a.stack&&(d+=a.stack);b&&b.stack&&(d+="\n    ----------------------------------------\n    rejected"+b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));c&&c.stack&&(d+="\n    ----------------------------------------\n"+c.stack);console.error(a,d)}function e(a,b,c,d){b||f(a,c,d)}function h(g,j,o,n){j?i.some(c,function(a,b){if(a.error===g)return c.splice(b,
1),!0}):i.some(c,function(a){return a.error===g})||c.push({error:g,rejection:o,deferred:n,timestamp:(new Date).getTime()});a||(a=setTimeout(d,b))}function d(){var g=(new Date).getTime(),j=g-b;c=i.filter(c,function(a){return a.timestamp<j?(f(a.error,a.rejection,a.deferred),!1):!0});c.length&&(a=setTimeout(d,c[0].timestamp+b-g))}var c=[],a=!1,b=1E3;return function(a){var j=m("config-useDeferredInstrumentation");if(j){k.on("resolved",l.hitch(console,"log","resolved"));k.on("rejected",l.hitch(console,
"log","rejected"));k.on("progress",l.hitch(console,"log","progress"));var c=[];"string"===typeof j&&(c=j.split(","),j=c.shift());if("report-rejections"===j)a.instrumentRejected=e;else if("report-unhandled-rejections"===j||!0===j||1===j)a.instrumentRejected=h,b=parseInt(c[0],10)||b;else throw Error("Unsupported instrumentation usage <"+j+">");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(k,m,l){function i(h){setTimeout(function(){e.apply(f,h)},0)}
var f=new l,e=f.emit;f.emit=null;m.prototype.trace=function(){var e=k._toArray(arguments);this.then(function(d){i(["resolved",d].concat(e))},function(d){i(["rejected",d].concat(e))},function(d){i(["progress",d].concat(e))});return this};m.prototype.traceRejected=function(){var e=k._toArray(arguments);this.otherwise(function(d){i(["rejected",d].concat(e))});return this};return f})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(k,m,l){return l("dijit.Destroyable",
null,{destroy:function(){this._destroyed=!0},own:function(){k.forEach(arguments,function(i){var f="destroyRecursive"in i?"destroyRecursive":"destroy"in i?"destroy":"remove";i._odh=m.before(this,"destroy",function(e){i._odh.remove();i[f](e)});m.after(i,f,function(){i._odh.remove()})},this);return arguments}})})},"dijit/registry":function(){define(["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],function(k,m,l,i,f){var e={},h={},d={length:0,add:function(c){if(h[c.id])throw Error("Tried to register widget with id=="+
c.id+" but that id is already registered");h[c.id]=c;this.length++},remove:function(c){h[c]&&(delete h[c],this.length--)},byId:function(c){return"string"==typeof c?h[c]:c},byNode:function(c){return h[c.getAttribute("widgetId")]},toArray:function(){var c=[],a;for(a in h)c.push(h[a]);return c},getUniqueId:function(c){var a;do a=c+"_"+(c in e?++e[c]:e[c]=0);while(h[a]);return"dijit"==f._scopeName?a:f._scopeName+"_"+a},findWidgets:function(c,a){function b(j){for(j=j.firstChild;j;j=j.nextSibling)if(1==
j.nodeType){var c=j.getAttribute("widgetId");c?(c=h[c])&&g.push(c):j!==a&&b(j)}}var g=[];b(c);return g},_destroyAll:function(){f._curFocus=null;f._prevFocus=null;f._activeStack=[];k.forEach(d.findWidgets(i.body()),function(c){c._destroyed||(c.destroyRecursive?c.destroyRecursive():c.destroy&&c.destroy())})},getEnclosingWidget:function(c){for(;c;){var a=c.getAttribute&&c.getAttribute("widgetId");if(a)return h[a];c=c.parentNode}return null},_hash:h};return f.registry=d})},"dijit/main":function(){define(["dojo/_base/kernel"],
function(k){return k.dijit})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(k,m,l,i){i.extend(m,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return l("dijit._FocusMixin",null,{_focusManager:k})})},"dijit/focus":function(){define("dojo/aspect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/Evented,dojo/_base/lang,dojo/on,dojo/ready,dojo/sniff,dojo/Stateful,dojo/_base/unload,dojo/_base/window,dojo/window,./a11y,./registry,./main".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p,r){var q=new (m([b,e],{curNode:null,activeStack:[],constructor:function(){var a=h.hitch(this,function(a){l.isDescendant(this.curNode,a)&&this.set("curNode",null);l.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});k.before(f,"empty",a);k.before(f,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(b,j){var g=this,c=function(b){g._justMouseDowned=!0;setTimeout(function(){g._justMouseDowned=!1},0);
if(!a("ie")||!b||!(b.srcElement&&null==b.srcElement.parentNode))g._onTouchNode(j||b.target||b.srcElement,"mouse")},d=a("ie")?b.document.documentElement:b.document;if(d){if(a("ie")){b.document.body.attachEvent("onmousedown",c);var o=function(a){var b=a.srcElement.tagName.toLowerCase();"#document"==b||"body"==b||(n.isTabNavigable(a.srcElement)?g._onFocusNode(j||a.srcElement):g._onTouchNode(j||a.srcElement))};d.attachEvent("onfocusin",o);var p=function(a){g._onBlurNode(j||a.srcElement)};d.attachEvent("onfocusout",
p);return{remove:function(){b.document.detachEvent("onmousedown",c);d.detachEvent("onfocusin",o);d.detachEvent("onfocusout",p);d=null}}}d.body.addEventListener("mousedown",c,!0);d.body.addEventListener("touchstart",c,!0);var e=function(a){g._onFocusNode(j||a.target)};d.addEventListener("focus",e,!0);var r=function(a){g._onBlurNode(j||a.target)};d.addEventListener("blur",r,!0);return{remove:function(){d.body.removeEventListener("mousedown",c,!0);d.body.removeEventListener("touchstart",c,!0);d.removeEventListener("focus",
e,!0);d.removeEventListener("blur",r,!0);d=null}}}},_onBlurNode:function(){this._clearFocusTimer&&clearTimeout(this._clearFocusTimer);this._clearFocusTimer=setTimeout(h.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0);if(!this._justMouseDowned)this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),this._clearActiveWidgetsTimer=setTimeout(h.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)},_onTouchNode:function(a,
b){this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);var g=[];try{for(;a;){var c=i.get(a,"dijitPopupParent");if(c)a=p.byId(c).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===j.body())break;a=o.get(a.ownerDocument).frameElement}else{var d=a.getAttribute&&a.getAttribute("widgetId"),n=d&&p.byId(d);n&&!("mouse"==b&&n.get("disabled"))&&g.unshift(d);a=a.parentNode}}}catch(e){}this._setStack(g,b)},_onFocusNode:function(a){a&&
9!=a.nodeType&&(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var j=this.activeStack;this.set("activeStack",a);for(var g=0;g<Math.min(j.length,a.length)&&!(j[g]!=a[g]);g++);for(var c,d=j.length-1;d>=g;d--)if(c=p.byId(j[d]))c._hasBeenBlurred=!0,c.set("focused",!1),c._focusManager==this&&c._onBlur(b),this.emit("widget-blur",c,b);for(d=
g;d<a.length;d++)if(c=p.byId(a[d]))c.set("focused",!0),c._focusManager==this&&c._onFocus(b),this.emit("widget-focus",c,b)},focus:function(a){if(a)try{a.focus()}catch(b){}}}));c(function(){var b=q.registerWin(o.get(j.doc));a("ie")&&g.addOnWindowUnload(function(){b&&(b.remove(),b=null)})});r.focus=function(a){q.focus(a)};for(var t in q)/^_/.test(t)||(r.focus[t]="function"==typeof q[t]?h.hitch(q,t):q[t]);q.watch(function(a,b,j){r.focus[a]=j});return q})},"dojo/window":function(){define("./_base/lang,./sniff,./_base/window,./dom,./dom-geometry,./dom-style".split(","),
function(k,m,l,i,f,e){var h={getBox:function(d){var d=d||l.doc,c="BackCompat"==d.compatMode?l.body(d):d.documentElement,a=f.docScroll(d);if(m("touch"))var b=h.get(d),d=b.innerWidth||c.clientWidth,c=b.innerHeight||c.clientHeight;else d=c.clientWidth,c=c.clientHeight;return{l:a.x,t:a.y,w:d,h:c}},get:function(d){if(m("ie")&&h!==document.parentWindow){d.parentWindow.execScript("document._parentWindow = window;","Javascript");var c=d._parentWindow;d._parentWindow=null;return c}return d.parentWindow||d.defaultView},
scrollIntoView:function(d,c){try{var d=i.byId(d),a=d.ownerDocument||l.doc,b=l.body(a),g=a.documentElement||b.parentNode,j=m("ie"),o=m("webkit");if((!m("mozilla")&&!j&&!o&&!m("opera")||d==b||d==g)&&"undefined"!=typeof d.scrollIntoView)d.scrollIntoView(!1);else{var n="BackCompat"==a.compatMode,p=9<=j&&"frameElement"in d.ownerDocument.parentWindow?0<g.clientHeight&&0<g.clientWidth&&(0==b.clientHeight||0==b.clientWidth||b.clientHeight>g.clientHeight||b.clientWidth>g.clientWidth)?g:b:n?b:g,o=o?b:p,r=p.clientWidth,
h=p.clientHeight,t=!f.isBodyLtr(a),k=c||f.position(d),u=d.parentNode,a=function(a){return 6>=j||j&&n?!1:"fixed"==e.get(a,"position").toLowerCase()};if(!a(d))for(;u;){u==b&&(u=o);var s=f.position(u),y=a(u);if(u==o){s.w=r;s.h=h;o==g&&j&&t&&(s.x+=o.offsetWidth-s.w);if(0>s.x||!j)s.x=0;if(0>s.y||!j)s.y=0}else{var v=f.getPadBorderExtents(u);s.w-=v.w;s.h-=v.h;s.x+=v.l;s.y+=v.t;var x=u.clientWidth,B=s.w-x;if(0<x&&0<B)s.w=x,s.x+=t&&(j||u.clientLeft>v.l)?B:0;x=u.clientHeight;B=s.h-x;if(0<x&&0<B)s.h=x}if(y){if(0>
s.y)s.h+=s.y,s.y=0;if(0>s.x)s.w+=s.x,s.x=0;if(s.y+s.h>h)s.h=h-s.y;if(s.x+s.w>r)s.w=r-s.x}var D=k.x-s.x,z=k.y-Math.max(s.y,0),G=D+k.w-s.w,A=z+k.h-s.h;if(0<G*D){var E=Math[0>D?"max":"min"](D,G);if(t&&(8==j&&!n||9<=j))E=-E;k.x+=u.scrollLeft;u.scrollLeft+=E;k.x-=u.scrollLeft}0<A*z&&(k.y+=u.scrollTop,u.scrollTop+=Math[0>z?"max":"min"](z,A),k.y-=u.scrollTop);u=u!=o&&!y&&u.parentNode}}}catch(C){console.error("scrollIntoView: "+C),d.scrollIntoView(!1)}}};k.setObject("dojo.window",h);return h})},"dijit/a11y":function(){define("dojo/_base/array,dojo/_base/config,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-style,dojo/sniff,./main".split(","),
function(k,m,l,i,f,e,h,d){var c=d._isElementShown=function(a){var g=e.get(a);return"hidden"!=g.visibility&&"collapsed"!=g.visibility&&"none"!=g.display&&"hidden"!=f.get(a,"type")};d.hasDefaultTabStop=function(a){switch(a.nodeName.toLowerCase()){case "a":return f.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var g;try{var j=a.contentDocument;if("designMode"in j&&"on"==j.designMode)return!0;g=j.body}catch(c){try{g=a.contentWindow.document.body}catch(d){return!1}}return g&&
("true"==g.contentEditable||g.firstChild&&"true"==g.firstChild.contentEditable);default:return"true"==a.contentEditable}};var a=d.isTabNavigable=function(a){return f.get(a,"disabled")?!1:f.has(a,"tabIndex")?0<=f.get(a,"tabIndex"):d.hasDefaultTabStop(a)};d._getTabNavigable=function(b){function g(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}var j,d,n,p,e,q,i={},k=function(b){for(b=b.firstChild;b;b=b.nextSibling)if(!(1!=b.nodeType||
h("ie")&&"HTML"!==b.scopeName||!c(b))){if(a(b)){var l=+f.get(b,"tabIndex");if(!f.has(b,"tabIndex")||0==l)j||(j=b),d=b;else if(0<l){if(!n||l<p)p=l,n=b;if(!e||l>=q)q=l,e=b}l=g(b);f.get(b,"checked")&&l&&(i[l]=b)}"SELECT"!=b.nodeName.toUpperCase()&&k(b)}};c(b)&&k(b);return{first:i[g(j)]||j,last:i[g(d)]||d,lowest:i[g(n)]||n,highest:i[g(e)]||e}};d.getFirstInTabbingOrder=function(a,g){var j=d._getTabNavigable(i.byId(a,g));return j.lowest?j.lowest:j.first};d.getLastInTabbingOrder=function(a,g){var j=d._getTabNavigable(i.byId(a,
g));return j.last?j.last:j.highest};return{hasDefaultTabStop:d.hasDefaultTabStop,isTabNavigable:d.isTabNavigable,_getTabNavigable:d._getTabNavigable,getFirstInTabbingOrder:d.getFirstInTabbingOrder,getLastInTabbingOrder:d.getLastInTabbingOrder}})},"dijit/_TemplatedMixin":function(){define("dojo/_base/lang,dojo/touch,./_WidgetBase,dojo/string,dojo/cache,dojo/_base/array,dojo/_base/declare,dojo/dom-construct,dojo/sniff,dojo/_base/unload".split(","),function(k,m,l,i,f,e,h,d,c,a){var b=h("dijit._TemplatedMixin",
null,{templateString:null,templatePath:null,_skipNodeCache:!1,_earlyTemplatedStartup:!1,constructor:function(){this._attachPoints=[];this._attachEvents=[]},_stringRepl:function(a){var b=this.declaredClass,c=this;return i.substitute(a,this,function(a,g){"!"==g.charAt(0)&&(a=k.getObject(g.substr(1),!1,c));if("undefined"==typeof a)throw Error(b+" template:"+g);return null==a?"":"!"==g.charAt(0)?a:a.toString().replace(/"/g,"&quot;")},this)},buildRendering:function(){if(!this.templateString)this.templateString=
f(this.templatePath,{sanitize:!0});var a=b.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),j;if(k.isString(a)){if(j=d.toDom(this._stringRepl(a),this.ownerDocument),1!=j.nodeType)throw Error("Invalid template: "+a);}else j=a.cloneNode(!0);this.domNode=j;this.inherited(arguments);this._attachTemplateNodes(j,function(a,b){return a.getAttribute(b)});this._beforeFillContent();this._fillContent(this.srcNodeRef)},_beforeFillContent:function(){},_fillContent:function(a){var b=
this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)},_attachTemplateNodes:function(a,b){for(var c=k.isArray(a)?a:a.all||a.getElementsByTagName("*"),d=k.isArray(a)?0:-1;0>d||c[d];d++){var p=-1==d?a:c[d];if(!this.widgetsInTemplate||!b(p,"dojoType")&&!b(p,"data-dojo-type")){var e=b(p,"dojoAttachPoint")||b(p,"data-dojo-attach-point");if(e)for(var h=e.split(/\s*,\s*/);e=h.shift();)k.isArray(this[e])?this[e].push(p):this[e]=p,this._attachPoints.push(e);if(e=b(p,"dojoAttachEvent")||
b(p,"data-dojo-attach-event"))for(var h=e.split(/\s*,\s*/),f=k.trim;e=h.shift();)if(e){var i=null;-1!=e.indexOf(":")?(i=e.split(":"),e=f(i[0]),i=f(i[1])):e=f(e);i||(i=e);this._attachEvents.push(this.connect(p,m[e]||e,i))}}}},destroyRendering:function(){e.forEach(this._attachPoints,function(a){delete this[a]},this);this._attachPoints=[];e.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments)}});b._templateCache={};b.getCachedTemplate=function(a,j,c){var n=
b._templateCache,p=a,e=n[p];if(e){try{if(!e.ownerDocument||e.ownerDocument==(c||document))return e}catch(h){}d.destroy(e)}a=i.trim(a);if(j||a.match(/\$\{([^\}]+)\}/g))return n[p]=a;j=d.toDom(a,c);if(1!=j.nodeType)throw Error("Invalid template: "+a);return n[p]=j};c("ie")&&a.addOnWindowUnload(function(){var a=b._templateCache,j;for(j in a){var c=a[j];"object"==typeof c&&d.destroy(c);delete a[j]}});k.extend(l,{dojoAttachEvent:"",dojoAttachPoint:""});return b})},"dojo/touch":function(){define("./_base/kernel,./_base/lang,./aspect,./dom,./on,./has,./mouse,./ready,./_base/window".split(","),
function(k,m,l,i,f,e,h,d,c){function a(a){return function(b,j){return f(b,a,j)}}var l=e("touch"),b=!1;e("ios")&&(e=navigator.userAgent.match(/OS ([\d_]+)/)?RegExp.$1:"1",b=5>parseFloat(e.replace(/_/,".").replace(/_/g,"")));var g,j;l&&(d(function(){j=c.body();c.doc.addEventListener("touchstart",function(a){var b=j;j=a.target;f.emit(b,"dojotouchout",{target:b,relatedTarget:j,bubbles:!0});f.emit(j,"dojotouchover",{target:j,relatedTarget:b,bubbles:!0})},!0);f(c.doc,"touchmove",function(a){if((a=c.doc.elementFromPoint(a.pageX-
(b?0:c.global.pageXOffset),a.pageY-(b?0:c.global.pageYOffset)))&&j!==a)f.emit(j,"dojotouchout",{target:j,relatedTarget:a,bubbles:!0}),f.emit(a,"dojotouchover",{target:a,relatedTarget:j,bubbles:!0}),j=a})}),g=function(a,b){return f(c.doc,"touchmove",function(g){(a===c.doc||i.isDescendant(j,a))&&b.call(this,m.mixin({},g,{target:j}))})});h={press:a(l?"touchstart":"mousedown"),move:l?g:a("mousemove"),release:a(l?"touchend":"mouseup"),cancel:l?a("touchcancel"):h.leave,over:a(l?"dojotouchover":"mouseover"),
out:a(l?"dojotouchout":"mouseout"),enter:h._eventHandler(l?"dojotouchover":"mouseover"),leave:h._eventHandler(l?"dojotouchout":"mouseout")};return k.touch=h})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(k,m){var l={};m.setObject("dojo.string",l);l.rep=function(i,f){if(0>=f||!i)return"";for(var e=[];;){f&1&&e.push(i);if(!(f>>=1))break;i+=i}return e.join("")};l.pad=function(i,f,e,h){e||(e="0");i=""+i;f=l.rep(e,Math.ceil((f-i.length)/e.length));return h?i+f:f+i};l.substitute=
function(i,f,e,h){h=h||k.global;e=e?m.hitch(h,e):function(d){return d};return i.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(d,c,a){d=m.getObject(c,!1,f);a&&(d=m.getObject(a,!1,h).call(h,d,c));return e(d,c).toString()})};l.trim=String.prototype.trim?m.trim:function(i){for(var i=i.replace(/^\s+/,""),f=i.length-1;0<=f;f--)if(/\S/.test(i.charAt(f))){i=i.substring(0,f+1);break}return i};return l})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(k){return k.cache})},"dojo/text":function(){define(["./_base/kernel",
"require","./has","./_base/xhr"],function(k,m,l,i){var f;f=function(a,b,g){i("GET",{url:a,sync:!!b,load:g,headers:k.config.textPluginHeaders||{}})};var e={},h=function(a){if(a){var a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,""),b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},d={},c={};k.cache=function(a,b,g){var j;"string"==typeof a?/\//.test(a)?(j=a,g=b):j=m.toUrl(a.replace(/\./g,"/")+(b?"/"+b:"")):(j=a+"",g=b);a=void 0!=g&&"string"!=
typeof g?g.value:g;g=g&&g.sanitize;if("string"==typeof a)return e[j]=a,g?h(a):a;if(null===a)return delete e[j],null;j in e||f(j,!0,function(a){e[j]=a});return g?h(e[j]):e[j]};return{dynamic:!0,normalize:function(a,b){var g=a.split("!"),j=g[0];return(/^\./.test(j)?b(j):j)+(g[1]?"!"+g[1]:"")},load:function(a,b,g){var a=a.split("!"),j=1<a.length,o=a[0],n=b.toUrl(a[0]),a="url:"+n,p=d,r=function(a){g(j?h(a):a)};o in e?p=e[o]:a in b.cache?p=b.cache[a]:n in e&&(p=e[n]);if(p===d)if(c[n])c[n].push(r);else{var i=
c[n]=[r];f(n,!b.async,function(a){e[o]=e[n]=a;for(var b=0;b<i.length;)i[b++](a);delete c[n]})}else r(p)}}})},"dojo/_base/xhr":function(){define("./kernel,./sniff,require,../io-query,../dom,../dom-form,./Deferred,./config,./json,./lang,./array,../on,../aspect,../request/watch,../request/xhr,../request/util".split(","),function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p){k._xhrObj=n._create;var r=k.config;k.objectToQuery=i.objectToQuery;k.queryToObject=i.queryToObject;k.fieldToObject=e.fieldToObject;k.formToObject=
e.toObject;k.formToQuery=e.toQuery;k.formToJson=e.toJson;k._blockAsync=!1;var q=k._contentHandlers=k.contentHandlers={text:function(a){return a.responseText},json:function(a){return c.fromJson(a.responseText||null)},"json-comment-filtered":function(a){d.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}&&\nUse djConfig.useCommentedJson=true to turn off this message.");
var a=a.responseText,b=a.indexOf("/*"),j=a.lastIndexOf("*/");if(-1==b||-1==j)throw Error("JSON was not comment filtered");return c.fromJson(a.substring(b+2,j))},javascript:function(a){return k.eval(a.responseText)},xml:function(a){var j=a.responseXML;if(m("ie")&&(!j||!j.documentElement)){var g=function(a){return"MSXML"+a+".DOMDocument"},g=["Microsoft.XMLDOM",g(6),g(4),g(3),g(2)];b.some(g,function(b){try{var g=new ActiveXObject(b);g.async=!1;g.loadXML(a.responseText);j=g}catch(c){return!1}return!0})}return j},
"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?q["json-comment-filtered"](a):q.json(a)}};k._ioSetArgs=function(b,j,g,c){var d={args:b,url:b.url},n=null;if(b.form){var n=f.byId(b.form),o=n.getAttributeNode("action");d.url=d.url||(o?o.value:null);n=e.toObject(n)}o=[{}];n&&o.push(n);b.content&&o.push(b.content);b.preventCache&&o.push({"dojo.preventCache":(new Date).valueOf()});d.query=i.objectToQuery(a.mixin.apply(null,o));d.handleAs=b.handleAs||"text";
var p=new h(function(a){a.canceled=!0;j&&j(a);var b=a.ioArgs.error;if(!b)b=Error("request cancelled"),b.dojoType="cancel",a.ioArgs.error=b;return b});p.addCallback(g);var q=b.load;q&&a.isFunction(q)&&p.addCallback(function(a){return q.call(b,a,d)});var t=b.error;t&&a.isFunction(t)&&p.addErrback(function(a){return t.call(b,a,d)});var l=b.handle;l&&a.isFunction(l)&&p.addBoth(function(a){return l.call(b,a,d)});p.addErrback(function(a){return c(a,p)});r.ioPublish&&k.publish&&!1!==d.args.ioPublish&&(p.addCallbacks(function(a){k.publish("/dojo/io/load",
[p,a]);return a},function(a){k.publish("/dojo/io/error",[p,a]);return a}),p.addBoth(function(a){k.publish("/dojo/io/done",[p,a]);return a}));p.ioArgs=d;return p};var t=function(a){a=q[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},w=function(a,b){b.ioArgs.args.failOk||console.error(a);return a},u=function(a){0>=s&&(s=0,r.ioPublish&&k.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish)&&k.publish("/dojo/io/stop"))},s=0;j.after(o,"_onAction",function(){s-=1});j.after(o,"_onInFlight",u);k._ioCancelAll=
o.cancelAll;k._ioNotifyStart=function(a){r.ioPublish&&k.publish&&!1!==a.ioArgs.args.ioPublish&&(s||k.publish("/dojo/io/start"),s+=1,k.publish("/dojo/io/send",[a]))};k._ioWatch=function(b,j,g,c){b.ioArgs.options=b.ioArgs.args;a.mixin(b,{response:b.ioArgs,isValid:function(){return j(b)},isReady:function(){return g(b)},handleResponse:function(){return c(b)}});o(b);u(b)};k._ioAddQueryToUrl=function(a){if(a.query.length)a.url+=(-1==a.url.indexOf("?")?"?":"&")+a.query,a.query=null};k.xhr=function(a,b,j){var g,
c=k._ioSetArgs(b,function(){g&&g.cancel()},t,w),d=c.ioArgs;"postData"in b?d.query=b.postData:"putData"in b?d.query=b.putData:"rawBody"in b?d.query=b.rawBody:(2<arguments.length&&!j||-1==="POST|PUT".indexOf(a.toUpperCase()))&&k._ioAddQueryToUrl(d);var o={method:a,handleAs:"text",timeout:b.timeout,withCredentials:b.withCredentials,ioArgs:d};if("undefined"!==typeof b.headers)o.headers=b.headers;if("undefined"!==typeof b.contentType){if(!o.headers)o.headers={};o.headers["Content-Type"]=b.contentType}if("undefined"!==
typeof d.query)o.data=d.query;if("undefined"!==typeof b.sync)o.sync=b.sync;k._ioNotifyStart(c);try{g=n(d.url,o,!0)}catch(p){return c.cancel(),c}c.ioArgs.xhr=g.response.xhr;g.then(function(){c.resolve(c)}).otherwise(function(a){d.error=a;c.reject(a)});return c};k.xhrGet=function(a){return k.xhr("GET",a)};k.rawXhrPost=k.xhrPost=function(a){return k.xhr("POST",a,!0)};k.rawXhrPut=k.xhrPut=function(a){return k.xhr("PUT",a,!0)};k.xhrDelete=function(a){return k.xhr("DELETE",a)};k._isDocumentOk=function(a){return p.checkStatus(a.status)};
k._getText=function(a){var b;k.xhrGet({url:a,sync:!0,load:function(a){b=a}});return b};a.mixin(k.xhr,{_xhrObj:k._xhrObj,fieldToObject:e.fieldToObject,formToObject:e.toObject,objectToQuery:i.objectToQuery,formToQuery:e.toQuery,formToJson:e.toJson,queryToObject:i.queryToObject,contentHandlers:q,_ioSetArgs:k._ioSetArgs,_ioCancelAll:k._ioCancelAll,_ioNotifyStart:k._ioNotifyStart,_ioWatch:k._ioWatch,_ioAddQueryToUrl:k._ioAddQueryToUrl,_isDocumentOk:k._isDocumentOk,_getText:k._getText,get:k.xhrGet,post:k.xhrPost,
put:k.xhrPut,del:k.xhrDelete});return k.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(k){var m={};return{objectToQuery:function(l){var i=encodeURIComponent,f=[],e;for(e in l){var h=l[e];if(h!=m[e]){var d=i(e)+"=";if(k.isArray(h))for(var c=0,a=h.length;c<a;++c)f.push(d+i(h[c]));else f.push(d+i(h))}}return f.join("&")},queryToObject:function(l){for(var i=decodeURIComponent,l=l.split("&"),f={},e,h,d=0,c=l.length;d<c;++d)if(h=l[d],h.length){var a=h.indexOf("=");0>a?(e=i(h),h=""):
(e=i(h.slice(0,a)),h=i(h.slice(a+1)));"string"==typeof f[e]&&(f[e]=[f[e]]);k.isArray(f[e])?f[e].push(h):f[e]=h}return f}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(k,m,l,i){var f={fieldToObject:function(e){var h=null;if(e=m.byId(e)){var d=e.name,c=(e.type||"").toLowerCase();if(d&&c&&!e.disabled)if("radio"==c||"checkbox"==c){if(e.checked)h=e.value}else if(e.multiple){h=[];for(e=[e.firstChild];e.length;)for(d=e.pop();d;d=d.nextSibling)if(1==d.nodeType&&
"option"==d.tagName.toLowerCase())d.selected&&h.push(d.value);else{d.nextSibling&&e.push(d.nextSibling);d.firstChild&&e.push(d.firstChild);break}}else h=e.value}return h},toObject:function(e){for(var h={},e=m.byId(e).elements,d=0,c=e.length;d<c;++d){var a=e[d],b=a.name,g=(a.type||"").toLowerCase();if(b&&g&&0>"file|submit|image|reset|button".indexOf(g)&&!a.disabled){var j=h,o=b,a=f.fieldToObject(a);if(null!==a){var n=j[o];"string"==typeof n?j[o]=[n,a]:k.isArray(n)?n.push(a):j[o]=a}if("image"==g)h[b+
".x"]=h[b+".y"]=h[b].x=h[b].y=0}}return h},toQuery:function(e){return l.objectToQuery(f.toObject(e))},toJson:function(e,h){return i.stringify(f.toObject(e),null,h?4:0)}};return f})},"dojo/json":function(){define(["./has"],function(k){var m="undefined"!=typeof JSON;k.add("json-parse",m);k.add("json-stringify",m&&'{"a":1}'==JSON.stringify({a:0},function(i,f){return f||1}));if(k("json-stringify"))return JSON;var l=function(i){return('"'+i.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,
"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:k("json-parse")?JSON.parse:function(i,f){if(f&&!/^([\s\[\{]*(?:"(?:\\.|[^"])+"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(i))throw new SyntaxError("Invalid characters in JSON");return eval("("+i+")")},stringify:function(i,f,e){function h(c,a,b){f&&(c=f(b,c));var g;g=typeof c;if("number"==g)return isFinite(c)?c+"":"null";if("boolean"==g)return c+"";if(null===c)return"null";if("string"==
typeof c)return l(c);if("function"==g||"undefined"==g)return d;if("function"==typeof c.toJSON)return h(c.toJSON(b),a,b);if(c instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,b,j){a=c["getUTC"+b]()+(j?1:0);return 10>a?"0"+a:a});if(c.valueOf()!==c)return h(c.valueOf(),a,b);var j=e?a+e:"",o=e?" ":"",n=e?"\n":"";if(c instanceof Array){for(var o=c.length,p=[],b=0;b<o;b++)g=h(c[b],j,b),"string"!=typeof g&&(g="null"),p.push(n+j+g);return"["+
p.join(",")+n+a+"]"}p=[];for(b in c){var r;if(c.hasOwnProperty(b)){if("number"==typeof b)r='"'+b+'"';else if("string"==typeof b)r=l(b);else continue;g=h(c[b],j,b);"string"==typeof g&&p.push(n+j+r+":"+o+g)}}return"{"+p.join(",")+n+a+"}"}var d;"string"==typeof f&&(e=f,f=null);return h(i,"","")}}})},"dojo/_base/Deferred":function(){define("./kernel,../Deferred,../promise/Promise,../errors/CancelError,../has,./lang,../when".split(","),function(k,m,l,i,f,e,h){var d=function(){},c=Object.freeze||function(){},
a=k.Deferred=function(b){function g(a){if(n)throw Error("This deferred has already been resolved");o=a;n=!0;j()}function j(){for(var a;!a&&q;){var b=q;q=q.next;if(a=b.progress==d)n=!1;var j=p?b.error:b.resolved;f("config-useDeferredInstrumentation")&&p&&m.instrumentRejected&&m.instrumentRejected(o,!!j);if(j)try{var g=j(o);g&&"function"===typeof g.then?g.then(e.hitch(b.deferred,"resolve"),e.hitch(b.deferred,"reject"),e.hitch(b.deferred,"progress")):(j=a&&void 0===g,a&&!j&&(p=g instanceof Error),b.deferred[j&&
p?"reject":"resolve"](j?o:g))}catch(c){b.deferred.reject(c)}else p?b.deferred.reject(o):b.deferred.resolve(o)}}var o,n,p,h,q,t=this.promise=new l;this.resolve=this.callback=function(a){this.fired=0;this.results=[a,null];g(a)};this.reject=this.errback=function(a){p=!0;this.fired=1;f("config-useDeferredInstrumentation")&&m.instrumentRejected&&m.instrumentRejected(a,!!q);g(a);this.results=[null,a]};this.progress=function(a){for(var b=q;b;){var j=b.progress;j&&j(a);b=b.next}};this.addCallbacks=function(a,
b){this.then(a,b,d);return this};t.then=this.then=function(b,g,c){var o=c==d?this:new a(t.cancel),b={resolved:b,error:g,progress:c,deferred:o};q?h=h.next=b:q=h=b;n&&j();return o.promise};var k=this;t.cancel=this.cancel=function(){if(!n){var a=b&&b(k);if(!n)a instanceof Error||(a=new i(a)),a.log=!1,k.reject(a)}};c(t)};e.extend(a,{addCallback:function(a){return this.addCallbacks(e.hitch.apply(k,arguments))},addErrback:function(a){return this.addCallbacks(null,e.hitch.apply(k,arguments))},addBoth:function(a){var g=
e.hitch.apply(k,arguments);return this.addCallbacks(g,g)},fired:-1});a.when=k.when=h;return a})},"dojo/_base/json":function(){define(["./kernel","../json"],function(k,m){k.fromJson=function(k){return eval("("+k+")")};k._escapeString=m.stringify;k.toJsonIndentStr="\t";k.toJson=function(l,i){return m.stringify(l,function(f,e){if(e){var h=e.__json__||e.json;if("function"==typeof h)return h.call(e)}return e},i&&k.toJsonIndentStr)};return k})},"dojo/request/watch":function(){define("./util,../errors/RequestTimeoutError,../errors/CancelError,../_base/array,../_base/window,../has!host-browser?dom-addeventlistener?:../on:".split(","),
function(k,m,l,i,f,e){function h(){for(var b=+new Date,g=0,j;g<a.length&&(j=a[g]);g++){var o=j.response,n=o.options;if(j.isCanceled&&j.isCanceled()||j.isValid&&!j.isValid(o))a.splice(g--,1),d._onAction&&d._onAction();else if(j.isReady&&j.isReady(o))a.splice(g--,1),j.handleResponse(o),d._onAction&&d._onAction();else if(j.startTime&&j.startTime+(n.timeout||0)<b)a.splice(g--,1),j.cancel(new m(o)),d._onAction&&d._onAction()}d._onInFlight&&d._onInFlight(j);a.length||(clearInterval(c),c=null)}function d(b){if(b.response.options.timeout)b.startTime=
+new Date;b.isFulfilled()||(a.push(b),c||(c=setInterval(h,50)),b.response.options.sync&&h())}var c=null,a=[];d.cancelAll=function(){try{i.forEach(a,function(a){try{a.cancel(new l("All requests canceled."))}catch(b){}})}catch(b){}};f&&e&&f.doc.attachEvent&&e(f.global,"unload",function(){d.cancelAll()});return d})},"dojo/request/util":function(){define("exports,../errors/RequestError,../errors/CancelError,../Deferred,../io-query,../_base/array,../_base/lang".split(","),function(k,m,l,i,f,e,h){function d(a){return c(a)}
k.deepCopy=function(a,b){for(var g in b){var j=a[g],c=b[g];j!==c&&(j&&"object"===typeof j&&c&&"object"===typeof c?k.deepCopy(j,c):a[g]=c)}return a};k.deepCreate=function(a,b){var b=b||{},g=h.delegate(a),j,c;for(j in a)(c=a[j])&&"object"===typeof c&&(g[j]=k.deepCreate(c,b[j]));return k.deepCopy(g,b)};var c=Object.freeze||function(a){return a};k.deferred=function(a,b,g,j,o,n){var p=new i(function(j){b&&b(p,a);return!j||!(j instanceof m)&&!(j instanceof l)?new l("Request canceled",a):j});p.response=
a;p.isValid=g;p.isReady=j;p.handleResponse=o;g=p.then(d).otherwise(function(b){b.response=a;throw b;});k.notify&&g.then(h.hitch(k.notify,"emit","load"),h.hitch(k.notify,"emit","error"));j=g.then(function(a){return a.data||a.text});g=c(h.delegate(j,{response:g}));n&&p.then(function(a){n.call(p,a)},function(b){n.call(p,a,b)});p.promise=g;p.then=g.then;return p};k.addCommonMethods=function(a,b){e.forEach(b||["GET","POST","PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(j,
c){c=h.delegate(c||{});c.method=b;return a(j,c)}})};k.parseArgs=function(a,b,g){var j=b.data,c=b.query;if(j&&!g&&"object"===typeof j)b.data=f.objectToQuery(j);c?("object"===typeof c&&(c=f.objectToQuery(c)),b.preventCache&&(c+=(c?"&":"")+"request.preventCache="+ +new Date)):b.preventCache&&(c="request.preventCache="+ +new Date);a&&c&&(a+=(~a.indexOf("?")?"&":"?")+c);return{url:a,options:b,getHeader:function(){return null}}};k.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||
!a}})},"dojo/errors/RequestError":function(){define(["./create"],function(k){return k("RequestError",function(k,l){this.response=l})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(k,m){return k("RequestTimeoutError",null,m,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(k,m,l,i,f){function e(a,b){var j=a.xhr;a.status=a.xhr.status;a.text=j.responseText;if("xml"===
a.options.handleAs)a.data=j.responseXML;if(!b)try{l(a)}catch(c){b=c}b?this.reject(b):i.checkStatus(j.status)?this.resolve(a):(b=new k("Unable to load "+a.url+" status: "+j.status,a),this.reject(b))}function h(n,o,q){var t=i.parseArgs(n,i.deepCreate(j,o),f("native-formdata")&&o&&o.data&&o.data instanceof FormData),n=t.url,o=t.options,l,u=i.deferred(t,b,d,c,e,function(){l&&l()}),s=t.xhr=h._create();if(!s)return u.cancel(new k("XHR was not created")),q?u:u.promise;t.getHeader=function(a){return this.xhr.getResponseHeader(a)};
a&&(l=a(s,u,t));var y=o.data,v=!o.sync,x=o.method;try{s.open(x,n,v,o.user||g,o.password||g);if(o.withCredentials)s.withCredentials=o.withCredentials;var B=o.headers,D;if(B)for(var z in B)"content-type"===z.toLowerCase()?D=B[z]:B[z]&&s.setRequestHeader(z,B[z]);D&&!1!==D&&s.setRequestHeader("Content-Type",D);(!B||!("X-Requested-With"in B))&&s.setRequestHeader("X-Requested-With","XMLHttpRequest");i.notify&&i.notify.emit("send",t,u.promise.cancel);s.send(y)}catch(G){u.reject(G)}m(u);s=null;return q?u:
u.promise}f.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});f.add("dojo-force-activex-xhr",function(){return f("activex")&&!document.addEventListener&&"file:"===window.location.protocol});f.add("native-xhr2",function(){if(f("native-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});f.add("native-formdata",function(){return"function"===typeof FormData});var d,c,a,b;f("native-xhr2")?(d=
function(){return!this.isFulfilled()},b=function(a,b){b.xhr.abort()},a=function(a,b,j){function c(){b.handleResponse(j)}function g(a){a=new k("Unable to load "+j.url+" status: "+a.target.status,j);b.handleResponse(j,a)}function d(a){if(a.lengthComputable)j.loaded=a.loaded,j.total=a.total,b.progress(j)}a.addEventListener("load",c,!1);a.addEventListener("error",g,!1);a.addEventListener("progress",d,!1);return function(){a.removeEventListener("load",c,!1);a.removeEventListener("error",g,!1);a.removeEventListener("progress",
d,!1)}}):(d=function(a){return a.xhr.readyState},c=function(a){return 4===a.xhr.readyState},b=function(a,b){var j=b.xhr,c=typeof j.abort;("function"===c||"object"===c||"unknown"===c)&&j.abort()});var g,j={data:null,query:null,sync:!1,method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}};h._create=function(){throw Error("XMLHTTP not available");};if(f("native-xhr")&&!f("dojo-force-activex-xhr"))h._create=function(){return new XMLHttpRequest};else if(f("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),
h._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(o){try{new ActiveXObject("Microsoft.XMLHTTP"),h._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(n){}}i.addCommonMethods(h);return h})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has"],function(k,m,l,i){function f(c){var a=d[c.options.handleAs];c.data=a?a(c):c.data||c.text;return c}i.add("activex","undefined"!==typeof ActiveXObject);var e;if(i("activex")){var h=
["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];e=function(c){var a=c.data;if(!a||!a.documentElement){var b=c.text;l.some(h,function(c){try{var j=new ActiveXObject(c);j.async=!1;j.loadXML(b);a=j}catch(d){return!1}return!0})}return a}}var d={javascript:function(c){return m.eval(c.text||"")},json:function(c){return k.parse(c.text||null)},xml:e};f.register=function(c,a){d[c]=a};return f})},"url:gridx/templates/Grid.html":'<div class="gridx" role="grid" tabindex="0" aria-readonly="true"\r\n\t><div class="gridxHeader" role="presentation" data-dojo-attach-point="headerNode"></div\r\n\t><div class="gridxMain" role="presentation" data-dojo-attach-point="mainNode"\r\n\t\t><div class="gridxBodyEmpty" role="alert" tabindex="-1" data-dojo-attach-point="emptyNode"></div\r\n\t\t><div class="gridxBody" role="presentation" data-dojo-attach-point="bodyNode"></div\r\n\t\t><div class="gridxVScroller" data-dojo-attach-point="vScrollerNode" tabindex="-1"\r\n\t\t\t><div style=\'width: 1px;\'></div\r\n\t\t></div\r\n\t></div\r\n\t><div class="gridxFooter" data-dojo-attach-point="footerNode"\r\n\t\t><div class="gridxHScroller"\r\n\t\t\t><div class="gridxHScrollerInner" data-dojo-attach-point="hScrollerNode" tabindex="-1"\r\n\t\t\t\t><div style="width:1px; height: 1px;"></div\r\n\t\t\t></div\r\n\t\t></div\r\n\t></div\r\n\t><span data-dojo-attach-point="lastFocusNode" tabindex="0"></span\r\n></div>\r\n',
"gridx/core/Core":function(){define("require,dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/_base/Deferred,dojo/DeferredList,./model/Model,./Row,./Column,./Cell,./_Module".split(","),function(k,m,l,i,f,e,h,d,c,a,b){function g(a){a=a.moduleClass.prototype;return(a.forced||[]).concat(a.optional||[])}function j(a,b){if(b)for(var c in b){var g=a[c],d=b[c];g&&i.isObject(g)&&!r(g)?j(g,d):a[c]=d}}function o(a,b){var j=[],c=b&&b.length||0;w(a.modules,function(a,b){if(r(a)||q(a))a={moduleClass:a};
if(a){var g=a.moduleClass;if(q(g))try{g=a.moduleClass=k(g)}catch(d){console.error(d)}if(r(g)){j.push(a);return}}console.error(["The ",b+1-c,"-th declared module can NOT be found, please require it before using it"].join(""))});a.modules=j;return a}function n(a){var b,j={},c=[];w(a.modules,function(a){j[a.moduleClass.prototype.name]=a});for(b in j)c.push(j[b]);a.modules=c;return a}var p=i.delegate,r=i.isFunction,q=i.isString,t=i.hitch,w=l.forEach;return m([],{_reset:function(a){var j=this._deferStartup=
new f,c={},d;for(d in a)c[d]=a[d];a=c;this.store=a.store;a.modules=a.modules||[];a.modelExtensions=a.modelExtensions||[];this.setColumns(a.structure);a.columns=this._columnsById;d=o(a,this.coreModules);var a=b._modules,c=d.modules,p,e,r,q,k,l,m;for(p=0;p<c.length;++p){q=c[p].moduleClass.prototype;k=(q.forced||[]).concat(q.required||[]);for(e=0;e<k.length;++e){l=k[e];for(r=c.length-1;0<=r&&!(c[r].moduleClass.prototype.name===l);--r);0>r&&(a[l]?c.push({moduleClass:a[l]}):(m=1,console.error(["Forced/Required dependent module '",
l,"' is NOT found for '",q.name,"' module."].join(""))))}}if(m)throw Error("Some forced/required dependent modules are NOT found.");m=n(d);d=m.modules;for(a=d.length-1;e=d[a];--a){c=e.moduleClass.prototype.name;for(p=g(e);p.length;){e=p.shift();if(e==c)throw Error("Module '"+e+"' is in a dependancy circle!");a:{for(r=d.length-1;0<=r;--r)if(d[r].moduleClass.prototype.name==e){e=d[r];break a}e=null}e&&(p=p.concat(g(e)))}}d=m.modules;for(a=d.length-1;0<=a;--a)(c=d[a].moduleClass.prototype.modelExtensions)&&
[].push.apply(m.modelExtensions,c);a=m;this.model=new h(a);this.when=i.hitch(this.model,this.model.when);this._create(a);this._preload();this._load(j).then(t(this,"onModulesLoaded"))},onModulesLoaded:function(){},setStore:function(a){if(this.store!=a)this.store=a,this.model.setStore(a)},setColumns:function(a){this.structure=a;var a=this._columns=i.clone(a),b={},j,c,g;if(i.isArray(a))for(c=0,g=a.length;c<g;++c)j=a[c],j.index=c,j.id=j.id||""+(c+1),b[j.id]=j;this._columnsById=b;if(this.model)this.model._cache.onSetColumns(this._columnsById)},
row:function(a,b,j){"number"==typeof a&&!b&&(a=this.model.indexToId(a,j));return this.model.byId(a)?(this._rowObj=this._rowObj||this._mixin(new d(this),"row"),p(this._rowObj,{id:a})):null},column:function(a,b){var s;var j,g,d={};"number"==typeof a&&!b&&(s=(j=this._columns[a])&&j.id,a=s);if(j=this._columnsById[a]){this._colObj=this._colObj||this._mixin(new c(this),"column");for(g in j)void 0===this._colObj[g]&&(d[g]=j[g]);return p(this._colObj,d)}return null},cell:function(b,j,g,n){if(b=b instanceof
d?b:this.row(b,g,n))if(j=j instanceof c?j:this.column(j,g))return this._cellObj=this._cellObj||this._mixin(new a(this),"cell"),p(this._cellObj,{row:b,column:j});return null},columnCount:function(){return this._columns.length},rowCount:function(a){return this.model.size(a)},columns:function(a,b){return this._arr(this._columns.length,"column",a,b)},rows:function(a,b,j){return this._arr(this.rowCount(j),"row",a,b,j)},_uninit:function(){var a=this._modules,b;for(b in a){b=a[b].mod;if(b.getAPIPath){var j=
b.getAPIPath();if(j){var c=void 0;for(c in j)delete this[c]}}b.destroy()}this.model&&this.model.destroy()},_arr:function(a,b,j,c,g){for(var d=j||0,j=0<=c?j+c:a,c=[];d<j&&d<a;++d)c.push(this[b](d,0,g));for(var n in l)r(l[n])&&(c[n]=i.partial(l[n],c));return c},_preload:function(){var a,b=this._modules;for(a in b)a=b[a],a.mod.preload&&a.mod.preload(a.args)},_load:function(a){var b=[],j;for(j in this._modules)b.push(this._initMod(a,j));return new e(b,0,1)},_mixin:function(a,b){var j,c,g=this._modules;
for(j in g)j=g[j].mod,c=j[b+"Mixin"],r(c)&&(c=c.apply(j)),i.mixin(a,c||{});return a},_create:function(a){var b=this,c=b._modules={};w(a.modules,function(a){var d;d=a.moduleClass.prototype.name;c[d]||(c[d]={args:a,mod:d=new a.moduleClass(b,a),deps:g(a)},d.getAPIPath&&j(b,d.getAPIPath()))})},_initMod:function(a,b){var j=this._modules,c=j[b],g=c.mod,d=g.loaded;if(!c.done)c.done=1,(new e(l.map(l.filter(c.deps,function(a){return j[a]}),t(this,this._initMod,a)),0,1)).then(function(){g.load?g.load(c.args,
a):0>d.fired&&d.callback()});return d}})})},"dojo/DeferredList":function(){define(["./_base/kernel","./_base/Deferred","./_base/array"],function(k,m,l){k.DeferredList=function(i,f,e,h){var d=[];m.call(this);var c=this;0===i.length&&!f&&this.resolve([0,[]]);var a=0;l.forEach(i,function(b,g){function j(b,j){d[g]=[b,j];a++;a===i.length&&c.resolve(d)}b.then(function(a){f?c.resolve([g,a]):j(!0,a)},function(a){e?c.reject(a):j(!1,a);if(h)return null;throw a;})})};k.DeferredList.prototype=new m;k.DeferredList.prototype.gatherResults=
function(i){i=new k.DeferredList(i,!1,!0,!1);i.addCallback(function(f){var e=[];l.forEach(f,function(h){e.push(h[1])});return e});return i};return k.DeferredList})},"gridx/core/model/Model":function(){define("require,dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/_base/Deferred,dojo/DeferredList,dojo/aspect".split(","),function(k,m,l,i,f,e,h){var d=i.isArrayLike,c=i.isString;return m([],{constructor:function(a){var b=a.cacheClass,b="string"==typeof b?k(b):b;this.store=a.store;this._exts=
{};this._cmdQueue=[];this._model=this._cache=new b(this,a);this._createExts(a.modelExtensions||[],a);a=this._model;this._cnnts=[h.after(a,"onDelete",i.hitch(this,"onDelete"),1),h.after(a,"onNew",i.hitch(this,"onNew"),1),h.after(a,"onSet",i.hitch(this,"onSet"),1)]},destroy:function(){l.forEach(this._cnnts,function(a){a.remove()});for(var a in this._exts)this._exts[a].destroy()},clearCache:function(){this._cache.clear()},isId:function(a){return a||0===a},setStore:function(a){this.store=a;this._cache.setStore(a)},
when:function(a,b,c){this._oldSize=this.size();this._addCmd({name:"_cmdRequest",scope:this,args:arguments,async:1});return this._exec()},scan:function(a,b){var c=new f,j=a.start||0,d=a.pageSize||this._cache.pageSize||1,n=a.count,p=0<n?j+n:Infinity,e=a.whenScope||this,h=a.whenFunc||e.when,i=function(a){c.progress(a/(0<n?a+n:e.size()));h.call(e,{id:[],range:[{start:a,count:d}]},function(){var j,c,g=[];for(j=a;j<a+d&&j<p;++j)if(c=e.byIndex(j))g.push(c);else{p=-1;break}if(b(g,a)||j==p)p=-1}).then(function(){-1==
p?c.callback():i(a+d)})};i(j);return c},onDelete:function(){},onNew:function(){},onSet:function(){},onSizeChange:function(){},_msg:function(){},_addCmd:function(a){var b=this._cmdQueue,c=b[b.length-1];c&&c.name==a.name&&c.scope==a.scope?c.args.push(a.args||[]):(a.args=[a.args||[]],b.push(a))},_onSizeChange:function(){var a=this._oldSize,b=this._oldSize=this.size();if(a!=b)this.onSizeChange(b,a)},_execEvents:function(a,b){this._onSizeChange();b&&b.call(a)},_cmdRequest:function(){var a=this;return new e(l.map(arguments,
function(b){var c=b[0],j=i.hitch(a,a._execEvents,b[2],b[1]);return null===c||!b.length?(b=new f,j(),b.callback(),b):a._model._call("when",[a._normArgs(c),j])}),0,1)},_exec:function(){var a=this,b=a._cache,c=new f,j=a._cmdQueue,d=function(j,c){a._busy=0;b.skipCacheSizeCheck=0;b._checkSize&&b._checkSize();c?j.errback(c):j.callback()},n=function(){if(l.some(j,function(a){return"_cmdRequest"==a.name}))try{for(;j.length;){var a=j.shift(),b=a.scope[a.name].apply(a.scope,a.args);if(a.async){f.when(b,n,i.partial(d,
c));return}}}catch(e){d(c,e);return}d(c)};if(a._busy)return a._busy;a._busy=c;b.skipCacheSizeCheck=1;n();return c},_createExts:function(a,b){a=l.filter(a,function(a){return(a="string"==typeof a?k(a):a)&&a.prototype});a.sort(function(a,b){return a.prototype.priority-b.prototype.priority});for(var c=0,j=a.length;c<j;++c)if(c==a.length-1||a[c]!=a[c+1]){var d=new a[c](this,b);this._exts[d.name]=d}},_normArgs:function(a){var b,g=[],j=[],o={range:g,id:j},n=function(a){return"number"==typeof a&&0<=a},e=
function(a){if(a&&n(a.start))g.push(a);else if(n(a))g.push({start:a,count:1});else if(d(a))for(b=a.length-1;0<=b;--b)n(a[b])?g.push({start:a[b],count:1}):a[b]&&n(a[b].start)?g.push(a[b]):c(a)&&j.push(a[b]);else c(a)&&j.push(a)};if(a&&(a.index||a.range||a.id))if(e(a.index),e(a.range),d(a.id))for(b=a.id.length-1;0<=b;--b)j.push(a.id[b]);else this.isId(a.id)&&j.push(a.id);else e(a);!g.length&&!j.length&&0>this.size()&&g.push({start:0,count:this._cache.pageSize||1});return o}})})},"gridx/core/Row":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/_base/Deferred"],function(k,m,l){return k([],{constructor:function(i,f){this.grid=i;this.model=i.model;this.id=f},index:function(){return this.model.idToIndex(this.id)},parent:function(){return this.grid.row(this.model.treePath(this.id).pop(),1)},cell:function(i,f){return this.grid.cell(this,i,f)},cells:function(i,f){for(var e=this.grid,h=[],d=e._columns,c=d.length,a=i||0,b=0<=f?i+f:c;a<b&&a<c;++a)h.push(e.cell(this.id,d[a].id,1));return h},data:function(){return this.model.byId(this.id).data},
rawData:function(){return this.model.byId(this.id).rawData},item:function(){return this.model.byId(this.id).item},setRawData:function(i){var f=this.grid.store,e=this.item(),h,d;if(f.setValue){d=new l;try{for(h in i)f.setValue(e,h,i[h]);f.save({onComplete:m.hitch(d,d.callback),onError:m.hitch(d,d.errback)})}catch(c){d.errback(c)}}return d||l.when(f.put(m.mixin(m.clone(e),i)))}})})},"gridx/core/Column":function(){define(["dojo/_base/declare"],function(k){return k([],{constructor:function(k,l){this.grid=
k;this.model=k.model;this.id=l},index:function(){var k=this.def();return k?k.index:-1},def:function(){return this.grid._columnsById[this.id]},cell:function(k,l,i){return this.grid.cell(k,this,l,i)},cells:function(k,l,i){for(var f=this.grid,e=[],h=f.rowCount(i),d=k||0,k=0<=l?k+l:h;d<k&&d<h;++d)e.push(f.cell(d,this,0,i));return e},name:function(){return this.def().name||""},setName:function(k){this.def().name=k;return this},field:function(){return this.def().field||null},getWidth:function(){return this.def().width}})})},
"gridx/core/Cell":function(){define(["dojo/_base/declare"],function(k){return k([],{constructor:function(k,l,i){this.grid=k;this.model=k.model;this.row=l;this.column=i},data:function(){return this.model.byId(this.row.id).data[this.column.id]},rawData:function(){var k=this.column.field();return k&&this.model.byId(this.row.id).rawData[k]},setRawData:function(k){var l={},i=this.column.field();if(i)return l[i]=k,this.row.setRawData(l)}})})},"gridx/core/_Module":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/_base/Deferred,dojo/_base/connect,dojo/aspect".split(","),
function(k,m,l,i,f,e){var h=m.isFunction,k=k([],{constructor:function(c,a){this.grid=c;this.model=c.model;this.loaded=new i;this._cnnts=[];this._sbscs=[];m.mixin(this,a)},destroy:function(){var c=l.forEach;c(this._cnnts,f.disconnect);c(this._sbscs,f.unsubscribe)},arg:function(c,a,b){2==arguments.length&&h(a)&&(b=a,a=void 0);var g=this.grid,j=this[c];if(!this.hasOwnProperty(c)){var d=this.name+c.substring(0,1).toUpperCase()+c.substring(1);void 0===g[d]?void 0!==a&&(j=a):j=g[d]}this[c]=b&&!b(j)?a:j;
return j},aspect:function(c,a,b,g,j){c=e[j||"after"](c,a,m.hitch(g||this,b),1);this._cnnts.push(c);return c},connect:function(c,a,b,g,j){var d=this.grid,n=g||this,c=c===d&&"string"==typeof a?f.connect(c,a,function(){var c=arguments;d._eventFlags[a]===j&&(h(b)?b.apply(n,c):h(n[b])&&n[b].apply(n,c))}):f.connect(c,a,n,b);this._cnnts.push(c);return c},batchConnect:function(){for(var c=0,a=arguments,b=a.length;c<b;++c)m.isArrayLike(a[c])&&this.connect.apply(this,a[c])},subscribe:function(c,a,b){c=f.subscribe(c,
b||this,a);this._sbscs.push(c);return c}}),d=k._modules={};k.register=function(c){var a=c.prototype;return d[a.name||a.declaredClass]=c};k._markupAttrs="id,name,field,width,dataType,!formatter,!decorator,!sortable".split(",");return k})},"gridx/core/model/extensions/Query":function(){define(["dojo/_base/declare","../_Extension"],function(k,m){return k(m,{name:"query",priority:40,constructor:function(k,i){this.clear();this._mixinAPI("query");i.query&&this.query(i.query,i.queryOptions)},clear:function(){},
query:function(){this.model._addCmd({name:"_cmdQuery",scope:this,args:arguments})},_cmdQuery:function(){var k=arguments,k=k[k.length-1],i=this.model,f=i._cache,e=f.options=f.options||{};e.query=k[0];e.queryOptions=k[1];i._msg("storeChange");f.clear()}})})},"gridx/core/model/_Extension":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/aspect"],function(k,m,l,i){return k([],{constructor:function(f){var e=this.inner=f._model;this._cnnts=[];this.model=f;f._model=this;
e&&(this.aspect(e,"onDelete","_onDelete"),this.aspect(e,"onNew","_onNew"),this.aspect(e,"onSet","_onSet"))},destroy:function(){l.forEach(this._cnnts,function(f){f.remove()})},aspect:function(f,e,h,d,c){f=i[c||"after"](f,e,m.hitch(d||this,h),1);this._cnnts.push(f);return f},_onNew:function(){this.onNew.apply(this,arguments)},_onSet:function(){this.onSet.apply(this,arguments)},_onDelete:function(){this.onDelete.apply(this,arguments)},onNew:function(){},onDelete:function(){},onSet:function(){},_call:function(f,
e){var h=this[f],d=this.inner;return h?h.apply(this,e||[]):d&&d._call(f,e)},_mixinAPI:function(){var f,e=this.model,h=arguments,d=function(c){return function(){return e._model._call(c,arguments)}};for(f=h.length-1;0<=f;--f)e[h[f]]=d(h[f])}})})},"gridx/modules/Header":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/dom-construct,dojo/dom-class,dojo/dom-geometry,dojo/_base/query,dojo/_base/sniff,dojo/keys,../core/util,../core/_Module".split(","),function(k,m,l,i,f,e,h,d,
c,a,b){return k(b,{name:"header",getAPIPath:function(){return{header:this}},constructor:function(){var a=this.domNode=i.create("div",{"class":"gridxHeaderRow",role:"presentation"});this.innerNode=i.create("div",{"class":"gridxHeaderRowInner",role:"row"});this.grid._connectEvents(a,"_onMouseEvent",this)},preload:function(){var a=this,b=a.grid;a.domNode.appendChild(a.innerNode);a._build();b.headerNode.appendChild(a.domNode);b.vLayout.register(a,"domNode","headerNode");a.aspect(b,"onHScroll","_onHScroll");
a.aspect(b,"onHeaderCellMouseOver","_onHeaderCellMouseOver");a.aspect(b,"onHeaderCellMouseOut","_onHeaderCellMouseOver");b.columnResizer&&a.aspect(b.columnResizer,"onResize",function(){"none"==b.hScrollerNode.style.display&&a._onHScroll(0)});a._initFocus()},destroy:function(){this.inherited(arguments);i.destroy(this.domNode)},columnMixin:{headerNode:function(){return this.grid.header.getHeaderNode(this.id)}},hidden:!1,getHeaderNode:function(a){return h("[colid='"+a+"']",this.domNode)[0]},refresh:function(){this._build();
this._onHScroll(this._scrollLeft);this.onRender()},onRender:function(){},onMoveToHeaderCell:function(){},_scrollLeft:0,_build:function(){var a=this,b=a.grid,c=b.focus,d=['<table role="presentation" border="0" cellpadding="0" cellspacing="0"><tr>'];l.forEach(b._columns,function(e){d.push('<th id="',b.id,"-",e.id,'" role="columnheader" aria-readonly="true" tabindex="-1" colid="',e.id,'" class="gridxCell ',c&&"header"==c.currentArea()&&e.id==a._focusHeaderId?a._focusClass:"",(m.isFunction(e.headerClass)?
e.headerClass(e):e.headerClass)||"",'" style="width: ',e.width,";",(m.isFunction(e.headerStyle)?e.headerStyle(e):e.headerStyle)||"",'"><div class="gridxSortNode">',e.name||"","</div></th>")});d.push("</tr></table>");a.innerNode.innerHTML=d.join("");f.toggle(a.domNode,"gridxHeaderRowHidden",a.arg("hidden"))},_onHScroll:function(a){var b=this.grid.isLeftToRight();this.innerNode.firstChild.style[b?"marginLeft":"marginRight"]=(!b&&d("ff")?a:-a)+"px";this._scrollLeft=a},_onMouseEvent:function(a,b){var c=
this.grid,d="onHeaderCell"+a,e="onHeader"+a;if(c._isConnected(d)||c._isConnected(e)){this._decorateEvent(b);if(0<=b.columnIndex)c[d](b);c[e](b)}},_decorateEvent:function(a){for(var b=a.target,c;b&&b!==this.domNode;b=b.parentNode)if("th"==b.tagName.toLowerCase()){if(c=this.grid._columnsById[b.getAttribute("colid")])a.headerCellNode=b,a.columnId=c.id,a.columnIndex=c.index;break}},_onHeaderCellMouseOver:function(a){f.toggle(this.getHeaderNode(a.columnId),"gridxHeaderCellOver","mouseover"==a.type)},_focusHeaderId:null,
_focusClass:"gridxHeaderCellFocus",_initFocus:function(){var a=this,b=a.grid;b.focus&&b.focus.registerArea({name:"header",priority:0,focusNode:a.domNode,scope:a,doFocus:a._doFocus,doBlur:a._blurNode,onBlur:a._blurNode,connects:[a.connect(b,"onHeaderCellKeyDown","_onKeyDown"),a.connect(b,"onHeaderCellMouseDown",function(b){a._focusNode(a.getHeaderNode(b.columnId))})]})},_doFocus:function(b){var j=this._focusNode(this._focusHeaderId&&this.getHeaderNode(this._focusHeaderId)||h("th.gridxCell",this.domNode)[0]);
a.stopEvent(j&&b);return j},_focusNode:function(a){if(a){var b=this,c=b.grid,n=b._focusHeaderId=a.getAttribute("colid");if(n)return b._blurNode(),c.hScroller&&c.hScroller.scrollToColumn(n),c.body._focusCellCol=c._columnsById[n].index,f.add(a,b._focusClass),setTimeout(function(){d("webkit")&&f.add(a,b._focusClass);a.focus()},0),!0}return!1},_blurNode:function(){var a=h("th."+this._focusClass,this.domNode)[0];a&&f.remove(a,this._focusClass);return!0},_onKeyDown:function(b){var j=this.grid,d;d=j.isLeftToRight()?
1:-1;var n=b.keyCode==c.LEFT_ARROW?-d:d;if(this._focusHeaderId&&!b.ctrlKey&&!b.altKey&&(b.keyCode==c.LEFT_ARROW||b.keyCode==c.RIGHT_ARROW))if(a.stopEvent(b),d=j._columnsById[this._focusHeaderId],d=j._columns[d.index+n])this._focusNode(this.getHeaderNode(d.id)),this.onMoveToHeaderCell(d.id,b)}})})},"gridx/core/util":function(){define({stopEvent:function(k){k&&k.stopPropagation&&k.preventDefault&&(k.stopPropagation(),k.preventDefault())},biSearch:function(k,m){var l=0,i=k.length,f;for(f=Math.floor((l+
i)/2);l+1<i;f=Math.floor((l+i)/2))0<m(k[f])?i=f:l=f;return k.length&&0<=m(k[l])?l:i}})},"gridx/modules/Body":function(){define("dojo/_base/declare,dojo/_base/query,dojo/_base/array,dojo/_base/lang,dojo/dom-construct,dojo/dom-class,dojo/_base/Deferred,dojo/_base/sniff,dojo/keys,../core/_Module,../core/util,dojo/i18n!../nls/Body".split(","),function(k,m,l,i,f,e,h,d,c,a,b,g){return k(a,{name:"body",optional:["tree"],getAPIPath:function(){return{body:this}},constructor:function(){var a=this,b=a.model,
c=a.grid,d=a.domNode=c.bodyNode;a.arg("rowHoverEffect")&&e.add(d,"gridxBodyRowHoverEffect");c.emptyNode.innerHTML=a.arg("loadingInfo",g.loadingInfo);c._connectEvents(d,"_onMouseEvent",a);a.aspect(b,"onDelete","_onDelete");a.aspect(b,"onSet","_onSet");a.aspect(c,"onRowMouseOver","_onRowMouseOver");a.aspect(c,"onCellMouseOver","_onCellMouseOver");a.aspect(c,"onCellMouseOut","_onCellMouseOver");a.connect(c.bodyNode,"onmouseleave",function(){m("> .gridxRowOver",a.domNode).removeClass("gridxRowOver")});
a.connect(c.bodyNode,"onmouseover",function(b){b.target==c.bodyNode&&m("> .gridxRowOver",a.domNode).removeClass("gridxRowOver")});a.aspect(c,"setStore",function(){a.refresh()})},preload:function(){this._initFocus()},load:function(){var a=this,b=a.model,c=a.grid,g=function(){a.aspect(b,"onSizeChange","_onSizeChange");a.loaded.callback()};b.when({},function(){a.rootCount=a.rootCount||b.size();a.visualCount=c.tree?c.tree.getVisualSize(a.rootStart,a.rootCount):a.rootCount;g()}).then(null,function(b){a._loadFail(b);
g()})},destroy:function(){this.inherited(arguments);this.domNode.innerHTML=""},rowMixin:{node:function(){return this.grid.body.getRowNode({rowId:this.id})},visualIndex:function(){var a=this.id;return this.grid.body.getRowInfo({rowId:a,rowIndex:this.index(),parentId:this.model.parentId(a)}).visualIndex}},cellMixin:{node:function(){return this.grid.body.getCellNode({rowId:this.row.id,colId:this.column.id})}},rowHoverEffect:!0,stuffEmptyCell:!0,renderWholeRowOnSet:!1,getRowNode:function(a){return(a=
this._getRowNodeQuery(a))&&m("> "+a,this.domNode)[0]||null},getCellNode:function(a){var b=a.colId,c=this.grid._columns,g=this._getRowNodeQuery(a);if(g){if(!b&&c[a.colIndex])b=c[a.colIndex].id;return m(g+(" [colid='"+b+"'].gridxCell"),this.domNode)[0]||null}return null},getRowInfo:function(a){var b=this.model,c=this.grid,g=a.rowId;if(b.isId(g))a.rowIndex=b.idToIndex(g),a.parentId=b.parentId(g);if("number"==typeof a.rowIndex&&0<=a.rowIndex)a.visualIndex=c.tree?c.tree.getVisualIndexByRowInfo(a.parentId,
a.rowIndex,this.rootStart):a.rowIndex-this.rootStart;else if("number"==typeof a.visualIndex&&0<=a.visualIndex)c.tree?(c=c.tree.getRowInfoByVisualIndex(a.visualIndex,this.rootStart),a.rowIndex=c.start,a.parentId=c.parentId):a.rowIndex=this.rootStart+a.visualIndex;else return a;a.rowId=b.isId(g)?g:b.indexToId(a.rowIndex,a.parentId);return a},refresh:function(a){var b=this;delete b._err;return b.model.when({}).then(function(){var c=b.renderStart,g=b.renderCount;if("number"==typeof a&&0<=a){a=c>a?c:a;
var d=c+g-a,c=m('> [visualindex="'+a+'"]',b.domNode)[0],g=[],e=[];if(c){var i=b._buildRows(a,d,g,e);i&&(f.place(i,c,"before"),l.forEach(e,b.onAfterRow,b))}for(;c;){var e=c.nextSibling,i=parseInt(c.getAttribute("visualindex"),10),k=c.getAttribute("rowid");f.destroy(c);if(i>=a+d)b.onUnrender(k);c=e}h.when(b._buildUncachedRows(g),function(){b.onRender(a,d);b.onForcedScroll()})}else b.renderRows(c,g,0,1),b.onForcedScroll()},function(a){b._loadFail(a)})},refreshCell:function(a,b){var c=new h,g=this,d=
g.model,e=g.grid,f=e._columns[b],i=f&&g.getCellNode({visualIndex:a,colId:f.id});if(i){var k,l=g.getRowInfo({visualIndex:a}),m=l.rowIndex,v=l.parentId;d.when({start:m,count:1,parentId:v},function(){if(k=d.byIndex(m,v)){l.rowId=d.indexToId(m,v);var a=e.tree&&void 0===k.data[f.id],b=e.cell(l.rowId,f.id,1);i.innerHTML=g._buildCellContent(b,a);g.onAfterCell(b)}}).then(function(){c.callback(!!k)});return c}c.callback(!1);return c},rootStart:0,rootCount:0,renderStart:0,renderCount:0,visualStart:0,visualCount:0,
autoUpdate:!0,autoChangeSize:!0,updateRootRange:function(a,b){var c=this.grid.tree,c=this.visualCount=c?c.getVisualSize(a,b):b;this.rootStart=a;this.rootCount=b;if(this.renderStart+this.renderCount>c&&(this.renderStart=c-this.renderCount,0>this.renderStart))this.renderStart=0,this.renderCount=c;if(!this.renderCount&&c)this.onForcedScroll()},renderRows:function(a,b,c,e){var r=this,i=r.grid,k="",m=[],u=[],s=r.domNode,y=i.emptyNode,v=r.arg("emptyInfo",g.emptyInfo),x="";if(!r._err)if(0<b){y.innerHTML=
r.arg("loadingInfo",g.loadingInfo);y.style.zIndex="";"top"!=c&&"bottom"!=c&&r.model.free();k=r._buildRows(a,b,m,u);if("top"==c)r.renderCount+=r.renderStart-a,r.renderStart=a,f.place(k,s,"first");else if("bottom"==c)r.renderCount=a+b-r.renderStart,f.place(k,s,"last");else{r.renderStart=a;r.renderCount=b;c=e?s.scrollTop:0;s.scrollTop=0;if(d("ie"))for(;s.childNodes.length;)s.removeChild(s.firstChild);s.innerHTML=k;if(c)s.scrollTop=c;s.scrollLeft=i.hScrollerNode.scrollLeft;x=k?"":v;if(!k)y.style.zIndex=
1;r.onUnrender()}l.forEach(u,r.onAfterRow,r);h.when(r._buildUncachedRows(m),function(){y.innerHTML=x;r.onRender(a,b)})}else if(!{top:1,bottom:1}[c])s.scrollTop=0,s.innerHTML="",y.innerHTML=v,y.style.zIndex=1,r.onUnrender(),r.onEmpty(),r.model.free()},unrenderRows:function(a,b){if(0<a){var c=0,g,d=this.domNode;if("post"==b)for(;c<a&&d.lastChild;++c)g=d.lastChild.getAttribute("rowid"),this.model.free(g),d.removeChild(d.lastChild),this.onUnrender(g);else{for(var e=d.scrollTop;c<a&&d.firstChild;++c)g=
d.firstChild.getAttribute("rowid"),this.model.free(g),e-=d.firstChild.offsetHeight,d.removeChild(d.firstChild),this.onUnrender(g);this.renderStart+=c;d.scrollTop=0<e?e:0}this.renderCount-=c;this.model.when()}},onAfterRow:function(){},onAfterCell:function(){},onRender:function(){},onUnrender:function(){},onDelete:function(){},onSet:function(){},onMoveToCell:function(){},onEmpty:function(){},onForcedScroll:function(){},collectCellWrapper:function(){},_getRowNodeQuery:function(a){var b;this.model.isId(a.rowId)?
b="[rowid='"+a.rowId+"']":"number"==typeof a.rowIndex&&0<=a.rowIndex?(b="[rowindex='"+a.rowIndex+"']",a.parentId&&(b+="[parentid='"+a.parentId+"']")):"number"==typeof a.visualIndex&&0<=a.visualIndex&&(b="[visualindex='"+a.visualIndex+"']");return b&&b+".gridxRow"},_buildRows:function(a,b,c,g){for(var b=a+b,d=[],e=this.grid,h=this.model,f=this.domNode.scrollWidth;a<b;++a){var i=this.getRowInfo({visualIndex:a}),k=e.row(i.rowId,1);d.push('<div class="gridxRow ',a%2?"gridxRowOdd":"",'" role="row" visualindex="',
a);k?(h.keep(k.id),d.push('" rowid="',k.id,'" rowindex="',i.rowIndex,'" parentid="',i.parentId,'">',this._buildCells(k),"</div>"),g.push(k)):(d.push('"><div class="gridxRowDummy" style="width:',f,'px;"></div></div>'),i.start=i.rowIndex,i.count=1,c.push(i))}return d.join("")},_buildUncachedRows:function(a){var b=this;return a.length&&b.model.when(a,function(){try{l.forEach(a,b._buildRowContent,b)}catch(c){b._loadFail(c)}}).then(null,function(a){b._loadFail(a)})},_loadFail:function(a){console.error(a);
a=this.grid.emptyNode;a.innerHTML=this.arg("loadFailInfo",g.loadFailInfo);a.style.zIndex=1;this.domNode.innerHTML="";this._err=1},_buildRowContent:function(a){var b=m('> [visualindex="'+a.visualIndex+'"]',this.domNode)[0];if(b){var c=this.grid.row(a.rowIndex,0,a.parentId);if(c)this.model.keep(c.id),b.setAttribute("rowid",c.id),b.setAttribute("rowindex",a.rowIndex),b.setAttribute("parentid",a.parentId||""),b.innerHTML=this._buildCells(c),this.onAfterRow(c);else throw Error("Row is not in cache:"+a.rowIndex);
}},_buildCells:function(a){var b,c,g,d,e,h,f,k=this.grid,l=k._columns,m=a.data(),v=k.focus&&"body"==k.focus.currentArea(),x=['<table class="gridxRowTable" role="presentation" border="0" cellpadding="0" cellspacing="0"><tr>'];for(h=0,f=l.length;h<f;++h)b=l[h],g=k.tree&&void 0===m[b.id],c=k.cell(a.id,b.id,1),d=(i.isFunction(b["class"])?b["class"](c):b["class"])||"",e=(i.isFunction(b.style)?b.style(c):b.style)||"",x.push('<td aria-describedby="',k.id,"-",b.id,'" class="gridxCell '),g&&x.push("gridxPaddingCell"),
v&&this._focusCellRow===a.visualIndex()&&this._focusCellCol===h&&x.push("gridxCellFocus"),x.push(d,'" aria-readonly="true" role="gridcell" tabindex="-1" colid="',b.id,'" style="width: ',b.width,"; ",e,'">',this._buildCellContent(c,g),"</td>");x.push("</tr></table>");return x.join("")},_buildCellContent:function(a,b){var c="",g=a.column,e=a.row,h=a.data();b||(c=this._wrapCellData(g.decorator?g.decorator(h,e.id,e.visualIndex()):h,e.id,g.id));return(""===c||null===c||void 0===c)&&(8>d("ie")||this.arg("stuffEmptyCell"))?
"&nbsp;":c},_wrapCellData:function(a,b,c){var g=[];this.collectCellWrapper(g,b,c);var d=g.length-1;for(0<d&&g.sort(function(a,b){a.priority=a.priority||0;b.priority=b.priority||0;return a.priority-b.priority});0<=d;--d)a=g[d].wrap(a,b,c);return a},_onMouseEvent:function(a,b){var c=this.grid,g="onCell"+a,d="onRow"+a;if(c._isConnected(g)||c._isConnected(d))if(this._decorateEvent(b),b.rowId){if(b.columnId)c[g](b);c[d](b)}},_decorateEvent:function(a){for(var b=a.target||a.originalTarget,c=this.grid,g;b&&
b!=c.bodyNode;b=b.parentNode){g=b.tagName.toLowerCase();if("td"==g&&e.contains(b,"gridxCell")){var d=c._columnsById[b.getAttribute("colid")];a.cellNode=b;a.columnId=d.id;a.columnIndex=d.index}if("div"==g&&e.contains(b,"gridxRow")){a.rowId=b.getAttribute("rowid");a.parentId=b.getAttribute("parentid");a.rowIndex=parseInt(b.getAttribute("rowindex"),10);a.visualIndex=parseInt(b.getAttribute("visualindex"),10);break}}},_onSet:function(a,b,c,g){if(this.autoUpdate&&c){var d=this.grid,e=(a=d.row(a,1))&&a.node();
if(e){var h=c.data,f=g.data,c=d._columns,g=this.arg("renderWholeRowOnSet"),i=[];g||l.some(c,function(a){h[a.id]!==f[a.id]&&i.push(a);return 1<i.length});if(g||1<i.length)e.innerHTML=this._buildCells(a),this.onAfterRow(a),this.onSet(a),this.onRender(b,1);else if(1==i.length)b=i[0],d=d.tree&&void 0===h[b.id],a=a.cell(b.id,1),a.node().innerHTML=this._buildCellContent(a,d),this.onAfterCell(a)}}},_onDelete:function(a){if(this.autoUpdate){var b=this.getRowNode({rowId:a});if(b){var c=0,g=parseInt(b.getAttribute("rowindex"),
10),d=b.getAttribute("parentid"),h={},i=[b],k,m=[a];h[a]=1;for(b=b.nextSibling;b&&h[b.getAttribute("parentid")];b=b.nextSibling)k=b.getAttribute("rowid"),m.push(k),i.push(b),h[k]=1;for(;b;b=b.nextSibling)b.getAttribute("parentid")==d&&b.setAttribute("rowindex",parseInt(b.getAttribute("rowindex"),10)-1),h=parseInt(b.getAttribute("visualindex"),10)-i.length,b.setAttribute("visualindex",h),e.toggle(b,"gridxRowOdd",h%2),++c;this.renderCount-=i.length;l.forEach(i,f.destroy);l.forEach(m,this.onUnrender,
this);this.autoChangeSize&&0===this.rootStart&&!d&&this.updateRootRange(0,this.rootCount-1);this.onDelete(a,g);this.onRender(g,c)}}},_onSizeChange:function(a,b){if(this.autoChangeSize&&0===this.rootStart&&(this.rootCount===b||0>b))this.updateRootRange(0,a),this.refresh()},_onRowMouseOver:function(a){var b=m("> div.gridxRowOver",this.domNode)[0],a=this.getRowNode({rowId:a.rowId});b!=a&&(b&&e.remove(b,"gridxRowOver"),a&&e.add(a,"gridxRowOver"))},_onCellMouseOver:function(a){e.toggle(a.cellNode,"gridxCellOver",
"mouseover"==a.type)},_focusCellCol:0,_focusCellRow:0,_initFocus:function(){var a=this,b=a.grid,g=b.isLeftToRight(),d=b.bodyNode,e=b.focus;e&&(e.registerArea({name:"body",priority:1,focusNode:d,scope:a,doFocus:a._doFocus,doBlur:a._blurCell,onFocus:a._onFocus,onBlur:a._blurCell}),a.connect(b.mainNode,"onkeypress",function(d){if("body"==e.currentArea()&&(!b.tree||!d.ctrlKey)){e._noBlur=1;var p={},h=g?1:-1;p[c.LEFT_ARROW]=[0,-h,d];p[c.RIGHT_ARROW]=[0,h,d];p[c.UP_ARROW]=[-1,0,d];p[c.DOWN_ARROW]=[1,0,
d];a._moveFocus.apply(a,p[d.keyCode]||[]);e._noBlur=0}}),a.connect(b,"onCellClick",function(b){a._focusCellRow=b.visualIndex;a._focusCellCol=b.columnIndex}),a.connect(a,"onRender",function(b,c){a._focusCellRow>=b&&a._focusCellRow<b+c&&"body"==e.currentArea()&&a._focusCell()}),a.connect(b.emptyNode,"onfocus",function(){e.focusArea("body")}))},_doFocus:function(a){return this._focusCell(a)||this._focusCell(0,-1,-1)},_focusCell:function(a,c,g){b.stopEvent(a);var a=this.grid,g=0<=g?g:this._focusCellCol,
c=0<=c?c:this._focusCellRow,p=a._columns[g].id,h=this.getCellNode({visualIndex:c,colId:p});if(h){var f=m(".gridxCellFocus",this.domNode)[0];if(h!=f)f&&e.remove(f,"gridxCellFocus"),e.add(h,"gridxCellFocus"),this._focusCellRow=c,this._focusCellCol=g,a.header._focusHeaderId=p;a.hScroller.scrollToColumn(p);8>d("ie")?(c=a.bodyNode.scrollLeft,h.focus(),a.bodyNode.scrollLeft=c):h.focus()}else if(!a.rowCount())return a.emptyNode.focus(),!0;return h},_moveFocus:function(a,c,g){if(a||c){b.stopEvent(g);var d,
e,h=this,f=h.grid,i=f._columns,k=h.visualCount;d=h._focusCellRow+a;d=0>d?0:d>=k?k-1:d;e=h._focusCellCol+c;e=0>e?0:e>=i.length?i.length-1:e;f.vScroller.scrollToRow(d).then(function(){h._focusCell(0,d,e);h.onMoveToCell(d,e,g)})}},_nextCell:function(a,b,c,g){var d=new h,e=this.grid,f=e._columns.length,i=this.visualCount;do if(b+=c,0>b||b>=f)a+=c,b=0>b?f-1:0,0>a?(a=i-1,b=f-1):a>=i&&(b=a=0);while(!g(a,b));e.vScroller.scrollToRow(a).then(function(){d.callback({r:a,c:b})});return d},_blurCell:function(){var a=
m(".gridxCellFocus",this.domNode)[0];a&&e.remove(a,"gridxCellFocus");return!0},_onFocus:function(a){for(a=a.target;a&&a!=this.domNode;a=a.parentNode)if(e.contains(a,"gridxCell")){for(var b=this.grid._columnsById[a.getAttribute("colid")].index;!e.contains(a,"gridxRow");)a=a.parentNode;return this._focusCell(0,parseInt(a.getAttribute("visualindex"),10),b)}return!1}})})},"dojo/i18n":function(){define("./_base/kernel,require,./has,./_base/array,./_base/config,./_base/lang,./_base/xhr,./json,module".split(","),
function(k,m,l,i,f,e,h,d,c){l.add("dojo-preload-i18n-Api",1);var a=k.i18n={},b=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,g=function(a,b,c,g){for(var j=[c+g],b=b.split("-"),d="",e=0;e<b.length;e++)d+=(d?"-":"")+b[e],(!a||a[d])&&j.push(c+d+"/"+g);return j},j={},o=function(a,b,c){c=c?c.toLowerCase():k.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(c)?a+"/nls/"+b:a+"/nls/"+c+"/"+b};k.getL10nName=function(a,b,g){return c.id+"!"+o(a,b,g)};var n=function(a,b,c,d,n,p){a([b],function(o){var h=
e.clone(o.root),f=g(!o._v1x&&o,n,c,d);a(f,function(){for(var a=1;a<f.length;a++)h=e.mixin(e.clone(h),arguments[a]);j[b+"/"+n]=h;p()})})},p=function(a){var b=f.extraLocale||[],b=e.isArray(b)?b:[b];b.push(a);return b},r=function(a,c,g){if(l("dojo-preload-i18n-Api")){var o=a.split("*"),h="preload"==o[1];h&&(j[a]||(j[a]=1,s(o[2],d.parse(o[3]),1,c)),g(1));if(!(o=h))w&&u.push([a,c,g]),o=w;if(o)return}var a=b.exec(a),f=a[1]+"/",r=a[5]||a[4],q=f+r,o=(a=a[5]&&a[4])||k.locale,t=q+"/"+o,a=a?[o]:p(o),m=a.length,
v=function(){--m||g(e.delegate(j[t]))};i.forEach(a,function(a){var b=q+"/"+a;l("dojo-preload-i18n-Api")&&y(b);j[b]?v():n(c,q,f,r,a,v)})};if(l("dojo-unit-tests"))var q=a.unitTests=[];l("dojo-preload-i18n-Api");var t=a.normalizeLocale=function(a){a=a?a.toLowerCase():k.locale;return"root"==a?"ROOT":a},w=0,u=[],s=a._preloadLocalizations=function(a,b,c,g){function d(a,b){g.isXdUrl(m.toUrl(a+".js"))||c?g([a],b):B([a],b,g)}function e(a,b){for(var c=a.split("-");c.length;){if(b(c.join("-")))return;c.pop()}b("ROOT")}
function n(c){c=t(c);e(c,function(c){if(0<=i.indexOf(b,c)){var g=a.replace(/\./g,"/")+"_"+c;w++;d(g,function(a){for(var b in a)j[m.toAbsMid(b)+"/"+c]=a[b];for(--w;!w&&u.length;)r.apply(null,u.shift())});return!0}return!1})}g=g||m;n();i.forEach(k.config.extraLocale,n)},y=function(){},v={},x=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},\t   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
B=function(a,b,c){var g=[];i.forEach(a,function(a){function b(c){c=x(c,y,a,v);c===v?g.push(j[d]=v.result):(c instanceof Error&&(console.error("failed to evaluate i18n bundle; url="+d,c),c={}),g.push(j[d]=/nls\/[^\/]+\/[^\/]+$/.test(d)?c:{root:c,_v1x:1}))}var d=c.toUrl(a+".js");if(j[d])g.push(j[d]);else{var e=c.syncLoadNls(a);if(e)g.push(e);else if(h)h.get({url:d,sync:!0,load:b,error:function(){g.push(j[d]={})}});else try{c.getText(d,!0,b)}catch(n){g.push(j[d]={})}}});b&&b.apply(null,g)},y=function(a){for(var b,
c=a.split("/"),g=k.global[c[0]],d=1;g&&d<c.length-1;g=g[c[d++]]);g&&((b=g[c[d]])||(b=g[c[d].replace(/-/g,"_")]),b&&(j[a]=b));return b};a.getLocalization=function(a,b,c){var g,a=o(a,b,c);r(a,!m.isXdUrl(m.toUrl(a+".js"))?function(a,b){B(a,b,m)}:m,function(a){g=a});return g};l("dojo-unit-tests")&&q.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=x("{prop:1}",y,"nonsense",v);a.is({prop:1},b);a.is(void 0,b[1]);b=x("({prop:1})",y,"nonsense",v);a.is({prop:1},b);a.is(void 0,b[1]);b=x("{'prop-x':1}",
y,"nonsense",v);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=x("({'prop-x':1})",y,"nonsense",v);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=x("define({'prop-x':1})",y,"nonsense",v);a.is(v,b);a.is({"prop-x":1},v.result);b=x("define('some/module', {'prop-x':1})",y,"nonsense",v);a.is(v,b);a.is({"prop-x":1},v.result);b=x("this is total nonsense and should throw an error",y,"nonsense",v);a.is(b instanceof Error,!0)})});return e.mixin(a,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:r,cache:j})})},
"gridx/nls/Body":function(){define({root:{loadingInfo:"Loading...",emptyInfo:"No items to display",loadFailInfo:"Failed to load data!"},ar:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,es:!0,fi:!0,fr:!0,hu:!0,it:!0,ja:!0,kk:!0,ko:!0,nb:!0,nl:!0,pl:!0,pt:!0,"pt-pt":!0,ro:!0,ru:!0,sk:!0,sl:!0,sv:!0,th:!0,tr:!0,zh:!0,"zh-tw":!0})},"gridx/modules/VLayout":function(){define(["dojo/_base/declare","dojo/DeferredList","../core/_Module"],function(k,m,l){return k(l,{name:"vLayout",getAPIPath:function(){return{vLayout:this}},
preload:function(){var i=this,f=i.grid;i.connect(f,"_onResizeEnd",function(e,h){var d,c=[];for(d in h)c.push(h[d]);(new m(c)).then(function(){i.reLayout()})});f.autoHeight?i.connect(f.body,"onRender","reLayout"):i.connect(f,"setColumns",function(){setTimeout(function(){i.reLayout()},0)})},load:function(i,f){var e=this;f.then(function(){e._defs&&e._mods?(new m(e._defs)).then(function(){e._layout();e.loaded.callback()}):e.loaded.callback()})},register:function(i,f,e,h,d){this._defs=this._defs||[];this._mods=
this._mods||{};this._mods[e]=this._mods[e]||[];this._defs.push(d||i.loaded);this._mods[e].push({p:h||0,mod:i,nodeName:f})},reLayout:function(){var i=0,f,e;for(f in this._mods)(e=this.grid[f])&&(i+=e.offsetHeight);this._updateHeight(i)},_layout:function(){var i=0,f=this._mods,e,h,d,c,a,b;for(e in f)if(h=this.grid[e]){c=f[e];c.sort(function(a,b){return a.p-b.p});for(d=0;d<c.length;++d)a=c[d].mod,b=c[d].nodeName,a&&a[b]&&h.appendChild(a[b]);i+=h.offsetHeight}this._updateHeight(i)},_updateHeight:function(i){var f=
this.grid,e=f.domNode,h=f.mainNode.style;if(f.autoHeight)f.vScroller.loaded.then(function(){var d=f.bodyNode.lastChild,d=d?d.offsetTop+d.offsetHeight:f.emptyNode.offsetHeight;e.style.height=d+i+"px";h.height=d+"px"});else if(e.clientHeight>i)h.height=e.clientHeight-i+"px"}})})},"gridx/modules/HLayout":function(){define("dojo/_base/declare,dojo/_base/Deferred,dojo/_base/array,dojo/dom-style,dojo/DeferredList,../core/_Module".split(","),function(k,m,l,i,f,e){return k(e,{name:"hLayout",getAPIPath:function(){return{hLayout:this}},
load:function(e,d){var c=this;c.connect(c.grid,"_onResizeEnd",function(a,b){var g,d=[];for(g in b)d.push(b[g]);(new f(d)).then(function(){c.reLayout()})});d.then(function(){c._layout()})},lead:0,tail:0,register:function(e,d,c){var a=this._regs=this._regs||[];e||(e=new m,e.callback());a.push([e,d,c])},reLayout:function(){var e=this._regs,d=0,c=0;if(e)l.forEach(e,function(a){var b=a[1].offsetWidth||i.get(a[1],"width");a[2]?c+=b:d+=b}),this.lead=d,this.tail=c,this.onUpdateWidth(d,c)},onUpdateWidth:function(){},
_layout:function(){var e=this,d=e._regs;if(d){var c=0,a=0,b=l.map(d,function(a){return a[0]});(new f(b)).then(function(){l.forEach(d,function(b){var d=b[1].offsetWidth||i.get(b[1],"width");b[2]?a+=d:c+=d});e.lead=c;e.tail=a;e.loaded.callback()})}else e.loaded.callback()}})})},"gridx/modules/VScroller":function(){define("dojo/_base/declare,dojo/_base/Deferred,dojo/_base/event,dojo/_base/sniff,dojo/_base/query,dojo/dom-geometry,dojo/keys,dojox/html/metrics,../core/_Module".split(","),function(k,m,l,
i,f,e,h,d,c){return k(c,{name:"vScroller",forced:["body","vLayout","columnWidth"],optional:["pagination"],getAPIPath:function(){return{vScroller:this}},constructor:function(){var a=this.grid,b=this.domNode=a.vScrollerNode;this.stubNode=b.firstChild;if(a.autoHeight){if(b.style.display="none",8>i("ie"))b.style.width="0px"}else{var c=d.getScrollbar().w+"px";b.style.width=c;b.style[a.isLeftToRight()?"right":"left"]=-d.getScrollbar().w+"px";if(8>i("ie"))this.stubNode.style.width=c}},preload:function(){this.grid.hLayout.register(null,
this.domNode,1)},load:function(a,b){var c=this,d=c.grid,e=d.body,n=c.domNode,p=d.bodyNode;c.batchConnect([c.domNode,"onscroll","_doScroll"],[p,"onmousewheel","_onMouseWheel"],[d.mainNode,"onkeypress","_onKeyScroll"],i("ff")&&[p,"DOMMouseScroll","_onMouseWheel"]);c.aspect(d,"_onResizeEnd","_onBodyChange");c.aspect(e,"onForcedScroll","_onForcedScroll");c.aspect(e,"onRender","_onBodyChange");d.autoHeight||c.aspect(e,"onEmpty",function(){var a=n.style;a.display="none";a.width="";if(8>i("ie"))a.width=
c.stub.style.width="0px";d.hLayout.reLayout();d.hScroller.refresh()});b.then(function(){m.when(c._init(a),function(){c.domNode.style.width="";c.loaded.callback()})})},scrollToRow:function(a,b){var c=new m,d=this.grid.bodyNode,e=this.domNode,n=0,p=f('[visualindex="'+a+'"]',d)[0],h=function(a){setTimeout(function(){c.callback(a)},5)};if(p){var n=p.offsetTop,i=d.scrollTop;if(b)return e.scrollTop=n,h(!0),c;if(n<i)n-=i;else if(n+p.offsetHeight>i+d.clientHeight)n=n+p.offsetHeight-i-d.clientHeight;else return h(!0),
c;e.scrollTop+=n}h(!!p);return c},_init:function(){this._onForcedScroll()},_update:function(){var a=this.grid;if(!a.autoHeight){var b=a.body,c=a.bodyNode,b=b.renderCount<b.visualCount||c.scrollHeight>c.clientHeight,c=this.domNode.style;scrollBarWidth=d.getScrollbar().w+(i("webkit")?1:0);if(8>i("ie")){var j=b?scrollBarWidth+"px":"0px";this.stubNode.style.width=j;c.width=j}else c.width="";c.display=b?"":"none";c[a.isLeftToRight()?"right":"left"]=-this.domNode.offsetWidth+"px"}a.hLayout.reLayout()},
_doScroll:function(){this.grid.bodyNode.scrollTop=this.domNode.scrollTop},_onMouseWheel:function(a){"none"!=this.grid.vScrollerNode.style.display&&(this.domNode.scrollTop-="number"===typeof a.wheelDelta?a.wheelDelta/3:-40*a.detail,l.stop(a))},_onBodyChange:function(){var a=this,b=a.grid;a._update();setTimeout(function(){if(b.bodyNode)a.stubNode.style.height=b.bodyNode.scrollHeight+"px",a._doScroll(),b.vScrollerNode.scrollTop=b.vScrollerNode.scrollTop||0},0)},_onForcedScroll:function(){var a=this.grid.body;
return this.model.when({start:a.rootStart,count:a.rootCount},function(){a.renderRows(0,a.visualCount)})},_onKeyScroll:function(a){var b=this.grid,c=b.body,d=b.bodyNode,o=b.focus,b=this.domNode,n;if(d.childNodes.length&&(!o||"body"==o.currentArea())){if(a.keyCode==h.HOME)b.scrollTop=0,n=d.firstChild;else if(a.keyCode==h.END)b.scrollTop=b.scrollHeight-b.offsetHeight,n=d.lastChild;else if(a.keyCode==h.PAGE_UP)b.scrollTop?b.scrollTop-=b.offsetHeight:n=d.firstChild;else if(a.keyCode==h.PAGE_DOWN)b.scrollTop>=
b.scrollHeight-b.offsetHeight?n=d.lastChild:b.scrollTop+=b.offsetHeight;else return;if(o)n?(c._focusCellRow=parseInt(n.getAttribute("visualindex"),10),o.focusArea("body",1)):setTimeout(function(){for(var b=d.childNodes,f=0,i=b.length-1,k=e.position(d),l,m,s=function(c){var d=b[c],c=e.position(d);if(a.keyCode==h.PAGE_DOWN){d=d.previousSibling;if(!d&&c.y>=k.y||c.y==k.y)return 0;return d?(c=e.position(d),c.y<k.y&&c.y+c.h>=k.y?0:c.y>k.y?1:-1):-1}d=d.nextSibling;if(!d&&c.y+c.h<=k.y+k.h||c.y+c.h==k.y+k.h)return 0;
return d?(c=e.position(d),c.y<=k.y+k.h&&c.y+c.h>k.y+k.h?0:c.y>k.y+k.h?1:-1):1};f<=i;)if(l=Math.floor((f+i)/2),m=s(l),0>m)f=l+1;else if(0<m)i=l-1;else{n=b[l];break}if(n)c._focusCellRow=parseInt(n.getAttribute("visualindex"),10),o.focusArea("body",1)},0);l.stop(a)}}})})},"gridx/modules/HScroller":function(){define("dojo/_base/declare,dojo/dom-style,dojo/_base/sniff,dojo/_base/Deferred,dojo/query,dojox/html/metrics,../core/_Module".split(","),function(k,m,l,i,f,e,h){return k(h,{name:"hScroller",getAPIPath:function(){return{hScroller:this}},
constructor:function(){var d=this.grid,c=d.hScrollerNode;d._initEvents(["H"],["Scroll"]);this.domNode=c;this.container=c.parentNode;this.stubNode=c.firstChild},preload:function(){var d=this.grid,c=d.hScrollerNode;if(!d.autoWidth&&(d.vLayout.register(this,"container","footerNode",0),c.style.display="block",this.batchConnect([d.columnWidth,"onUpdate","refresh"],[c,"onscroll","_onScroll"]),l("ie")))c.style.height=e.getScrollbar().h+"px"},scroll:function(d){var c=this.domNode;if((l("webkit")||8>l("ie"))&&
!this.grid.isLeftToRight())d=c.scrollWidth-c.offsetWidth-d;l("ff")&&!this.grid.isLeftToRight()&&0<d&&(d=-d);c.scrollLeft=d},scrollToColumn:function(d){var c=this.grid.header.innerNode,a=f("table",c)[0].rows[0].cells,b=0,g=0,j=this.grid.isLeftToRight(),e=this.domNode.scrollLeft;if(!j&&(l("webkit")||8>l("ie")))e=this.domNode.scrollWidth-e-c.offsetWidth;for(var e=Math.abs(e),n=0;n<a.length;n++){g+=a[n].offsetWidth;if(a[n].getAttribute("colid")==d)break;b+=a[n].offsetWidth}b<e?this.scroll(b):g>e+c.offsetWidth&&
this.scroll(g-c.offsetWidth);c.scrollLeft=j?0:c.scrollWidth-c.offsetWidth},refresh:function(){var d=this.grid,c=d.isLeftToRight(),a=c?"marginLeft":"marginRight",b=c?"marginRight":"marginLeft",g=d.hLayout.lead,j=d.hLayout.tail,e=(d.domNode.clientWidth||m.get(d.domNode,"width"))-g-j,n=d.header.innerNode,c=m.get(n,c?"paddingLeft":"paddingRight")||0,p=this.domNode.style,n=n.firstChild.offsetWidth+c,h=p.display,f=n<=e?"none":"block";p[a]=g+c+"px";p[b]=j+"px";p.width=(0>e-c?0:e-c)+"px";this.stubNode.style.width=
(0>n-c?0:n-c)+"px";p.display=f;h!=f&&d.vLayout.reLayout()},_lastLeft:0,_onScroll:function(){var d=this.domNode.scrollLeft;if((l("webkit")||8>l("ie"))&&!this.grid.isLeftToRight())d=this.domNode.scrollWidth-this.domNode.offsetWidth-d;if(this._lastLeft!=d)this._lastLeft=d,this._doScroll()},_doScroll:function(){var d=this.grid;d.bodyNode.scrollLeft=this.domNode.scrollLeft;d.onHScroll(this._lastLeft)}})})},"gridx/modules/ColumnWidth":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/Deferred,dojo/_base/query,dojo/_base/sniff,dojo/dom-geometry,dojo/dom-class,dojo/dom-style,dojo/keys,../core/_Module".split(","),
function(k,m,l,i,f,e,h,d,c,a){return k(a,{name:"columnWidth",forced:["hLayout"],getAPIPath:function(){return{columnWidth:this}},constructor:function(){this._init()},preload:function(){var a=this.grid;this._ready=new l;this.batchConnect([a.hLayout,"onUpdateWidth","_onUpdateWidth"],[a,"setColumns","_onSetColumns"])},load:function(){this._adaptWidth();this.loaded.callback()},"default":60,autoResize:!1,onUpdate:function(){},_init:function(){var a=this,c=a.grid,d=c.domNode,e=c._columns;m.forEach(e,function(a){if(!a.hasOwnProperty("declaredWidth"))a.declaredWidth=
a.width=a.width||"auto"});c.autoWidth?m.forEach(e,function(c){if("auto"==c.declaredWidth)c.width=a.arg("default")+"px"}):a.arg("autoResize")&&(h.add(d,"gridxPercentColumnWidth"),m.forEach(e,function(a){if(!/%$/.test(a.declaredWidth))a.width="auto"}))},_onUpdateWidth:function(){var a=this,c=a.grid;if(c.autoWidth)a._adaptWidth();else{var d="none"==c.hScrollerNode.style.display;a._adaptWidth(!d,1);!a.arg("autoResize")&&d&&i(".gridxCell",c.bodyNode).forEach(function(d){var j=c._columnsById[d.getAttribute("colId")];
if(a.arg("autoResize")||!j.declaredWidth||"auto"==j.declaredWidth||/%$/.test(j.declaredWidth))d.style.width=j.width});a.onUpdate()}},_adaptWidth:function(a,c){var j=this.grid,o=j.domNode,n=j.header,p=j.isLeftToRight(),h=p?"marginLeft":"marginRight",q=p?"marginRight":"marginLeft",p=j.hLayout.lead,k=j.hLayout.tail,l=n.innerNode,u=j.bodyNode.style,s=l.style,y=(o.clientWidth||d.get(o,"width"))-p-k,v=i(".gridxCell",l)[0],x=v?e.getMarginBox(v).w-e.getContentBox(v).w:0,B=!o.offsetHeight,D=v&&"collapse"==
d.get(v,"borderCollapse"),v=D&&0<p?p-1:p;s[h]=v+"px";s[q]=((this.arg("autoResize")||!D)&&0<k?k-1:0)+"px";j.mainNode.style[h]=v+"px";j.mainNode.style[q]=k+"px";y=0>y?0:y;if(a)this.onUpdate();else{D&&(x+=B?-1:1);if(j.autoWidth){var h=i("th.gridxCell",l),z=D?2:0;h.forEach(function(a){var b=d.get(a,"width");if(!f("safari")||!B)b+=x;z+=b;D&&z--;var c=j._columnsById[a.getAttribute("colid")];if("auto"==c.width||/%$/.test(c.width))a.style.width=c.width=b+"px"});u.width=z+"px";o.style.width=p+k+z+"px"}else if(!this.arg("autoResize")){var G=
[],o=j._columns,A=D?2:0;m.forEach(o,function(a){if("auto"==a.declaredWidth)G.push(a);else if(/%$/.test(a.declaredWidth)){var b=parseInt(y*parseFloat(a.declaredWidth,10)/100-(f("safari")?D?1:0:x),10);0>b&&(b=0);n.getHeaderNode(a.id).style.width=a.width=b+"px"}});m.forEach(o,function(a){if("auto"!=a.declaredWidth){var b=f("safari")?parseFloat(n.getHeaderNode(a.id).style.width,10):d.get(n.getHeaderNode(a.id),"width");if(/%$/.test(a.declaredWidth))a.width=b+"px";f("safari")||(b+=x);A+=b}});if(G.length){f("safari")&&
(x=0);var E=y>A?(y-A)/G.length-x:this.arg("default"),C=parseInt(E,10);y>A&&(D&&(E+=o.length/G.length,8>f("ie")&&(E+=o.length/G.length)),C=y-A-(C+x)*(G.length-1)-x);E=parseInt(E,10);0>E&&(E=0);0>C&&(C=0);m.forEach(G,function(a,b){n.getHeaderNode(a.id).style.width=a.width=(b<G.length-1?E:C)+"px"})}}j.hScroller.scroll(0);n._onHScroll(0);j.vLayout.reLayout();if(!c)this.onUpdate()}},_onSetColumns:function(){var a=this.grid;this._init();a.header.refresh();this._adaptWidth();a.cellWidget&&(a.cellWidget._init(),
a.edit&&a.edit._init());a.tree&&a.tree._initExpandLevel();a.body.refresh()}})})},"gridx/core/model/cache/Sync":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","./_Cache"],function(k,m,l,i){return k(i,{keep:function(){},free:function(){},when:function(f,e){var h=new l;try{e&&e(),h.callback()}catch(d){h.errback(d)}return h},_init:function(){this._filled||(this._storeFetch({start:0}),this.store.getChildren&&this._fetchChildren(),this.model._onSizeChange())},_fetchChildren:function(){for(var f=
this._struct,e=f[""].slice(1),h,d=function(c){[].push.apply(e,f[c].slice(1))};e.length;)h=e.shift(),l.when(this._loadChildren(h),m.partial(d,h))}})})},"gridx/core/model/cache/_Cache":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/Deferred","../_Extension"],function(k,m,l,i,f){var e=l.hitch,h=l.mixin,d=m.indexOf;return k(f,{constructor:function(c,a){this.setStore(a.store);this.columns=a.columns;this._mixinAPI("byIndex","byId","indexToId","idToIndex","size",
"treePath","parentId","hasChildren","children","keep","free")},destroy:function(){this.inherited(arguments);this.clear()},setStore:function(c){var a=this,b=c.fetch;a.clear();a.store=c;!b&&c.notify?a.aspect(c,"notify",function(b,c){void 0===b?a._onDelete(c):void 0===c?a._onNew(b):a._onSet(b)}):(a.aspect(c,b?"onSet":"put","_onSet"),a.aspect(c,b?"onNew":"add","_onNew"),a.aspect(c,b?"onDelete":"remove","_onDelete"))},clear:function(){this._filled=0;this._priority=[];this._struct={};this._cache={};this._size=
{};this._struct[""]=[];this._size[""]=-1},byIndex:function(c,a){this._init("byIndex",arguments);return this._cache[this.indexToId(c,a)]},byId:function(c){this._init("byId",arguments);return this._cache[c]},indexToId:function(c,a){this._init("indexToId",arguments);var b=this._struct[this.model.isId(a)?a:""];return"number"==typeof c&&0<=c?b&&b[c+1]:void 0},idToIndex:function(c){this._init("idToIndex",arguments);var a=this._struct,a=d(a[a[c]&&a[c][0]]||[],c);return 0<a?a-1:-1},treePath:function(c){this._init("treePath",
arguments);for(var a=this._struct,b=[];void 0!==c;)b.unshift(c),c=a[c]&&a[c][0];""!==b[0]?b=[]:b.pop();return b},parentId:function(c){return this.treePath(c).pop()},hasChildren:function(c){var a=this.store,b;this._init("hasChildren",arguments);b=this.byId(c);return a.hasChildren&&a.hasChildren(c,b&&b.item)},children:function(c){this._init("children",arguments);for(var c=this.model.isId(c)?c:"",a=this._size[c],b=[],d=0;d<a;++d)b.push(this.indexToId(d,c));return b},size:function(c){this._init("size",
arguments);var a=this._size[this.model.isId(c)?c:""];return 0<=a?a:-1},onBeforeFetch:function(){},onAfterFetch:function(){},onLoadRow:function(){},onSetColumns:function(c){var a,b,d,j;this.columns=c;for(a in this._cache)for(d in b=this._cache[a],c)j=c[d],b.data[d]=this._formatCell(j.id,b.rawData)},_itemToObject:function(c){var a=this.store;if(a.fetch){var b={};m.forEach(a.getAttributes(c),function(d){b[d]=a.getValue(c,d)});return b}return c},_formatCell:function(c,a){var b=this.columns[c];return b.formatter?
b.formatter(a):a[b.field||c]},_formatRow:function(c){var a=this.columns,b={},d;for(d in a)b[d]=this._formatCell(d,c);return b},_addRow:function(c,a,b,g,j){var e=this._struct,n=this._priority,j=this.model.isId(j)?j:"",p=e[j];if(!p)throw Error("Fatal error of cache._addRow: parent item "+j+" of "+c+" is not loaded");if(p[a+1]){if(p[a+1]!==c)throw Error("Fatal error of cache._addRow: different row id "+c+" and "+p[a+1]+" for same row index "+a);}else p[a+1]=c;e[c]=e[c]||[j];""===j&&(a=d(n,c),0<=a&&n.splice(a,
1),n.push(c));this._cache[c]={data:this._formatRow(b),rawData:b,item:g};this.onLoadRow(c)},_loadChildren:function(c){var a=this,b=new i,d=a.store,j=a.byId(c),j=j&&d.getChildren&&d.getChildren(j.item)||[];i.when(j,function(j){for(var e=0,p,h=a._size[c]=j.length;e<h;++e)p=j[e],a._addRow(d.getIdentity(p),e,a._itemToObject(p),p,c);b.callback()},e(b,b.errback));return b},_onBegin:function(c){this._size[""]=parseInt(c,10)},_onComplete:function(c,a,b){try{for(var d=0,j;j=b[d];++d)this._addRow(this.store.getIdentity(j),
a+d,this._itemToObject(j),j);c.callback()}catch(e){c.errback(e)}},_storeFetch:function(c){var a=this.store,b=new i,d=h({},this.options||{},c),j=e(this,this._onBegin),c=e(this,this._onComplete,b,c.start),o=e(b,b.errback);this._filled=1;this.onBeforeFetch();a.fetch?a.fetch(h(d,{onBegin:j,onComplete:c,onError:o})):(a=a.query(d.query,d),i.when(a.total,j),i.when(a,c,o));b.then(e(this,this.onAfterFetch));return b},_onSet:function(c){var a=this.store.getIdentity(c),b=this.idToIndex(a),d=this.treePath(a),
j=this._cache[a];d.length&&this._addRow(a,b,this._itemToObject(c),c,d.pop());this.onSet(a,b,this._cache[a],j)},_onNew:function(c,a){var b=this.store,d=this._itemToObject(c),j=a&&a[b.fetch?"item":"parent"];j&&b.getIdentity(j);var e=this._size[""];this.clear();this.onNew(b.getIdentity(c),0,{data:this._formatRow(d),rawData:d,item:c});!j&&0<=e&&(this._size[""]=e+1,this.model._onSizeChange())},_onDelete:function(c){var a=this.store,b=this._struct,c=a.fetch?a.getIdentity(c):c,g=this.treePath(c);if(g.length){var j,
e,a=[c],n=g.pop(),p=this._size,h=p[""],f=d(b[n],c);b[n].splice(f,1);--p[n];for(j=0;j<a.length;++j)if(g=b[a[j]])for(e=g.length-1;0<e;--e)a.push(g[e]);for(j=a.length-1;0<=j;--j)e=a[j],delete this._cache[e],delete b[e],delete p[e];j=d(this._priority,c);0<=j&&this._priority.splice(j,1);this.onDelete(c,f-1);!n&&0<=h&&(p[""]=h-1,this.model._onSizeChange())}else this.onDelete(c)}})})},"gridx/core/model/cache/Async":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/_base/Deferred,dojo/DeferredList,./_Cache".split(","),
function(k,m,l,i,f,e){function h(a,c){if(!c.length||!a.length)return a;var d=[],e=0,n,p=[];n=function(a,b){var c,g;for(c=a.length-1;0<=c;--c){g=a[c];var e=g.start,n=b;d[e]=d[e]||0;d[e]+=n;g.count&&(g=g.start+g.count,e=-b,d[g]=d[g]||0,d[g]+=e)}};n(a,1);n(c,2);for(var h=0,f=d.length;h<f;++h)if(d[h])if(e+=d[h],1===e)p.push({start:h});else{if(3===e)p._overlap=!0;if((n=p[p.length-1])&&!n.count)n.count=h-n.start}return p}function d(a){for(var c=[],d=a.range,e,n,p,h,f,i;0<d.length;){f=p=d.pop();i=0;for(e=
d.length-1;0<=e;--e){h=d[e];p.start<h.start&&(n=h,h=p,p=n);if(h.count)if(p.start<=h.start+h.count)if(p.count&&p.start+p.count>h.start+h.count)h.count=p.start+p.count-h.start;else{if(!p.count)h.count=null}else{p=f;continue}d[e]=h;i=1;break}i||c.push(f)}a.range=c;return a}function c(a,c){var d=a.range,e=[],n,p;for(d.sort(function(a,b){return a.start-b.start});d.length;){n=d.shift();if(d.length)if(p=d[0],p.count&&p.count+p.start-n.start<=c){p.count=p.count+p.start-n.start;p.start=n.start;continue}else if(!p.count&&
p.start-n.start<c){p.start=n.start;continue}e.push(n)}if(1==e.length&&e[0].count<c)e[0].count=c;a.range=e;return a}var a=l.hitch;return k(e,{isAsync:!0,constructor:function(a,c){var d=c.cacheSize,e=c.pageSize;this.cacheSize="number"==typeof d&&!isNaN(d)?d:-1;this.pageSize="number"==typeof e&&!isNaN(e)&&0<e?e:100},when:function(b,c){var d=this,e=b._def=new i,n=a(e,e.errback),p=function(a){d._requests.pop();n(a)};d._fetchById(b).then(function(a){d._fetchByIndex(a).then(function(a){d._fetchByParentId(a).then(function(a){i.when(a._req,
function(){var a;if(c)try{c()}catch(b){a=b}d._requests.shift();a?e.errback(a):e.callback()},p)},p)},p)},n);return e},keep:function(a){var c=this._kept;this._cache[a]&&this._struct[a]&&!c[a]&&(c[a]=1,++this._keptSize)},free:function(a){this.model.isId(a)?this._kept[a]&&(delete this._kept[a],--this._keptSize):(this._kept={},this._keptSize=0)},clear:function(){this._requests&&this._requests.length?this._clearLock=1:(this.inherited(arguments),this._requests=[],this._priority=[],this._kept={},this._keptSize=
0)},_init:function(){},_findMissingIds:function(a){var c=this._cache;return m.filter(a,function(a){return!c[a]})},_searchRootLevel:function(b){var c=this,d=new i,e=a(d,d.errback),n=c._struct[""],p=[],h,f;if(b.length){for(var k=1,l=n.length;k<l;++k)n[k]||(f?h.count++:(f=1,p.push(h={start:k-1,count:1})));p.push({start:2>n.length?0:n.length-2})}var m=function(a){a.length&&p.length?c._storeFetch(p.shift()).then(function(){m(c._findMissingIds(a))},e):d.callback(a)};m(b);return d},_searchChildLevel:function(b){var c=
this,d=new i,e=a(d,d.errback),n=c._struct,p=n[""].slice(1),h=function(a){if(a.length&&p.length){var b=p.shift();c._loadChildren(b).then(function(){[].push.apply(p,n[b].slice(1));h(c._findMissingIds(a))},e)}else d.callback(a)};h(b);return d},_fetchById:function(b){var c=this,d=new i,e,n,p=a(d,d.callback),h=a(d,d.errback),f=b.range,k=c.store.getChildren;b.pids=[];if(k)for(e=f.length-1;0<=e;--e)n=f[e],n=n.parentId,c.model.isId(n)&&(b.id.push(n),b.pids.push(n),f.splice(e,1));e=c._findMissingIds(b.id);
var l=[];e.length?(m.forEach(e,function(a){var b=c.idToIndex(a);0<=b&&!c.treePath(a).pop()?f.push({start:b,count:1}):l.push(a)}),c._searchRootLevel(l).then(function(a){a.length&&k?c._searchChildLevel(a).then(function(a){a.length&&console.warn("Requested row ids are not found: ",a);p(b)},h):p(b)},h)):p(b);return d},_fetchByParentId:function(b){var c=this,d=new i;(new f(m.map(b.pids,function(a){return c._loadChildren(a)}),0,1)).then(a(d,d.callback,b),a(d,d.errback));return d},_fetchByIndex:function(b){var g=
this,j=new i,e=g._size[""],b=c(g._mergePendingRequests(g._findMissingIndexes(d(b))),g.pageSize),n=0<e?m.filter(b.range,function(a){if(0<a.count&&e<a.start+a.count)a.count=e-a.start;return a.start<e}):b.range;(new f(m.map(n,function(a){return g._storeFetch(a)}),0,1)).then(a(j,j.callback,b),a(j,j.errback));return j},_findMissingIndexes:function(a){var c,d,e,n,p,h=[],f=this._struct[""],i=this._size[""];for(c=a.range.length-1;0<=c;--c){e=a.range[c];n=e.count?e.start+e.count:f.length-1;p=1;for(d=e.start;d<
n;++d){var k=f[d+1];!k||!this._cache[k]?(p?h.push({start:d,count:1}):++h[h.length-1].count,p=0):p=1}e.count||(p?(0>i||d<i)&&h.push({start:d}):delete h[h.length-1].count)}a.range=h;return a},_mergePendingRequests:function(a){var c,d,e=[],n=this._requests;for(c=n.length-1;0<=c;--c)d=n[c],a.range=h(a.range,d.range),a.range._overlap&&e.push(d._def);a._req=e.length&&new f(e,0,1);n.push(a);return a},_checkSize:function(){var a,c=this.cacheSize,d=this._priority;if(this._clearLock)this._clearLock=0,this.clear();
else if(0<=c)for(c+=this._keptSize;d.length>c;)a=d.shift(),this._kept[a]?d.push(a):delete this._cache[a]}})})},"gridx/tests/support/data/MusicData":function(){define("dojo/_base/lang,dojo/date/locale,dijit/form/NumberTextBox,dijit/form/DateTextBox,dijit/form/TimeTextBox,dijit/Editor,dijit/ProgressBar,dojo/_base/Color".split(","),function(k,m,l,i,f,e,h,d){var c=[{Heard:!0,Progress:0.5,Genre:"Easy Listening",Artist:"Bette Midler",Year:2003,Album:"Bette Midler Sings the Rosemary Clooney Songbook",Name:"Hey There",
Length:"03:31",Track:4,Composer:"Ross, Jerry 1926-1956 -w Adler, Richard 1921-","Download Date":"1923/4/9","Last Played":"04:32:49"},{Heard:!1,Progress:0.6,Genre:"Classic Rock",Artist:"Jimi Hendrix",Year:1993,Album:"Are You Experienced",Name:"Love Or Confusion",Length:"03:15",Track:4,Composer:"Jimi Hendrix","Download Date":"1947/12/6","Last Played":"03:47:49"},{Heard:!0,Progress:0.7,Genre:"Jazz",Artist:"Andy Narell",Year:1992,Album:"Down the Road",Name:"Sugar Street",Length:"07:00",Track:8,Composer:"Andy Narell",
"Download Date":"1906/3/22","Last Played":"21:56:15"},{Heard:!0,Progress:0.3,Genre:"Progressive Rock",Artist:"Emerson, Lake & Palmer",Year:1992,Album:"The Atlantic Years",Name:"Tarkus",Length:"20:40",Track:5,Composer:"Greg Lake/Keith Emerson","Download Date":"1994/11/29","Last Played":"03:25:19"},{Heard:!0,Progress:0.4,Genre:"Rock",Artist:"Blood, Sweat & Tears",Year:1968,Album:"Child Is Father To The Man",Name:"Somethin' Goin' On",Length:"08:00",Track:9,Composer:"","Download Date":"1973/9/11","Last Played":"19:49:41"},
{Heard:!0,Progress:0.87,Genre:"Jazz",Artist:"Andy Narell",Year:1989,Album:"Little Secrets",Name:"Armchair Psychology",Length:"08:20",Track:5,Composer:"Andy Narell","Download Date":"2010/4/15","Last Played":"01:13:08"},{Heard:!1,Progress:0.618,Genre:"Easy Listening",Artist:"Frank Sinatra",Year:1991,Album:"Sinatra Reprise: The Very Good Years",Name:"Luck Be A Lady",Length:"05:16",Track:4,Composer:"F. Loesser","Download Date":"2035/4/12","Last Played":"06:16:53"},{Heard:!0,Progress:0.141,Genre:"Progressive Rock",
Artist:"Dixie dregs",Year:1977,Album:"Free Fall",Name:"Sleep",Length:"01:58",Track:6,Composer:"Steve Morse","Download Date":"2032/11/21","Last Played":"08:23:26"},{Heard:!0,Progress:1,Genre:"Classic Rock",Artist:"Black Sabbath",Year:2004,Album:"Master of Reality",Name:"Sweet Leaf",Length:"05:04",Track:1,Composer:"Bill Ward/Geezer Butler/Ozzy Osbourne/Tony Iommi","Download Date":"2036/5/26","Last Played":"22:10:19"},{Heard:!0,Progress:0,Genre:"Blues",Artist:"Buddy Guy",Year:1991,Album:"Damn Right, I've Got The Blues",
Name:"Five Long Years",Length:"08:27",Track:3,Composer:"Eddie Boyd/John Lee Hooker","Download Date":"1904/4/4","Last Played":"18:28:08"},{Heard:!0,Progress:0.123,Genre:"Easy Listening",Artist:"Frank Sinatra",Year:1991,Album:"Sinatra Reprise: The Very Good Years",Name:"The Way You Look Tonight",Length:"03:23",Track:5,Composer:"D. Fields/J. Kern","Download Date":"1902/10/12","Last Played":"23:09:23"},{Heard:!1,Progress:0.2,Genre:"World",Artist:"Andy Statman & David Grisman",Year:1995,Album:"Songs Of Our Fathers",
Name:"Chassidic Medley: Adir Hu / Moshe Emes",Length:"04:14",Track:2,Composer:"Shlomo Carlebach; Trad.","Download Date":"2035/2/9","Last Played":"00:11:15"},{Heard:!0,Progress:0.3,Genre:"Classic Rock",Artist:"Jimi Hendrix",Year:1968,Album:"Electric Ladyland",Name:"Long Hot Summer Night",Length:"03:27",Track:6,Composer:"Jimi Hendrix","Download Date":"1902/4/7","Last Played":"16:58:08"},{Heard:!0,Progress:0.4,Genre:"Classical",Artist:"Andres Segovia",Year:2004,Album:"The Best Of Andres Segovia",Name:"Asturias (Suite Espanola, Op. 47)",
Length:"06:25",Track:6,Composer:"Isaac Albeniz","Download Date":"1904/10/25","Last Played":"06:59:04"},{Heard:!0,Progress:0.5,Genre:"Jazz",Artist:"Andy Narell",Year:1989,Album:"Little Secrets",Name:"We Kinda Music",Length:"08:22",Track:3,Composer:"Andy Narell","Download Date":"1905/5/22","Last Played":"23:43:08"},{Heard:!0,Progress:0.6,Genre:"Pop and R&B",Artist:"Joni Mitchell",Year:2E3,Album:"Both Sides Now",Name:"Comes Love",Length:"04:29",Track:3,Composer:"Charles Tobias/Sammy Stept/Lew Brown",
"Download Date":"1927/11/19","Last Played":"02:34:41"},{Heard:!0,Progress:0.5,Genre:"Pop and R&B",Artist:"Joni Mitchell",Year:1974,Album:"Court And Spark",Name:"Court And Spark",Length:"02:46",Track:1,Composer:"Joni Mitchell","Download Date":"1927/5/24","Last Played":"13:27:11"},{Heard:!1,Progress:0.5,Genre:"Easy Listening",Artist:"Frank Sinatra",Year:1962,Album:"Sinatra and Swinging Brass",Name:"Serenade in Blue",Length:"03:00",Track:10,Composer:"Harry Warren, Mack Gordon","Download Date":"1932/7/16",
"Last Played":"08:15:00"},{Heard:!0,Progress:0.5,Genre:"Classical",Artist:"Julian Bream",Year:1957,Album:"Fret Works: Dowland & Villa-Lobos",Name:"Queen Elizabeth's Galliard",Length:"01:33",Track:1,Composer:"John Dowland","Download Date":"2022/6/9","Last Played":"08:40:19"},{Heard:!1,Progress:0.5,Genre:"Progressive Rock",Artist:"Dixie dregs",Year:1977,Album:"Free Fall",Name:"Free Fall",Length:"04:41",Track:1,Composer:"Steve Morse","Download Date":"2022/6/6","Last Played":"01:27:11"},{Heard:!1,Progress:0.5,
Genre:"Classic Rock",Artist:"Black Sabbath",Year:2004,Album:"Master of Reality",Name:"After Forever",Length:"05:26",Track:2,Composer:"Tony Iommi","Download Date":"1996/4/7","Last Played":"03:53:26"},{Heard:!0,Progress:0.5,Genre:"Classic Rock",Artist:"Jimi Hendrix",Year:1993,Album:"Are You Experienced",Name:"The Wind Cries Mary",Length:"03:23",Track:7,Composer:"Jimi Hendrix","Download Date":"1941/4/23","Last Played":"04:52:30"},{Heard:!0,Progress:0.5,Genre:"Rock",Artist:"Dave Matthews",Year:1998,Album:"Before These Crowded Streets",
Name:"Don't Drink the Water",Length:"07:01",Track:4,Composer:"Beauford, Carter/Matthews, David J.","Download Date":"2019/8/19","Last Played":"12:45:00"},{Heard:!0,Progress:0.5,Genre:"Jazz",Artist:"Charlie Hunter",Year:2004,Album:"Friends Seen and Unseen",Name:"Eleven Bars for Gandhi",Length:"06:57",Track:7,Composer:"Charlie Hunter","Download Date":"1973/9/24","Last Played":"15:02:49"},{Heard:!0,Progress:0.5,Genre:"World",Artist:"Andy Statman & David Grisman",Year:1995,Album:"Songs Of Our Fathers",
Name:"L'Ma'an Achai V'Re'ei",Length:"05:56",Track:8,Composer:"Shlomo Carlebach","Download Date":"2007/10/27","Last Played":"20:23:26"},{Heard:!0,Progress:0.5,Genre:"Jazz",Artist:"Bill Evans",Year:1958,Album:"Everybody Digs Bill Evans",Name:"Minority",Length:"05:22",Track:1,Composer:"Gigi Gryce","Download Date":"1912/6/9","Last Played":"09:30:56"},{Heard:!1,Progress:0.9,Genre:"Classical",Artist:"Julian Bream",Year:1992,Album:"Nocturnal",Name:"Britten: Nocturnal - 1. Musingly (Meditativo)",Length:"02:14",
Track:5,Composer:"Benjamin Britten","Download Date":"1943/9/16","Last Played":"12:14:04"},{Heard:!1,Progress:0.9,Genre:"Classical",Artist:"Andres Segovia",Year:1955,Album:"The Art Of Segovia [Disc 1]",Name:"Tarrega: Recuerdos de la Alhambra",Length:"05:16",Track:1,Composer:"Francisco Tarrega","Download Date":"1946/10/11","Last Played":"09:14:04"},{Heard:!0,Progress:0.5,Genre:"Rock",Artist:"Blood, Sweat & Tears",Year:1968,Album:"Child Is Father To The Man",Name:"Overture",Length:"01:32",Track:1,Composer:"",
"Download Date":"1967/12/16","Last Played":"23:23:26"},{Heard:!0,Progress:0.5,Genre:"World",Artist:"Andy Statman Quartet",Year:2005,Album:"Between Heaven & Earth",Name:"Tzamah Nafshi",Length:"08:00",Track:8,Composer:"Karlin-Stolin","Download Date":"2002/10/10","Last Played":"01:21:34"},{Heard:!0,Progress:0.5,Genre:"Blues",Artist:"B.B. King",Year:2005,Album:"80",Name:"The Thrill Is Gone",Length:"05:03",Track:3,Composer:"","Download Date":"1949/9/13","Last Played":"16:01:53"},{Heard:!0,Progress:0.5,
Genre:"Rock",Artist:"Dave Matthews",Year:1998,Album:"Before These Crowded Streets",Name:"Stay (Wasting Time)",Length:"05:35",Track:5,Composer:"Lessard, Stefan/Beauford, Carter/Moore, Leroi","Download Date":"2020/5/12","Last Played":"15:25:19"},{Heard:!0,Progress:0.5,Genre:"Pop and R&B",Artist:"Joni Mitchell",Year:2E3,Album:"Both Sides Now",Name:"Answer Me My Love",Length:"03:24",Track:5,Composer:"Carl Sigman/Gerhard Winkler/Fred Rauch","Download Date":"1962/4/10","Last Played":"19:52:30"},{Heard:!0,
Progress:0.5,Genre:"Rock",Artist:"Dave Matthews",Year:1996,Album:"Crash",Name:"Two Step",Length:"06:29",Track:2,Composer:"Dave Matthews","Download Date":"2025/6/27","Last Played":"12:14:04"},{Heard:!1,Progress:0.5,Genre:"Progressive Rock",Artist:"Dixie dregs",Year:1978,Album:"What if",Name:"Little Kids",Length:"02:07",Track:6,Composer:"","Download Date":"2008/6/9","Last Played":"15:53:26"},{Heard:!0,Progress:0.5,Genre:"Easy Listening",Artist:"Bette Midler",Year:2003,Album:"Bette Midler Sings the Rosemary Clooney Songbook",
Name:"Come On-A My House",Length:"01:50",Track:6,Composer:"Saroyan, William 1908-1981 -w Bagdasarian, Ross 1919-1972","Download Date":"2018/8/13","Last Played":"19:21:34"},{Heard:!1,Progress:0.9,Genre:"Classical",Artist:"Julian Bream",Year:1957,Album:"Fret Works: Dowland & Villa-Lobos",Name:"King of Denmark's Galliard",Length:"01:15",Track:8,Composer:"John Dowland","Download Date":"2008/12/29","Last Played":"18:33:45"},{Heard:!1,Progress:0.9,Genre:"Classical",Artist:"Andres Segovia",Year:2004,Album:"The Best Of Andres Segovia",
Name:"Recuerdos De La Alhambra",Length:"05:12",Track:5,Composer:"Francisco Tarrega","Download Date":"1906/3/11","Last Played":"17:54:23"},{Heard:!0,Progress:0.5,Genre:"Classic Rock",Artist:"Jimi Hendrix",Year:1968,Album:"Electric Ladyland",Name:"Voodoo Chile",Length:"14:59",Track:4,Composer:"Jimi Hendrix","Download Date":"1904/12/18","Last Played":"03:00:00"},{Heard:!1,Progress:0.9,Genre:"Classical",Artist:"Julian Bream",Year:1957,Album:"Fret Works: Dowland & Villa-Lobos",Name:"Fantasia",Length:"05:02",
Track:7,Composer:"John Dowland","Download Date":"1907/4/11","Last Played":"17:37:30"},{Heard:!0,Progress:0.5,Genre:"Blues",Artist:"B.B. King",Year:1997,Album:"Deuces Wild",Name:"There Must Be A Better World Somewhere",Length:"04:51",Track:7,Composer:"Rebennack/Pomus","Download Date":"1929/1/24","Last Played":"08:51:34"},{Heard:!0,Progress:0.5,Genre:"Jazz",Artist:"Andy Narell",Year:1992,Album:"Down the Road",Name:"Green Ballet: 2nd Position for Steel Orchestra",Length:"03:41",Track:6,Composer:"Vince Mendoza",
"Download Date":"1921/3/29","Last Played":"13:38:26"},{Heard:!0,Progress:0.5,Genre:"Jazz",Artist:"Bill Evans",Year:1962,Album:"Interplay",Name:"I'll Never Smile Again (Take 7)",Length:"06:33",Track:3,Composer:"Ruth Lowe","Download Date":"2019/4/14","Last Played":"16:21:34"},{Heard:!0,Progress:0.5,Genre:"Blues",Artist:"Buddy Guy",Year:1993,Album:"Feels Like Rain",Name:"I Go Crazy",Length:"02:26",Track:2,Composer:"James Brown","Download Date":"1973/1/5","Last Played":"18:45:00"},{Heard:!0,Progress:0.5,
Genre:"Jazz",Artist:"Bill Evans",Year:1978,Album:"Affinity",Name:"The Other Side of Midnight (Noelle's Theme)",Length:"03:23",Track:7,Composer:"Michel Legrand","Download Date":"1938/6/17","Last Played":"10:04:41"},{Heard:!0,Progress:0.5,Genre:"Classic Rock",Artist:"Jimi Hendrix",Year:1968,Album:"Electric Ladyland",Name:"...And the Gods Made Love",Length:"01:23",Track:1,Composer:"Jimi Hendrix","Download Date":"2015/2/12","Last Played":"00:39:23"},{Heard:!0,Progress:0.5,Genre:"Pop and R&B",Artist:"Joni Mitchell",
Year:2E3,Album:"Both Sides Now",Name:"At Last",Length:"04:28",Track:2,Composer:"Mack Gordon/Harry Warren","Download Date":"1933/3/16","Last Played":"21:00:00"},{Heard:!0,Progress:0.5,Genre:"Easy Listening",Artist:"Bette Midler",Year:1993,Album:"Experience the Divine",Name:"Miss Ottis Regrets",Length:"02:40",Track:8,Composer:"Cole Porter","Download Date":"2012/10/6","Last Played":"04:10:19"},{Heard:!0,Progress:0.5,Genre:"Blues",Artist:"Buddy Guy",Year:1993,Album:"Feels Like Rain",Name:"Change in the Weather",
Length:"04:38",Track:7,Composer:"John Fogerty","Download Date":"1917/9/28","Last Played":"09:42:11"},{Heard:!0,Progress:0.5,Genre:"Easy Listening",Artist:"Bette Midler",Year:2003,Album:"Bette Midler Sings the Rosemary Clooney Songbook",Name:"This Ole House",Length:"03:03",Track:2,Composer:"Hamblen, Stuart 1908-1989","Download Date":"1946/8/23","Last Played":"06:30:56"},{Heard:!0,Progress:0.5,Genre:"Progressive Rock",Artist:"Dixie dregs",Year:1977,Album:"Free Fall",Name:"Holiday",Length:"04:29",Track:2,
Composer:"Steven J. Morse","Download Date":"2035/8/13","Last Played":"17:17:49"},{Heard:!0,Progress:0.5,Genre:"Rock",Artist:"Blood, Sweat & Tears",Year:1969,Album:"Blood, Sweat & Tears",Name:"Smiling Phases",Length:"05:11",Track:2,Composer:"Jim Capaldi, Steve Winwood, Chris Wood","Download Date":"1993/6/13","Last Played":"03:28:08"},{Heard:!0,Progress:0.5,Genre:"Jazz",Artist:"Andy Narell",Year:1992,Album:"Down the Road",Name:"Disorderly Conduct",Length:"06:40",Track:4,Composer:"Andy Narell","Download Date":"1996/8/31",
"Last Played":"03:39:23"},{Heard:!0,Progress:0.5,Genre:"Classic Rock",Artist:"Jimi Hendrix",Year:1993,Album:"Are You Experienced",Name:"Purple Haze",Length:"02:53",Track:1,Composer:"Jimi Hendrix","Download Date":"2004/5/23","Last Played":"22:49:41"},{Heard:!0,Progress:0.5,Genre:"Jazz",Artist:"Andy Narell",Year:1992,Album:"Down the Road",Name:"Green Ballet: 1st Position for Steel Orchestra",Length:"02:16",Track:5,Composer:"Vince Mendoza","Download Date":"1959/10/10","Last Played":"10:21:34"},{Heard:!0,
Progress:0.5,Genre:"Rock",Artist:"Blood, Sweat & Tears",Year:1968,Album:"Child Is Father To The Man",Name:"Just One Smile",Length:"04:38",Track:6,Composer:"","Download Date":"1997/6/25","Last Played":"20:57:11"},{Heard:!0,Progress:0.5,Genre:"Rock",Artist:"Blood, Sweat & Tears",Year:1969,Album:"Blood, Sweat & Tears",Name:"More And More",Length:"03:04",Track:4,Composer:"Don Juan, Pea Vee","Download Date":"1901/5/3","Last Played":"10:27:11"},{Heard:!0,Progress:0.5,Genre:"Classic Rock",Artist:"Jimi Hendrix",
Year:1968,Album:"Electric Ladyland",Name:"Have You Ever Been (To Electric Ladyland)",Length:"02:10",Track:2,Composer:"Jimi Hendrix","Download Date":"1926/6/26","Last Played":"16:52:30"},{Heard:!0,Progress:0.5,Genre:"Rock",Artist:"Blood, Sweat & Tears",Year:1968,Album:"Child Is Father To The Man",Name:"I Love You More Than You'll Ever Know",Length:"05:57",Track:2,Composer:"","Download Date":"1977/6/30","Last Played":"08:00:56"},{Heard:!0,Progress:0.5,Genre:"Blues",Artist:"B.B. King",Year:1997,Album:"Deuces Wild",
Name:"Rock Me Baby",Length:"06:38",Track:3,Composer:"B.B. King/Joe Josea","Download Date":"1997/12/14","Last Played":"01:13:08"},{Heard:!0,Progress:0.5,Genre:"Blues",Artist:"Buddy Guy",Year:1993,Album:"Feels Like Rain",Name:"Sufferin' Mind",Length:"03:33",Track:6,Composer:"E. Jones","Download Date":"2016/4/6","Last Played":"18:28:08"},{Heard:!0,Progress:0.5,Genre:"Pop and R&B",Artist:"Joni Mitchell",Year:2E3,Album:"Both Sides Now",Name:"You're My Thrill",Length:"03:52",Track:1,Composer:"Jay Gorney/Sindney Clare",
"Download Date":"1906/9/20","Last Played":"21:16:53"},{Heard:!0,Progress:0.5,Genre:"Easy Listening",Artist:"Bette Midler",Year:1993,Album:"Experience the Divine",Name:"Chapel Of Love",Length:"02:54",Track:4,Composer:"Ellie Greenwich/Jeff Barry/Phil Spector","Download Date":"1914/5/21","Last Played":"22:55:19"},{Heard:!0,Progress:0.5,Genre:"Blues",Artist:"B.B. King",Year:2005,Album:"80",Name:"Hummingbird",Length:"04:42",Track:6,Composer:"","Download Date":"1913/1/27","Last Played":"13:49:41"},{Heard:!0,
Progress:0.5,Genre:"Progressive Rock",Artist:"Emerson, Lake & Palmer",Year:1996,Album:"Brain Salad Surgery [Rhino]",Name:"Jerusalem",Length:"02:44",Track:1,Composer:"Charles Hubert Hastings Parry/William Blake","Download Date":"2006/3/2","Last Played":"18:28:08"},{Heard:!0,Progress:0.5,Genre:"Progressive Rock",Artist:"Emerson, Lake & Palmer",Year:"",Album:"The Atlantic Years",Name:"Fanfare For The Common Man",Length:"05:41",Track:9,Composer:"","Download Date":"2023/7/1","Last Played":"23:00:56"},
{Heard:!0,Progress:0.5,Genre:"Jazz",Artist:"Bill Evans",Year:1962,Album:"Interplay",Name:"Wrap Your Troubles In Dreams (And Dream Your Troubles Away)",Length:"06:21",Track:7,Composer:"Billy Moll/Harry Barris/Ted Koehler","Download Date":"1921/12/8","Last Played":"16:55:19"},{Heard:!0,Progress:0.5,Genre:"Classical",Artist:"Andres Segovia",Year:2004,Album:"The Best Of Andres Segovia",Name:"Bouree (Suite In E Minor, BWV 996 - Bach)",Length:"01:32",Track:2,Composer:"Johann Sebastian Bach (1685-1750)",
"Download Date":"1976/5/5","Last Played":"15:42:11"},{Heard:!0,Progress:0.5,Genre:"Rock",Artist:"Dave Matthews",Year:1996,Album:"Crash",Name:"Crash Into Me",Length:"05:18",Track:3,Composer:"Dave Matthews","Download Date":"1912/10/25","Last Played":"07:01:53"},{Heard:!0,Progress:0.5,Genre:"Easy Listening",Artist:"Frank Sinatra",Year:1990,Album:"The Capitol Years [Disc 1]",Name:"Someone To Watch Over Me",Length:"02:57",Track:12,Composer:"George & Ira Gershwin/George Gershwin","Download Date":"1909/8/12",
"Last Played":"03:16:53"},{Heard:!0,Progress:0.5,Genre:"Rock",Artist:"Dave Matthews",Year:1998,Album:"Before These Crowded Streets",Name:"The Last Stop",Length:"06:58",Track:3,Composer:"Lessard, Stefan/Beauford, Carter","Download Date":"1979/5/27","Last Played":"21:22:30"},{Heard:!0,Progress:0.5,Genre:"Classic Rock",Artist:"Jimi Hendrix",Year:1968,Album:"Electric Ladyland",Name:"Crosstown Traffic",Length:"02:26",Track:3,Composer:"Jimi Hendrix","Download Date":"1989/6/5","Last Played":"04:24:23"},
{Heard:!0,Progress:0.5,Genre:"Jazz",Artist:"Bill Evans",Year:1978,Album:"Affinity",Name:"I Do It For Your Love",Length:"07:23",Track:1,Composer:"Paul Simon","Download Date":"1949/6/29","Last Played":"01:24:23"},{Heard:!0,Progress:0.5,Genre:"World",Artist:"Andy Statman & David Grisman",Year:1995,Album:"Songs Of Our Fathers",Name:"Dovid Melech Yisrael",Length:"02:07",Track:6,Composer:"Shlomo Carlebach","Download Date":"2001/12/27","Last Played":"10:46:53"},{Heard:!0,Progress:0.5,Genre:"Progressive Rock",
Artist:"Dixie dregs",Year:1977,Album:"Free Fall",Name:"Dig the Ditch",Length:"03:51",Track:9,Composer:"Steven J. Morse","Download Date":"1994/10/6","Last Played":"18:00:00"},{Heard:!0,Progress:0.5,Genre:"Rock",Artist:"Dave Matthews",Year:1996,Album:"Crash",Name:"Too Much",Length:"04:24",Track:4,Composer:"Dave Matthews","Download Date":"1926/1/4","Last Played":"00:02:49"},{Heard:!0,Progress:0.5,Genre:"Classic Rock",Artist:"Black Sabbath",Year:2004,Album:"Master of Reality",Name:"Into the Void",Length:"06:12",
Track:8,Composer:"Bill Ward/Geezer Butler/Ozzy Osbourne/Tony Iommi","Download Date":"1938/7/16","Last Played":"00:56:15"},{Heard:!0,Progress:0.5,Genre:"Easy Listening",Artist:"Bette Midler",Year:1993,Album:"Experience the Divine",Name:"From A Distance",Length:"04:39",Track:3,Composer:"Julie Gold","Download Date":"2029/2/25","Last Played":"21:14:04"},{Heard:!0,Progress:0.5,Genre:"Classical",Artist:"Julian Bream",Year:1957,Album:"Fret Works: Dowland & Villa-Lobos",Name:"Lachrimae Antiquae Galliard",
Length:"02:59",Track:2,Composer:"John Dowland","Download Date":"1978/10/15","Last Played":"11:54:23"},{Heard:!0,Progress:0.5,Genre:"Rock",Artist:"Dave Matthews",Year:1996,Album:"Crash",Name:"Let You Down",Length:"04:09",Track:8,Composer:"Dave Matthews","Download Date":"1906/1/5","Last Played":"20:20:38"},{Heard:!0,Progress:0.5,Genre:"Jazz",Artist:"Bill Evans",Year:1958,Album:"Everybody Digs Bill Evans",Name:"Night and Day",Length:"07:35",Track:4,Composer:"Cole Porter","Download Date":"1953/5/20",
"Last Played":"10:24:23"},{Heard:!0,Progress:0.5,Genre:"Classic Rock",Artist:"Black Sabbath",Year:2004,Album:"Black Sabbath",Name:"Black Sabbath",Length:"06:18",Track:1,Composer:"Bill Ward/Geezer Butler/Ozzy Osbourne/Tony Iommi","Download Date":"1908/7/24","Last Played":"16:38:26"},{Heard:!0,Progress:0.5,Genre:"Blues",Artist:"Buddy Guy",Year:1993,Album:"Feels Like Rain",Name:"She's Nineteen Years Old",Length:"05:43",Track:4,Composer:"Muddy Waters","Download Date":"1971/2/24","Last Played":"01:01:53"},
{Heard:!0,Progress:0.5,Genre:"Jazz",Artist:"Bill Evans",Year:1978,Album:"Affinity",Name:"The Days of Wine and Roses",Length:"06:43",Track:4,Composer:"Henry Mancini, Johnny Mercer","Download Date":"1955/2/12","Last Played":"01:49:41"},{Heard:!0,Progress:0.5,Genre:"Progressive Rock",Artist:"Emerson, Lake & Palmer",Year:"",Album:"The Atlantic Years",Name:"The Endless Enigma (Part 1)",Length:"06:41",Track:7,Composer:"","Download Date":"1961/12/22","Last Played":"23:40:19"},{Heard:!1,Progress:0.5,Genre:"Easy Listening",
Artist:"Frank Sinatra",Year:1991,Album:"Sinatra Reprise: The Very Good Years",Name:"It Was A Very Good Year",Length:"04:29",Track:9,Composer:"E. Drake","Download Date":"1943/9/1","Last Played":"15:59:04"},{Heard:!0,Progress:0.5,Genre:"Pop and R&B",Artist:"Joni Mitchell",Year:1974,Album:"Court And Spark",Name:"Help Me",Length:"03:22",Track:2,Composer:"Joni Mitchell","Download Date":"2013/12/5","Last Played":"09:59:04"},{Heard:!0,Progress:0.5,Genre:"Classical",Artist:"Julian Bream",Year:1965,Album:"Julian Bream Edition, Vol. 20",
Name:"Bach: Lute Suite In A Minor, BWV 997 - Praeludium",Length:"03:06",Track:7,Composer:"Johann Sebastian Bach","Download Date":"2032/12/26","Last Played":"07:49:41"},{Heard:!0,Progress:0.5,Genre:"Jazz",Artist:"Bill Evans",Year:1962,Album:"Interplay",Name:"You And The Night And The Music",Length:"07:05",Track:1,Composer:"Arthur Schwartz/Howard Dietz","Download Date":"2032/12/25","Last Played":"07:30:00"},{Heard:!1,Progress:0.9,Genre:"Classical",Artist:"Julian Bream",Year:1965,Album:"Julian Bream Edition, Vol. 20",
Name:"Bach: Lute Suite In E Minor, BWV 996 - Sarabande",Length:"04:45",Track:4,Composer:"Johann Sebastian Bach","Download Date":"2017/1/6","Last Played":"05:54:23"},{Heard:!0,Progress:0.5,Genre:"Jazz",Artist:"Charlie Hunter",Year:2004,Album:"Friends Seen and Unseen",Name:"One for the Kelpers",Length:"06:31",Track:1,Composer:"John Ellis","Download Date":"1988/6/13","Last Played":"09:22:30"},{Heard:!0,Progress:0.5,Genre:"Easy Listening",Artist:"Bette Midler",Year:2003,Album:"Bette Midler Sings the Rosemary Clooney Songbook",
Name:"You'll Never Know",Length:"01:44",Track:1,Composer:"Warren, Harry 1893-1981 -w Gordon, Mac 1904-1959","Download Date":"1923/10/17","Last Played":"14:09:23"},{Heard:!0,Progress:0.5,Genre:"Progressive Rock",Artist:"Emerson, Lake & Palmer",Year:1992,Album:"The Atlantic Years",Name:"Tank",Length:"06:47",Track:4,Composer:"Carl Palmer/Keith Emerson","Download Date":"1996/11/14","Last Played":"00:36:34"},{Heard:!0,Progress:0.5,Genre:"Classic Rock",Artist:"Jimi Hendrix",Year:1968,Album:"Electric Ladyland",
Name:"Come On, Pt. 1",Length:"04:10",Track:7,Composer:"Earl King","Download Date":"2008/3/1","Last Played":"14:48:45"},{Heard:!0,Progress:0.5,Genre:"World",Artist:"Andy Statman & David Grisman",Year:1995,Album:"Songs Of Our Fathers",Name:"Der Rebbe",Length:"03:59",Track:9,Composer:"Trad.","Download Date":"2021/5/21","Last Played":"11:45:56"},{Heard:!1,Progress:0.5,Genre:"Blues",Artist:"B.B. King",Year:2005,Album:"80",Name:"Early in the Morning",Length:"04:50",Track:1,Composer:"","Download Date":"2020/1/13",
"Last Played":"08:23:26"},{Heard:!0,Progress:0.5,Genre:"Classical",Artist:"Julian Bream",Year:1992,Album:"Nocturnal",Name:"Martin: Quatre Pi\u00e8ces Breves - 3. Plainte: Sans Lenteur",Length:"02:59",Track:3,Composer:"Frank Martin","Download Date":"1986/5/4","Last Played":"20:54:23"},{Heard:!0,Progress:0.5,Genre:"Jazz",Artist:"Bill Evans",Year:1958,Album:"Everybody Digs Bill Evans",Name:"What Is There to Say?",Length:"04:54",Track:8,Composer:"Duke","Download Date":"1900/8/15","Last Played":"04:01:53"},
{Heard:!0,Progress:0.5,Genre:"Jazz",Artist:"Andy Narell",Year:1989,Album:"Little Secrets",Name:"Don't Look Back",Length:"09:39",Track:6,Composer:"Andy Narell","Download Date":"1907/3/5","Last Played":"23:29:04"},{Heard:!0,Progress:0.5,Genre:"Progressive Rock",Artist:"Dixie dregs",Year:1978,Album:"What if",Name:"What if",Length:"05:02",Track:3,Composer:"Steve Morse","Download Date":"1992/3/28","Last Played":"00:22:30"}];return{getData:function(a){for(var a=void 0===a?100:a,b={identifier:"id",label:"id",
items:[]},g=0;g<a;++g){var j=c[g%c.length];b.items.push(k.mixin({id:g,order:g+1,Color:(new d([100*Math.sin(g),100*Math.cos(g),g*g])).toHex()},j))}return b},layouts:[[{id:"id",field:"id",name:"Identity",width:"80px"},{id:"order",field:"order",name:"Order",width:"80px"},{id:"Genre",field:"Genre",name:"Genre",width:"100px",alwaysEditing:!0},{id:"Artist",field:"Artist",name:"Artist",width:"120px"},{id:"Year",field:"Year",name:"Year",width:"80px"},{id:"Album",field:"Album",name:"Album",width:"160px"},
{id:"Name",field:"Name",name:"Name",width:"80px"},{id:"Length",field:"Length",name:"Length",width:"80px"},{id:"Track",field:"Track",name:"Track",width:"80px"},{id:"Composer",field:"Composer",name:"Composer",width:"160px"},{id:"Download Date",field:"Download Date",name:"Download Date",width:"160px"},{id:"Last Played",field:"Last Played",name:"Last Played",width:"120px"},{id:"Heard",field:"Heard",name:"Heard",width:"80px"}],[{id:"id",field:"id",name:"Identity",dataType:"number"},{id:"Genre",field:"Genre",
name:"Genre",dataType:"string"},{id:"Artist",field:"Artist",name:"Artist",dataType:"string"},{id:"Album",field:"Album",name:"Album",dataType:"string"},{id:"Name",field:"Name",name:"Name",dataType:"string"},{id:"Year",field:"Year",name:"Year",dataType:"number"},{id:"Length",field:"Length",name:"Length",dataType:"string"},{id:"Track",field:"Track",name:"Track",dataType:"number"},{id:"Composer",field:"Composer",name:"Composer",dataType:"string"},{id:"Download Date",field:"Download Date",name:"Download Date",
dataType:"date"},{id:"Last Played",field:"Last Played",name:"Last Played",dataType:"time"},{id:"Heard",field:"Heard",name:"Heard",dataType:"boolean"}],[{id:"Genre",field:"Genre",name:"Genre",dataType:"string"},{id:"Artist",field:"Artist",name:"Artist",dataType:"string"},{id:"Year",field:"Year",name:"Year",dataType:"number"},{id:"Album",field:"Album",name:"Album",dataType:"string"},{id:"Name",field:"Name",name:"Name",dataType:"string"},{id:"Length",field:"Length",name:"Length",dataType:"string"},{id:"Track",
field:"Track",name:"Track",dataType:"number"},{id:"Composer",field:"Composer",name:"Composer",dataType:"string"},{id:"Download Date",field:"Download Date",name:"Download Date",dataType:"date"},{id:"Last Played",field:"Last Played",name:"Last Played",dataType:"time"},{id:"Heard",field:"Heard",name:"Heard",dataType:"boolean"}],[{field:"id",name:"Index",dataType:"number",width:"100px"},{field:"Genre",name:"Genre",width:"100px",decorator:function(){return"<div dojoType='dijit.form.TextBox' class='gridxHasGridCellValue' style='width: 100%;'></div><button>Button</button><a href='www.google.com'>Google</a>"},
widgetsInCell:!0,navigable:!0},{field:"Artist",name:"Artist (editable)",width:"20%",decorator:function(a){return["<a href='http://www.google.com.hk/search?q=",encodeURI(a),"'>[Google]  ",a,"</a><br /><a href='http://bing.com/search?q=",encodeURI(a),"'>[Bing]  ",a,"</a><br /><a href='http://search.yahoo.com/search?p=",encodeURI(a),"'>[Yahoo]  ",a,"</a>"].join("")},navigable:!0,editable:!0},{field:"Year",name:"Year (editable)",dataType:"number",width:"100px",editable:!0,editor:l},{field:"Album",name:"Album (editable)",
width:"100px",editable:!0,editor:e},{field:"Name",name:"Name",width:"100px"},{field:"Length",name:"Length",width:"100px"},{field:"Track",name:"Track",width:"100px"},{field:"Composer",name:"Composer",dataType:"boolean",width:"100px"},{field:"Progress",name:"Progress",dataType:"number",width:"100px",decorator:function(){return"<div data-dojo-type='dijit.ProgressBar' data-dojo-props='maximum: 1' class='gridxHasGridCellValue' style='width: 100%;'></div>"},widgetsInCell:!0},{field:"Download Date",name:"Date (editable)",
width:"100px",dataType:"date",storePattern:"yyyy/M/d",formatter:"MMMM d, yyyy",editable:!0,editor:i},{field:"Last Played",name:"Last Played (editable)",width:"100px",dataType:"time",storePattern:"HH:mm:ss",formatter:"hh:mm a",editable:!0,editor:f}],[{id:"id",field:"id",name:"Identity"},{id:"Year",field:"Year",name:"Year"},{id:"Length",field:"Length",name:"Length"},{id:"Track",field:"Track",name:"Track"},{id:"Download Date",field:"Download Date",name:"Download Date"},{id:"Last Played",field:"Last Played",
name:"Last Played"},{id:"Heard",field:"Heard",name:"Heard"}],[{id:"id",field:"id",name:"Identity",width:"120px"},{id:"Genre",field:"Genre",name:"Genre",width:"180px",sortable:"ascend"},{id:"Artist",field:"Artist",name:"Artist",width:"220px",sortable:"descend"},{id:"Year",field:"Year",name:"Year",width:"100px",sortable:!1},{id:"Album",field:"Album",name:"Album",width:"260px"},{id:"Name",field:"Name",name:"Name",width:"160px"},{id:"Length",field:"Length",name:"Length",width:"120px"},{id:"Track",field:"Track",
name:"Track",width:"120px"},{id:"Composer",field:"Composer",name:"Composer",width:"360px"},{id:"Download Date",field:"Download Date",name:"Download Date",width:"260px"},{id:"Last Played",field:"Last Played",name:"Last Played",width:"220px"},{id:"Heard",field:"Heard",name:"Heard",width:"80px"}],[{id:"id",field:"id",name:"Identity"},{id:"Name",field:"Name",name:"Name"},{id:"Year",field:"Year",name:"Year"}],[{id:"id",field:"id",name:"Identity"},{id:"Genre",field:"Genre",name:"Genre"},{id:"Artist",field:"Artist",
name:"Artist"}],[{id:"id",field:"id",name:"Identity"},{id:"Album",field:"Album",name:"Album"},{id:"Composer",field:"Composer",name:"Composer"}],[{id:"id",field:"id",name:"Identity",width:"100px"},{id:"Name",field:"Name",name:"Name",width:"100px"},{id:"Year",field:"Year",name:"Year",width:"100px"},{id:"Genre",field:"Genre",name:"Genre"},{id:"Artist",field:"Artist",name:"Artist"},{id:"Album",field:"Album",name:"Album"},{id:"Composer",field:"Composer",name:"Composer"}]]}})},"dojo/date/locale":function(){define("../_base/lang,../_base/array,../date,../cldr/supplemental,../i18n,../regexp,../string,../i18n!../cldr/nls/gregorian,module".split(","),
function(k,m,l,i,f,e,h,d,c){function a(a,b,c,d){return d.replace(/([a-z])\1*/ig,function(g){var e,o,f=g.charAt(0),g=g.length,k=["abbr","wide","narrow"];switch(f){case "G":e=b[4>g?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":e=a.getFullYear();switch(g){case 1:break;case 2:if(!c.fullYear){e=""+e;e=e.substr(e.length-2);break}default:o=!0}break;case "Q":case "q":e=Math.ceil((a.getMonth()+1)/3);o=!0;break;case "M":case "L":e=a.getMonth();3>g?(e+=1,o=!0):(f=["months","L"==f?"standAlone":
"format",k[g-3]].join("-"),e=b[f][e]);break;case "w":e=j._getWeekOfYear(a,0);o=!0;break;case "d":e=a.getDate();o=!0;break;case "D":e=j._getDayOfYear(a);o=!0;break;case "e":case "c":if(e=a.getDay(),2>g){e=(e-i.getFirstDayOfWeek(c.locale)+8)%7;break}case "E":e=a.getDay();3>g?(e+=1,o=!0):(f=["days","c"==f?"standAlone":"format",k[g-3]].join("-"),e=b[f][e]);break;case "a":f=12>a.getHours()?"am":"pm";e=c[f]||b["dayPeriods-format-wide-"+f];break;case "h":case "H":case "K":case "k":o=a.getHours();switch(f){case "h":e=
o%12||12;break;case "H":e=o;break;case "K":e=o%12;break;case "k":e=o||24}o=!0;break;case "m":e=a.getMinutes();o=!0;break;case "s":e=a.getSeconds();o=!0;break;case "S":e=Math.round(a.getMilliseconds()*Math.pow(10,g-3));o=!0;break;case "v":case "z":if(e=j._getZone(a,!0,c))break;g=4;case "Z":f=j._getZone(a,!1,c);f=[0>=f?"+":"-",h.pad(Math.floor(Math.abs(f)/60),2),h.pad(Math.abs(f)%60,2)];4==g&&(f.splice(0,0,"GMT"),f.splice(3,0,":"));e=f.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+
d);}o&&(e=h.pad(e,g));return e})}function b(a,b,c,d){var g=function(a){return a},b=b||g,c=c||g,d=d||g,j=a.match(/(''|[^'])+/g),e="'"==a.charAt(0);m.forEach(j,function(a,d){a?(j[d]=(e?c:b)(a.replace(/''/g,"'")),e=!e):j[d]=""});return d(j.join(""))}function g(a,b,c,d){d=e.escapeString(d);c.strict||(d=d.replace(" a"," ?a"));return d.replace(/([a-z])\1*/ig,function(d){var g;g=d.charAt(0);var j=d.length,e="",h="";c.strict?(1<j&&(e="0{"+(j-1)+"}"),2<j&&(h="0{"+(j-2)+"}")):(e="0?",h="0{0,2}");switch(g){case "y":g=
"\\d{2,4}";break;case "M":case "L":g=2<j?"\\S+?":"1[0-2]|"+e+"[1-9]";break;case "D":g="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+e+"[1-9][0-9]|"+h+"[1-9]";break;case "d":g="3[01]|[12]\\d|"+e+"[1-9]";break;case "w":g="[1-4][0-9]|5[0-3]|"+e+"[1-9]";break;case "E":case "e":case "c":g="\\S+";break;case "h":g="1[0-2]|"+e+"[1-9]";break;case "k":g="1[01]|"+e+"\\d";break;case "H":g="1\\d|2[0-3]|"+e+"\\d";break;case "K":g="1\\d|2[0-4]|"+e+"[1-9]";break;case "m":case "s":g="[0-5]\\d";break;case "S":g="\\d{"+j+"}";
break;case "a":j=c.am||b["dayPeriods-format-wide-am"];e=c.pm||b["dayPeriods-format-wide-pm"];g=j+"|"+e;c.strict||(j!=j.toLowerCase()&&(g+="|"+j.toLowerCase()),e!=e.toLowerCase()&&(g+="|"+e.toLowerCase()),-1!=g.indexOf(".")&&(g+="|"+g.replace(/\./g,"")));g=g.replace(/\./g,"\\.");break;default:g=".*"}a&&a.push(d);return"("+g+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var j={};k.setObject(c.id.replace(/\//g,"."),j);j._getZone=function(a,b){return b?l.getTimezoneName(a):a.getTimezoneOffset()};j.format=function(c,
d){var d=d||{},g=f.normalizeLocale(d.locale),e=d.formatLength||"short",g=j._getGregorianBundle(g),h=[],o=k.hitch(this,a,c,g,d);if("year"==d.selector)return b(g["dateFormatItem-yyyy"]||"yyyy",o);var i;"date"!=d.selector&&(i=d.timePattern||g["timeFormat-"+e])&&h.push(b(i,o));"time"!=d.selector&&(i=d.datePattern||g["dateFormat-"+e])&&h.push(b(i,o));return 1==h.length?h[0]:g["dateTimeFormat-"+e].replace(/\{(\d+)\}/g,function(a,b){return h[b]})};j.regexp=function(a){return j._parseInfo(a).regexp};j._parseInfo=
function(a){var a=a||{},c=f.normalizeLocale(a.locale),c=j._getGregorianBundle(c),d=a.formatLength||"short",e=a.datePattern||c["dateFormat-"+d],h=a.timePattern||c["timeFormat-"+d],d="date"==a.selector?e:"time"==a.selector?h:c["dateTimeFormat-"+d].replace(/\{(\d+)\}/g,function(a,b){return[h,e][b]}),o=[];return{regexp:b(d,k.hitch(this,g,o,c,a)),tokens:o,bundle:c}};j.parse=function(a,b){var c=/[\u200E\u200F\u202A\u202E]/g,d=j._parseInfo(b),g=d.tokens,e=d.bundle,c=RegExp("^"+d.regexp.replace(c,"")+"$",
d.strict?"":"i").exec(a&&a.replace(c,""));if(!c)return null;var h=["abbr","wide","narrow"],o=[1970,0,1,0,0,0,0],f="",c=m.every(c,function(a,c){if(!c)return!0;var d=g[c-1],j=d.length,d=d.charAt(0);switch(d){case "y":if(2!=j&&b.strict)o[0]=a;else if(100>a)a=Number(a),d=""+(new Date).getFullYear(),j=100*d.substring(0,2),d=Math.min(Number(d.substring(2,4))+20,99),o[0]=a<d?j+a:j-100+a;else{if(b.strict)return!1;o[0]=a}break;case "M":case "L":if(2<j){if(j=e["months-"+("L"==d?"standAlone":"format")+"-"+h[j-
3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),j=m.map(j,function(a){return a.replace(".","").toLowerCase()})),a=m.indexOf(j,a),-1==a)return!1}else a--;o[1]=a;break;case "E":case "e":case "c":j=e["days-"+("c"==d?"standAlone":"format")+"-"+h[j-3]].concat();b.strict||(a=a.toLowerCase(),j=m.map(j,function(a){return a.toLowerCase()}));a=m.indexOf(j,a);if(-1==a)return!1;break;case "D":o[1]=0;case "d":o[2]=a;break;case "a":j=b.am||e["dayPeriods-format-wide-am"];d=b.pm||e["dayPeriods-format-wide-pm"];
if(!b.strict)var n=/\./g,a=a.replace(n,"").toLowerCase(),j=j.replace(n,"").toLowerCase(),d=d.replace(n,"").toLowerCase();if(b.strict&&a!=j&&a!=d)return!1;f=a==d?"p":a==j?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;o[3]=a;break;case "m":o[4]=a;break;case "s":o[5]=a;break;case "S":o[6]=a}return!0}),d=+o[3];"p"===f&&12>d?o[3]=d+12:"a"===f&&12==d&&(o[3]=0);d=new Date(o[0],o[1],o[2],o[3],o[4],o[5],o[6]);b.strict&&d.setFullYear(o[0]);var i=g.join(""),k=-1!=i.indexOf("d"),
i=-1!=i.indexOf("M");if(!c||i&&d.getMonth()>o[1]||k&&d.getDate()>o[2])return null;if(i&&d.getMonth()<o[1]||k&&d.getDate()<o[2])d=l.add(d,"hour",1);return d};var o=[];j.addCustomFormats=function(a,b){o.push({pkg:a,name:b})};j._getGregorianBundle=function(a){var b={};m.forEach(o,function(c){c=f.getLocalization(c.pkg,c.name,a);b=k.mixin(b,c)},this);return b};j.addCustomFormats(c.id.replace(/\/date\/locale$/,".cldr"),"gregorian");j.getNames=function(a,b,c,d){var g,d=j._getGregorianBundle(d),a=[a,c,b];
"standAlone"==c&&(c=a.join("-"),g=d[c],1==g[0]&&(g=void 0));a[1]="format";return(g||d[a.join("-")]).concat()};j.isWeekend=function(a,b){var c=i.getWeekend(b),d=(a||new Date).getDay();c.end<c.start&&(c.end+=7,d<c.start&&(d+=7));return d>=c.start&&d<=c.end};j._getDayOfYear=function(a){return l.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};j._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var c=(new Date(a.getFullYear(),0,1)).getDay(),d=Math.floor((j._getDayOfYear(a)+(c-b+7)%7-
1)/7);c==b&&d++;return d};return j})},"dojo/date":function(){define(["./has","./_base/lang"],function(k,m){var l={};l.getDaysInMonth=function(i){var f=i.getMonth(),e=[31,28,31,30,31,30,31,31,30,31,30,31];return 1==f&&l.isLeapYear(i)?29:e[f]};l.isLeapYear=function(i){i=i.getFullYear();return!(i%400)||!(i%4)&&!!(i%100)};l.getTimezoneName=function(i){var f=i.toString(),e="",h=f.indexOf("(");if(-1<h)e=f.substring(++h,f.indexOf(")"));else if(h=/([A-Z\/]+) \d{4}$/,f=f.match(h))e=f[1];else if(f=i.toLocaleString(),
h=/ ([A-Z\/]+)$/,f=f.match(h))e=f[1];return"AM"==e||"PM"==e?"":e};l.compare=function(i,f,e){i=new Date(+i);f=new Date(+(f||new Date));"date"==e?(i.setHours(0,0,0,0),f.setHours(0,0,0,0)):"time"==e&&(i.setFullYear(0,0,0),f.setFullYear(0,0,0));return i>f?1:i<f?-1:0};l.add=function(i,f,e){var h=new Date(+i),d=!1,c="Date";switch(f){case "day":break;case "weekday":var a;(f=e%5)?a=parseInt(e/5):(f=0<e?5:-5,a=0<e?(e-5)/5:(e+5)/5);var b=i.getDay(),g=0;6==b&&0<e?g=1:0==b&&0>e&&(g=-1);b+=f;if(0==b||6==b)g=0<
e?2:-2;e=7*a+f+g;break;case "year":c="FullYear";d=!0;break;case "week":e*=7;break;case "quarter":e*=3;case "month":d=!0;c="Month";break;default:c="UTC"+f.charAt(0).toUpperCase()+f.substring(1)+"s"}if(c)h["set"+c](h["get"+c]()+e);d&&h.getDate()<i.getDate()&&h.setDate(0);return h};l.difference=function(i,f,e){var f=f||new Date,e=e||"day",h=f.getFullYear()-i.getFullYear(),d=1;switch(e){case "quarter":i=i.getMonth();f=f.getMonth();i=Math.floor(i/3)+1;f=Math.floor(f/3)+1;d=f+4*h-i;break;case "weekday":h=
Math.round(l.difference(i,f,"day"));e=parseInt(l.difference(i,f,"week"));if(0==h%7)h=5*e;else{var d=0,c=i.getDay(),a=f.getDay(),e=parseInt(h/7),f=h%7,i=new Date(i);i.setDate(i.getDate()+7*e);i=i.getDay();if(0<h)switch(!0){case 6==c:d=-1;break;case 0==c:d=0;break;case 6==a:d=-1;break;case 0==a:d=-2;break;case 5<i+f:d=-2}else if(0>h)switch(!0){case 6==c:d=0;break;case 0==c:d=1;break;case 6==a:d=2;break;case 0==a:d=1;break;case 0>i+f:d=2}h=h+d-2*e}d=h;break;case "year":d=h;break;case "month":d=f.getMonth()-
i.getMonth()+12*h;break;case "week":d=parseInt(l.difference(i,f,"day")/7);break;case "day":d/=24;case "hour":d/=60;case "minute":d/=60;case "second":d/=1E3;case "millisecond":d*=f.getTime()-i.getTime()}return Math.round(d)};m.mixin(m.getObject("dojo.date",!0),l);return l})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(k,m){var l={};k.setObject("dojo.cldr.supplemental",l);l.getFirstDayOfWeek=function(i){i={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,
ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[l._region(i)];return void 0===i?1:i};l._region=function(i){var i=m.normalizeLocale(i),i=i.split("-"),f=i[1];f?4==f.length&&(f=i[2]):f={de:"de",en:"us",es:"es",fi:"fi",
fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[i[0]];return f};l.getWeekend=function(i){var f=l._region(i),i={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[f],f={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[f];void 0===i&&(i=6);void 0===f&&(f=0);return{start:i,end:f}};return l})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(k,m){var l=
{};m.setObject("dojo.regexp",l);l.escapeString=function(i,f){return i.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(e){return f&&-1!=f.indexOf(e)?e:"\\"+e})};l.buildGroupRE=function(i,f,e){if(!(i instanceof Array))return f(i);for(var h=[],d=0;d<i.length;d++)h.push(f(i[d]));return l.group(h.join("|"),e)};l.group=function(i,f){return"("+(f?"?:":"")+i+")"};return l})},"dojo/cldr/nls/gregorian":function(){define({root:{"months-format-abbr":"1,2,3,4,5,6,7,8,9,10,11,12".split(","),"months-format-narrow":"1,2,3,4,5,6,7,8,9,10,11,12".split(","),
"months-format-wide":"1,2,3,4,5,6,7,8,9,10,11,12".split(","),"months-standAlone-abbr":"1,2,3,4,5,6,7,8,9,10,11,12".split(","),"months-standAlone-narrow":"1,2,3,4,5,6,7,8,9,10,11,12".split(","),"months-standAlone-wide":"1,2,3,4,5,6,7,8,9,10,11,12".split(","),"days-format-abbr":"1,2,3,4,5,6,7".split(","),"days-format-narrow":"1,2,3,4,5,6,7".split(","),"days-format-wide":"1,2,3,4,5,6,7".split(","),"days-standAlone-abbr":"1,2,3,4,5,6,7".split(","),"days-standAlone-narrow":"1,2,3,4,5,6,7".split(","),"days-standAlone-wide":"1,2,3,4,5,6,7".split(","),
"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-format-narrow":["1","2","3","4"],"quarters-format-wide":["Q1","Q2","Q3","Q4"],"quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-narrow":["1","2","3","4"],"quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dayPeriods-format-abbr-am":"AM","dayPeriods-format-abbr-pm":"PM","dayPeriods-format-narrow-am":"AM","dayPeriods-format-narrow-pm":"PM","dayPeriods-format-wide-am":"AM","dayPeriods-format-wide-pm":"PM",eraNames:["BCE","CE"],
eraAbbr:["BCE","CE"],eraNarrow:["BCE","CE"],"dateFormat-full":"EEEE, y MMMM dd","dateFormat-long":"y MMMM d","dateFormat-medium":"y MMM d","dateFormat-short":"yyyy-MM-dd","timeFormat-full":"HH:mm:ss zzzz","timeFormat-long":"HH:mm:ss z","timeFormat-medium":"HH:mm:ss","timeFormat-short":"HH:mm","dateTimeFormat-full":"{1} {0}","dateTimeFormat-long":"{1} {0}","dateTimeFormat-medium":"{1} {0}","dateTimeFormat-short":"{1} {0}","dateFormatItem-d":"d","dateFormatItem-Ed":"d E","dateFormatItem-h":"h a","dateFormatItem-H":"HH",
"dateFormatItem-hm":"h:mm a","dateFormatItem-Hm":"HH:mm","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-M":"L","dateFormatItem-Md":"M-d","dateFormatItem-MEd":"E, M-d","dateFormatItem-MMM":"LLL","dateFormatItem-MMMd":"MMM d","dateFormatItem-MMMEd":"E MMM d","dateFormatItem-ms":"mm:ss","dateFormatItem-y":"y","dateFormatItem-yM":"y-M","dateFormatItem-yMd":"y-M-d","dateFormatItem-yMEd":"E, y-M-d","dateFormatItem-yMMM":"y MMM","dateFormatItem-yMMMd":"y MMM d","dateFormatItem-yMMMEd":"E, y MMM d",
"dateFormatItem-yQ":"y Q","dateFormatItem-yQQQ":"y QQQ","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateTimeFormats-appendItem-Era":"{0} {1}","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dateTimeFormats-appendItem-Timezone":"{0} {1}",
"dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","dateTimeFormats-appendItem-Year":"{0} {1}","field-era":"Era","field-year":"Year","field-month":"Month","field-week":"Week","field-day":"Day","field-day-relative+-1":"Yesterday","field-day-relative+0":"Today","field-day-relative+1":"Tomorrow","field-weekday":"Day of the Week","field-dayperiod":"Dayperiod","field-hour":"Hour","field-minute":"Minute","field-second":"Second","field-zone":"Zone"},ar:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,"en-au":!0,"en-ca":!0,
"en-gb":!0,es:!0,fi:!0,fr:!0,"fr-ch":!0,he:!0,hu:!0,it:!0,ja:!0,ko:!0,nb:!0,nl:!0,pl:!0,pt:!0,"pt-pt":!0,ro:!0,ru:!0,sk:!0,sl:!0,sv:!0,th:!0,tr:!0,zh:!0,"zh-hant":!0,"zh-hk":!0,"zh-tw":!0})},"dijit/form/NumberTextBox":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/number","./RangeBoundTextBox"],function(k,m,l,i){var f=k("dijit.form.NumberTextBoxMixin",null,{pattern:l.regexp,value:NaN,editOptions:{pattern:"#.######"},_formatter:l.format,postMixInProperties:function(){this.inherited(arguments);
this._set("type","text")},_setConstraintsAttr:function(e){var h="number"==typeof e.places?e.places:0;h&&h++;if("number"!=typeof e.max)e.max=9*Math.pow(10,15-h);if("number"!=typeof e.min)e.min=-9*Math.pow(10,15-h);this.inherited(arguments,[e]);this.focusNode&&this.focusNode.value&&!isNaN(this.value)&&this.set("value",this.value)},_onFocus:function(){if(!this.disabled){var e=this.get("value");if("number"==typeof e&&!isNaN(e)&&(e=this.format(e,this.constraints),void 0!==e))this.textbox.value=e;this.inherited(arguments)}},
format:function(e,h){var d=""+e;if("number"!=typeof e)return d;if(isNaN(e))return"";if(!("rangeCheck"in this&&this.rangeCheck(e,h))&&!1!==h.exponent&&/\de[-+]?\d/i.test(d))return d;this.editOptions&&this.focused&&(h=m.mixin({},h,this.editOptions));return this._formatter(e,h)},_parser:l.parse,parse:function(e,h){var d=this._parser(e,m.mixin({},h,this.editOptions&&this.focused?this.editOptions:{}));this.editOptions&&this.focused&&isNaN(d)&&(d=this._parser(e,h));return d},_getDisplayedValueAttr:function(){var e=
this.inherited(arguments);return isNaN(e)?this.textbox.value:e},filter:function(e){return null==e||""===e?NaN:this.inherited(arguments)},serialize:function(e,h){return"number"!=typeof e||isNaN(e)?"":this.inherited(arguments)},_setBlurValue:function(){this._setValueAttr(m.hitch(m.mixin({},this,{focused:!0}),"get")("value"),!0)},_setValueAttr:function(e,h,d){if(void 0!==e&&void 0===d)if(d=""+e,"number"==typeof e)if(isNaN(e))d="";else{if("rangeCheck"in this&&this.rangeCheck(e,this.constraints)||!1===
this.constraints.exponent||!/\de[-+]?\d/i.test(d))d=void 0}else e?e=void 0:(d="",e=NaN);this.inherited(arguments,[e,h,d])},_getValueAttr:function(){var e=this.inherited(arguments);if(isNaN(e)&&""!==this.textbox.value){if(!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)&&RegExp("^"+l._realNumberRegexp(m.mixin({},this.constraints))+"$").test(this.textbox.value))return e=Number(this.textbox.value),isNaN(e)?void 0:e}else return e},isValid:function(e){if(!this.focused||this._isEmpty(this.textbox.value))return this.inherited(arguments);
var h=this.get("value");return!isNaN(h)&&this.rangeCheck(h,this.constraints)?!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)?!0:this.inherited(arguments):!1}}),k=k("dijit.form.NumberTextBox",[i,f],{baseClass:"dijitTextBox dijitNumberTextBox"});k.Mixin=f;return k})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(k,m,l,i,f){var e={};k.setObject("dojo.number",e);e.format=function(d,c){var c=k.mixin({},c||{}),
a=m.normalizeLocale(c.locale),a=m.getLocalization("dojo.cldr","number",a);c.customs=a;a=c.pattern||a[(c.type||"decimal")+"Format"];return isNaN(d)||Infinity==Math.abs(d)?null:e._applyPattern(d,a,c)};e._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;e._applyPattern=function(d,c,a){var a=a||{},b=a.customs.group,g=a.customs.decimal,c=c.split(";"),j=c[0],c=c[0>d?1:0]||"-"+j;if(-1!=c.indexOf("%"))d*=100;else if(-1!=c.indexOf("\u2030"))d*=1E3;else if(-1!=c.indexOf("\u00a4"))b=a.customs.currencyGroup||b,g=a.customs.currencyDecimal||
g,c=c.replace(/\u00a4{1,3}/,function(b){return a[["symbol","currency","displayName"][b.length-1]]||a.currency||""});else if(-1!=c.indexOf("E"))throw Error("exponential notation not supported");var o=e._numberPatternRE,j=j.match(o);if(!j)throw Error("unable to find a number expression in pattern: "+c);if(!1===a.fractional)a.places=0;return c.replace(o,e._formatAbsolute(d,j[0],{decimal:g,group:b,places:a.places,round:a.round}))};e.round=function(d,c,a){a=10/(a||10);return(a*+d).toFixed(c)/a};if(0==
(0.9).toFixed()){var h=e.round;e.round=function(d,c,a){var b=Math.pow(10,-c||0),g=Math.abs(d);if(!d||g>=b||5>g*Math.pow(10,c+1))b=0;return h(d,c,a)+(0<d?b:-b)}}e._formatAbsolute=function(d,c,a){a=a||{};if(!0===a.places)a.places=0;if(Infinity===a.places)a.places=6;var c=c.split("."),b="string"==typeof a.places&&a.places.indexOf(","),g=a.places;if(b)g=a.places.substring(b+1);else if(!(0<=g))g=(c[1]||[]).length;0>a.round||(d=e.round(d,g,a.round));var d=(""+Math.abs(d)).split("."),j=d[1]||"";if(c[1]||
a.places){if(b)a.places=a.places.substring(0,b);b=void 0!==a.places?a.places:c[1]&&c[1].lastIndexOf("0")+1;b>j.length&&(d[1]=i.pad(j,b,"0",!0));g<j.length&&(d[1]=j.substr(0,g))}else d[1]&&d.pop();g=c[0].replace(",","");b=g.indexOf("0");-1!=b&&(b=g.length-b,b>d[0].length&&(d[0]=i.pad(d[0],b)),-1==g.indexOf("#")&&(d[0]=d[0].substr(d[0].length-b)));var g=c[0].lastIndexOf(","),o,n;-1!=g&&(o=c[0].length-g-1,c=c[0].substr(0,g),g=c.lastIndexOf(","),-1!=g&&(n=c.length-g-1));c=[];for(g=d[0];g;)b=g.length-
o,c.push(0<b?g.substr(b):g),g=0<b?g.slice(0,b):"",n&&(o=n,delete n);d[0]=c.reverse().join(a.group||",");return d.join(a.decimal||".")};e.regexp=function(d){return e._parseInfo(d).regexp};e._parseInfo=function(d){var d=d||{},c=m.normalizeLocale(d.locale),c=m.getLocalization("dojo.cldr","number",c),a=d.pattern||c[(d.type||"decimal")+"Format"],b=c.group,g=c.decimal,j=1;if(-1!=a.indexOf("%"))j/=100;else if(-1!=a.indexOf("\u2030"))j/=1E3;else{var o=-1!=a.indexOf("\u00a4");o&&(b=c.currencyGroup||b,g=c.currencyDecimal||
g)}c=a.split(";");1==c.length&&c.push("-"+c[0]);c=f.buildGroupRE(c,function(a){a="(?:"+f.escapeString(a,".")+")";return a.replace(e._numberPatternRE,function(a){var c={signed:!1,separator:d.strict?b:[b,""],fractional:d.fractional,decimal:g,exponent:!1},a=a.split("."),n=d.places;1==a.length&&1!=j&&(a[1]="###");if(1==a.length||0===n)c.fractional=!1;else{void 0===n&&(n=d.pattern?a[1].lastIndexOf("0")+1:Infinity);if(n&&void 0==d.fractional)c.fractional=!0;!d.places&&n<a[1].length&&(n+=","+a[1].length);
c.places=n}a=a[0].split(",");if(1<a.length&&(c.groupSize=a.pop().length,1<a.length))c.groupSize2=a.pop().length;return"("+e._realNumberRegexp(c)+")"})},!0);o&&(c=c.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(a,b,c,g){a=f.escapeString(d[["symbol","currency","displayName"][c.length-1]]||d.currency||"");b=b?"[\\s\\xa0]":"";g=g?"[\\s\\xa0]":"";return!d.strict?(b&&(b+="*"),g&&(g+="*"),"(?:"+b+a+g+")?"):b+a+g}));return{regexp:c.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:b,decimal:g,factor:j}};e.parse=
function(d,c){var a=e._parseInfo(c),b=RegExp("^"+a.regexp+"$").exec(d);if(!b)return NaN;var g=b[1];if(!b[1]){if(!b[2])return NaN;g=b[2];a.factor*=-1}g=g.replace(RegExp("["+a.group+"\\s\\xa0]","g"),"").replace(a.decimal,".");return g*a.factor};e._realNumberRegexp=function(d){d=d||{};if(!("places"in d))d.places=Infinity;if("string"!=typeof d.decimal)d.decimal=".";if(!("fractional"in d)||/^0/.test(d.places))d.fractional=[!0,!1];if(!("exponent"in d))d.exponent=[!0,!1];if(!("eSigned"in d))d.eSigned=[!0,
!1];var c=e._integerRegexp(d),a=f.buildGroupRE(d.fractional,function(a){var b="";a&&0!==d.places&&(b="\\"+d.decimal,b=Infinity==d.places?"(?:"+b+"\\d+)?":b+("\\d{"+d.places+"}"));return b},!0),b=f.buildGroupRE(d.exponent,function(a){return a?"([eE]"+e._integerRegexp({signed:d.eSigned})+")":""}),c=c+a;a&&(c="(?:(?:"+c+")|(?:"+a+"))");return c+b};e._integerRegexp=function(d){d=d||{};if(!("signed"in d))d.signed=[!0,!1];if("separator"in d){if(!("groupSize"in d))d.groupSize=3}else d.separator="";var c=
f.buildGroupRE(d.signed,function(a){return a?"[-+]":""},!0),a=f.buildGroupRE(d.separator,function(a){if(!a)return"(?:\\d+)";a=f.escapeString(a);" "==a?a="\\s":"\u00a0"==a&&(a="\\s\\xa0");var c=d.groupSize,j=d.groupSize2;return j?(a="(?:0|[1-9]\\d{0,"+(j-1)+"}(?:["+a+"]\\d{"+j+"})*["+a+"]\\d{"+c+"})",0<c-j?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(c-1)+"}))":a):"(?:0|[1-9]\\d{0,"+(c-1)+"}(?:["+a+"]\\d{"+c+"})*)"},!0);return c+a};return e})},"dojo/cldr/nls/number":function(){define({root:{decimal:".",group:",",
list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",perMille:"\u2030",infinity:"\u221e",nan:"NaN",decimalFormat:"#,##0.###","decimalFormat-short":"000T",scientificFormat:"#E0",percentFormat:"#,##0%","currencySpacing-beforeCurrency-currencyMatch":"[:letter:]","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]","currencySpacing-beforeCurrency-insertBetween":"\u00a0","currencySpacing-afterCurrency-currencyMatch":"[:letter:]","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]",
"currencySpacing-afterCurrency-insertBetween":"\u00a0",currencyFormat:"\u00a4\u00a0#,##0.00"},ar:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,"en-gb":!0,es:!0,fi:!0,fr:!0,"fr-ch":!0,he:!0,hu:!0,it:!0,ja:!0,ko:!0,nb:!0,nl:!0,pl:!0,pt:!0,"pt-pt":!0,ro:!0,ru:!0,sk:!0,sl:!0,sv:!0,th:!0,tr:!0,zh:!0,"zh-hant":!0,"zh-hk":!0,"zh-tw":!0})},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox"],function(k,m,l){return k("dijit.form.RangeBoundTextBox",l,{rangeMessage:"",
rangeCheck:function(i,f){return("min"in f?0<=this.compare(i,f.min):!0)&&("max"in f?0>=this.compare(i,f.max):!0)},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var i=this.get("value");if(null==i)return!1;var f=!1;if("min"in this.constraints)f=this.constraints.min,f=0>this.compare(i,"number"==typeof f&&0<=f&&0!=i?0:f);if(!f&&"max"in this.constraints)f=this.constraints.max,f=0<this.compare(i,"number"!=typeof f||0<f?f:0);return f},
_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(i){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(i))},getErrorMessage:function(i){var f=this.get("value");return null!=f&&""!==f&&("number"!=typeof f||!isNaN(f))&&!this.isInRange(i)?this.rangeMessage:this.inherited(arguments)},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage)this.messages=m.getLocalization("dijit.form",
"validate",this.lang),this.rangeMessage=this.messages.rangeMessage},_setConstraintsAttr:function(i){this.inherited(arguments);this.focusNode&&(void 0!==this.constraints.min?this.focusNode.setAttribute("aria-valuemin",this.constraints.min):this.focusNode.removeAttribute("aria-valuemin"),void 0!==this.constraints.max?this.focusNode.setAttribute("aria-valuemax",this.constraints.max):this.focusNode.removeAttribute("aria-valuemax"))},_setValueAttr:function(i,f){this.focusNode.setAttribute("aria-valuenow",
i);this.inherited(arguments)},applyTextDir:function(){}})})},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/dom-construct","./ValidationTextBox"],function(k,m,l){return k("dijit.form.MappedTextBox",l,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},_setNameAttr:null,serialize:function(i){return i.toString?i.toString():""},toString:function(){var i=this.filter(this.get("value"));return null!=i?"string"==typeof i?i:this.serialize(i,this.constraints):
""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.valueNode=m.place("<input type='hidden'"+(this.name?' name="'+this.name.replace(/"/g,"&quot;")+'"':"")+"/>",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare,dojo/_base/kernel,dojo/i18n,./TextBox,../Tooltip,dojo/text!./templates/ValidationTextBox.html,dojo/i18n!./nls/validate".split(","),
function(k,m,l,i,f,e){var h;return h=k("dijit.form.ValidationTextBox",i,{templateString:e,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(d,c){c!=h.prototype[d]&&(m.deprecated("ValidationTextBox id="+this.id+", set('"+d+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",c))},_setRegExpGenAttr:function(d){this._deprecateRegExp("regExpGen",
d);this.regExpGen=this._getPatternAttr},_setRegExpAttr:function(d){this._deprecateRegExp("regExp",d)},_setValueAttr:function(){this.inherited(arguments);this.validate(this.focused)},validator:function(d,c){return RegExp("^(?:"+this._getPatternAttr(c)+")"+(this.required?"":"?")+"$").test(d)&&(!this.required||!this._isEmpty(d))&&(this._isEmpty(d)||void 0!==this.parse(d,c))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,
this.constraints)},_isEmpty:function(d){return(this.trim?/^\s*$/:/^$/).test(d)},getErrorMessage:function(){var d="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage,c="$_unset_$"==this.missingMessage?this.messages.missingMessage:!this.missingMessage?d:this.missingMessage;return this.required&&this._isEmpty(this.textbox.value)?c:d},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(d){var c=
"",a=this.disabled||this.isValid(d);if(a)this._maskValidSubsetError=!0;var b=this._isEmpty(this.textbox.value),g=!a&&d&&this._isValidSubset();this._set("state",a?"":((!this._hasBeenBlurred||d)&&b||g)&&this._maskValidSubsetError?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid",a?"false":"true");"Error"==this.state?(this._maskValidSubsetError=d&&g,c=this.getErrorMessage(d)):"Incomplete"==this.state?(c=this.getPromptMessage(d),this._maskValidSubsetError=!this._hasBeenBlurred||d):b&&(c=
this.getPromptMessage(d));this.set("message",c);return a},displayMessage:function(d){d&&this.focused?f.show(d,this.domNode,this.tooltipPosition,!this.isLeftToRight()):f.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(){this.constraints={};this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(d){if(!d.locale&&this.lang)d.locale=
this.lang;this._set("constraints",d);this._refreshState()},_getPatternAttr:function(d){var c=this.pattern;"function"==(typeof c).toLowerCase()&&(c=this.pattern(d||this.constraints));if(c!=this._lastRegExp){var a="";this._lastRegExp=c;".*"!=c&&c.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(b){switch(b.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":a+=b;break;case ")":a+="|$)";break;default:a+="(?:"+b+"|$)"}});try{"".search(a)}catch(b){a=this.pattern,
console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre="^(?:"+a+")$"}return c},postMixInProperties:function(){this.inherited(arguments);this.messages=l.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(d){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(d){this._set("required",d);this.focusNode.setAttribute("aria-required",d);this._refreshState()},_setMessageAttr:function(d){this._set("message",
d);this.displayMessage(d)},reset:function(){this._maskValidSubsetError=!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)}})})},"dijit/form/TextBox":function(){define("dojo/_base/declare,dojo/dom-construct,dojo/dom-style,dojo/_base/kernel,dojo/_base/lang,dojo/sniff,./_FormValueWidget,./_TextBoxMixin,dojo/text!./templates/TextBox.html,../main".split(","),function(k,m,l,i,f,e,h,d,c,a){k=k("dijit.form.TextBox",[h,d],{templateString:c,_singleNodeTemplate:'<input class="dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point="textbox,focusNode" autocomplete="off" type="${type}" ${!nameAttrSetting} />',
_buttonInputDisabled:e("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==a||"file"==a)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>e("ie")&&this.defer(function(){try{var a=l.getComputedStyle(this.domNode);if(a){var c=a.fontFamily;
if(c){var d=this.domNode.getElementsByTagName("INPUT");if(d)for(a=0;a<d.length;a++)d[a].style.fontFamily=c}}}catch(e){}})},_onInput:function(a){this.inherited(arguments);this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),!1)})},_setPlaceHolderAttr:function(a){this._set("placeHolder",a);if(!this._phspan)this._attachPoints.push("_phspan"),this._phspan=m.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");this._phspan.innerHTML="";this._phspan.appendChild(document.createTextNode(a));
this._updatePlaceHolder()},_updatePlaceHolder:function(){if(this._phspan)this._phspan.style.display=this.placeHolder&&!this.focused&&!this.textbox.value?"":"none"},_setValueAttr:function(a,c,d){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){i.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use set('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(a){i.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.",
"","2.0");this.set("displayedValue",a)},_onBlur:function(a){if(!this.disabled&&(this.inherited(arguments),this._updatePlaceHolder(),e("mozilla")&&this.selectOnClick))this.textbox.selectionStart=this.textbox.selectionEnd=void 0},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.inherited(arguments),this._updatePlaceHolder())}});if(e("ie"))k.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},a._setSelectionRange=
d._setSelectionRange=function(a,c,d){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveStart("character",-99999),a.moveStart("character",c),a.moveEnd("character",d-c),a.select())};return k})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(k,m,l,i){return k("dijit.form._FormValueWidget",[l,i],{_layoutHackIE7:function(){if(7==m("ie"))for(var f=this.domNode,e=f.parentNode,h=f.firstChild||f,d=h.style.filter,
c=this;e&&0==e.clientHeight;)(function(){var a=c.connect(e,"onscroll",function(){c.disconnect(a);h.style.filter=(new Date).getMilliseconds();c.defer(function(){h.style.filter=d})})})(),e=e.parentNode}})})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare,dojo/has,dojo/_base/kernel,dojo/ready,../_Widget,../_CssStateMixin,../_TemplatedMixin,./_FormWidgetMixin".split(","),function(k,m,l,i,f,e,h,d){m("dijit-legacy-requires")&&i(0,function(){require(["dijit/form/_FormValueWidget"])});return k("dijit.form._FormWidget",
[f,h,e,d],{setDisabled:function(c){l.deprecated("setDisabled("+c+") is deprecated. Use set('disabled',"+c+") instead.","","2.0");this.set("disabled",c)},setValue:function(c){l.deprecated("dijit.form._FormWidget:setValue("+c+") is deprecated.  Use set('value',"+c+") instead.","","2.0");this.set("value",c)},getValue:function(){l.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=
this.name?'name="'+this.name.replace(/"/g,"&quot;")+'"':"";this.inherited(arguments)},_setTypeAttr:null})})},"dijit/_Widget":function(){define("dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/query,dojo/ready,./registry,./_WidgetBase,./_OnDijitClickMixin,./_FocusMixin,dojo/uacss,./hccss".split(","),function(k,m,l,i,f,e,h,d,c,a,b,g,j){function o(){}function n(a){return function(b,c,d,g){return b&&"string"==typeof c&&b[c]==o?b.on(c.substring(2).toLowerCase(),
h.hitch(d,g)):a.apply(l,arguments)}}k.around(l,"connect",n);e.connect&&k.around(e,"connect",n);k=i("dijit._Widget",[b,g,j],{onClick:o,onDblClick:o,onKeyDown:o,onKeyPress:o,onKeyUp:o,onMouseDown:o,onMouseMove:o,onMouseOut:o,onMouseOver:o,onMouseLeave:o,onMouseEnter:o,onMouseUp:o,constructor:function(a){this._toConnect={};for(var b in a)this[b]===o&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,
this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===o?l.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){e.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(a,b)},attr:function(a,b){if(m.isDebug){var c=arguments.callee._ach||(arguments.callee._ach={}),d=(arguments.callee.caller||"unknown caller").toString();
c[d]||(e.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+d,"","2.0"),c[d]=!0)}return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){e.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?d("[widgetId]",this.containerNode).map(a.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},
onClose:function(){return!0}});f("dijit-legacy-requires")&&c(0,function(){require(["dijit/_base"])});return k})},"dijit/_OnDijitClickMixin":function(){define("dojo/on,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/has,dojo/_base/unload,dojo/_base/window".split(","),function(k,m,l,i,f,e,h){function d(a){return(a.keyCode===l.ENTER||a.keyCode===l.SPACE)&&!a.ctrlKey&&!a.shiftKey&&!a.altKey&&!a.metaKey}var c=null;f("dom-addeventlistener")?h.doc.addEventListener("keydown",function(a){c=a.target},!0):
function(){var a=function(a){c=a.srcElement};h.doc.attachEvent("onkeydown",a);e.addOnWindowUnload(function(){h.doc.detachEvent("onkeydown",a)})}();var a=function(a,g){if(/input|button/i.test(a.nodeName))return k(a,"click",g);var j=[k(a,"keypress",function(a){if(d(a))c=a.target,a.preventDefault()}),k(a,"keyup",function(a){d(a)&&a.target==c&&(c=null,k.emit(a.target,"click",{cancelable:!0,bubbles:!0}))}),k(a,"click",function(a){g.call(this,a)})];if(f("touch")){var e;j.push(k(a,"touchend",function(a){var b=
a.target;e=setTimeout(function(){e=null;k.emit(b,"click",{cancelable:!0,bubbles:!0})},0);a.preventDefault()}))}return{remove:function(){m.forEach(j,function(a){a.remove()});e&&(clearTimeout(e),e=null)}}},i=i("dijit._OnDijitClickMixin",null,{connect:function(b,c,d){return this.inherited(arguments,[b,"ondijitclick"==c?a:c,d])}});i.a11yclick=a;return i})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./ready","./sniff","./_base/window"],function(k,m,l,i,f){var e=f.doc.documentElement,
h=i("ie"),d=i("opera"),c=Math.floor,a=i("ff"),f=k.boxModel.replace(/-/,""),h={dj_ie:h,dj_ie6:6==c(h),dj_ie7:7==c(h),dj_ie8:8==c(h),dj_ie9:9==c(h),dj_quirks:i("quirks"),dj_iequirks:h&&i("quirks"),dj_opera:d,dj_khtml:i("khtml"),dj_webkit:i("webkit"),dj_safari:i("safari"),dj_chrome:i("chrome"),dj_gecko:i("mozilla"),dj_ff3:3==c(a)};h["dj_"+f]=!0;var b="",g;for(g in h)h[g]&&(b+=g+" ");e.className=m.trim(e.className+" "+b);l(90,function(){if(!k.isBodyLtr()){var a="dj_rtl dijitRtl "+b.replace(/ /g,"-rtl ");
e.className=m.trim(e.className+" "+a+"dj_rtl dijitRtl "+b.replace(/ /g,"-rtl "))}});return i})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/ready","dojo/_base/window"],function(k,m,l,i){l(90,function(){m("highcontrast")&&k.add(i.body(),"dijit_a11y")});return m})},"dojo/hccss":function(){define("require,./_base/config,./dom-class,./dom-construct,./dom-style,./has,./ready,./_base/window".split(","),function(k,m,l,i,f,e,h,d){e.add("highcontrast",function(){var c=d.doc.createElement("div");
c.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("+(m.blankGif||k.toUrl("./resources/blank.gif"))+");";d.body().appendChild(c);var a=f.getComputedStyle(c),b=a.backgroundImage,a=a.borderTopColor==a.borderRightColor||b&&("none"==b||"url(invalid-url:)"==b);i.destroy(c);return a});h(90,function(){e("highcontrast")&&l.add(d.body(),"dj_a11y")});return e})},"dijit/_CssStateMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/dom-class,dojo/_base/lang,dojo/on,dojo/ready,dojo/_base/window,./registry".split(","),
function(k,m,l,i,f,e,h,d,c){m=m("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);k.forEach("disabled,readOnly,checked,selected,focused,state,hovering,active,_opened".split(","),function(a){this.watch(a,f.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes)this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":this._set("hovering",
!0);this._set("active",this._mouseDown);break;case "mouseout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":this._set("active",!0);break;case "mouseup":case "touchend":this._set("active",!1)}},_setStateClass:function(){function a(a){b=b.concat(k.map(b,function(b){return b+a}),"dijit"+a)}var b=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var c="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(c);this.state&&a(this.state);
this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var c=this.stateNode||this.domNode,d={};k.forEach(c.className.split(" "),function(a){d[a]=!0});"_stateClasses"in this&&k.forEach(this._stateClasses,function(a){delete d[a]});k.forEach(b,function(a){d[a]=!0});var e=[],n;for(n in d)e.push(n);c.className=e.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(a,
b,c){function d(c){i.toggle(a,b+"Active",c)}if(!this.disabled&&!this.readOnly)switch(c.type){case "mouseover":i.toggle(a,b+"Hover",!0);break;case "mouseout":i.toggle(a,b+"Hover",!1);d(!1);break;case "mousedown":case "touchstart":d(!0);break;case "mouseup":case "touchend":d(!1);break;case "focus":case "focusin":i.toggle(a,b+"Focused",!0);break;case "blur":case "focusout":i.toggle(a,b+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});h(function(){function a(a){if(!l.isDescendant(a.relatedTarget,
a.target))for(var b=a.target;b&&b!=a.relatedTarget;b=b.parentNode)if(b._cssState){var d=c.getEnclosingWidget(b);b==d.domNode?d._cssMouseEvent(a):d._subnodeCssMouseEvent(b,b._cssState,a)}}function b(b){b.target=b.srcElement;a(b)}var g=d.body();k.forEach("mouseover,mouseout,mousedown,touchstart,mouseup,touchend".split(","),function(c){g.addEventListener?g.addEventListener(c,a,!0):g.attachEvent("on"+c,b)});e(g,"focusin, focusout",function(a){var b=a.target;b._cssState&&!b.getAttribute("widgetId")&&c.getEnclosingWidget(b)._subnodeCssMouseEvent(b,
b._cssState,a)})});return m})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-attr,dojo/dom-style,dojo/_base/lang,dojo/mouse,dojo/sniff,dojo/window,../a11y".split(","),function(k,m,l,i,f,e,h,d,c){return m("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(a){this._set("disabled",a);l.set(this.focusNode,
"disabled",a);this.valueNode&&l.set(this.valueNode,"disabled",a);this.focusNode.setAttribute("aria-disabled",a?"true":"false");a?(this._set("hovering",!1),this._set("active",!1),a="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",k.forEach(f.isArray(a)?a:[a],function(a){a=this[a];h("webkit")||c.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},
_onFocus:function(a){if("mouse"==a&&this.isFocusable())var b=this.connect(this.focusNode,"onfocus",function(){this.disconnect(c);this.disconnect(b)}),c=this.connect(this.ownerDocumentBody,"onmouseup",function(){this.disconnect(c);this.disconnect(b);this.focused&&this.focus()});this.scrollOnFocus&&this.defer(function(){d.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=i.get(this.domNode,"display")},focus:function(){if(!this.disabled&&
this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||
b||void 0===b)&&this._pendingOnChange)if(this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive)this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)})},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare",
"dojo/dom-attr","dojo/keys","dojo/sniff","./_FormWidgetMixin"],function(k,m,l,i,f){return k("dijit.form._FormValueMixin",f,{readOnly:!1,_setReadOnlyAttr:function(e){m.set(this.focusNode,"readOnly",e);this.focusNode.setAttribute("aria-readonly",e);this._set("readOnly",e)},postCreate:function(){this.inherited(arguments);i("ie")&&this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);if(void 0===this._resetValue)this._lastValueReported=this._resetValue=this.value},_setValueAttr:function(e,
h){this._handleOnChange(e,h)},_handleOnChange:function(e,h){this._set("value",e);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)},_onKeyDown:function(e){if(e.keyCode==l.ESCAPE&&!e.ctrlKey&&!e.altKey&&!e.metaKey){var h;if(9>i("ie")||i("ie")&&i("quirks"))e.preventDefault(),h=document.createEventObject(),h.keyCode=l.ESCAPE,h.shiftKey=e.shiftKey,e.srcElement.fireEvent("onkeypress",
h)}}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/on,../main".split(","),function(k,m,l,i,f,e,h,d){var c=m("dijit.form._TextBoxMixin",null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,b,c){var d;void 0!==a&&(d=this.filter(a),"string"!=typeof c&&
(c=null!==d&&("number"!=typeof d||!isNaN(d))?this.filter(this.format(d,this.constraints)):""));if(null!=c&&("number"!=typeof c||!isNaN(c))&&this.textbox.value!=c)this.textbox.value=c,this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,c);this.inherited(arguments,[d,b])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=""+a);this.textbox.value=
a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,a)},format:function(a){return null==a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(){"auto"==this.textDir&&this.applyTextDir(this.focusNode,this.focusNode.value);this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",
this.textbox.value);this.inherited(arguments);this.own(h(this.textbox,"keydown, keypress, paste, cut, input, compositionend",e.hitch(this,function(a){var b;if("keydown"==a.type){b=a.keyCode;switch(b){case f.SHIFT:case f.ALT:case f.CTRL:case f.META:case f.CAPS_LOCK:case f.NUM_LOCK:case f.SCROLL_LOCK:return}if(!a.ctrlKey&&!a.metaKey&&!a.altKey){switch(b){case f.NUMPAD_0:case f.NUMPAD_1:case f.NUMPAD_2:case f.NUMPAD_3:case f.NUMPAD_4:case f.NUMPAD_5:case f.NUMPAD_6:case f.NUMPAD_7:case f.NUMPAD_8:case f.NUMPAD_9:case f.NUMPAD_MULTIPLY:case f.NUMPAD_PLUS:case f.NUMPAD_ENTER:case f.NUMPAD_MINUS:case f.NUMPAD_PERIOD:case f.NUMPAD_DIVIDE:return}if(65<=
b&&90>=b||48<=b&&57>=b||b==f.SPACE)return;b=!1;for(var c in f)if(f[c]===a.keyCode){b=!0;break}if(!b)return}}(b=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||(b=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==f.SPACE?String.fromCharCode(a.keyCode):a.keyCode);b||(b=229);if("keypress"==a.type){if("string"!=typeof b)return;if("a"<=b&&"z">=b||"A"<=b&&"Z">=b||"0"<=b&&"9">=b||" "===b)if(a.ctrlKey||a.metaKey||a.altKey)return}if("input"==a.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var d={faux:!0},h;for(h in a)"layerX"!=h&&"layerY"!=h&&(c=a[h],"function"!=typeof c&&"undefined"!=typeof c&&(d[h]=c));e.mixin(d,{charOrCode:b,_wasConsumed:!1,preventDefault:function(){d._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});!1===this.onInput(d)&&(d.preventDefault(),d.stopPropagation());d._wasConsumed||this.defer(function(){this._onInput(d)})})))},_blankValue:"",filter:function(a){if(null===a)return this._blankValue;
if("string"!=typeof a)return a;this.trim&&(a=e.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(a){if(!this.disabled&&
!this.readOnly){if(this.selectOnClick&&"mouse"==a)this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;this._isTextSelected()||c.selectInputText(this.textbox)}),this.defer(function(){if(this._selectOnClickHandle)this.disconnect(this._selectOnClickHandle),this._selectOnClickHandle=null},500);this.inherited(arguments);this._refreshState()}},reset:function(){this.textbox.value="";this.inherited(arguments)},
_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.applyTextDir(this.focusNode,this.focusNode.value)}});c._setSelectionRange=d._setSelectionRange=function(a,b,c){a.setSelectionRange&&a.setSelectionRange(b,c)};c.selectInputText=d.selectInputText=function(a,b,d){a=l.byId(a);isNaN(b)&&(b=0);isNaN(d)&&(d=a.value?a.value.length:0);try{a.focus(),c._setSelectionRange(a,b,d)}catch(j){}};return c})},"url:dijit/form/templates/TextBox.html":'<div class="dijit dijitReset dijitInline dijitLeft" id="widget_${id}" role="presentation"\r\n\t><div class="dijitReset dijitInputField dijitInputContainer"\r\n\t\t><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\r\n\t\t\t${!nameAttrSetting} type=\'${type}\'\r\n\t/></div\r\n></div>\r\n',
"dijit/Tooltip":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/fx,dojo/dom,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,dojo/mouse,dojo/on,dojo/sniff,./_base/manager,./place,./_Widget,./_TemplatedMixin,./BackgroundIframe,dojo/text!./templates/Tooltip.html,./main".split(","),function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p,r,q){var t=m("dijit._MasterTooltip",[o,n],{duration:g.defaultDuration,templateString:r,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.bgIframe=new p(this.domNode);this.fadeIn=l.fadeIn({node:this.domNode,duration:this.duration,onEnd:d.hitch(this,"_onShow")});this.fadeOut=l.fadeOut({node:this.domNode,duration:this.duration,onEnd:d.hitch(this,"_onHide")})},show:function(a,b,c,g,e){if(!this.aroundNode||!(this.aroundNode===b&&this.containerNode.innerHTML==a))if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=a;this.set("textDir",e);this.containerNode.align=g?"right":"left";var n=j.around(this.domNode,
b,c&&c.length?c:w.defaultPosition,!g,d.hitch(this,"orient")),p=n.aroundNodePos;"M"==n.corner.charAt(0)&&"M"==n.aroundCorner.charAt(0)?(this.connectorNode.style.top=p.y+(p.h-this.connectorNode.offsetHeight>>1)-n.y+"px",this.connectorNode.style.left=""):"M"==n.corner.charAt(1)&&"M"==n.aroundCorner.charAt(1)?this.connectorNode.style.left=p.x+(p.w-this.connectorNode.offsetWidth>>1)-n.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");h.set(this.domNode,"opacity",0);this.fadeIn.play();
this.isShowingNow=!0;this.aroundNode=b}},orient:function(a,c,d,g,j){this.connectorNode.style.top="";var n=g.h,g=g.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[c+
"-"+d];this.domNode.style.width="auto";var h=e.position(this.domNode);9==b("ie")&&(h.w+=2);var p=Math.min(Math.max(g,1),h.w);e.setMarginBox(this.domNode,{w:p});"B"==d.charAt(0)&&"B"==c.charAt(0)?(a=e.position(a),c=this.connectorNode.offsetHeight,a.h>n?(this.connectorNode.style.top=n-(j.h+c>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(j.h/2-c/2,0),a.h-c)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom=
"");return Math.max(0,h.w-g)},_onShow:function(){if(b("ie"))this.domNode.style.filter=""},hide:function(a){if(this._onDeck&&this._onDeck[1]==a)this._onDeck=null;else if(this.aroundNode===a)this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play()},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck)this.show.apply(this,this._onDeck),this._onDeck=null},_setAutoTextDir:function(a){this.applyTextDir(a,b("ie")?a.outerText:a.textContent);
k.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir","undefined"!=typeof a?a:"");"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});q.showTooltip=function(a,b,c,d,g){c&&(c=k.map(c,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));if(!w._masterTT)q._masterTT=w._masterTT=new t;return w._masterTT.show(a,b,c,d,g)};q.hideTooltip=function(a){return w._masterTT&&w._masterTT.hide(a)};
var w=m("dijit.Tooltip",o,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(b){k.forEach(this._connections||[],function(a){k.forEach(a,function(a){a.remove()})},this);this._connectIds=k.filter(d.isArrayLike(b)?b:b?[b]:[],function(a){return i.byId(a,this.ownerDocument)},this);this._connections=k.map(this._connectIds,function(b){var b=i.byId(b,this.ownerDocument),g=this.selector,j=g?function(b){return a.selector(g,b)}:function(a){return a},e=this;return[a(b,j(c.enter),
function(){e._onHover(this)}),a(b,j("focusin"),function(){e._onHover(this)}),a(b,j(c.leave),d.hitch(e,"_onUnHover")),a(b,j("focusout"),d.hitch(e,"_onUnHover"))]},this);this._set("connectId",b)},addTarget:function(a){a=a.id||a;-1==k.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=k.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);
f.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;k.forEach(d.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(){return this.label||this.domNode.innerHTML},_onHover:function(a){if(!this._showTimer)this._showTimer=this.defer(function(){this.open(a)},this.showDelay)},_onUnHover:function(){this._focus||(this._showTimer&&(this._showTimer.remove(),delete this._showTimer),this.close())},open:function(a){this._showTimer&&(this._showTimer.remove(),
delete this._showTimer);var b=this.getContent(a);if(b)w.show(b,a,this.position,!this.isLeftToRight(),this.textDir),this._connectNode=a,this.onShow(a,this.position)},close:function(){this._connectNode&&(w.hide(this._connectNode),delete this._connectNode,this.onHide());this._showTimer&&(this._showTimer.remove(),delete this._showTimer)},onShow:function(){},onHide:function(){},destroy:function(){this.close();k.forEach(this._connections||[],function(a){k.forEach(a,function(a){a.remove()})},this);this.inherited(arguments)}});
w._MasterTooltip=t;w.show=q.showTooltip;w.hide=q.hideTooltip;w.defaultPosition=["after-centered","before-centered"];return w})},"dojo/_base/fx":function(){define("./kernel,./config,./lang,../Evented,./Color,./connect,./sniff,../dom,../dom-style".split(","),function(k,m,l,i,f,e,h,d,c){var a=l.mixin,b={},g=b._Line=function(a,b){this.start=a;this.end=b};g.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var j=b.Animation=function(b){a(this,b);if(l.isArray(this.curve))this.curve=
new g(this.curve[0],this.curve[1])};j.prototype=new i;l.extend(j,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var c=b||[];if(this[a])if(m.debugAtAllCosts)this[a].apply(this,c);else try{this[a].apply(this,c)}catch(d){console.error("exception in animation handler for:",a),console.error(d)}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=
this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var c=a||this.delay,d=l.hitch(this,"_play",b);if(0<c)return this._delayTimer=setTimeout(d,c),this;d();return this},_play:function(){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;var a=this.curve.getValue(this._getStep());if(!this._percent){if(!this._startRepeatCount)this._startRepeatCount=
this.repeat;this._fire("onBegin",[a])}this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();if(a)this._percent=
1;this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);if(1>this._percent)this._startTimer();else{this._active=!1;if(0<this.repeat)this.repeat--,
this.play(null,!0);else if(-1==this.repeat)this.play(null,!0);else if(this._startRepeatCount)this.repeat=this._startRepeatCount,this._startRepeatCount=0;this._percent=0;this._fire("onEnd",[this.node]);!this.repeat&&this._stopTimer()}}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var o=0,n=null,p={run:function(){}};l.extend(j,{_startTimer:function(){if(!this._timer)this._timer=e.connect(p,"run",this,"_cycle"),o++;n||(n=setInterval(l.hitch(p,"run"),this.rate))},
_stopTimer:function(){if(this._timer)e.disconnect(this._timer),this._timer=null,o--;0>=o&&(clearInterval(n),n=null,o=0)}});var r=h("ie")?function(a){var b=a.style;if(!b.width.length&&"auto"==c.get(a,"width"))b.width="auto"}:function(){};b._fade=function(g){g.node=d.byId(g.node);var j=a({properties:{}},g),g=j.properties.opacity={};g.start=!("start"in j)?function(){return+c.get(j.node,"opacity")||0}:j.start;g.end=j.end;g=b.animateProperty(j);e.connect(g,"beforeBegin",l.partial(r,j.node));return g};
b.fadeIn=function(c){return b._fade(a({end:1},c))};b.fadeOut=function(c){return b._fade(a({end:0},c))};b._defaultEasing=function(a){return 0.5+Math.sin((a+1.5)*Math.PI)/2};var q=function(a){this._properties=a;for(var b in a){var c=a[b];if(c.start instanceof f)c.tempColor=new f}};q.prototype.getValue=function(a){var b={},c;for(c in this._properties){var d=this._properties[c],g=d.start;g instanceof f?b[c]=f.blendColors(g,d.end,a,d.tempColor).toCss():l.isArray(g)||(b[c]=(d.end-g)*a+g+("opacity"!=c?d.units||
"px":0))}return b};b.animateProperty=function(b){var g=b.node=d.byId(b.node);if(!b.easing)b.easing=k._defaultEasing;b=new j(b);e.connect(b,"beforeBegin",b,function(){var b={},d;for(d in this.properties){if("width"==d||"height"==d)this.node.display="block";var j=this.properties[d];l.isFunction(j)&&(j=j(g));j=b[d]=a({},l.isObject(j)?j:{end:j});if(l.isFunction(j.start))j.start=j.start(g);if(l.isFunction(j.end))j.end=j.end(g);var e=0<=d.toLowerCase().indexOf("color"),n=function(a,b){var d={height:a.offsetHeight,
width:a.offsetWidth}[b];if(void 0!==d)return d;d=c.get(a,b);return"opacity"==b?+d:e?d:parseFloat(d)};if("end"in j){if(!("start"in j))j.start=n(g,d)}else j.end=n(g,d);e?(j.start=new f(j.start),j.end=new f(j.end)):j.start="opacity"==d?+j.start:parseFloat(j.start)}this.curve=new q(b)});e.connect(b,"onAnimate",l.hitch(c,"set",b.node));return b};b.anim=function(a,c,d,g,e,n){return b.animateProperty({node:a,duration:d||j.prototype.duration,properties:c,easing:g,onEnd:e}).play(n||0)};a(k,b);k._Animation=
j;return b})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(k,m,l,i){var f=k.Color=function(e){e&&this.setColor(e)};f.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:i.transparentColor||[0,0,0,0]};m.extend(f,{r:255,
g:255,b:255,a:1,_set:function(e,h,d,c){this.r=e;this.g=h;this.b=d;this.a=c},setColor:function(e){m.isString(e)?f.fromString(e,this):m.isArray(e)?f.fromArray(e,this):(this._set(e.r,e.g,e.b,e.a),e instanceof f||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+l.map(["r","g","b"],function(e){e=this[e].toString(16);return 2>e.length?"0"+e:e},this).join("")},toCss:function(e){var h=
this.r+", "+this.g+", "+this.b;return(e?"rgba("+h+", "+this.a:"rgb("+h)+")"},toString:function(){return this.toCss(!0)}});f.blendColors=k.blendColors=function(e,h,d,c){var a=c||new f;l.forEach(["r","g","b","a"],function(b){a[b]=e[b]+(h[b]-e[b])*d;"a"!=b&&(a[b]=Math.round(a[b]))});return a.sanitize()};f.fromRgb=k.colorFromRgb=function(e,h){var d=e.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return d&&f.fromArray(d[1].split(/\s*,\s*/),h)};f.fromHex=k.colorFromHex=function(e,h){var d=h||new f,c=4==
e.length?4:8,a=(1<<c)-1,e=Number("0x"+e.substr(1));if(isNaN(e))return null;l.forEach(["b","g","r"],function(b){var g=e&a;e>>=c;d[b]=4==c?17*g:g});d.a=1;return d};f.fromArray=k.colorFromArray=function(e,h){var d=h||new f;d._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3]));if(isNaN(d.a))d.a=1;return d.sanitize()};f.fromString=k.colorFromString=function(e,h){var d=f.named[e];return d&&f.fromArray(d,h)||f.fromRgb(e,h)||f.fromHex(e,h)};return f})},"dijit/_base/manager":function(){define(["dojo/_base/array",
"dojo/_base/config","../registry","../main"],function(k,m,l,i){k.forEach("byId,getUniqueId,findWidgets,_destroyAll,byNode,getEnclosingWidget".split(","),function(f){i[f]=l[f]});i.defaultDuration=m.defaultDuration||200;return i})},"dijit/place":function(){define("dojo/_base/array,dojo/dom-geometry,dojo/dom-style,dojo/_base/kernel,dojo/_base/window,dojo/window,./main".split(","),function(k,m,l,i,f,e,h){function d(c,a,b,d){var j=e.getBox(c.ownerDocument);(!c.parentNode||"body"!=(""+c.parentNode.tagName).toLowerCase())&&
f.body(c.ownerDocument).appendChild(c);var h=null;k.some(a,function(a){var e=a.corner,n=a.pos,f=0,i={w:{L:j.l+j.w-n.x,R:n.x-j.l,M:j.w}[e.charAt(1)],h:{T:j.t+j.h-n.y,B:n.y-j.t,M:j.h}[e.charAt(0)]},k=c.style;k.left=k.right="auto";b&&(f=b(c,a.aroundCorner,e,i,d),f="undefined"==typeof f?0:f);var l=c.style,y=l.display,v=l.visibility;if("none"==l.display)l.visibility="hidden",l.display="";k=m.position(c);l.display=y;l.visibility=v;y={L:n.x,R:n.x-k.w,M:Math.max(j.l,Math.min(j.l+j.w,n.x+(k.w>>1))-k.w)}[e.charAt(1)];
v={T:n.y,B:n.y-k.h,M:Math.max(j.t,Math.min(j.t+j.h,n.y+(k.h>>1))-k.h)}[e.charAt(0)];n=Math.max(j.l,y);l=Math.max(j.t,v);y=Math.min(j.l+j.w,y+k.w);v=Math.min(j.t+j.h,v+k.h);y-=n;v-=l;f+=k.w-y+(k.h-v);if(null==h||f<h.overflow)h={corner:e,aroundCorner:a.aroundCorner,x:n,y:l,w:y,h:v,overflow:f,spaceAvailable:i};return!f});h.overflow&&b&&b(c,h.aroundCorner,h.corner,h.spaceAvailable,d);var a=m.isBodyLtr(c.ownerDocument),n=c.style;n.top=h.y+"px";n[a?"left":"right"]=(a?h.x:j.w-h.x-h.w)+"px";n[a?"right":"left"]=
"auto";return h}return h.place={at:function(c,a,b,g){b=k.map(b,function(b){var c={corner:b,pos:{x:a.x,y:a.y}};g&&(c.pos.x+="L"==b.charAt(1)?g.x:-g.x,c.pos.y+="T"==b.charAt(0)?g.y:-g.y);return c});return d(c,b)},around:function(c,a,b,g,j){function e(a,b){x.push({aroundCorner:a,corner:b,pos:{x:{L:u,R:u+y,M:u+(y>>1)}[a.charAt(1)],y:{T:s,B:s+v,M:s+(v>>1)}[a.charAt(0)]}})}var n="string"==typeof a||"offsetWidth"in a?m.position(a,!0):a;if(a.parentNode)for(var h="absolute"==l.getComputedStyle(a).position,
a=a.parentNode;a&&1==a.nodeType&&"BODY"!=a.nodeName;){var f=m.position(a,!0),q=l.getComputedStyle(a);/relative|absolute/.test(q.position)&&(h=!1);if(!h&&/hidden|auto|scroll/.test(q.overflow)){var t=Math.min(n.y+n.h,f.y+f.h),w=Math.min(n.x+n.w,f.x+f.w);n.x=Math.max(n.x,f.x);n.y=Math.max(n.y,f.y);n.h=t-n.y;n.w=w-n.x}"absolute"==q.position&&(h=!0);a=a.parentNode}var u=n.x,s=n.y,y="w"in n?n.w:n.w=n.width,v="h"in n?n.h:(i.deprecated("place.around: dijit.place.__Rectangle: { x:"+u+", y:"+s+", height:"+
n.height+", width:"+y+" } has been deprecated.  Please use { x:"+u+", y:"+s+", h:"+n.height+", w:"+y+" }","","2.0"),n.h=n.height),x=[];k.forEach(b,function(a){var b=g;switch(a){case "above-centered":e("TM","BM");break;case "below-centered":e("BM","TM");break;case "after-centered":b=!b;case "before-centered":e(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":e(b?"TL":"TR",b?"TR":"TL");e(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":e(b?"BL":"BR",b?"TL":"TR");e(b?"BR":
"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":e(b?"TL":"TR",b?"BL":"BR");e(b?"TR":"TL",b?"BR":"BL");break;default:e(a.aroundCorner,a.corner)}});c=d(c,x,j,{w:y,h:v});c.aroundNodePos=n;return c}}})},"dijit/BackgroundIframe":function(){define("require,./main,dojo/_base/config,dojo/dom-construct,dojo/dom-style,dojo/_base/lang,dojo/on,dojo/sniff,dojo/_base/window".split(","),function(k,m,l,i,f,e,h,d,c){var a=new function(){var a=[];this.pop=function(){var g;a.length?(g=a.pop(),g.style.display=
""):(9>d("ie")?(g="<iframe src='"+(l.dojoBlankHtmlUrl||k.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role='presentation' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>",g=c.doc.createElement(g)):(g=i.create("iframe"),g.src='javascript:""',g.className="dijitBackgroundIframe",g.setAttribute("role","presentation"),f.set(g,"opacity",0.1)),g.tabIndex=-1);return g};this.push=function(c){c.style.display="none";a.push(c)}};m.BackgroundIframe=function(b){if(!b.id)throw Error("no id");
if(d("ie")||d("mozilla")){var c=this.iframe=a.pop();b.appendChild(c);7>d("ie")||d("quirks")?(this.resize(b),this._conn=h(b,"resize",e.hitch(this,function(){this.resize(b)}))):f.set(c,{width:"100%",height:"100%"})}};e.extend(m.BackgroundIframe,{resize:function(a){this.iframe&&f.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){if(this._conn)this._conn.remove(),this._conn=null;this.iframe&&(a.push(this.iframe),delete this.iframe)}});return m.BackgroundIframe})},
"url:dijit/templates/Tooltip.html":'<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip"\r\n\t><div class="dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point="containerNode" role=\'alert\'></div\r\n\t><div class="dijitTooltipConnector" data-dojo-attach-point="connectorNode"></div\r\n></div>\r\n',"url:dijit/form/templates/ValidationTextBox.html":'<div class="dijit dijitReset dijitInline dijitLeft"\r\n\tid="widget_${id}" role="presentation"\r\n\t><div class=\'dijitReset dijitValidationContainer\'\r\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\r\n\t/></div\r\n\t><div class="dijitReset dijitInputField dijitInputContainer"\r\n\t\t><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\r\n\t\t\t${!nameAttrSetting} type=\'${type}\'\r\n\t/></div\r\n></div>\r\n',
"dijit/form/nls/validate":function(){define({root:{invalidMessage:"The value entered is not valid.",missingMessage:"This value is required.",rangeMessage:"This value is out of range."},zh:!0,"zh-tw":!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,az:!0,ar:!0})},"dijit/form/DateTextBox":function(){define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(k,m,l){return k("dijit.form.DateTextBox",
l,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:m,_selector:"date",value:new Date("")})})},"dijit/Calendar":function(){define("dojo/_base/array,dojo/date,dojo/date/locale,dojo/_base/declare,dojo/dom-attr,dojo/dom-class,dojo/_base/event,dojo/_base/kernel,dojo/keys,dojo/_base/lang,dojo/sniff,./CalendarLite,./_Widget,./_CssStateMixin,./_TemplatedMixin,./form/DropDownButton".split(","),function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p){var r=i("dijit.Calendar",[g,j,o],{cssStateNodes:{decrementMonth:"dijitCalendarArrow",
incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(a){d.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_createMonthWidget:function(){return new r._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:a.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments);
this.connect(this.domNode,"onkeypress","_onKeyPress");this.connect(this.dateRowsNode,"onmouseover","_onDayMouseOver");this.connect(this.dateRowsNode,"onmouseout","_onDayMouseOut");this.connect(this.dateRowsNode,"onmousedown","_onDayMouseDown");this.connect(this.dateRowsNode,"onmouseup","_onDayMouseUp")},_onMonthSelect:function(a){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,"month",a-this.currentFocus.getMonth()))},_onDayMouseOver:function(a){if((a=e.contains(a.target,"dijitCalendarDateLabel")?
a.target.parentNode:a.target)&&(a.dijitDateValue&&!e.contains(a,"dijitCalendarDisabledDate")||a==this.previousYearLabelNode||a==this.nextYearLabelNode))e.add(a,"dijitCalendarHoveredDate"),this._currentNode=a},_onDayMouseOut:function(a){if(this._currentNode&&!(a.relatedTarget&&a.relatedTarget.parentNode==this._currentNode))a="dijitCalendarHoveredDate",e.contains(this._currentNode,"dijitCalendarActiveDate")&&(a+=" dijitCalendarActiveDate"),e.remove(this._currentNode,a),this._currentNode=null},_onDayMouseDown:function(a){if((a=
a.target.parentNode)&&a.dijitDateValue&&!e.contains(a,"dijitCalendarDisabledDate"))e.add(a,"dijitCalendarActiveDate"),this._currentNode=a},_onDayMouseUp:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&e.remove(a,"dijitCalendarActiveDate")},handleKey:function(a){var b=-1,d,g=this.currentFocus;switch(a.charOrCode){case c.RIGHT_ARROW:b=1;case c.LEFT_ARROW:d="day";this.isLeftToRight()||(b*=-1);break;case c.DOWN_ARROW:b=1;case c.UP_ARROW:d="week";break;case c.PAGE_DOWN:b=1;case c.PAGE_UP:d=a.ctrlKey||
a.altKey?"year":"month";break;case c.END:g=this.dateModule.add(g,"month",1),d="day";case c.HOME:g=new this.dateClassObj(g);g.setDate(1);break;case c.ENTER:case " ":this.set("value",this.currentFocus);break;default:return!0}d&&(g=this.dateModule.add(g,d,b));this._setCurrentFocusAttr(g);return!1},_onKeyPress:function(a){this.handleKey(a)||h.stop(a)},onValueSelected:function(){},onChange:function(a){this.onValueSelected(a)},getClassForDate:function(){}});r._MonthDropDownButton=i("dijit.Calendar._MonthDropDownButton",
p,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new r._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(a){var c=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.dropDown.set("months",c);this.containerNode.innerHTML=(6==b("ie")?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+c[a.getMonth()]+"</div>"}});
r._MonthDropDown=i("dijit.Calendar._MonthDropDown",[j,n],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' data-dojo-attach-event='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(a){this.domNode.innerHTML=k.map(a,function(a,b){return a?"<div class='dijitCalendarMonthLabel' month='"+b+"'>"+a+"</div>":""}).join("")},_onClick:function(a){this.onChange(f.get(a.target,"month"))},onChange:function(){},_onMenuHover:function(a){e.toggle(a.target,
"dijitCalendarMonthLabelHover","mouseover"==a.type)}});return r})},"dijit/CalendarLite":function(){define("dojo/_base/array,dojo/_base/declare,dojo/cldr/supplemental,dojo/date,dojo/date/locale,dojo/date/stamp,dojo/dom,dojo/dom-class,dojo/_base/event,dojo/_base/lang,dojo/sniff,dojo/string,./_WidgetBase,./_TemplatedMixin,dojo/text!./templates/Calendar.html,./hccss".split(","),function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n){var p=m("dijit.CalendarLite",[j,o],{templateString:n,dowTemplateString:'<th class="dijitReset dijitCalendarDayLabelTemplate" role="columnheader"><span class="dijitCalendarDayLabel">${d}</span></th>',
dateTemplateString:'<td class="dijitReset" role="gridcell" data-dojo-attach-point="dateCells"><span class="dijitCalendarDateLabel" data-dojo-attach-point="dateLabels"></span></td>',weekTemplateString:'<tr class="dijitReset dijitCalendarWeekTemplate" role="row">${d}${d}${d}${d}${d}${d}${d}</tr>',value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date,baseClass:"dijitCalendar",_isValidDate:function(a){return a&&!isNaN(a)&&"object"==typeof a&&a.toString()!=this.constructor.prototype.value.toString()},
_getValueAttr:function(){if(this.value&&!isNaN(this.value)){var a=new this.dateClassObj(this.value);a.setHours(0,0,0,0);a.getDate()<this.value.getDate()&&(a=this.dateModule.add(a,"hour",1));return a}return null},_setValueAttr:function(a,b){"string"==typeof a&&(a=e.fromISOString(a));a=this._patchDate(a);if(this._isValidDate(a)&&!this.isDisabledDate(a,this.lang)){if(this._set("value",a),this.set("currentFocus",a),this._markSelectedDates([a]),this._created&&(b||"undefined"==typeof b))this.onChange(this.get("value"))}else this._set("value",
null),this._markSelectedDates([])},_patchDate:function(a){a&&(a=new this.dateClassObj(a),a.setHours(1,0,0,0));return a},_setText:function(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(a.ownerDocument.createTextNode(b))},_populateGrid:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);var b=a.getDay(),c=this.dateModule.getDaysInMonth(a),d=this.dateModule.getDaysInMonth(this.dateModule.add(a,"month",-1)),g=new this.dateClassObj,j=l.getFirstDayOfWeek(this.lang);
j>b&&(j-=7);this._date2cell={};k.forEach(this.dateCells,function(e,n){var h=n+j,p=new this.dateClassObj(a),o="dijitCalendar",f=0;h<b?(h=d-b+h+1,f=-1,o+="Previous"):h>=b+c?(h=h-b-c+1,f=1,o+="Next"):(h=h-b+1,o+="Current");f&&(p=this.dateModule.add(p,"month",f));p.setDate(h);this.dateModule.compare(p,g,"date")||(o="dijitCalendarCurrentDate "+o);this.isDisabledDate(p,this.lang)?(o="dijitCalendarDisabledDate "+o,e.setAttribute("aria-disabled","true")):(o="dijitCalendarEnabledDate "+o,e.removeAttribute("aria-disabled"),
e.setAttribute("aria-selected","false"));(f=this.getClassForDate(p,this.lang))&&(o=f+" "+o);e.className=o+"Month dijitCalendarDateTemplate";o=p.valueOf();this._date2cell[o]=e;e.dijitDateValue=o;this._setText(this.dateLabels[n],p.getDateLocalized?p.getDateLocalized(this.lang):p.getDate())},this)},_populateControls:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);this.monthWidget.set("month",a);var b=a.getFullYear()-1,c=new this.dateClassObj;k.forEach(["previous","current","next"],
function(a){c.setFullYear(b++);this._setText(this[a+"YearLabelNode"],this.dateLocaleModule.format(c,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("value",new this.dateClassObj)},constructor:function(b){this.dateModule=b.datePackage?a.getObject(b.datePackage,!1):i;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=b.datePackage?a.getObject(b.datePackage+".locale",!1):f},_createMonthWidget:function(){return p._MonthWidget({id:this.id+"_mw",lang:this.lang,
dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var a=this.dowTemplateString,b=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),c=l.getFirstDayOfWeek(this.lang);this.dayCellsHtml=g.substitute([a,a,a,a,a,a,a].join(""),{d:""},function(){return b[c++%7]});a=g.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[a,a,a,a,a,a].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);h.setSelectable(this.domNode,
!1);a=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",a,!1)},postCreate:function(){this.inherited(arguments);this._connectControls()},_connectControls:function(){var b=a.hitch(this,function(a,b,c){this.connect(this[a],"onclick",function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,b,c))})});b("incrementMonth","month",1);b("decrementMonth","month",-1);b("nextYearLabelNode","year",1);b("previousYearLabelNode","year",-1)},
_setCurrentFocusAttr:function(a,c){var d=this.currentFocus,g=this._getNodeByDate(d),a=this._patchDate(a);this._set("currentFocus",a);if(!this._date2cell||0!=this.dateModule.difference(d,a,"month"))this._populateGrid(),this._populateControls(),this._markSelectedDates([this.value]);d=this._getNodeByDate(a);d.setAttribute("tabIndex",this.tabIndex);(this.focused||c)&&d.focus();g&&g!=d&&(b("webkit")?g.setAttribute("tabIndex","-1"):g.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,
!0)},_onDayClick:function(a){c.stop(a);for(a=a.target;a&&!a.dijitDateValue;a=a.parentNode);a&&!d.contains(a,"dijitCalendarDisabledDate")&&this.set("value",a.dijitDateValue)},_getNodeByDate:function(a){return(a=this._patchDate(a))&&this._date2cell?this._date2cell[a.valueOf()]:null},_markSelectedDates:function(b){function c(a,b){d.toggle(b,"dijitCalendarSelectedDate",a);b.setAttribute("aria-selected",a?"true":"false")}k.forEach(this._selectedCells||[],a.partial(c,!1));this._selectedCells=k.filter(k.map(b,
this._getNodeByDate,this),function(a){return a});k.forEach(this._selectedCells,a.partial(c,!0))},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});p._MonthWidget=m("dijit.CalendarLite._MonthWidget",j,{_setMonthAttr:function(a){var c=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.domNode.innerHTML=(6==b("ie")?"":"<div class='dijitSpacer'>"+k.map(c,function(a){return"<div>"+a+"</div>"}).join("")+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+
c[a.getMonth()]+"</div>"}});return p})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(k,m){var l={};k.setObject("dojo.date.stamp",l);l.fromISOString=function(i,f){if(!l._isoRegExp)l._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;var e=l._isoRegExp.exec(i),h=null;if(e){e.shift();e[1]&&e[1]--;e[6]&&(e[6]*=1E3);f&&(f=new Date(f),m.forEach(m.map("FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds".split(","),
function(a){return f["get"+a]()}),function(a,b){e[b]=e[b]||a}));h=new Date(e[0]||1970,e[1]||0,e[2]||1,e[3]||0,e[4]||0,e[5]||0,e[6]||0);100>e[0]&&h.setFullYear(e[0]||1970);var d=0,c=e[7]&&e[7].charAt(0);"Z"!=c&&(d=60*(e[8]||0)+(Number(e[9])||0),"-"!=c&&(d*=-1));c&&(d-=h.getTimezoneOffset());d&&h.setTime(h.getTime()+6E4*d)}return h};l.toISOString=function(i,f){var e=function(a){return 10>a?"0"+a:a},f=f||{},h=[],d=f.zulu?"getUTC":"get",c="";"time"!=f.selector&&(c=i[d+"FullYear"](),c=["0000".substr((c+
"").length)+c,e(i[d+"Month"]()+1),e(i[d+"Date"]())].join("-"));h.push(c);if("date"!=f.selector){c=[e(i[d+"Hours"]()),e(i[d+"Minutes"]()),e(i[d+"Seconds"]())].join(":");d=i[d+"Milliseconds"]();f.milliseconds&&(c+="."+(100>d?"0":"")+e(d));if(f.zulu)c+="Z";else if("time"!=f.selector)var d=i.getTimezoneOffset(),a=Math.abs(d),c=c+((0<d?"-":"+")+e(Math.floor(a/60))+":"+e(a%60));h.push(c)}return h.join("T")};return l})},"url:dijit/templates/Calendar.html":'<table cellspacing="0" cellpadding="0" class="dijitCalendarContainer" role="grid" aria-labelledby="${id}_mddb ${id}_year">\r\n\t<thead>\r\n\t\t<tr class="dijitReset dijitCalendarMonthContainer" valign="top">\r\n\t\t\t<th class=\'dijitReset dijitCalendarArrow\' data-dojo-attach-point="decrementMonth">\r\n\t\t\t\t<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarDecrease" role="presentation"/>\r\n\t\t\t\t<span data-dojo-attach-point="decreaseArrowNode" class="dijitA11ySideArrow">-</span>\r\n\t\t\t</th>\r\n\t\t\t<th class=\'dijitReset\' colspan="5">\r\n\t\t\t\t<div data-dojo-attach-point="monthNode">\r\n\t\t\t\t</div>\r\n\t\t\t</th>\r\n\t\t\t<th class=\'dijitReset dijitCalendarArrow\' data-dojo-attach-point="incrementMonth">\r\n\t\t\t\t<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarIncrease" role="presentation"/>\r\n\t\t\t\t<span data-dojo-attach-point="increaseArrowNode" class="dijitA11ySideArrow">+</span>\r\n\t\t\t</th>\r\n\t\t</tr>\r\n\t\t<tr role="row">\r\n\t\t\t${!dayCellsHtml}\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody data-dojo-attach-point="dateRowsNode" data-dojo-attach-event="onclick: _onDayClick" class="dijitReset dijitCalendarBodyContainer">\r\n\t\t\t${!dateRowsHtml}\r\n\t</tbody>\r\n\t<tfoot class="dijitReset dijitCalendarYearContainer">\r\n\t\t<tr>\r\n\t\t\t<td class=\'dijitReset\' valign="top" colspan="7" role="presentation">\r\n\t\t\t\t<div class="dijitCalendarYearLabel">\r\n\t\t\t\t\t<span data-dojo-attach-point="previousYearLabelNode" class="dijitInline dijitCalendarPreviousYear" role="button"></span>\r\n\t\t\t\t\t<span data-dojo-attach-point="currentYearLabelNode" class="dijitInline dijitCalendarSelectedYear" role="button" id="${id}_year"></span>\r\n\t\t\t\t\t<span data-dojo-attach-point="nextYearLabelNode" class="dijitInline dijitCalendarNextYear" role="button"></span>\r\n\t\t\t\t</div>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tfoot>\r\n</table>\r\n',
"dijit/form/DropDownButton":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/query,../registry,../popup,./Button,../_Container,../_HasDropDown,dojo/text!./templates/DropDownButton.html".split(","),function(k,m,l,i,f,e,h,d,c){return k("dijit.form.DropDownButton",[e,h,d],{baseClass:"dijitDropDownButton",templateString:c,_fillContent:function(){if(this.srcNodeRef){var a=l("*",this.srcNodeRef);this.inherited(arguments,[a[0]]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){if(!this.dropDown&&
this.dropDownContainer){var a=l("[widgetId]",this.dropDownContainer)[0];this.dropDown=i.byNode(a);delete this.dropDownContainer}this.dropDown&&f.hide(this.dropDown);this.inherited(arguments)}},isLoaded:function(){var a=this.dropDown;return!!a&&(!a.href||a.isLoaded)},loadDropDown:function(a){var b=this.dropDown,c=b.on("load",m.hitch(this,function(){c.remove();a()}));b.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"dijit/popup":function(){define("dojo/_base/array,dojo/aspect,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/on,dojo/sniff,./place,./BackgroundIframe,./main".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p,r){function q(){this._popupWrapper&&(h.destroy(this._popupWrapper),delete this._popupWrapper)}i=i(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_createWrapper:function(a){var b=a._popupWrapper,c=a.domNode;if(!b)b=h.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},a.ownerDocumentBody),b.appendChild(c),c=c.style,c.display="",c.visibility="",c.position="",c.top="0px",a._popupWrapper=b,m.after(a,"destroy",q,!0);return b},moveOffScreen:function(a){a=
this._createWrapper(a);c.set(a,{visibility:"hidden",top:"-9999px",display:""})},hide:function(a){a=this._createWrapper(a);c.set(a,"display","none")},getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(c){for(var h=this._stack,i=c.popup,k=c.orient||["below","below-alt","above","above-alt"],q=c.parent?c.parent.isLeftToRight():d.isBodyLtr(i.ownerDocument),r=c.around,m=c.around&&c.around.id?c.around.id+"_dropdown":"popup_"+this._idGen++;h.length&&
(!c.parent||!f.isDescendant(c.parent.domNode,h[h.length-1].widget.domNode));)this.close(h[h.length-1].widget);var B=this._createWrapper(i);e.set(B,{id:m,style:{zIndex:this._beginZIndex+h.length},"class":"dijitPopup "+(i.baseClass||i["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:c.parent?c.parent.id:""});if((o("ie")||o("mozilla"))&&!i.bgIframe)i.bgIframe=new p(B);k=r?n.around(B,r,k,q,i.orient?g.hitch(i,"orient"):null):n.at(B,c,"R"==k?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],c.padding);B.style.display=
"";B.style.visibility="visible";i.domNode.style.visibility="visible";q=[];q.push(j(B,l._keypress,g.hitch(this,function(d){if(d.charOrCode==b.ESCAPE&&c.onCancel)a.stop(d),c.onCancel();else if(d.charOrCode===b.TAB&&(a.stop(d),(d=this.getTopPopup())&&d.onCancel))d.onCancel()})));i.onCancel&&c.onCancel&&q.push(i.on("cancel",c.onCancel));q.push(i.on(i.onExecute?"execute":"change",g.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));h.push({widget:i,parent:c.parent,onExecute:c.onExecute,
onCancel:c.onCancel,onClose:c.onClose,handlers:q});if(i.onOpen)i.onOpen(k);return k},close:function(a){for(var b=this._stack;a&&k.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=b.pop(),d=c.widget,g=c.onClose;if(d.onClose)d.onClose();for(var j;j=c.handlers.pop();)j.remove();d&&d.domNode&&this.hide(d);g&&g()}}});return r.popup=new i})},"dijit/form/Button":function(){define("require,dojo/_base/declare,dojo/dom-class,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/ready,./_FormWidget,./_ButtonMixin,dojo/text!./templates/Button.html".split(","),
function(k,m,l,i,f,e,h,d,c,a){i("dijit-legacy-requires")&&h(0,function(){k(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});return m("dijit.form.Button",[d,c],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:a,_setValueAttr:"valueNode",_onClick:function(a){var c=this.inherited(arguments);c&&this.valueNode&&(this.valueNode.click(),a.preventDefault(),a.stopPropagation());return c},_fillContent:function(a){if(a&&
(!this.params||!("label"in this.params)))if(a=e.trim(a.innerHTML))this.label=a},_setShowLabelAttr:function(a){this.containerNode&&l.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){f.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);if(!this.showLabel&&!("title"in this.params))this.titleNode.title=e.trim(this.containerNode.innerText||
this.containerNode.textContent||"")}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(k,m,l,i){return k("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(f){if(this.disabled)return l.stop(f),!1;var e=!1===this.onClick(f);if(!e&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var h=this.domNode;h.parentNode;h=h.parentNode){var d=i.byNode(h);if(d&&"function"==typeof d._onSubmit){d._onSubmit(f);
e=!0;break}}e&&f.preventDefault();return!e},postCreate:function(){this.inherited(arguments);m.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(f){this._set("label",f);(this.containerNode||this.focusNode).innerHTML=f}})})},"url:dijit/form/templates/Button.html":'<span class="dijit dijitReset dijitInline" role="presentation"\r\n\t><span class="dijitReset dijitInline dijitButtonNode"\r\n\t\tdata-dojo-attach-event="ondijitclick:_onClick" role="presentation"\r\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point="titleNode,focusNode"\r\n\t\t\trole="button" aria-labelledby="${id}_label"\r\n\t\t\t><span class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode"></span\r\n\t\t\t><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\r\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid="${id}_label"\r\n\t\t\t\tdata-dojo-attach-point="containerNode"\r\n\t\t\t></span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen"\r\n\t\ttabIndex="-1" role="presentation" data-dojo-attach-point="valueNode"\r\n/></span>\r\n',
"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(k,m,l){return m("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode},addChild:function(i,f){var e=this.containerNode;if(f&&"number"==typeof f){var h=this.getChildren();if(h&&h.length>=f)e=h[f-1].domNode,f="after"}l.place(i.domNode,e,f);this._started&&!i._started&&i.startup()},removeChild:function(i){"number"==typeof i&&
(i=this.getChildren()[i]);if(i)(i=i.domNode)&&i.parentNode&&i.parentNode.removeChild(i)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(i,f){var e=this.getChildren(),h=k.indexOf(this.getChildren(),i);return e[h+f]},getIndexOfChild:function(i){return k.indexOf(this.getChildren(),i)}})})},"dijit/_HasDropDown":function(){define("dojo/_base/declare,dojo/_base/Deferred,dojo/_base/event,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/sniff,dojo/keys,dojo/_base/lang,dojo/touch,dojo/window,./registry,./focus,./popup,./_FocusMixin".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p,r){return k("dijit._HasDropDown",r,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){if(!this.disabled&&!this.readOnly)a.preventDefault(),this._docHandler=this.connect(this.ownerDocument,g.release,"_onDropDownMouseUp"),this.toggleDropDown()},_onDropDownMouseUp:function(a){a&&this._docHandler&&
this.disconnect(this._docHandler);var b=this.dropDown,d=!1;if(a&&this._opened){var g=h.position(this._buttonNode,!0);if(!(a.pageX>=g.x&&a.pageX<=g.x+g.w)||!(a.pageY>=g.y&&a.pageY<=g.y+g.h)){for(g=a.target;g&&!d;)e.contains(g,"dijitPopup")?d=!0:g=g.parentNode;if(d){g=a.target;if(b.onItemClick){for(var j;g&&!(j=o.byNode(g));)g=g.parentNode;if(j&&j.onClick&&j.getParent)j.getParent().onItemClick(j,a)}return}}}if(this._opened){if(b.focus&&!1!==b.autoFocus)this._focusDropDownTimer=this.defer(function(){b.focus();
delete this._focusDropDownTimer})}else this.defer("focus");if(c("ios"))this._justGotMouseUp=!0,this.defer(function(){this._justGotMouseUp=!1})},_onDropDownClick:function(a){c("ios")&&!this._justGotMouseUp&&(this._onDropDownMouseDown(a),this._onDropDownMouseUp(a));this._stopClickEvents&&l.stop(a)},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?
"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";e.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);this.connect(this._buttonNode,g.press,"_onDropDownMouseDown");this.connect(this._buttonNode,"onclick","_onDropDownClick");this.connect(this.focusNode,"onkeypress","_onKey");this.connect(this.focusNode,"onkeyup",
"_onKeyUp")},destroy:function(){this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(b){if(!this.disabled&&!this.readOnly){var c=this.dropDown,d=b.target;if(c&&this._opened&&c.handleKey&&!1===c.handleKey(b))l.stop(b);else if(c&&this._opened&&b.charOrCode==a.ESCAPE)this.closeDropDown(),l.stop(b);else if(!this._opened&&(b.charOrCode==a.DOWN_ARROW||(b.charOrCode==a.ENTER||" "==b.charOrCode)&&("input"!==(d.tagName||
"").toLowerCase()||d.type&&"text"!==d.type.toLowerCase())))this._toggleOnKeyUp=!0,l.stop(b)}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(b.hitch(a,"focus"),1)}},_onBlur:function(){this.closeDropDown(n.curNode&&this.dropDown&&i.isDescendant(n.curNode,this.dropDown.domNode));this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=new m,c=b.hitch(this,
function(){this.openDropDown();a.resolve(this.dropDown)});this.isLoaded()?c():this.loadDropDown(c);return a},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown():this.loadAndOpenDropDown())},openDropDown:function(){var a=this.dropDown,c=a.domNode,g=this._aroundNode||this.domNode,n=this;if(!this._preparedNode){this._preparedNode=!0;if(c.style.width)this._explicitDDWidth=!0;if(c.style.height)this._explicitDDHeight=!0}if(this.maxHeight||this.forceWidth||this.autoWidth){var o=
{display:"",visibility:"hidden"};if(!this._explicitDDWidth)o.width="";if(!this._explicitDDHeight)o.height="";d.set(c,o);o=this.maxHeight;if(-1==o)var o=j.getBox(this.ownerDocument),i=h.position(g,!1),o=Math.floor(Math.max(i.y,o.h-(i.y+i.h)));p.moveOffScreen(a);a.startup&&!a._started&&a.startup();var i=h.getMarginSize(c),k=o&&i.h>o;d.set(c,{overflowX:"visible",overflowY:k?"auto":"visible"});k?(i.h=o,"w"in i&&(i.w+=16)):delete i.h;this.forceWidth?i.w=g.offsetWidth:this.autoWidth?i.w=Math.max(i.w,g.offsetWidth):
delete i.w;b.isFunction(a.resize)?a.resize(i):h.setMarginBox(c,i)}a=p.open({parent:this,popup:a,around:g,orient:this.dropDownPosition,onExecute:function(){n.closeDropDown(!0)},onCancel:function(){n.closeDropDown(!0)},onClose:function(){f.set(n._popupStateNode,"popupActive",!1);e.remove(n._popupStateNode,"dijitHasDropDownOpen");n._set("_opened",!1)}});f.set(this._popupStateNode,"popupActive","true");e.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);return a},closeDropDown:function(a){this._focusDropDownTimer&&
(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);if(this._opened)a&&this.focus(),p.close(this.dropDown),this._opened=!1}})})},"url:dijit/form/templates/DropDownButton.html":'<span class="dijit dijitReset dijitInline"\r\n\t><span class=\'dijitReset dijitInline dijitButtonNode\'\r\n\t\tdata-dojo-attach-event="ondijitclick:_onClick" data-dojo-attach-point="_buttonNode"\r\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point="focusNode,titleNode,_arrowWrapperNode"\r\n\t\t\trole="button" aria-haspopup="true" aria-labelledby="${id}_label"\r\n\t\t\t><span class="dijitReset dijitInline dijitIcon"\r\n\t\t\t\tdata-dojo-attach-point="iconNode"\r\n\t\t\t></span\r\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tdata-dojo-attach-point="containerNode,_popupStateNode"\r\n\t\t\t\tid="${id}_label"\r\n\t\t\t></span\r\n\t\t\t><span class="dijitReset dijitInline dijitArrowButtonInner"></span\r\n\t\t\t><span class="dijitReset dijitInline dijitArrowButtonChar">&#9660;</span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen" tabIndex="-1"\r\n\t\tdata-dojo-attach-point="valueNode"\r\n/></span>\r\n',
"dijit/form/_DateTimeTextBox":function(){define("dojo/date,dojo/date/locale,dojo/date/stamp,dojo/_base/declare,dojo/_base/lang,./RangeBoundTextBox,../_HasDropDown,dojo/text!./templates/DropDownBox.html".split(","),function(k,m,l,i,f,e,h,d){return i("dijit.form._DateTimeTextBox",[e,h],{templateString:d,hasDownArrow:!0,pattern:m.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},compare:function(c,a){var b=this._isInvalidDate(c),d=this._isInvalidDate(a);
return b?d?0:-1:d?1:k.compare(c,a,this._selector)},forceWidth:!0,format:function(c,a){return!c?"":this.dateLocaleModule.format(c,a)},parse:function(c,a){return this.dateLocaleModule.parse(c,a)||(this._isEmpty(c)?null:void 0)},serialize:function(c,a){c.toGregorian&&(c=c.toGregorian());return l.toISOString(c,a)},dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(c){this.dateModule=c.datePackage?f.getObject(c.datePackage,!1):k;this.dateClassObj=
this.dateModule.Date||Date;this.dateLocaleModule=c.datePackage?f.getObject(c.datePackage+".locale",!1):m;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString()},buildRendering:function(){this.inherited(arguments);if(!this.hasDownArrow)this._buttonNode.style.display="none";if(!this.hasDownArrow)this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick"},_setConstraintsAttr:function(c){c.selector=this._selector;c.fullYear=!0;var a=
l.fromISOString;if("string"==typeof c.min)c.min=a(c.min);if("string"==typeof c.max)c.max=a(c.max);this.inherited(arguments)},_isInvalidDate:function(c){return!c||isNaN(c)||"object"!=typeof c||c.toString()==this._invalidDate},_setValueAttr:function(c,a,b){void 0!==c&&("string"==typeof c&&(c=l.fromISOString(c)),this._isInvalidDate(c)&&(c=null),c instanceof Date&&!(this.dateClassObj instanceof Date)&&(c=new this.dateClassObj(c)));this.inherited(arguments);if(this.value instanceof Date)this.filterString=
"";this.dropDown&&this.dropDown.set("value",c,!1)},_set:function(c,a){"value"==c&&this.value instanceof Date&&0==this.compare(a,this.value)||this.inherited(arguments)},_setDropDownDefaultValueAttr:function(c){this._isInvalidDate(c)&&(c=new this.dateClassObj);this.dropDownDefaultValue=c},openDropDown:function(c){this.dropDown&&this.dropDown.destroy();var a=f.isString(this.popupClass)?f.getObject(this.popupClass,!1):this.popupClass,b=this,d=this.get("value");this.dropDown=new a({onChange:function(a){b.set("value",
a,!0)},id:this.id+"_popup",dir:b.dir,lang:b.lang,value:d,currentFocus:!this._isInvalidDate(d)?d:this.dropDownDefaultValue,constraints:b.constraints,filterString:b.filterString,datePackage:b.params.datePackage,isDisabledDate:function(a){return!b.rangeCheck(a,b.constraints)}});this.inherited(arguments)},_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(c,a){this._setValueAttr(this.parse(c,this.constraints),a,c)}})})},"url:dijit/form/templates/DropDownBox.html":'<div class="dijit dijitReset dijitInline dijitLeft"\r\n\tid="widget_${id}"\r\n\trole="combobox"\r\n\t><div class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\r\n\t\tdata-dojo-attach-point="_buttonNode, _popupStateNode" role="presentation"\r\n\t\t><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\r\n\t\t\t${_buttonInputDisabled}\r\n\t/></div\r\n\t><div class=\'dijitReset dijitValidationContainer\'\r\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\r\n\t/></div\r\n\t><div class="dijitReset dijitInputField dijitInputContainer"\r\n\t\t><input class=\'dijitReset dijitInputInner\' ${!nameAttrSetting} type="text" autocomplete="off"\r\n\t\t\tdata-dojo-attach-point="textbox,focusNode" role="textbox" aria-haspopup="true"\r\n\t/></div\r\n></div>\r\n',
"dijit/form/TimeTextBox":function(){define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","../_TimePicker","./_DateTimeTextBox"],function(k,m,l,i,f){return k("dijit.form.TimeTextBox",f,{baseClass:"dijitTextBox dijitComboBox dijitTimeTextBox",popupClass:i,_selector:"time",value:new Date(""),_onKey:function(e){if(!this.disabled&&!this.readOnly)switch(this.inherited(arguments),e.keyCode){case m.ENTER:case m.TAB:case m.ESCAPE:case m.DOWN_ARROW:case m.UP_ARROW:break;default:this.defer(function(){var e=
this.get("displayedValue");this.filterString=e&&!this.parse(e,this.constraints)?e.toLowerCase():"";this._opened&&this.closeDropDown();this.openDropDown()})}}})})},"dijit/_TimePicker":function(){define("dojo/_base/array,dojo/date,dojo/date/locale,dojo/date/stamp,dojo/_base/declare,dojo/dom-class,dojo/dom-construct,dojo/_base/event,dojo/_base/kernel,dojo/keys,dojo/_base/lang,dojo/sniff,dojo/query,dojo/mouse,./typematic,./_Widget,./_TemplatedMixin,./form/_FormValueWidget,dojo/text!./templates/TimePicker.html".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p,r,q,t){return f("dijit._TimePicker",[p,r],{templateString:t,baseClass:"dijitTimePicker",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",visibleRange:"T05:00:00",value:new Date,_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:i.toISOString,setValue:function(a){c.deprecated("dijit._TimePicker:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_setValueAttr:function(a){this._set("value",
a);this._showText()},_setFilterStringAttr:function(a){this._set("filterString",a);this._showText()},isDisabledDate:function(){return!1},_getFilteredNodes:function(a,b,c,d){var g=[],d=d?d.date:this._refDate,j=a,e=this._maxIncrement+Math.abs(j),n=c?-1:1,h=c?1:0,p=1-h;do{j-=h;if(a=this._createOption(j)){if(c&&a.date>d||!c&&a.date<d)break;g[c?"unshift":"push"](a);d=a.date}j+=p}while(g.length<b&&j*n<e);return g},_showText:function(){var a=i.fromISOString;this.timeMenu.innerHTML="";this._clickableIncrementDate=
a(this.clickableIncrement);this._visibleIncrementDate=a(this.visibleIncrement);this._visibleRangeDate=a(this.visibleRange);var b=function(a){return 3600*a.getHours()+60*a.getMinutes()+a.getSeconds()},a=b(this._clickableIncrementDate),c=b(this._visibleIncrementDate),b=b(this._visibleRangeDate),d=(this.value||this.currentFocus).getTime();this._refDate=new Date(d-d%(1E3*a));this._refDate.setFullYear(1970,0,1);this._clickableIncrement=1;this._totalIncrements=b/a;this._visibleIncrement=c/a;this._maxIncrement=
86400/a;b=Math.min(this._totalIncrements,10);a=this._getFilteredNodes(0,(b>>1)+1,!1);c=[];b-=a.length;d=this._getFilteredNodes(0,b,!0,a[0]);d.length<b&&0<a.length&&(c=this._getFilteredNodes(a.length,b-d.length,!1,a[a.length-1]));k.forEach(d.concat(a,c),function(a){this.timeMenu.appendChild(a)},this)},constructor:function(){this.constraints={}},postMixInProperties:function(){this.inherited(arguments);this._setConstraintsAttr(this.constraints)},_setConstraintsAttr:function(a){b.mixin(this,a);if(!a.locale)a.locale=
this.lang},postCreate:function(){this.connect(this.timeMenu,o.wheel,"_mouseWheeled");this.own(n.addMouseListener(this.upArrow,this,"_onArrowUp",33,250),n.addMouseListener(this.downArrow,this,"_onArrowDown",33,250));this.inherited(arguments)},_buttonMouse:function(a){e.toggle(a.currentTarget,a.currentTarget==this.upArrow?"dijitUpArrowHover":"dijitDownArrowHover","mouseenter"==a.type||"mouseover"==a.type)},_createOption:function(a){var b=new Date(this._refDate),c=this._clickableIncrementDate;b.setTime(b.getTime()+
36E5*c.getHours()*a+6E4*c.getMinutes()*a+1E3*c.getSeconds()*a);"time"==this.constraints.selector&&b.setFullYear(1970,0,1);c=l.format(b,this.constraints);if(this.filterString&&0!==c.toLowerCase().indexOf(this.filterString))return null;var d=this.ownerDocument.createElement("div");d.className=this.baseClass+"Item";d.date=b;d.idx=a;h.create("div",{"class":this.baseClass+"ItemInner",innerHTML:c},d);1>a%this._visibleIncrement&&-1<a%this._visibleIncrement?e.add(d,this.baseClass+"Marker"):a%this._clickableIncrement||
e.add(d,this.baseClass+"Tick");this.isDisabledDate(b)&&e.add(d,this.baseClass+"ItemDisabled");if(this.value&&!m.compare(this.value,b,this.constraints.selector))d.selected=!0,e.add(d,this.baseClass+"ItemSelected"),e.contains(d,this.baseClass+"Marker")?e.add(d,this.baseClass+"MarkerSelected"):e.add(d,this.baseClass+"TickSelected"),this._highlightOption(d,!0);return d},_onOptionSelected:function(a){if((a=a.target.date||a.target.parentNode.date)&&!this.isDisabledDate(a))this._highlighted_option=null,
this.set("value",a),this.onChange(a)},onChange:function(){},_highlightOption:function(a,b){if(a){if(b)this._highlighted_option&&this._highlightOption(this._highlighted_option,!1),this._highlighted_option=a;else{if(this._highlighted_option!==a)return;this._highlighted_option=null}e.toggle(a,this.baseClass+"ItemHover",b);e.contains(a,this.baseClass+"Marker")?e.toggle(a,this.baseClass+"MarkerHover",b):e.toggle(a,this.baseClass+"TickHover",b)}},onmouseover:function(a){this._keyboardSelected=null;a=a.target.parentNode===
this.timeMenu?a.target:a.target.parentNode;e.contains(a,this.baseClass+"Item")&&this._highlightOption(a,!0)},onmouseout:function(a){this._keyboardSelected=null;this._highlightOption(a.target.parentNode===this.timeMenu?a.target:a.target.parentNode,!1)},_mouseWheeled:function(a){this._keyboardSelected=null;d.stop(a);this[0<a.wheelDelta?"_onArrowUp":"_onArrowDown"]()},_onArrowUp:function(a){-1===a?e.remove(this.upArrow,"dijitUpArrowActive"):(0===a&&e.add(this.upArrow,"dijitUpArrowActive"),this.timeMenu.childNodes.length&&
(a=this._getFilteredNodes(this.timeMenu.childNodes[0].idx,1,!0,this.timeMenu.childNodes[0]),a.length&&(this.timeMenu.removeChild(this.timeMenu.childNodes[this.timeMenu.childNodes.length-1]),this.timeMenu.insertBefore(a[0],this.timeMenu.childNodes[0]))))},_onArrowDown:function(a){-1===a?e.remove(this.downArrow,"dijitDownArrowActive"):(0===a&&e.add(this.downArrow,"dijitDownArrowActive"),this.timeMenu.childNodes.length&&(a=this._getFilteredNodes(this.timeMenu.childNodes[this.timeMenu.childNodes.length-
1].idx+1,1,!1,this.timeMenu.childNodes[this.timeMenu.childNodes.length-1]),a.length&&(this.timeMenu.removeChild(this.timeMenu.childNodes[0]),this.timeMenu.appendChild(a[0]))))},handleKey:function(b){if(b.charOrCode==a.DOWN_ARROW||b.charOrCode==a.UP_ARROW){d.stop(b);if(this._highlighted_option&&!this._highlighted_option.parentNode)this._highlighted_option=null;var c=this.timeMenu,g=this._highlighted_option||j("."+this.baseClass+"ItemSelected",c)[0];g?c.childNodes.length&&(b.charOrCode==a.DOWN_ARROW&&
!g.nextSibling?this._onArrowDown():b.charOrCode==a.UP_ARROW&&!g.previousSibling&&this._onArrowUp(),g=b.charOrCode==a.DOWN_ARROW?g.nextSibling:g.previousSibling):g=c.childNodes[0];this._highlightOption(g,!0);this._keyboardSelected=g;return!1}if(b.charOrCode==a.ENTER||b.charOrCode===a.TAB){if(!this._keyboardSelected&&b.charOrCode===a.TAB)return!0;this._highlighted_option&&this._onOptionSelected({target:this._highlighted_option});return b.charOrCode===a.TAB}}})})},"dijit/typematic":function(){define("dojo/_base/array,dojo/_base/connect,dojo/_base/event,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/sniff,./main".split(","),
function(k,m,l,i,f,e,h,d){var c=d.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(f.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(a,b,c,d,e,n,h,i){if(e!=this._obj){this.stop();this._initialDelay=h||500;
this._subsequentDelay=n||0.9;this._minDelay=i||10;this._obj=e;this._node=c;this._count=this._currentTimeout=-1;this._callback=f.hitch(b,d);this._evt={faux:!0};for(var k in a)"layerX"!=k&&"layerY"!=k&&(b=a[k],"function"!=typeof b&&"undefined"!=typeof b&&(this._evt[k]=b));this._fireEventAndReload()}},stop:function(){if(this._timer)clearTimeout(this._timer),this._timer=null;if(this._obj)this._callback(-1,this._node,this._evt),this._obj=null},addKeyListener:function(a,b,d,j,h,n,p){if(b.keyCode)b.charOrCode=
b.keyCode,i.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");else if(b.charCode)b.charOrCode=String.fromCharCode(b.charCode),i.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");var r=[e(a,m._keypress,f.hitch(this,function(e){e.charOrCode==b.charOrCode&&(void 0===b.ctrlKey||b.ctrlKey==e.ctrlKey)&&(void 0===b.altKey||b.altKey==e.altKey)&&(void 0===b.metaKey||
b.metaKey==(e.metaKey||!1))&&(void 0===b.shiftKey||b.shiftKey==e.shiftKey)?(l.stop(e),c.trigger(e,d,a,j,b,h,n,p)):c._obj==b&&c.stop()})),e(a,"keyup",f.hitch(this,function(){c._obj==b&&c.stop()}))];return{remove:function(){k.forEach(r,function(a){a.remove()})}}},addMouseListener:function(a,b,d,j,o,n){var p=[e(a,"mousedown",f.hitch(this,function(e){e.preventDefault();c.trigger(e,b,a,d,a,j,o,n)})),e(a,"mouseup",f.hitch(this,function(a){this._obj&&a.preventDefault();c.stop()})),e(a,"mouseout",f.hitch(this,
function(a){this._obj&&a.preventDefault();c.stop()})),e(a,"dblclick",f.hitch(this,function(e){e.preventDefault();h("ie")&&(c.trigger(e,b,a,d,a,j,o,n),setTimeout(f.hitch(this,c.stop),50))}))];return{remove:function(){k.forEach(p,function(a){a.remove()})}}},addListener:function(a,b,c,d,e,n,h,f){var i=[this.addKeyListener(b,c,d,e,n,h,f),this.addMouseListener(a,d,e,n,h,f)];return{remove:function(){k.forEach(i,function(a){a.remove()})}}}};return c})},"url:dijit/templates/TimePicker.html":'<div id="widget_${id}" class="dijitMenu"\r\n    ><div data-dojo-attach-point="upArrow" class="dijitButtonNode dijitUpArrowButton" data-dojo-attach-event="onmouseenter:_buttonMouse,onmouseleave:_buttonMouse"\r\n\t\t><div class="dijitReset dijitInline dijitArrowButtonInner" role="presentation">&#160;</div\r\n\t\t><div class="dijitArrowButtonChar">&#9650;</div></div\r\n    ><div data-dojo-attach-point="timeMenu,focusNode" data-dojo-attach-event="onclick:_onOptionSelected,onmouseover,onmouseout"></div\r\n    ><div data-dojo-attach-point="downArrow" class="dijitButtonNode dijitDownArrowButton" data-dojo-attach-event="onmouseenter:_buttonMouse,onmouseleave:_buttonMouse"\r\n\t\t><div class="dijitReset dijitInline dijitArrowButtonInner" role="presentation">&#160;</div\r\n\t\t><div class="dijitArrowButtonChar">&#9660;</div></div\r\n></div>\r\n',
"dijit/Editor":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/Deferred,dojo/i18n,dojo/dom-attr,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/sniff,dojo/string,dojo/topic,dojo/_base/window,./_base/focus,./_Container,./Toolbar,./ToolbarSeparator,./layout/_LayoutWidget,./form/ToggleButton,./_editor/_Plugin,./_editor/plugins/EnterKeyHandling,./_editor/html,./_editor/range,./_editor/RichText,./main,dojo/i18n!./_editor/nls/commands".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p,r,q,t,w,u,s,y,v,x,B,D){function z(a){return new s({command:a.name})}function G(a){return new s({buttonClass:u,command:a.name})}m=m("dijit.Editor",B,{plugins:null,extraPlugins:null,constructor:function(){if(!b.isArray(this.plugins))this.plugins=["undo","redo","|","cut","copy","paste","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","indent","outdent","|","justifyLeft","justifyRight","justifyCenter","justifyFull",
y];this._plugins=[];this._editInterval=1E3*this.editActionInterval;g("ie")&&(this.events.push("onBeforeDeactivate"),this.events.push("onBeforeActivate"))},postMixInProperties:function(){this.setValueDeferred=new l;this.inherited(arguments)},postCreate:function(){this._steps=this._steps.slice(0);this._undoedSteps=this._undoedSteps.slice(0);if(b.isArray(this.extraPlugins))this.plugins=this.plugins.concat(this.extraPlugins);this.inherited(arguments);this.commands=i.getLocalization("dijit._editor","commands",
this.lang);if(!this.toolbar)this.toolbar=new q({ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang}),this.header.appendChild(this.toolbar.domNode);k.forEach(this.plugins,this.addPlugin,this);this.setValueDeferred.resolve(!0);e.add(this.iframe.parentNode,"dijitEditorIFrameContainer");e.add(this.iframe,"dijitEditorIFrame");f.set(this.iframe,"allowTransparency",!0);g("webkit")&&d.set(this.domNode,"KhtmlUserSelect","none");this.toolbar.startup();this.onNormalizedDisplayChanged()},destroy:function(){k.forEach(this._plugins,
function(a){a&&a.destroy&&a.destroy()});this._plugins=[];this.toolbar.destroyRecursive();delete this.toolbar;this.inherited(arguments)},addPlugin:function(a,c){var d=b.isString(a)?{name:a}:b.isFunction(a)?{ctor:a}:a;if(!d.setEditor){var g={args:d,plugin:null,editor:this};if(d.name)s.registry[d.name]?g.plugin=s.registry[d.name](d):o.publish(D._scopeName+".Editor.getPlugin",g);if(!g.plugin){var j=d.ctor||b.getObject(d.name)||require(d.name);if(j)g.plugin=new j(d)}if(!g.plugin)throw Error(this.id+": cannot find plugin",
a);a=g.plugin}1<arguments.length?this._plugins[c]=a:this._plugins.push(a);a.setEditor(this);b.isFunction(a.setToolbar)&&a.setToolbar(this.toolbar)},resize:function(a){a&&w.prototype.resize.apply(this,arguments)},layout:function(){this.editingArea.style.height=this._contentBox.h-(this.getHeaderHeight()+this.getFooterHeight()+h.getPadBorderExtents(this.iframe.parentNode).h+h.getMarginExtents(this.iframe.parentNode).h)+"px";if(this.iframe)this.iframe.style.height="100%";this._layoutMode=!0},_onIEMouseDown:function(a){var b,
c=this.document.body,d=c.clientWidth,g=c.clientHeight,j=c.clientLeft,e=c.offsetWidth,n=c.offsetHeight,h=c.offsetLeft;/^rtl$/i.test(c.dir||"")?d<e&&a.x>d&&a.x<e&&(b=!0):a.x<j&&a.x>h&&(b=!0);b||g<n&&a.y>g&&a.y<n&&(b=!0);b||(delete this._cursorToStart,delete this._savedSelection,"BODY"==a.target.tagName&&this.defer("placeCursorAtEnd"),this.inherited(arguments))},onBeforeActivate:function(){this._restoreSelection()},onBeforeDeactivate:function(a){this.customUndo&&this.endEditing(!0);"BODY"!=a.target.tagName&&
this._saveSelection()},customUndo:!0,editActionInterval:3,beginEditing:function(a){if(!this._inEditing)this._inEditing=!0,this._beginEditing(a);if(0<this.editActionInterval)this._editTimer&&this._editTimer.remove(),this._editTimer=this.defer("endEditing",this._editInterval)},_steps:[],_undoedSteps:[],execCommand:function(a){if(this.customUndo&&("undo"==a||"redo"==a))return this[a]();this.customUndo&&(this.endEditing(),this._beginEditing());var b=this.inherited(arguments);this.customUndo&&this._endEditing();
return b},_pasteImpl:function(){return this._clipboardCommand("paste")},_cutImpl:function(){return this._clipboardCommand("cut")},_copyImpl:function(){return this._clipboardCommand("copy")},_clipboardCommand:function(a){var b;try{if(b=this.document.execCommand(a,!1,null),g("webkit")&&!b)throw{code:1011};}catch(c){if(1011==c.code||9==c.code&&g("opera"))b=j.substitute,alert(b(this.commands.systemShortcut,[this.commands[a],b(this.commands[g("mac")?"appleKey":"ctrlKey"],[{cut:"X",copy:"C",paste:"V"}[a]])]));
b=!1}return b},queryCommandEnabled:function(a){return this.customUndo&&("undo"==a||"redo"==a)?"undo"==a?1<this._steps.length:0<this._undoedSteps.length:this.inherited(arguments)},_moveToBookmark:function(a){var c=a.mark,d=a.mark,a=a.isCollapsed,j,e,h;if(d)if(9>g("ie"))if(b.isArray(d))c=[],k.forEach(d,function(a){c.push(x.getNode(a,this.editNode))},this),n.withGlobal(this.window,"moveToBookmark",p,[{mark:c,isCollapsed:a}]);else{if(d.startContainer&&d.endContainer&&(h=x.getSelection(this.window))&&
h.removeAllRanges)h.removeAllRanges(),a=x.create(this.window),j=x.getNode(d.startContainer,this.editNode),e=x.getNode(d.endContainer,this.editNode),j&&e&&(a.setStart(j,d.startOffset),a.setEnd(e,d.endOffset),h.addRange(a))}else if((h=x.getSelection(this.window))&&h.removeAllRanges)h.removeAllRanges(),a=x.create(this.window),j=x.getNode(d.startContainer,this.editNode),e=x.getNode(d.endContainer,this.editNode),j&&e&&(a.setStart(j,d.startOffset),a.setEnd(e,d.endOffset),h.addRange(a))},_changeToStep:function(a,
b){this.setValue(b.text);var c=b.bookmark;c&&this._moveToBookmark(c)},undo:function(){var a=!1;if(!this._undoRedoActive){this._undoRedoActive=!0;this.endEditing(!0);var b=this._steps.pop();b&&0<this._steps.length&&(this.focus(),this._changeToStep(b,this._steps[this._steps.length-1]),this._undoedSteps.push(b),this.onDisplayChanged(),delete this._undoRedoActive,a=!0);delete this._undoRedoActive}return a},redo:function(){var a=!1;if(!this._undoRedoActive){this._undoRedoActive=!0;this.endEditing(!0);
var b=this._undoedSteps.pop();b&&0<this._steps.length&&(this.focus(),this._changeToStep(this._steps[this._steps.length-1],b),this._steps.push(b),this.onDisplayChanged(),a=!0);delete this._undoRedoActive}return a},endEditing:function(a){if(this._editTimer)this._editTimer=this._editTimer.remove();if(this._inEditing)this._endEditing(a),this._inEditing=!1},_getBookmark:function(){var a=n.withGlobal(this.window,p.getBookmark),c=[];if(a&&a.mark){var d=a.mark;if(9>g("ie")){var j=x.getSelection(this.window);
if(b.isArray(d))k.forEach(a.mark,function(a){c.push(x.getIndex(a,this.editNode).o)},this),a.mark=c;else if(j){var e;j.rangeCount&&(e=j.getRangeAt(0));a.mark=e?e.cloneRange():n.withGlobal(this.window,p.getBookmark)}}try{if(a.mark&&a.mark.startContainer)c=x.getIndex(a.mark.startContainer,this.editNode).o,a.mark={startContainer:c,startOffset:a.mark.startOffset,endContainer:a.mark.endContainer===a.mark.startContainer?c:x.getIndex(a.mark.endContainer,this.editNode).o,endOffset:a.mark.endOffset}}catch(h){a.mark=
null}}return a},_beginEditing:function(){0===this._steps.length&&this._steps.push({text:v.getChildrenHtml(this.editNode),bookmark:this._getBookmark()})},_endEditing:function(){var a=v.getChildrenHtml(this.editNode);this._undoedSteps=[];this._steps.push({text:a,bookmark:this._getBookmark()})},onKeyDown:function(b){!g("ie")&&!this.iframe&&b.keyCode==a.TAB&&!this.tabIndent&&this._saveSelection();if(this.customUndo){var d=b.keyCode;if(b.ctrlKey&&!b.altKey){if(90==d||122==d){c.stop(b);this.undo();return}if(89==
d||121==d){c.stop(b);this.redo();return}}this.inherited(arguments);switch(d){case a.ENTER:case a.BACKSPACE:case a.DELETE:this.beginEditing();break;case 88:case 86:if(b.ctrlKey&&!b.altKey&&!b.metaKey){this.endEditing();88==b.keyCode?this.beginEditing("cut"):this.beginEditing("paste");this.defer("endEditing",1);break}default:if(!b.ctrlKey&&!b.altKey&&!b.metaKey&&(b.keyCode<a.F1||b.keyCode>a.F15)){this.beginEditing();break}case a.ALT:this.endEditing();break;case a.UP_ARROW:case a.DOWN_ARROW:case a.LEFT_ARROW:case a.RIGHT_ARROW:case a.HOME:case a.END:case a.PAGE_UP:case a.PAGE_DOWN:this.endEditing(!0);
case a.CTRL:case a.SHIFT:case a.TAB:}}else this.inherited(arguments)},_onBlur:function(){this.inherited(arguments);this.endEditing(!0)},_saveSelection:function(){try{this._savedSelection=this._getBookmark()}catch(a){}},_restoreSelection:function(){this._savedSelection&&(delete this._cursorToStart,n.withGlobal(this.window,"isCollapsed",p)&&this._moveToBookmark(this._savedSelection),delete this._savedSelection)},onClick:function(){this.endEditing(!0);this.inherited(arguments)},replaceValue:function(a){this.customUndo?
this.isClosed?this.setValue(a):(this.beginEditing(),a||(a="&#160;"),this.setValue(a),this.endEditing()):this.inherited(arguments)},_setDisabledAttr:function(a){this.setValueDeferred.then(b.hitch(this,function(){!this.disabled&&a||!this._buttonEnabledPlugins&&a?k.forEach(this._plugins,function(a){a.set("disabled",!0)}):this.disabled&&!a&&k.forEach(this._plugins,function(a){a.set("disabled",!1)})}));this.inherited(arguments)},_setStateClass:function(){try{this.inherited(arguments),this.document&&this.document.body&&
d.set(this.document.body,"color",d.get(this.iframe,"color"))}catch(a){}}});b.mixin(s.registry,{undo:z,redo:z,cut:z,copy:z,paste:z,insertOrderedList:z,insertUnorderedList:z,indent:z,outdent:z,justifyCenter:z,justifyFull:z,justifyLeft:z,justifyRight:z,"delete":z,selectAll:z,removeFormat:z,unlink:z,insertHorizontalRule:z,bold:G,italic:G,underline:G,strikethrough:G,subscript:G,superscript:G,"|":function(){return new s({setEditor:function(a){this.editor=a;this.button=new t({ownerDocument:a.ownerDocument})}})}});
return m})},"dijit/_base/focus":function(){define("dojo/_base/array,dojo/dom,dojo/_base/lang,dojo/topic,dojo/_base/window,../focus,../main".split(","),function(k,m,l,i,f,e,h){l.mixin(h,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return h.getBookmark().isCollapsed},getBookmark:function(){var d,c,a=f.doc.selection,b=e.curNode;if(f.global.getSelection){if(a=f.global.getSelection())if(a.isCollapsed){if(d=b?b.tagName:"")if(d=d.toLowerCase(),"textarea"==d||"input"==d&&(!b.type||"text"==b.type.toLowerCase()))return a=
{start:b.selectionStart,end:b.selectionEnd,node:b,pRange:!0},{isCollapsed:a.end<=a.start,mark:a};d={isCollapsed:!0};if(a.rangeCount)d.mark=a.getRangeAt(0).cloneRange()}else c=a.getRangeAt(0),d={isCollapsed:!1,mark:c.cloneRange()}}else if(a){d=b?b.tagName:"";d=d.toLowerCase();if(b&&d&&("button"==d||"textarea"==d||"input"==d)){if(a.type&&"none"==a.type.toLowerCase())return{isCollapsed:!0,mark:null};c=a.createRange();return{isCollapsed:c.text&&c.text.length?!1:!0,mark:{range:c,pRange:!0}}}d={};try{c=
a.createRange(),d.isCollapsed=!("Text"==a.type?c.htmlText.length:c.length)}catch(g){return d.isCollapsed=!0,d}if("CONTROL"==a.type.toUpperCase())if(c.length){d.mark=[];a=0;for(b=c.length;a<b;)d.mark.push(c.item(a++))}else d.isCollapsed=!0,d.mark=null;else d.mark=c.getBookmark()}else console.warn("No idea how to store the current selection for this browser!");return d},moveToBookmark:function(d){var c=f.doc;if(d=d.mark)if(f.global.getSelection)(c=f.global.getSelection())&&c.removeAllRanges?d.pRange?
(c=d.node,c.selectionStart=d.start,c.selectionEnd=d.end):(c.removeAllRanges(),c.addRange(d)):console.warn("No idea how to restore selection for this browser!");else if(c.selection&&d){var a;d.pRange?a=d.range:l.isArray(d)?(a=c.body.createControlRange(),k.forEach(d,function(b){a.addElement(b)})):(a=c.body.createTextRange(),a.moveToBookmark(d));a.select()}},getFocus:function(d,c){var a=!e.curNode||d&&m.isDescendant(e.curNode,d.domNode)?h._prevFocus:e.curNode;return{node:a,bookmark:a&&a==e.curNode&&
f.withGlobal(c||f.global,h.getBookmark),openedForWindow:c}},_activeStack:[],registerIframe:function(d){return e.registerIframe(d)},unregisterIframe:function(d){d&&d.remove()},registerWin:function(d,c){return e.registerWin(d,c)},unregisterWin:function(d){d&&d.remove()}});e.focus=function(d){if(d){var c="node"in d?d.node:d,a=d.bookmark,d=d.openedForWindow,b=a?a.isCollapsed:!1;if(c){var g="iframe"==c.tagName.toLowerCase()?c.contentWindow:c;if(g&&g.focus)try{g.focus()}catch(j){}e._onFocusNode(c)}if(a&&
f.withGlobal(d||f.global,h.isCollapsed)&&!b){d&&d.focus();try{f.withGlobal(d||f.global,h.moveToBookmark,null,[a])}catch(o){}}}};e.watch("curNode",function(d,c,a){h._curFocus=a;h._prevFocus=c;a&&i.publish("focusNode",a)});e.watch("activeStack",function(d,c,a){h._activeStack=a});e.on("widget-blur",function(d,c){i.publish("widgetBlur",d,c)});e.on("widget-focus",function(d,c){i.publish("widgetFocus",d,c)});return h})},"dijit/Toolbar":function(){define("require,dojo/_base/declare,dojo/has,dojo/keys,dojo/ready,./_Widget,./_KeyNavContainer,./_TemplatedMixin".split(","),
function(k,m,l,i,f,e,h,d){l("dijit-legacy-requires")&&f(0,function(){k(["dijit/ToolbarSeparator"])});return m("dijit.Toolbar",[e,d,h],{templateString:'<div class="dijit" role="toolbar" tabIndex="${tabIndex}" data-dojo-attach-point="containerNode"></div>',baseClass:"dijitToolbar",postCreate:function(){this.inherited(arguments);this.connectKeyNavHandlers(this.isLeftToRight()?[i.LEFT_ARROW]:[i.RIGHT_ARROW],this.isLeftToRight()?[i.RIGHT_ARROW]:[i.LEFT_ARROW])}})})},"dijit/_KeyNavContainer":function(){define("dojo/_base/kernel,./_Container,./_FocusMixin,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/_base/event,dojo/dom-attr,dojo/_base/lang".split(","),
function(k,m,l,i,f,e,h,d,c){return e("dijit._KeyNavContainer",[l,m],{tabIndex:"0",connectKeyNavHandlers:function(a,b){var d=this._keyNavCodes={},j=c.hitch(this,"focusPrev"),e=c.hitch(this,"focusNext");i.forEach(a,function(a){d[a]=j});i.forEach(b,function(a){d[a]=e});d[f.HOME]=c.hitch(this,"focusFirstChild");d[f.END]=c.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus")},startupKeyNavChildren:function(){k.deprecated("startupKeyNavChildren() call no longer needed",
"","2.0")},startup:function(){this.inherited(arguments);i.forEach(this.getChildren(),c.hitch(this,"_startupChild"))},addChild:function(a,b){this.inherited(arguments);this._startupChild(a)},focus:function(){this.focusFirstChild()},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,
-1),!0)},focusChild:function(a,b){a&&(this.focusedChild&&a!==this.focusedChild&&this._onChildBlur(this.focusedChild),a.set("tabIndex",this.tabIndex),a.focus(b?"end":"start"),this._set("focusedChild",a))},_startupChild:function(a){a.set("tabIndex","-1");this.connect(a,"_onFocus",function(){a.set("tabIndex",this.tabIndex)});this.connect(a,"_onBlur",function(){a.set("tabIndex","-1")})},_onContainerFocus:function(a){a.target!==this.domNode||this.focusedChild||(this.focusFirstChild(),d.set(this.domNode,
"tabIndex","-1"))},_onBlur:function(a){this.tabIndex&&d.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild=null;this.inherited(arguments)},_onContainerKeypress:function(a){if(!a.ctrlKey&&!a.altKey){var b=this._keyNavCodes[a.charOrCode];b&&(b(),h.stop(a))}},_onChildBlur:function(){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},_getNextFocusableChild:function(a,b){a&&(a=this._getSiblingOfChild(a,
b));for(var c=this.getChildren(),d=0;d<c.length;d++){a||(a=c[0<b?0:c.length-1]);if(a.isFocusable())return a;a=this._getSiblingOfChild(a,b)}return null}})})},"dijit/ToolbarSeparator":function(){define(["dojo/_base/declare","dojo/dom","./_Widget","./_TemplatedMixin"],function(k,m,l,i){return k("dijit.ToolbarSeparator",[l,i],{templateString:'<div class="dijitToolbarSeparator dijitInline" role="presentation"></div>',buildRendering:function(){this.inherited(arguments);m.setSelectable(this.domNode,!1)},
isFocusable:function(){return!1}})})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang,../_Widget,../_Container,../_Contained,../Viewport,dojo/_base/declare,dojo/dom-class,dojo/dom-geometry,dojo/dom-style".split(","),function(k,m,l,i,f,e,h,d,c){return e("dijit.layout._LayoutWidget",[m,l,i],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,buildRendering:function(){this.inherited(arguments);h.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);
var a=this.getParent&&this.getParent();if(!a||!a.isLayoutContainer)this.resize(),this.own(f.on("resize",k.hitch(this,"resize")))}},resize:function(a,b){var g=this.domNode;a&&d.setMarginBox(g,a);var j=b||{};k.mixin(j,a||{});if(!("h"in j)||!("w"in j))j=k.mixin(d.getMarginBox(g),j);var e=c.getComputedStyle(g),n=d.getMarginExtents(g,e),h=d.getBorderExtents(g,e),j=this._borderBox={w:j.w-(n.w+h.w),h:j.h-(n.h+h.h)},n=d.getPadExtents(g,e);this._contentBox={l:c.toPixelValue(g,e.paddingLeft),t:c.toPixelValue(g,
e.paddingTop),w:j.w-n.w,h:j.h-n.h};this.layout()},layout:function(){},_setupChild:function(a){h.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,b){this.inherited(arguments);this._started&&this._setupChild(a)},removeChild:function(a){h.remove(a.domNode,this.baseClass+"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(k,
m){return k("dijit._Contained",null,{_getSibling:function(k){var i=this.domNode;do i=i[k+"Sibling"];while(i&&1!=i.nodeType);return i&&m.byNode(i)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var k=this.getParent();return!k||!k.getIndexOfChild?-1:k.getIndexOfChild(this)}})})},"dijit/Viewport":function(){define("dojo/Evented,dojo/on,dojo/ready,dojo/sniff,dojo/_base/window,dojo/window".split(","),
function(k,m,l,i,f,e){var h=new k;l(200,function(){var d=e.getBox();h._rlh=m(f.global,"resize",function(){var a=e.getBox();d.h==a.h&&d.w==a.w||(d=a,h.emit("resize"))});if(8==i("ie")){var c=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=c)c=screen.deviceXDPI,h.emit("resize")},500)}});return h})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(k,m,l,i){return k("dijit.form.ToggleButton",[l,i],{baseClass:"dijitToggleButton",
setChecked:function(f){m.deprecated("setChecked("+f+") is deprecated. Use set('checked',"+f+") instead.","","2.0");this.set("checked",f)}})})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(k,m){return k("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(k){var i=this.checked;this._set("checked",!i);var f=this.inherited(arguments);this.set("checked",f?this.checked:i);return f},_setCheckedAttr:function(k,i){this._set("checked",
k);m.set(this.focusNode||this.domNode,"checked",k);(this.focusNode||this.domNode).setAttribute(this._aria_attr,k?"true":"false");this._handleOnChange(k,i)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dijit/_editor/_Plugin":function(){define(["dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","../form/Button"],function(k,m,l,i){m=m("dijit._editor._Plugin",null,{constructor:function(f){this.params=f||{};l.mixin(this,this.params);this._connects=
[];this._attrPairNames={}},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,command:"",useDefaultCommand:!0,buttonClass:i,disabled:!1,getLabel:function(f){return this.editor.commands[f]},_initButton:function(){if(this.command.length){var f=this.getLabel(this.command),e=this.editor,h=this.iconClassPrefix+" "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);if(!this.button)this.button=new this.buttonClass(l.mixin({label:f,ownerDocument:e.ownerDocument,dir:e.dir,
lang:e.lang,showLabel:!1,iconClass:h,dropDown:this.dropDown,tabIndex:"-1"},this.params||{}))}this.get("disabled")&&this.button&&this.button.set("disabled",this.get("disabled"))},destroy:function(){for(var f;f=this._connects.pop();)f.remove();this.dropDown&&this.dropDown.destroyRecursive()},connect:function(f,e,h){this._connects.push(k.connect(f,e,this,h))},updateState:function(){var f=this.editor,e=this.command,h,d;if(f&&f.isLoaded&&e.length){var c=this.get("disabled");if(this.button)try{d=!c&&f.queryCommandEnabled(e);
if(this.enabled!==d)this.enabled=d,this.button.set("disabled",!d);if("boolean"==typeof this.button.checked&&(h=f.queryCommandState(e),this.checked!==h))this.checked=h,this.button.set("checked",f.queryCommandState(e))}catch(a){}}},setEditor:function(f){this.editor=f;this._initButton();if(this.button&&this.useDefaultCommand)this.editor.queryCommandAvailable(this.command)?this.connect(this.button,"onClick",l.hitch(this.editor,"execCommand",this.command,this.commandArg)):this.button.domNode.style.display=
"none";this.connect(this.editor,"onNormalizedDisplayChanged","updateState")},setToolbar:function(f){this.button&&f.addChild(this.button)},set:function(f,e){if("object"===typeof f){for(var h in f)this.set(h,f[h]);return this}h=this._getAttrNames(f);if(this[h.s])var d=this[h.s].apply(this,Array.prototype.slice.call(arguments,1));else this._set(f,e);return d||this},get:function(f){var e=this._getAttrNames(f);return this[e.g]?this[e.g]():this[f]},_setDisabledAttr:function(f){this.disabled=f;this.updateState()},
_getAttrNames:function(f){var e=this._attrPairNames;if(e[f])return e[f];var h=f.charAt(0).toUpperCase()+f.substr(1);return e[f]={s:"_set"+h+"Attr",g:"_get"+h+"Attr"}},_set:function(f,e){this[f]=e}});m.registry={};return m})},"dijit/_editor/plugins/EnterKeyHandling":function(){define("dojo/_base/declare,dojo/dom-construct,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/sniff,dojo/_base/window,dojo/window,../_Plugin,../RichText,../range,../../_base/focus".split(","),function(k,m,l,i,f,e,h,d,c,a,b,g){return k("dijit._editor.plugins.EnterKeyHandling",
c,{blockNodeForEnter:"BR",constructor:function(a){if(a){if("blockNodeForEnter"in a)a.blockNodeForEnter=a.blockNodeForEnter.toUpperCase();f.mixin(this,a)}},setEditor:function(a){if(this.editor!==a)if(this.editor=a,"BR"==this.blockNodeForEnter)this.editor.customUndo=!0,a.onLoadDeferred.then(f.hitch(this,function(b){this.connect(a.document,"onkeypress",function(a){if(a.charOrCode==i.ENTER){var b=f.mixin({},a);b.shiftKey=!0;this.handleEnterKey(b)||l.stop(a)}});9==e("ie")&&this.connect(a.document,"onpaste",
function(){setTimeout(dojo.hitch(this,function(){var a=this.editor.document.selection.createRange();a.move("character",-1);a.select();a.move("character",1);a.select()}),0)});return b}));else if(this.blockNodeForEnter){var b=f.hitch(this,this.handleEnterKey);a.addKeyHandler(13,0,0,b);a.addKeyHandler(13,0,1,b);this.connect(this.editor,"onKeyPressed","onKeyPressed")}},onKeyPressed:function(){if(this._checkListLater){if(h.withGlobal(this.editor.window,"isCollapsed",g)){var c=this.editor._sCall("getAncestorElement",
["LI"]);if(c){if(e("mozilla")&&"LI"==c.parentNode.parentNode.nodeName)c=c.parentNode.parentNode;var d=c.firstChild;if(d&&1==d.nodeType&&("UL"==d.nodeName||"OL"==d.nodeName))c.insertBefore(d.ownerDocument.createTextNode("\u00a0"),d),d=b.create(this.editor.window),d.setStart(c.firstChild,0),c=b.getSelection(this.editor.window,!0),c.removeAllRanges(),c.addRange(d)}else a.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter),(c=this.editor._sCall("getAncestorElement",[this.blockNodeForEnter]))?
(c.innerHTML=this.bogusHtmlContent,e("ie")&&(c=this.editor.document.selection.createRange(),c.move("character",-1),c.select())):console.error("onKeyPressed: Cannot find the new block node")}this._checkListLater=!1}this._pressedEnterInBlock&&(this._pressedEnterInBlock.previousSibling&&this.removeTrailingBr(this._pressedEnterInBlock.previousSibling),delete this._pressedEnterInBlock)},bogusHtmlContent:"&#160;",blockNodes:/^(?:P|H1|H2|H3|H4|H5|H6|LI)$/,handleEnterKey:function(c){var j;var g,n,h,f,i=this.editor.document,
k,l;if(c.shiftKey){var c=this.editor._sCall("getParentElement",[]),u=b.getAncestor(c,this.blockNodes);if(u){if("LI"==u.tagName)return!0;c=b.getSelection(this.editor.window);g=c.getRangeAt(0);g.collapsed||(g.deleteContents(),c=b.getSelection(this.editor.window),g=c.getRangeAt(0));if(b.atBeginningOfContainer(u,g.startContainer,g.startOffset))k=i.createElement("br"),g=b.create(this.editor.window),u.insertBefore(k,u.firstChild),g.setStartAfter(k),c.removeAllRanges(),c.addRange(g);else if(b.atEndOfContainer(u,
g.startContainer,g.startOffset))g=b.create(this.editor.window),k=i.createElement("br"),u.appendChild(k),u.appendChild(i.createTextNode("\u00a0")),g.setStart(u.lastChild,0),c.removeAllRanges(),c.addRange(g);else return(l=g.startContainer)&&3==l.nodeType?(h=l.nodeValue,n=i.createTextNode(h.substring(0,g.startOffset)),h=i.createTextNode(h.substring(g.startOffset)),f=i.createElement("br"),""==h.nodeValue&&e("webkit")&&(h=i.createTextNode("\u00a0")),m.place(n,l,"after"),m.place(f,n,"after"),m.place(h,
f,"after"),m.destroy(l),g=b.create(this.editor.window),g.setStart(h,0),c.removeAllRanges(),c.addRange(g),!1):!0}else if(c=b.getSelection(this.editor.window),c.rangeCount){if((g=c.getRangeAt(0))&&g.startContainer)if(g.collapsed||(g.deleteContents(),c=b.getSelection(this.editor.window),g=c.getRangeAt(0)),(l=g.startContainer)&&3==l.nodeType){u=!1;k=g.startOffset;if(l.length<k)h=this._adjustNodeAndOffset(l,k),l=h.node,k=h.offset;h=l.nodeValue;n=i.createTextNode(h.substring(0,k));h=i.createTextNode(h.substring(k));
f=i.createElement("br");h.length||(h=i.createTextNode("\u00a0"),u=!0);n.length?m.place(n,l,"after"):n=l;m.place(f,n,"after");m.place(h,f,"after");m.destroy(l);g=b.create(this.editor.window);g.setStart(h,0);g.setEnd(h,h.length);c.removeAllRanges();c.addRange(g);u&&!e("webkit")?this.editor._sCall("remove",[]):this.editor._sCall("collapse",[!0])}else 0<=g.startOffset&&(k=l.childNodes[g.startOffset]),f=i.createElement("br"),h=i.createTextNode("\u00a0"),k?(m.place(f,k,"before"),m.place(h,f,"after")):(l.appendChild(f),
l.appendChild(h)),g=b.create(this.editor.window),g.setStart(h,0),g.setEnd(h,h.length),c.removeAllRanges(),c.addRange(g),this.editor._sCall("collapse",[!0])}else a.prototype.execCommand.call(this.editor,"inserthtml","<br>");return!1}var s=!0,c=b.getSelection(this.editor.window);g=c.getRangeAt(0);g.collapsed||(g.deleteContents(),c=b.getSelection(this.editor.window),g=c.getRangeAt(0));k=b.getBlockAncestor(g.endContainer,null,this.editor.editNode);if(this._checkListLater=(f=k.blockNode)&&("LI"==f.nodeName||
"LI"==f.parentNode.nodeName)){if(e("mozilla"))this._pressedEnterInBlock=f;if(/^(\s|&nbsp;|&#160;|\xA0|<span\b[^>]*\bclass=['"]Apple-style-span['"][^>]*>(\s|&nbsp;|&#160;|\xA0)<\/span>)?(<br>)?$/.test(f.innerHTML))f.innerHTML="",e("webkit")&&(g=b.create(this.editor.window),g.setStart(f,0),c.removeAllRanges(),c.addRange(g)),this._checkListLater=!1;return!0}if(!k.blockNode||k.blockNode===this.editor.editNode){try{a.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter)}catch(y){}k=
{blockNode:this.editor._sCall("getAncestorElement",[this.blockNodeForEnter]),blockContainer:this.editor.editNode};if(k.blockNode){if(k.blockNode!=this.editor.editNode&&!(k.blockNode.textContent||k.blockNode.innerHTML).replace(/^\s+|\s+$/g,"").length)return this.removeTrailingBr(k.blockNode),!1}else k.blockNode=this.editor.editNode;c=b.getSelection(this.editor.window);g=c.getRangeAt(0)}f=i.createElement(this.blockNodeForEnter);f.innerHTML=this.bogusHtmlContent;this.removeTrailingBr(k.blockNode);var v=
g.endOffset,s=g.endContainer;if(s.length<v)h=this._adjustNodeAndOffset(s,v),s=h.node,v=h.offset;if(b.atEndOfContainer(k.blockNode,s,v))k.blockNode===k.blockContainer?k.blockNode.appendChild(f):m.place(f,k.blockNode,"after"),s=!1,g=b.create(this.editor.window),g.setStart(f,0),c.removeAllRanges(),c.addRange(g),this.editor.height&&d.scrollIntoView(f);else if(b.atBeginningOfContainer(k.blockNode,g.startContainer,g.startOffset))m.place(f,k.blockNode,k.blockNode===k.blockContainer?"first":"before"),f.nextSibling&&
this.editor.height&&(g=b.create(this.editor.window),g.setStart(f.nextSibling,0),c.removeAllRanges(),c.addRange(g),d.scrollIntoView(f.nextSibling)),s=!1;else{k.blockNode===k.blockContainer?k.blockNode.appendChild(f):m.place(f,k.blockNode,"after");s=!1;if(k.blockNode.style&&f.style&&k.blockNode.style.cssText)f.style.cssText=k.blockNode.style.cssText;if((l=g.startContainer)&&3==l.nodeType){v=g.endOffset;if(l.length<v)h=this._adjustNodeAndOffset(l,v),l=h.node,v=h.offset;h=l.nodeValue;n=i.createTextNode(h.substring(0,
v));h=i.createTextNode(h.substring(v,h.length));m.place(n,l,"before");m.place(h,l,"after");m.destroy(l);for(n=n.parentNode;n!==k.blockNode;){v=i.createElement(n.tagName);if(n.style&&v.style&&n.style.cssText)v.style.cssText=n.style.cssText;if("FONT"===n.tagName){if(n.color)v.color=n.color;if(n.face)v.face=n.face;if(n.size)v.size=n.size}for(g=h;g;)l=g.nextSibling,v.appendChild(g),g=l;m.place(v,n,"after");h=v;n=n.parentNode}g=h;if(1==g.nodeType||3==g.nodeType&&g.nodeValue)f.innerHTML="";for(n=g;g;)l=
g.nextSibling,f.appendChild(g),g=l}g=b.create(this.editor.window);i=n;if("BR"!==this.blockNodeForEnter){for(;i;)u=i,j=l=i.firstChild,i=j;if(u&&u.parentNode){if(f=u.parentNode,g.setStart(f,0),c.removeAllRanges(),c.addRange(g),this.editor.height&&d.scrollIntoView(f),e("mozilla"))this._pressedEnterInBlock=k.blockNode}else s=!0}else if(g.setStart(f,0),c.removeAllRanges(),c.addRange(g),this.editor.height&&d.scrollIntoView(f),e("mozilla"))this._pressedEnterInBlock=k.blockNode}return s},_adjustNodeAndOffset:function(a,
b){for(;a.length<b&&a.nextSibling&&3==a.nextSibling.nodeType;)b-=a.length,a=a.nextSibling;return{node:a,offset:b}},removeTrailingBr:function(a){if(a=/P|DIV|LI/i.test(a.tagName)?a:this.editor._sCall("getParentOfType",[a,["P","DIV","LI"]]))if(a.lastChild&&(1<a.childNodes.length&&3==a.lastChild.nodeType&&/^[\s\xAD]*$/.test(a.lastChild.nodeValue)||"BR"==a.lastChild.tagName)&&m.destroy(a.lastChild),!a.childNodes.length)a.innerHTML=this.bogusHtmlContent}})})},"dijit/_editor/RichText":function(){define("dojo/_base/array,dojo/_base/config,dojo/_base/declare,dojo/_base/Deferred,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/_base/kernel,dojo/keys,dojo/_base/lang,dojo/on,dojo/query,dojo/ready,dojo/sniff,dojo/topic,dojo/_base/unload,dojo/_base/url,dojo/_base/window,../_Widget,../_CssStateMixin,./selection,./range,./html,../focus,../main".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p,r,q,t,w,u,s,y,v,x,B,D,z,G){var A=l("dijit._editor.RichText",[y,v],{constructor:function(a){this.contentPreFilters=[];this.contentPostFilters=[];this.contentDomPreFilters=[];this.contentDomPostFilters=[];this.editingAreaStyleSheets=[];this.events=[].concat(this.events);this._keyHandlers={};if(a&&o.isString(a.value))this.value=a.value;this.onLoadDeferred=new i},baseClass:"dijitEditor",inheritWidth:!1,focusOnLoad:!1,name:"",styleSheets:"",height:"300px",minHeight:"1em",
isClosed:!0,isLoaded:!1,_SEPARATOR:"@@**%%__RICHTEXTBOUNDRY__%%**@@",_NAME_CONTENT_SEP:"@@**%%:%%**@@",onLoadDeferred:null,isTabIndent:!1,disableSpellCheck:!1,postCreate:function(){"textarea"===this.domNode.tagName.toLowerCase()&&console.warn("RichText should not be used with the TEXTAREA tag.  See dijit._editor.RichText docs.");this.contentPreFilters=[o.hitch(this,"_preFixUrlAttributes")].concat(this.contentPreFilters);if(q("mozilla"))this.contentPreFilters=[this._normalizeFontStyle].concat(this.contentPreFilters),
this.contentPostFilters=[this._removeMozBogus].concat(this.contentPostFilters);if(q("webkit"))this.contentPreFilters=[this._removeWebkitBogus].concat(this.contentPreFilters),this.contentPostFilters=[this._removeWebkitBogus].concat(this.contentPostFilters);if(q("ie"))this.contentPostFilters=[this._normalizeFontStyle].concat(this.contentPostFilters),this.contentDomPostFilters=[o.hitch(this,this._stripBreakerNodes)].concat(this.contentDomPostFilters);this.inherited(arguments);t.publish(G._scopeName+
"._editor.RichText::init",this);this.open();this.setupDefaultShortcuts()},setupDefaultShortcuts:function(){var a=o.hitch(this,function(a,b){return function(){return!this.execCommand(a,b)}}),b={b:a("bold"),i:a("italic"),u:a("underline"),a:a("selectall"),s:function(){this.save(!0)},m:function(){this.isTabIndent=!this.isTabIndent},1:a("formatblock","h1"),2:a("formatblock","h2"),3:a("formatblock","h3"),4:a("formatblock","h4"),"\\":a("insertunorderedlist")};if(!q("ie"))b.Z=a("redo");for(var c in b)this.addKeyHandler(c,
!0,!1,b[c])},events:["onKeyPress","onKeyDown","onKeyUp"],captureEvents:[],_editorCommandsLocalized:!1,_localizeEditorCommands:function(){if(A._editorCommandsLocalized)this._local2NativeFormatNames=A._local2NativeFormatNames,this._native2LocalFormatNames=A._native2LocalFormatNames;else{A._editorCommandsLocalized=!0;A._local2NativeFormatNames={};A._native2LocalFormatNames={};this._local2NativeFormatNames=A._local2NativeFormatNames;this._native2LocalFormatNames=A._native2LocalFormatNames;for(var a="div,p,pre,h1,h2,h3,h4,h5,h6,ol,ul,address".split(","),
b="",c,g=0;c=a[g++];)b="l"!==c.charAt(1)?b+("<"+c+"><span>content</span></"+c+"><br/>"):b+("<"+c+"><li>content</li></"+c+"><br/>");var j=d.create("div",{style:{position:"absolute",top:"0px",zIndex:10,opacity:0.01},innerHTML:b});this.ownerDocumentBody.appendChild(j);this.defer(o.hitch(this,function(){for(var a=j.firstChild;a;)try{this._sCall("selectElement",[a.firstChild]);var b=a.tagName.toLowerCase();this._local2NativeFormatNames[b]=document.queryCommandValue("formatblock");this._native2LocalFormatNames[this._local2NativeFormatNames[b]]=
b;a=a.nextSibling.nextSibling}catch(c){}d.destroy(j)}))}},open:function(b){if(!this.onLoadDeferred||0<=this.onLoadDeferred.fired)this.onLoadDeferred=new i;this.isClosed||this.close();t.publish(G._scopeName+"._editor.RichText::open",this);if(1===arguments.length&&b.nodeName)this.domNode=b;var c=this.domNode,g;if(o.isString(this.value))g=this.value,delete this.value,c.innerHTML="";else if(c.nodeName&&"textarea"==c.nodeName.toLowerCase()){var j=this.textarea=c;this.name=j.name;g=j.value;c=this.domNode=
this.ownerDocument.createElement("div");c.setAttribute("widgetId",this.id);j.removeAttribute("widgetId");c.cssText=j.cssText;c.className+=" "+j.className;d.place(c,j,"before");var p=o.hitch(this,function(){a.set(j,{display:"block",position:"absolute",top:"-1000px"});if(q("ie")){var b=j.style;this.__overflow=b.overflow;b.overflow="hidden"}});q("ie")?this.defer(p,10):p();if(j.form){var k=j.value;this.reset=function(){this.getValue()!==k&&this.replaceValue(k)};n(j.form,"submit",o.hitch(this,function(){e.set(j,
"disabled",this.disabled);j.value=this.getValue()}))}}else g=D.getChildrenHtml(c),c.innerHTML="";this.value=g;if(c.nodeName&&"LI"===c.nodeName)c.innerHTML=" <br>";this.header=c.ownerDocument.createElement("div");c.appendChild(this.header);this.editingArea=c.ownerDocument.createElement("div");c.appendChild(this.editingArea);this.footer=c.ownerDocument.createElement("div");c.appendChild(this.footer);if(!this.name)this.name=this.id+"_AUTOGEN";if(""!==this.name&&(!m.useXDomain||m.allowXdRichTextSave)){if((p=
f.byId(G._scopeName+"._editor.RichText.value"))&&""!==p.value)for(var r=p.value.split(this._SEPARATOR),l=0,u;u=r[l++];)if(u=u.split(this._NAME_CONTENT_SEP),u[0]===this.name){g=u[1];r=r.splice(l,1);p.value=r.join(this._SEPARATOR);break}if(!A._globalSaveHandler)A._globalSaveHandler={},w.addOnUnload(function(){for(var a in A._globalSaveHandler){var b=A._globalSaveHandler[a];o.isFunction(b)&&b()}});A._globalSaveHandler[this.id]=o.hitch(this,"_saveContent")}this.isClosed=!1;var s=this.editorObject=this.iframe=
this.ownerDocument.createElement("iframe");s.id=this.id+"_iframe";s.style.border="none";s.style.width="100%";if(this._layoutMode)s.style.height="100%";else if(7<=q("ie")){if(this.height)s.style.height=this.height;if(this.minHeight)s.style.minHeight=this.minHeight}else s.style.height=this.height?this.height:this.minHeight;s.frameBorder=0;s._loadFunc=o.hitch(this,function(a){this.window=a;this.document=this.window.document;q("ie")&&this._localizeEditorCommands();this.onLoad(g)});var p=this._getIframeDocTxt(),
y="javascript: '"+p.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'";s.setAttribute("src",y);this.editingArea.appendChild(s);4>=q("safari")&&(p=s.getAttribute("src"),(!p||-1===p.indexOf("javascript"))&&this.defer(function(){s.setAttribute("src",y)}));if("LI"===c.nodeName)c.lastChild.style.marginTop="-1.2em";h.add(this.domNode,this.baseClass)},_local2NativeFormatNames:{},_native2LocalFormatNames:{},_getIframeDocTxt:function(){var b=a.getComputedStyle(this.domNode),c="",d=!0;if(q("ie")||q("webkit")||!this.height&&
!q("mozilla"))c="<div id='dijitEditorBody'></div>",d=!1;else if(q("mozilla"))this._cursorToStart=!0,c="&#160;";var g=[b.fontWeight,b.fontSize,b.fontFamily].join(" "),j=b.lineHeight,j=0<=j.indexOf("px")?parseFloat(j)/parseFloat(b.fontSize):0<=j.indexOf("em")?parseFloat(j):"normal",e="",h=this;this.style.replace(/(^|;)\s*(line-|font-?)[^;]+/ig,function(b){var b=b.replace(/^;/ig,"")+";",c=b.split(":")[0];if(c){var c=o.trim(c),c=c.toLowerCase(),d,g="";for(d=0;d<c.length;d++){var j=c.charAt(d);switch(j){case "-":d++,
j=c.charAt(d).toUpperCase();default:g+=j}}a.set(h.domNode,g,"")}e+=b+";"});b=p('label[for="'+this.id+'"]');return[this.isLeftToRight()?"<html>\n<head>\n":"<html dir='rtl'>\n<head>\n",q("mozilla")&&b.length?"<title>"+b[0].innerHTML+"</title>\n":"","<meta http-equiv='Content-Type' content='text/html'>\n<style>\n\tbody,html {\n\t\tbackground:transparent;\n\t\tpadding: 1px 0 0 0;\n\t\tmargin: -1px 0 0 0;\n",q("webkit")?"\t\twidth: 100%;\n":"",q("webkit")?"\t\theight: 100%;\n":"","\t}\n\tbody{\n\t\ttop:0px;\n\t\tleft:0px;\n\t\tright:0px;\n\t\tfont:",
g,";\n",this.height||q("opera")?"":"\t\tposition: fixed;\n","\t\tmin-height:",this.minHeight,";\n\t\tline-height:",j,";\n\t}\n\tp{ margin: 1em 0; }\n",!d&&!this.height?"\tbody,html {overflow-y: hidden;}\n":"","\t#dijitEditorBody{overflow-x: auto; overflow-y:"+(this.height?"auto;":"hidden;")+" outline: 0px;}\n","\tli > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; }\n",!q("ie")?"\tli{ min-height:1.2em; }\n":"","</style>\n",this._applyEditingAreaStyleSheets(),"\n</head>\n<body ",
d?"id='dijitEditorBody' ":"","onload='frameElement && frameElement._loadFunc(window,document)' ","style='"+e+"'>",c,"</body>\n</html>"].join("")},_applyEditingAreaStyleSheets:function(){var a=[];if(this.styleSheets)a=this.styleSheets.split(";"),this.styleSheets="";a=a.concat(this.editingAreaStyleSheets);this.editingAreaStyleSheets=[];for(var b="",c=0,d;d=a[c++];)d=(new u(s.global.location,d)).toString(),this.editingAreaStyleSheets.push(d),b+='<link rel="stylesheet" type="text/css" href="'+d+'"/>';
return b},addStyleSheet:function(a){var b=a.toString();if("."===b.charAt(0)||"/"!==b.charAt(0)&&!a.host)b=(new u(s.global.location,b)).toString();-1<k.indexOf(this.editingAreaStyleSheets,b)||(this.editingAreaStyleSheets.push(b),this.onLoadDeferred.then(o.hitch(this,function(){if(this.document.createStyleSheet)this.document.createStyleSheet(b);else{var a=this.document.getElementsByTagName("head")[0],c=this.document.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=b;a.appendChild(c)}})))},
removeStyleSheet:function(a){var b=a.toString();if("."===b.charAt(0)||"/"!==b.charAt(0)&&!a.host)b=(new u(s.global.location,b)).toString();a=k.indexOf(this.editingAreaStyleSheets,b);-1!==a&&(delete this.editingAreaStyleSheets[a],p('link:[href="'+b+'"]',this.window.document).orphan())},disabled:!1,_mozSettingProps:{styleWithCSS:!1},_setDisabledAttr:function(a){a=!!a;this._set("disabled",a);if(this.isLoaded){if(q("ie")||q("webkit")||q("opera")){var b=q("ie")&&(this.isLoaded||!this.focusOnLoad);if(b)this.editNode.unselectable=
"on";this.editNode.contentEditable=!a;b&&this.defer(function(){if(this.editNode)this.editNode.unselectable="off"})}else{try{this.document.designMode=a?"off":"on"}catch(c){return}if(!a&&this._mozSettingProps)for(b in a=this._mozSettingProps,a)if(a.hasOwnProperty(b))try{this.document.execCommand(b,!1,a[b])}catch(d){}}this._disabledOK=!0}},onLoad:function(a){if(!this.window.__registeredWindow)this.window.__registeredWindow=!0,this._iframeRegHandle=z.registerIframe(this.iframe);if(!q("ie")&&!q("webkit")&&
(this.height||q("mozilla")))this.editNode=this.document.body;else{this.editNode=this.document.body.firstChild;var b=this;if(q("ie"))this.tabStop=d.create("div",{tabIndex:-1},this.editingArea),this.iframe.onfocus=function(){b.editNode.setActive()}}this.focusNode=this.editNode;var c=this.events.concat(this.captureEvents),g=this.iframe?this.document:this.editNode;k.forEach(c,function(a){this.connect(g,a.toLowerCase(),a)},this);this.connect(g,"onmouseup","onClick");q("ie")?(this.connect(this.document,
"onmousedown","_onIEMouseDown"),this.editNode.style.zoom=1):this.connect(this.document,"onmousedown",function(){delete this._cursorToStart});if(q("webkit"))this._webkitListener=this.connect(this.document,"onmouseup","onDisplayChanged"),this.connect(this.document,"onmousedown",function(a){(a=a.target)&&(a===this.document.body||a===this.document)&&this.defer("placeCursorAtEnd")});if(q("ie"))try{this.document.execCommand("RespectVisibilityInDesign",!0,null)}catch(j){}this.isLoaded=!0;this.set("disabled",
this.disabled);c=o.hitch(this,function(){this.setValue(a);this.onLoadDeferred&&this.onLoadDeferred.resolve(!0);this.onDisplayChanged();this.focusOnLoad&&r(o.hitch(this,"defer","focus",this.updateInterval));this.value=this.getValue(!0)});this.setValueDeferred?this.setValueDeferred.then(c):c()},onKeyDown:function(a){if(a.keyCode===j.TAB&&this.isTabIndent&&(b.stop(a),this.queryCommandEnabled(a.shiftKey?"outdent":"indent")))this.execCommand(a.shiftKey?"outdent":"indent");if(q("ie"))if(a.keyCode==j.TAB&&
!this.isTabIndent)a.shiftKey&&!a.ctrlKey&&!a.altKey?this.iframe.focus():!a.shiftKey&&!a.ctrlKey&&!a.altKey&&this.tabStop.focus();else if(a.keyCode===j.BACKSPACE&&"Control"===this.document.selection.type)b.stop(a),this.execCommand("delete");else if(65<=a.keyCode&&90>=a.keyCode||37<=a.keyCode&&40>=a.keyCode)a.charCode=a.keyCode,this.onKeyPress(a);q("ff")&&(a.keyCode===j.PAGE_UP||a.keyCode===j.PAGE_DOWN)&&this.editNode.clientHeight>=this.editNode.scrollHeight&&a.preventDefault();return!0},onKeyUp:function(){},
setDisabled:function(a){g.deprecated("dijit.Editor::setDisabled is deprecated",'use dijit.Editor::attr("disabled",boolean) instead',2);this.set("disabled",a)},_setValueAttr:function(a){this.setValue(a)},_setDisableSpellCheckAttr:function(a){this.document?e.set(this.document.body,"spellcheck",!a):this.onLoadDeferred.then(o.hitch(this,function(){e.set(this.document.body,"spellcheck",!a)}));this._set("disableSpellCheck",a)},onKeyPress:function(a){var b=this._keyHandlers[a.keyChar&&a.keyChar.toLowerCase()||
a.keyCode],c=arguments;b&&!a.altKey&&k.some(b,function(b){if(!(b.shift^a.shiftKey)&&!(b.ctrl^(a.ctrlKey||a.metaKey)))return b.handler.apply(this,c)||a.preventDefault(),!0},this);if(!this._onKeyHitch)this._onKeyHitch=o.hitch(this,"onKeyPressed");this.defer("_onKeyHitch",1);return!0},addKeyHandler:function(a,b,c,d){o.isArray(this._keyHandlers[a])||(this._keyHandlers[a]=[]);this._keyHandlers[a].push({shift:c||!1,ctrl:b||!1,handler:d})},onKeyPressed:function(){this.onDisplayChanged()},onClick:function(a){this.onDisplayChanged(a)},
_onIEMouseDown:function(){!this.focused&&!this.disabled&&this.focus()},_onBlur:function(a){this.inherited(arguments);var b=this.getValue(!0);if(b!==this.value)this.onChange(b);this._set("value",b)},_onFocus:function(a){this.disabled||(this._disabledOK||this.set("disabled",!1),this.inherited(arguments))},blur:function(){!q("ie")&&this.window.document.documentElement&&this.window.document.documentElement.focus?this.window.document.documentElement.focus():this.ownerDocumentBody.focus&&this.ownerDocumentBody.focus()},
focus:function(){if(this.isLoaded){if(this._cursorToStart&&(delete this._cursorToStart,this.editNode.childNodes)){this.placeCursorAtStart();return}q("ie")?this.editNode&&this.editNode.focus&&this.iframe.fireEvent("onfocus",document.createEventObject()):z.focus(this.iframe)}else this.focusOnLoad=!0},updateInterval:200,_updateTimer:null,onDisplayChanged:function(){this._updateTimer&&this._updateTimer.remove();this._updateTimer=this.defer("onNormalizedDisplayChanged",this.updateInterval)},onNormalizedDisplayChanged:function(){delete this._updateTimer},
onChange:function(){},_normalizeCommand:function(a,b){var c=a.toLowerCase();"formatblock"===c?q("safari")&&void 0===b&&(c="heading"):"hilitecolor"===c&&!q("mozilla")&&(c="backcolor");return c},_qcaCache:{},queryCommandAvailable:function(a){var b=this._qcaCache[a];return void 0!==b?b:this._qcaCache[a]=this._queryCommandAvailable(a)},_queryCommandAvailable:function(a){function b(a){return{ie:Boolean(a&c),mozilla:Boolean(a&d),webkit:Boolean(a&g),opera:Boolean(a&j)}}var c=1,d=2,g=4,j=8,e=null;switch(a.toLowerCase()){case "bold":case "italic":case "underline":case "subscript":case "superscript":case "fontname":case "fontsize":case "forecolor":case "hilitecolor":case "justifycenter":case "justifyfull":case "justifyleft":case "justifyright":case "delete":case "selectall":case "toggledir":e=
b(d|c|g|j);break;case "createlink":case "unlink":case "removeformat":case "inserthorizontalrule":case "insertimage":case "insertorderedlist":case "insertunorderedlist":case "indent":case "outdent":case "formatblock":case "inserthtml":case "undo":case "redo":case "strikethrough":case "tabindent":e=b(d|c|j|g);break;case "blockdirltr":case "blockdirrtl":case "dirltr":case "dirrtl":case "inlinedirltr":case "inlinedirrtl":e=b(c);break;case "cut":case "copy":case "paste":e=b(c|d|g|j);break;case "inserttable":e=
b(d|c);break;case "insertcell":case "insertcol":case "insertrow":case "deletecells":case "deletecols":case "deleterows":case "mergecells":case "splitcell":e=b(c|d);break;default:return!1}return q("ie")&&e.ie||q("mozilla")&&e.mozilla||q("webkit")&&e.webkit||q("opera")&&e.opera},execCommand:function(a,b){var c;this.focus();a=this._normalizeCommand(a,b);if(void 0!==b){if("heading"===a)throw Error("unimplemented");"formatblock"===a&&q("ie")&&(b="<"+b+">")}var d="_"+a+"Impl";if(this[d])c=this[d](b);else if((b=
1<arguments.length?b:null)||"createlink"!==a)c=this.document.execCommand(a,!1,b);this.onDisplayChanged();return c},queryCommandEnabled:function(a){if(this.disabled||!this._disabledOK)return!1;var a=this._normalizeCommand(a),b="_"+a+"EnabledImpl";return this[b]?this[b](a):this._browserQueryCommandEnabled(a)},queryCommandState:function(a){if(this.disabled||!this._disabledOK)return!1;a=this._normalizeCommand(a);try{return this.document.queryCommandState(a)}catch(b){return!1}},queryCommandValue:function(a){if(this.disabled||
!this._disabledOK)return!1;a=this._normalizeCommand(a);if(q("ie")&&"formatblock"===a)a=this._native2LocalFormatNames[this.document.queryCommandValue(a)];else if(q("mozilla")&&"hilitecolor"===a){var b;try{b=this.document.queryCommandValue("styleWithCSS")}catch(c){b=!1}this.document.execCommand("styleWithCSS",!1,!0);a=this.document.queryCommandValue(a);this.document.execCommand("styleWithCSS",!1,b)}else a=this.document.queryCommandValue(a);return a},_sCall:function(a,b){return s.withGlobal(this.window,
a,x,b)},placeCursorAtStart:function(){this.focus();var a=!1;if(q("mozilla"))for(var b=this.editNode.firstChild;b;){if(3===b.nodeType){if(0<b.nodeValue.replace(/^\s+|\s+$/g,"").length){a=!0;this._sCall("selectElement",[b]);break}}else if(1===b.nodeType){a=!0;/br|input|img|base|meta|area|basefont|hr|link/.test(b.tagName?b.tagName.toLowerCase():"")?this._sCall("selectElement",[b]):this._sCall("selectElementChildren",[b]);break}b=b.nextSibling}else a=!0,this._sCall("selectElementChildren",[this.editNode]);
a&&this._sCall("collapse",[!0])},placeCursorAtEnd:function(){this.focus();var a=!1;if(q("mozilla"))for(var b=this.editNode.lastChild;b;){if(3===b.nodeType){if(0<b.nodeValue.replace(/^\s+|\s+$/g,"").length){a=!0;this._sCall("selectElement",[b]);break}}else if(1===b.nodeType){a=!0;this._sCall("selectElement",[b.lastChild||b]);break}b=b.previousSibling}else a=!0,this._sCall("selectElementChildren",[this.editNode]);a&&this._sCall("collapse",[!1])},getValue:function(a){return this.textarea&&(this.isClosed||
!this.isLoaded)?this.textarea.value:this._postFilterContent(null,a)},_getValueAttr:function(){return this.getValue(!0)},setValue:function(a){if(this.isLoaded){this._cursorToStart=!0;if(this.textarea&&(this.isClosed||!this.isLoaded))this.textarea.value=a;else{var a=this._preFilterContent(a),b=this.isClosed?this.domNode:this.editNode;a&&q("mozilla")&&"<p></p>"===a.toLowerCase()&&(a="<p>&#160;</p>");!a&&q("webkit")&&(a="&#160;");b.innerHTML=a;this._preDomFilterContent(b)}this.onDisplayChanged();this._set("value",
this.getValue(!0))}else this.onLoadDeferred.then(o.hitch(this,function(){this.setValue(a)}))},replaceValue:function(a){if(this.isClosed)this.setValue(a);else if(this.window&&this.window.getSelection&&!q("mozilla"))this.setValue(a);else if(this.window&&this.window.getSelection){a=this._preFilterContent(a);this.execCommand("selectall");if(!a)this._cursorToStart=!0,a="&#160;";this.execCommand("inserthtml",a);this._preDomFilterContent(this.editNode)}else this.document&&this.document.selection&&this.setValue(a);
this._set("value",this.getValue(!0))},_preFilterContent:function(a){var b=a;k.forEach(this.contentPreFilters,function(a){a&&(b=a(b))});return b},_preDomFilterContent:function(a){a=a||this.editNode;k.forEach(this.contentDomPreFilters,function(b){b&&o.isFunction(b)&&b(a)},this)},_postFilterContent:function(a,b){var c;o.isString(a)?c=a:(a=a||this.editNode,this.contentDomPostFilters.length&&(b&&(a=o.clone(a)),k.forEach(this.contentDomPostFilters,function(b){a=b(a)})),c=D.getChildrenHtml(a));o.trim(c.replace(/^\xA0\xA0*/,
"").replace(/\xA0\xA0*$/,"")).length||(c="");k.forEach(this.contentPostFilters,function(a){c=a(c)});return c},_saveContent:function(){var a=f.byId(G._scopeName+"._editor.RichText.value");a&&(a.value&&(a.value+=this._SEPARATOR),a.value+=this.name+this._NAME_CONTENT_SEP+this.getValue(!0))},escapeXml:function(a,b){a=a.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");b||(a=a.replace(/'/gm,"&#39;"));return a},getNodeHtml:function(a){g.deprecated("dijit.Editor::getNodeHtml is deprecated",
"use dijit/_editor/html::getNodeHtml instead",2);return D.getNodeHtml(a)},getNodeChildrenHtml:function(a){g.deprecated("dijit.Editor::getNodeChildrenHtml is deprecated","use dijit/_editor/html::getChildrenHtml instead",2);return D.getChildrenHtml(a)},close:function(a){if(!this.isClosed){arguments.length||(a=!0);a&&this._set("value",this.getValue(!0));this.interval&&clearInterval(this.interval);this._webkitListener&&(this.disconnect(this._webkitListener),delete this._webkitListener);if(q("ie"))this.iframe.onfocus=
null;this.iframe._loadFunc=null;this._iframeRegHandle&&(this._iframeRegHandle.remove(),delete this._iframeRegHandle);if(this.textarea){var b=this.textarea.style;b.position="";b.left=b.top="";if(q("ie"))b.overflow=this.__overflow,this.__overflow=null;this.textarea.value=this.value;d.destroy(this.domNode);this.domNode=this.textarea}else this.domNode.innerHTML=this.value;delete this.iframe;h.remove(this.domNode,this.baseClass);this.isClosed=!0;this.isLoaded=!1;delete this.editNode;delete this.focusNode;
if(this.window&&this.window._frameElement)this.window._frameElement=null;this.editorObject=this.editingArea=this.document=this.window=null}},destroy:function(){this.isClosed||this.close(!1);this._updateTimer&&this._updateTimer.remove();this.inherited(arguments);A._globalSaveHandler&&delete A._globalSaveHandler[this.id]},_removeMozBogus:function(a){return a.replace(/\stype="_moz"/gi,"").replace(/\s_moz_dirty=""/gi,"").replace(/_moz_resizing="(true|false)"/gi,"")},_removeWebkitBogus:function(a){a=a.replace(/\sclass="webkit-block-placeholder"/gi,
"");a=a.replace(/\sclass="apple-style-span"/gi,"");return a=a.replace(/<meta charset=\"utf-8\" \/>/gi,"")},_normalizeFontStyle:function(a){return a.replace(/<(\/)?strong([ \>])/gi,"<$1b$2").replace(/<(\/)?em([ \>])/gi,"<$1i$2")},_preFixUrlAttributes:function(a){return a.replace(/(?:(<a(?=\s).*?\shref=)("|')(.*?)\2)|(?:(<a\s.*?href=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2").replace(/(?:(<img(?=\s).*?\ssrc=)("|')(.*?)\2)|(?:(<img\s.*?src=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2")},
_browserQueryCommandEnabled:function(a){if(!a)return!1;var b=q("ie")?this.document.selection.createRange():this.document;try{return b.queryCommandEnabled(a)}catch(c){return!1}},_createlinkEnabledImpl:function(){var a=!0;return a=q("opera")?this.window.getSelection().isCollapsed?!0:this.document.queryCommandEnabled("createlink"):this._browserQueryCommandEnabled("createlink")},_unlinkEnabledImpl:function(){var a=!0;return a=q("mozilla")||q("webkit")?this._sCall("hasAncestorElement",["a"]):this._browserQueryCommandEnabled("unlink")},
_inserttableEnabledImpl:function(){var a=!0;return a=q("mozilla")||q("webkit")?!0:this._browserQueryCommandEnabled("inserttable")},_cutEnabledImpl:function(){var a=!0;q("webkit")?((a=this.window.getSelection())&&(a=a.toString()),a=!!a):a=this._browserQueryCommandEnabled("cut");return a},_copyEnabledImpl:function(){var a=!0;q("webkit")?((a=this.window.getSelection())&&(a=a.toString()),a=!!a):a=this._browserQueryCommandEnabled("copy");return a},_pasteEnabledImpl:function(){var a=!0;return q("webkit")?
!0:a=this._browserQueryCommandEnabled("paste")},_inserthorizontalruleImpl:function(a){return q("ie")?this._inserthtmlImpl("<hr>"):this.document.execCommand("inserthorizontalrule",!1,a)},_unlinkImpl:function(a){return this.queryCommandEnabled("unlink")&&(q("mozilla")||q("webkit"))?(this._sCall("selectElement",[this._sCall("getAncestorElement",["a"])]),this.document.execCommand("unlink",!1,null)):this.document.execCommand("unlink",!1,a)},_hilitecolorImpl:function(a){var b;this._handleTextColorOrProperties("hilitecolor",
a)||(q("mozilla")?(this.document.execCommand("styleWithCSS",!1,!0),b=this.document.execCommand("hilitecolor",!1,a),this.document.execCommand("styleWithCSS",!1,!1)):b=this.document.execCommand("hilitecolor",!1,a));return b},_backcolorImpl:function(a){q("ie")&&(a=a?a:null);var b=this._handleTextColorOrProperties("backcolor",a);b||(b=this.document.execCommand("backcolor",!1,a));return b},_forecolorImpl:function(a){q("ie")&&(a=a?a:null);var b=!1;(b=this._handleTextColorOrProperties("forecolor",a))||(b=
this.document.execCommand("forecolor",!1,a));return b},_inserthtmlImpl:function(a){var a=this._preFilterContent(a),b=!0;if(q("ie")){var c=this.document.selection.createRange();if("CONTROL"===this.document.selection.type.toUpperCase()){for(var d=c.item(0);c.length;)c.remove(c.item(0));d.outerHTML=a}else c.pasteHTML(a);c.select()}else q("mozilla")&&!a.length?this._sCall("remove"):b=this.document.execCommand("inserthtml",!1,a);return b},_boldImpl:function(a){var b=!1;q("ie")&&(this._adaptIESelection(),
b=this._adaptIEFormatAreaAndExec("bold"));b||(b=this.document.execCommand("bold",!1,a));return b},_italicImpl:function(a){var b=!1;q("ie")&&(this._adaptIESelection(),b=this._adaptIEFormatAreaAndExec("italic"));b||(b=this.document.execCommand("italic",!1,a));return b},_underlineImpl:function(a){var b=!1;q("ie")&&(this._adaptIESelection(),b=this._adaptIEFormatAreaAndExec("underline"));b||(b=this.document.execCommand("underline",!1,a));return b},_strikethroughImpl:function(a){var b=!1;q("ie")&&(this._adaptIESelection(),
b=this._adaptIEFormatAreaAndExec("strikethrough"));b||(b=this.document.execCommand("strikethrough",!1,a));return b},_superscriptImpl:function(a){var b=!1;q("ie")&&(this._adaptIESelection(),b=this._adaptIEFormatAreaAndExec("superscript"));b||(b=this.document.execCommand("superscript",!1,a));return b},_subscriptImpl:function(a){var b=!1;q("ie")&&(this._adaptIESelection(),b=this._adaptIEFormatAreaAndExec("subscript"));b||(b=this.document.execCommand("subscript",!1,a));return b},_fontnameImpl:function(a){var b;
q("ie")&&(b=this._handleTextColorOrProperties("fontname",a));b||(b=this.document.execCommand("fontname",!1,a));return b},_fontsizeImpl:function(a){var b;q("ie")&&(b=this._handleTextColorOrProperties("fontsize",a));b||(b=this.document.execCommand("fontsize",!1,a));return b},_insertorderedlistImpl:function(a){var b=!1;q("ie")&&(b=this._adaptIEList("insertorderedlist",a));b||(b=this.document.execCommand("insertorderedlist",!1,a));return b},_insertunorderedlistImpl:function(a){var b=!1;q("ie")&&(b=this._adaptIEList("insertunorderedlist",
a));b||(b=this.document.execCommand("insertunorderedlist",!1,a));return b},getHeaderHeight:function(){return this._getNodeChildrenHeight(this.header)},getFooterHeight:function(){return this._getNodeChildrenHeight(this.footer)},_getNodeChildrenHeight:function(a){var b=0;if(a&&a.childNodes){var d;for(d=0;d<a.childNodes.length;d++)var g=c.position(a.childNodes[d]),b=b+g.h}return b},_isNodeEmpty:function(a,b){return 1===a.nodeType?0<a.childNodes.length?this._isNodeEmpty(a.childNodes[0],b):!0:3===a.nodeType?
""===a.nodeValue.substring(b):!1},_removeStartingRangeFromRange:function(a,b){if(a.nextSibling)b.setStart(a.nextSibling,0);else{for(var c=a.parentNode;c&&null==c.nextSibling;)c=c.parentNode;c&&b.setStart(c.nextSibling,0)}return b},_adaptIESelection:function(){var a=B.getSelection(this.window);if(a&&a.rangeCount&&!a.isCollapsed){for(var b=a.getRangeAt(0),c=b.startContainer,d=b.startOffset;3===c.nodeType&&d>=c.length&&c.nextSibling;)d-=c.length,c=c.nextSibling;for(var g=null;this._isNodeEmpty(c,d)&&
c!==g;)g=c,b=this._removeStartingRangeFromRange(c,b),c=b.startContainer,d=0;a.removeAllRanges();a.addRange(b)}},_adaptIEFormatAreaAndExec:function(a){var b=B.getSelection(this.window),c=this.document,g,j,e,h,n,f,p;if(a&&b&&b.isCollapsed){if(this.queryCommandValue(a)){a=this._tagNamesForCommand(a);e=b.getRangeAt(0);h=e.startContainer;if(3===h.nodeType&&(j=e.endOffset,h.length<j))j=this._adjustNodeAndOffset(g,j),h=j.node;for(;h&&h!==this.editNode;){g=h.tagName?h.tagName.toLowerCase():"";if(-1<k.indexOf(a,
g)){p=h;break}h=h.parentNode}if(p&&(g=e.startContainer,a=c.createElement(p.tagName),d.place(a,p,"after"),g&&3===g.nodeType)){j=e.endOffset;if(g.length<j)j=this._adjustNodeAndOffset(g,j),g=j.node,j=j.offset;h=g.nodeValue;e=c.createTextNode(h.substring(0,j));var i=h.substring(j,h.length);i&&(n=c.createTextNode(i));d.place(e,g,"before");if(n)f=c.createElement("span"),f.className="ieFormatBreakerSpan",d.place(f,g,"after"),d.place(n,f,"after"),n=f;d.destroy(g);e=e.parentNode;for(g=[];e!==p;){h=e.tagName;
j={tagName:h};g.push(j);h=c.createElement(h);if(e.style&&h.style&&e.style.cssText)h.style.cssText=e.style.cssText,j.cssText=e.style.cssText;if("FONT"===e.tagName){if(e.color)h.color=e.color,j.color=e.color;if(e.face)h.face=e.face,j.face=e.face;if(e.size)h.size=e.size,j.size=e.size}if(e.className)h.className=e.className,j.className=e.className;if(n)for(;n;)j=n.nextSibling,h.appendChild(n),n=j;h.tagName==e.tagName?(f=c.createElement("span"),f.className="ieFormatBreakerSpan",d.place(f,e,"after"),d.place(h,
f,"after")):d.place(h,e,"after");n=h;e=e.parentNode}if(n){if(1===n.nodeType||3===n.nodeType&&n.nodeValue)a.innerHTML="";for(;n;)j=n.nextSibling,a.appendChild(n),n=j}if(g.length){j=g.pop();n=c.createElement(j.tagName);if(j.cssText&&n.style)n.style.cssText=j.cssText;if(j.className)n.className=j.className;if("FONT"===j.tagName){if(j.color)n.color=j.color;if(j.face)n.face=j.face;if(j.size)n.size=j.size}for(d.place(n,a,"before");g.length;){j=g.pop();p=c.createElement(j.tagName);if(j.cssText&&p.style)p.style.cssText=
j.cssText;if(j.className)p.className=j.className;if("FONT"===j.tagName){if(j.color)p.color=j.color;if(j.face)p.face=j.face;if(j.size)p.size=j.size}n.appendChild(p);n=p}p=c.createTextNode(".");f.appendChild(p);n.appendChild(p)}else f=c.createElement("span"),f.className="ieFormatBreakerSpan",p=c.createTextNode("."),f.appendChild(p),d.place(f,a,"before");n=B.create(this.window);n.setStart(p,0);n.setEnd(p,p.length);b.removeAllRanges();b.addRange(n);this._sCall("collapse",[!1]);p.parentNode.innerHTML=
"";a.firstChild||d.destroy(a);return!0}return!1}e=b.getRangeAt(0);if((g=e.startContainer)&&3===g.nodeType){j=e.startOffset;if(g.length<j)j=this._adjustNodeAndOffset(g,j),g=j.node,j=j.offset;h=g.nodeValue;e=c.createTextNode(h.substring(0,j));i=h.substring(j);""!==i&&(n=c.createTextNode(h.substring(j)));f=c.createElement("span");p=c.createTextNode(".");f.appendChild(p);e.length?d.place(e,g,"after"):e=g;d.place(f,e,"after");n&&d.place(n,f,"after");d.destroy(g);n=B.create(this.window);n.setStart(p,0);
n.setEnd(p,p.length);b.removeAllRanges();b.addRange(n);c.execCommand(a);d.place(f.firstChild,f,"before");d.destroy(f);n.setStart(p,0);n.setEnd(p,p.length);b.removeAllRanges();b.addRange(n);this._sCall("collapse",[!1]);p.parentNode.innerHTML="";return!0}}else return!1},_adaptIEList:function(a){var b=B.getSelection(this.window);if(b.isCollapsed&&b.rangeCount&&!this.queryCommandValue(a)){var c=b.getRangeAt(0),g=c.startContainer;if(g&&3==g.nodeType&&!c.startOffset)return c="ul","insertorderedlist"===
a&&(c="ol"),a=this.document.createElement(c),c=d.create("li",null,a),d.place(a,g,"before"),c.appendChild(g),d.create("br",null,a,"after"),a=B.create(this.window),a.setStart(g,0),a.setEnd(g,g.length),b.removeAllRanges(),b.addRange(a),this._sCall("collapse",[!0]),!0}return!1},_handleTextColorOrProperties:function(b,c){var g=B.getSelection(this.window),j=this.document,e,n,h,f,p,c=c||null;if(b&&g&&g.isCollapsed&&g.rangeCount&&(n=g.getRangeAt(0),(e=n.startContainer)&&3===e.nodeType)){p=n.startOffset;if(e.length<
p)n=this._adjustNodeAndOffset(e,p),e=n.node,p=n.offset;h=e.nodeValue;n=j.createTextNode(h.substring(0,p));""!==h.substring(p)&&(f=j.createTextNode(h.substring(p)));h=j.createElement("span");p=j.createTextNode(".");h.appendChild(p);j=j.createElement("span");h.appendChild(j);n.length?d.place(n,e,"after"):n=e;d.place(h,n,"after");f&&d.place(f,h,"after");d.destroy(e);e=B.create(this.window);e.setStart(p,0);e.setEnd(p,p.length);g.removeAllRanges();g.addRange(e);if(q("webkit")){g="color";if("hilitecolor"===
b||"backcolor"===b)g="backgroundColor";a.set(h,g,c);this._sCall("remove",[]);d.destroy(j);h.innerHTML="&#160;";this._sCall("selectElement",[h]);this.focus()}else this.execCommand(b,c),d.place(h.firstChild,h,"before"),d.destroy(h),e.setStart(p,0),e.setEnd(p,p.length),g.removeAllRanges(),g.addRange(e),this._sCall("collapse",[!1]),p.parentNode.removeChild(p);return!0}return!1},_adjustNodeAndOffset:function(a,b){for(;a.length<b&&a.nextSibling&&3===a.nextSibling.nodeType;)b-=a.length,a=a.nextSibling;return{node:a,
offset:b}},_tagNamesForCommand:function(a){return"bold"===a?["b","strong"]:"italic"===a?["i","em"]:"strikethrough"===a?["s","strike"]:"superscript"===a?["sup"]:"subscript"===a?["sub"]:"underline"===a?["u"]:[]},_stripBreakerNodes:function(a){if(this.isLoaded)return p(".ieFormatBreakerSpan",a).forEach(function(a){for(;a.firstChild;)d.place(a.firstChild,a,"before");d.destroy(a)}),a}});return A})},"dojo/_base/url":function(){define(["./kernel"],function(k){var m=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,
l=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,i=function(){for(var f=arguments,e=[f[0]],h=1;h<f.length;h++)if(f[h]){var d=new i(f[h]+""),e=new i(e[0]+"");if(""==d.path&&!d.scheme&&!d.authority&&!d.query){if(null!=d.fragment)e.fragment=d.fragment;d=e}else if(!d.scheme&&(d.scheme=e.scheme,!d.authority&&(d.authority=e.authority,"/"!=d.path.charAt(0)))){for(var e=(e.path.substring(0,e.path.lastIndexOf("/")+1)+d.path).split("/"),c=0;c<e.length;c++)"."==e[c]?c==e.length-1?e[c]="":(e.splice(c,
1),c--):0<c&&!(1==c&&""==e[0])&&".."==e[c]&&".."!=e[c-1]&&(c==e.length-1?(e.splice(c,1),e[c-1]=""):(e.splice(c-1,2),c-=2));d.path=e.join("/")}e=[];d.scheme&&e.push(d.scheme,":");d.authority&&e.push("//",d.authority);e.push(d.path);d.query&&e.push("?",d.query);d.fragment&&e.push("#",d.fragment)}this.uri=e.join("");f=this.uri.match(m);this.scheme=f[2]||(f[1]?"":null);this.authority=f[4]||(f[3]?"":null);this.path=f[5];this.query=f[7]||(f[6]?"":null);this.fragment=f[9]||(f[8]?"":null);if(null!=this.authority)f=
this.authority.match(l),this.user=f[3]||null,this.password=f[4]||null,this.host=f[6]||f[7],this.port=f[9]||null};i.prototype.toString=function(){return this.uri};return k._Url=i})},"dijit/_editor/selection":function(){define(["dojo/dom","dojo/_base/lang","dojo/sniff","dojo/_base/window","../main"],function(k,m,l,i,f){var e={getType:function(){if(i.doc.getSelection){var e="text",d;try{d=i.global.getSelection()}catch(c){}d&&1==d.rangeCount&&(d=d.getRangeAt(0),d.startContainer==d.endContainer&&1==d.endOffset-
d.startOffset&&3!=d.startContainer.nodeType&&(e="control"));return e}return i.doc.selection.type.toLowerCase()},getSelectedText:function(){if(i.doc.getSelection){var e=i.global.getSelection();return e?e.toString():""}return"control"==f._editor.selection.getType()?null:i.doc.selection.createRange().text},getSelectedHtml:function(){if(i.doc.getSelection){var e=i.global.getSelection();if(e&&e.rangeCount){var d,c="";for(d=0;d<e.rangeCount;d++){var a=e.getRangeAt(d).cloneContents(),b=i.doc.createElement("div");
b.appendChild(a);c+=b.innerHTML}return c}return null}return"control"==f._editor.selection.getType()?null:i.doc.selection.createRange().htmlText},getSelectedElement:function(){if("control"==f._editor.selection.getType()){if(i.doc.getSelection){var e=i.global.getSelection();return e.anchorNode.childNodes[e.anchorOffset]}if((e=i.doc.selection.createRange())&&e.item)return i.doc.selection.createRange().item(0)}return null},getParentElement:function(){if("control"==f._editor.selection.getType()){var e=
this.getSelectedElement();if(e)return e.parentNode}else if(i.doc.getSelection){if(e=i.global.getSelection()){for(e=e.anchorNode;e&&1!=e.nodeType;)e=e.parentNode;return e}}else return e=i.doc.selection.createRange(),e.collapse(!0),e.parentElement();return null},hasAncestorElement:function(e){return null!=this.getAncestorElement.apply(this,arguments)},getAncestorElement:function(e){return this.getParentOfType(this.getSelectedElement()||this.getParentElement(),arguments)},isTag:function(e,d){if(e&&e.tagName)for(var c=
e.tagName.toLowerCase(),a=0;a<d.length;a++){var b=(""+d[a]).toLowerCase();if(c==b)return b}return""},getParentOfType:function(e,d){for(;e;){if(this.isTag(e,d).length)return e;e=e.parentNode}return null},collapse:function(e){if(i.doc.getSelection){var d=i.global.getSelection();d.removeAllRanges?e?d.collapseToStart():d.collapseToEnd():d.collapse(e)}else d=i.doc.selection.createRange(),d.collapse(e),d.select()},remove:function(){var e=i.doc.selection;i.doc.getSelection?(e=i.global.getSelection(),e.deleteFromDocument()):
"none"!=e.type.toLowerCase()&&e.clear();return e},selectElementChildren:function(e,d){var c=i.doc,e=k.byId(e);if(i.doc.getSelection){var a=i.global.getSelection();l("opera")?(c=a.rangeCount?a.getRangeAt(0):c.createRange(),c.setStart(e,0),c.setEnd(e,3==e.nodeType?e.length:e.childNodes.length),a.addRange(c)):a.selectAllChildren(e)}else if(c=e.ownerDocument.body.createTextRange(),c.moveToElementText(e),!d)try{c.select()}catch(b){}},selectElement:function(e,d){var c,e=k.byId(e),a=e.ownerDocument,b=i.global;
if(a.getSelection)b=b.getSelection(),c=a.createRange(),b.removeAllRanges&&(l("opera")&&b.getRangeAt(0)&&(c=b.getRangeAt(0)),c.selectNode(e),b.removeAllRanges(),b.addRange(c));else try{var g=e.tagName?e.tagName.toLowerCase():"";c="img"===g||"table"===g?i.body(a).createControlRange():i.body(a).createRange();c.addElement(e);d||c.select()}catch(j){this.selectElementChildren(e,d)}},inSelection:function(e){if(e){var d,c=i.doc,a;if(i.doc.getSelection){var b=i.global.getSelection();b&&0<b.rangeCount&&(a=
b.getRangeAt(0));if(a&&a.compareBoundaryPoints&&c.createRange)try{if(d=c.createRange(),d.setStart(e,0),1===a.compareBoundaryPoints(a.START_TO_END,d))return!0}catch(g){}}else{a=c.selection.createRange();try{(d=e.ownerDocument.body.createControlRange())&&d.addElement(e)}catch(j){try{d=e.ownerDocument.body.createTextRange(),d.moveToElementText(e)}catch(f){}}if(a&&d&&1===a.compareEndPoints("EndToStart",d))return!0}}return!1}};m.setObject("dijit._editor.selection",e);return e})},"dijit/_editor/range":function(){define(["dojo/_base/array",
"dojo/_base/declare","dojo/_base/lang","dojo/_base/window","../main"],function(k,m,l,i,f){f.range={};f.range.getIndex=function(e,h){for(var d=[],c=[],a=e,b,g;e!=h;){var j=0;for(b=e.parentNode;g=b.childNodes[j++];)if(g===e){--j;break}d.unshift(j);c.unshift(j-b.childNodes.length);e=b}if(0<d.length&&3==a.nodeType){for(g=a.previousSibling;g&&3==g.nodeType;)d[d.length-1]--,g=g.previousSibling;for(g=a.nextSibling;g&&3==g.nodeType;)c[c.length-1]++,g=g.nextSibling}return{o:d,r:c}};f.range.getNode=function(e,
h){if(!l.isArray(e)||0==e.length)return h;var d=h;k.every(e,function(c){if(0<=c&&c<d.childNodes.length)d=d.childNodes[c];else return d=null,!1;return!0});return d};f.range.getCommonAncestor=function(e,h,d){for(var d=d||e.ownerDocument.body,c=function(a){for(var b=[];a;)if(b.unshift(a),a!==d)a=a.parentNode;else break;return b},e=c(e),h=c(h),c=Math.min(e.length,h.length),a=e[0],b=1;b<c;b++)if(e[b]===h[b])a=e[b];else break;return a};f.range.getAncestor=function(e,h,d){for(d=d||e.ownerDocument.body;e&&
e!==d;){var c=e.nodeName.toUpperCase();if(h.test(c))return e;e=e.parentNode}return null};f.range.BlockTagNames=/^(?:P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DT|DE)$/;f.range.getBlockAncestor=function(e,h,d){for(var d=d||e.ownerDocument.body,h=h||f.range.BlockTagNames,c=null,a;e&&e!==d;){var b=e.nodeName.toUpperCase();!c&&h.test(b)&&(c=e);!a&&/^(?:BODY|TD|TH|CAPTION)$/.test(b)&&(a=e);e=e.parentNode}return{blockNode:c,blockContainer:a||e.ownerDocument.body}};f.range.atBeginningOfContainer=function(e,
h,d){var c=!1,a=0==d;!a&&3==h.nodeType&&/^[\s\xA0]+$/.test(h.nodeValue.substr(0,d))&&(a=!0);if(a)for(c=!0;h&&h!==e;){if(h.previousSibling){c=!1;break}h=h.parentNode}return c};f.range.atEndOfContainer=function(e,h,d){var c=!1,a=d==(h.length||h.childNodes.length);!a&&3==h.nodeType&&/^[\s\xA0]+$/.test(h.nodeValue.substr(d))&&(a=!0);if(a)for(c=!0;h&&h!==e;){if(h.nextSibling){c=!1;break}h=h.parentNode}return c};f.range.adjacentNoneTextNode=function(e,h){for(var d=e,c=0-e.length||0,a=h?"nextSibling":"previousSibling";d&&
!(3!=d.nodeType);){c+=d.length;d=d[a]}return[d,c]};f.range.create=function(e){e=e||window;return e.getSelection?e.document.createRange():new f.range.W3CRange};f.range.getSelection=function(e,h){if(e.getSelection)return e.getSelection();var d=new f.range.ie.selection(e);h||d._getCurrentSelection();return d};if(!window.getSelection)f.range.ie={cachedSelection:{},selection:function(e){this._ranges=[];this.addRange=function(e,d){this._ranges.push(e);d||e._select();this.rangeCount=this._ranges.length};
this.removeAllRanges=function(){this._ranges=[];this.rangeCount=0};this.getRangeAt=function(e){return this._ranges[e]};this._getCurrentSelection=function(){this.removeAllRanges();var h;h=e.document.selection.createRange();(h="CONTROL"==e.document.selection.type.toUpperCase()?new f.range.W3CRange(f.range.ie.decomposeControlRange(h)):new f.range.W3CRange(f.range.ie.decomposeTextRange(h)))?(this.addRange(h,!0),this.isCollapsed=h.collapsed):this.isCollapsed=!0}},decomposeControlRange:function(e){var h=
e.item(0),d=e.item(e.length-1),e=h.parentNode,c=d.parentNode,h=f.range.getIndex(h,e).o[0],d=f.range.getIndex(d,c).o[0]+1;return[e,h,c,d]},getEndPoint:function(e,h){var d=e.duplicate();d.collapse(!h);var c="EndTo"+(h?"End":"Start"),a=d.parentElement(),b,g,j;0<a.childNodes.length?k.every(a.childNodes,function(n,h){var i;if(3!=n.nodeType)if(d.moveToElementText(n),0<d.compareEndPoints(c,e))if(j&&3==j.nodeType)b=j,i=!0;else return b=a,g=h,!1;else{if(h==a.childNodes.length-1)return b=a,g=a.childNodes.length,
!1}else h==a.childNodes.length-1&&(b=n,i=!0);if(i&&b){b=(i=f.range.adjacentNoneTextNode(b)[0])?i.nextSibling:a.firstChild;var o=f.range.adjacentNoneTextNode(b);i=o[0];o=o[1];i?(d.moveToElementText(i),d.collapse(!1)):d.moveToElementText(a);d.setEndPoint(c,e);g=d.text.length-o;return!1}j=n;return!0}):(b=a,g=0);if(!h&&1==b.nodeType&&g==b.childNodes.length){var i=b.nextSibling;i&&3==i.nodeType&&(b=i,g=0)}return[b,g]},setEndPoint:function(e,h,d){var e=e.duplicate(),c;if(3!=h.nodeType)if(0<d){if(c=h.childNodes[d-
1])if(3==c.nodeType)h=c,d=c.length;else if(c.nextSibling&&3==c.nextSibling.nodeType)h=c.nextSibling,d=0;else{e.moveToElementText(c.nextSibling?c:h);var a=c.parentNode;c=a.insertBefore(c.ownerDocument.createTextNode(" "),c.nextSibling);e.collapse(!1);a.removeChild(c)}}else e.moveToElementText(h),e.collapse(!0);3==h.nodeType&&(c=f.range.adjacentNoneTextNode(h),a=c[0],c=c[1],a?(e.moveToElementText(a),e.collapse(!1),"inherit"!=a.contentEditable&&c++):(e.moveToElementText(h.parentNode),e.collapse(!0)),
d+=c,0<d&&e.move("character",d)!=d&&console.error("Error when moving!"));return e},decomposeTextRange:function(e){var h=f.range.ie.getEndPoint(e),d=h[0],c=h[1],a=h[0],h=h[1];e.htmlText.length&&(e.htmlText==e.text?h=c+e.text.length:(h=f.range.ie.getEndPoint(e,!0),a=h[0],h=h[1]));return[d,c,a,h]},setRange:function(e,h,d,c,a,b){h=f.range.ie.setEndPoint(e,h,d);e.setEndPoint("StartToStart",h);if(!b)var g=f.range.ie.setEndPoint(e,c,a);e.setEndPoint("EndToEnd",g||h);return e}},m("dijit.range.W3CRange",null,
{constructor:function(){0<arguments.length?(this.setStart(arguments[0][0],arguments[0][1]),this.setEnd(arguments[0][2],arguments[0][3])):(this.startContainer=this.commonAncestorContainer=null,this.startOffset=0,this.endContainer=null,this.endOffset=0,this.collapsed=!0)},_updateInternal:function(){this.commonAncestorContainer=this.startContainer!==this.endContainer?f.range.getCommonAncestor(this.startContainer,this.endContainer):this.startContainer;this.collapsed=this.startContainer===this.endContainer&&
this.startOffset==this.endOffset},setStart:function(e,h){h=parseInt(h);if(!(this.startContainer===e&&this.startOffset==h))delete this._cachedBookmark,this.startContainer=e,this.startOffset=h,this.endContainer?this._updateInternal():this.setEnd(e,h)},setEnd:function(e,h){h=parseInt(h);if(!(this.endContainer===e&&this.endOffset==h))delete this._cachedBookmark,this.endContainer=e,this.endOffset=h,this.startContainer?this._updateInternal():this.setStart(e,h)},setStartAfter:function(e,h){this._setPoint("setStart",
e,h,1)},setStartBefore:function(e,h){this._setPoint("setStart",e,h,0)},setEndAfter:function(e,h){this._setPoint("setEnd",e,h,1)},setEndBefore:function(e,h){this._setPoint("setEnd",e,h,0)},_setPoint:function(e,h,d,c){d=f.range.getIndex(h,h.parentNode).o;this[e](h.parentNode,d.pop()+c)},_getIERange:function(){var e=(this._body||this.endContainer.ownerDocument.body).createTextRange();f.range.ie.setRange(e,this.startContainer,this.startOffset,this.endContainer,this.endOffset,this.collapsed);return e},
getBookmark:function(){this._getIERange();return this._cachedBookmark},_select:function(){this._getIERange().select()},deleteContents:function(){var e=this.startContainer,h=this._getIERange();3===e.nodeType&&!this.startOffset&&this.setStartBefore(e);h.pasteHTML("");this.endContainer=this.startContainer;this.endOffset=this.startOffset;this.collapsed=!0},cloneRange:function(){var e=new f.range.W3CRange([this.startContainer,this.startOffset,this.endContainer,this.endOffset]);e._body=this._body;return e},
detach:function(){this.startContainer=this.commonAncestorContainer=this._body=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=!0}});return f.range})},"dijit/_editor/html":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/sniff"],function(k,m,l){var i={};m.setObject("dijit._editor.html",i);var f=i.escapeXml=function(e,h){e=e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");h||(e=e.replace(/'/gm,"&#39;"));return e};
i.getNodeHtml=function(e){var h=[];i.getNodeHtmlHelper(e,h);return h.join("")};i.getNodeHtmlHelper=function(e,h){switch(e.nodeType){case 1:var d=e.nodeName.toLowerCase();if(!d||"/"==d.charAt(0))return"";h.push("<",d);var c=[],a={},b;if(l("dom-attributes-explicit")||l("dom-attributes-specified-flag"))for(var g=0;b=e.attributes[g++];){var j=b.name;if("_dj"!==j.substr(0,3)&&(!l("dom-attributes-specified-flag")||b.specified)&&!(j in a)){b=b.value;if("src"==j||"href"==j)e.getAttribute("_djrealurl")&&(b=
e.getAttribute("_djrealurl"));8===l("ie")&&"style"===j&&(b=b.replace("HEIGHT:","height:").replace("WIDTH:","width:"));c.push([j,b]);a[j]=b}}else{var o=(/^input$|^img$/i.test(e.nodeName)?e:e.cloneNode(!1)).outerHTML,a=o.match(/[\w-]+=("[^"]*"|'[^']*'|\S*)/gi),o=o.substr(0,o.indexOf(">"));k.forEach(a,function(a){if(a){var b=a.indexOf("=");if(0<b&&(a=a.substring(0,b),"_dj"!=a.substr(0,3)))if(("src"==a||"href"==a)&&e.getAttribute("_djrealurl"))c.push([a,e.getAttribute("_djrealurl")]);else{var g;switch(a){case "style":g=
e.style.cssText.toLowerCase();break;case "class":g=e.className;break;case "width":if("img"===d){(b=/width=(\S+)/i.exec(o))&&(g=b[1]);break}case "height":if("img"===d){(b=/height=(\S+)/i.exec(o))&&(g=b[1]);break}default:g=e.getAttribute(a)}null!=g&&c.push([a,g.toString()])}}},this)}c.sort(function(a,b){return a[0]<b[0]?-1:a[0]==b[0]?0:1});for(a=0;b=c[a++];)h.push(" ",b[0],'="',"string"===typeof b[1]?f(b[1],!0):b[1],'"');switch(d){case "br":case "hr":case "img":case "input":case "base":case "meta":case "area":case "basefont":h.push(" />");
break;case "script":h.push(">",e.innerHTML,"</",d,">");break;default:h.push(">"),e.hasChildNodes()&&i.getChildrenHtmlHelper(e,h),h.push("</",d,">")}break;case 4:case 3:h.push(f(e.nodeValue,!0));break;case 8:h.push("<\!--",f(e.nodeValue,!0),"--\>");break;default:h.push("<\!-- Element not recognized - Type: ",e.nodeType," Name: ",e.nodeName,"--\>")}};i.getChildrenHtml=function(e){var h=[];i.getChildrenHtmlHelper(e,h);return h.join("")};i.getChildrenHtmlHelper=function(e,h){if(e)for(var d=e.childNodes||
e,c=!l("ie")||d!==e,a,b=0;a=d[b++];)(!c||a.parentNode==e)&&i.getNodeHtmlHelper(a,h)};return i})},"dijit/_editor/nls/commands":function(){define({root:{bold:"Bold",copy:"Copy",cut:"Cut","delete":"Delete",indent:"Indent",insertHorizontalRule:"Horizontal Rule",insertOrderedList:"Numbered List",insertUnorderedList:"Bullet List",italic:"Italic",justifyCenter:"Align Center",justifyFull:"Justify",justifyLeft:"Align Left",justifyRight:"Align Right",outdent:"Outdent",paste:"Paste",redo:"Redo",removeFormat:"Remove Format",
selectAll:"Select All",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",underline:"Underline",undo:"Undo",unlink:"Remove Link",createLink:"Create Link",toggleDir:"Toggle Direction",insertImage:"Insert Image",insertTable:"Insert/Edit Table",toggleTableBorder:"Toggle Table Border",deleteTable:"Delete Table",tableProp:"Table Property",htmlToggle:"HTML Source",foreColor:"Foreground Color",hiliteColor:"Background Color",plainFormatBlock:"Paragraph Style",formatBlock:"Paragraph Style",
fontSize:"Font Size",fontName:"Font Name",tabIndent:"Tab Indent",fullScreen:"Toggle Full Screen",viewSource:"View HTML Source",print:"Print",newPage:"New Page",systemShortcut:'The "${0}" action is only available in your browser using a keyboard shortcut. Use ${1}.',ctrlKey:"ctrl+${0}",appleKey:"\u2318${0}"},zh:!0,"zh-tw":!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,az:!0,ar:!0})},
"dijit/ProgressBar":function(){define("require,dojo/_base/declare,dojo/dom-class,dojo/_base/lang,dojo/number,./_Widget,./_TemplatedMixin,dojo/text!./templates/ProgressBar.html".split(","),function(k,m,l,i,f,e,h,d){return m("dijit.ProgressBar",[e,h],{progress:"0",value:"",maximum:100,places:0,indeterminate:!1,label:"",name:"",templateString:d,_indeterminateHighContrastImagePath:k.toUrl("./themes/a11y/indeterminate_progress.gif"),postMixInProperties:function(){this.inherited(arguments);if(!(this.params&&
"value"in this.params))this.value=this.indeterminate?Infinity:this.progress},buildRendering:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath.toString());this.update()},update:function(c){i.mixin(this,c||{});var c=this.internalProgress,a=this.domNode,b=1;this.indeterminate?(a.removeAttribute("aria-valuenow"),a.removeAttribute("aria-valuemin"),a.removeAttribute("aria-valuemax")):(-1!=(""+this.progress).indexOf("%")?
(b=Math.min(parseFloat(this.progress)/100,1),this.progress=b*this.maximum):(this.progress=Math.min(this.progress,this.maximum),b=this.maximum?this.progress/this.maximum:0),a.setAttribute("aria-describedby",this.labelNode.id),a.setAttribute("aria-valuenow",this.progress),a.setAttribute("aria-valuemin",0),a.setAttribute("aria-valuemax",this.maximum));this.labelNode.innerHTML=this.report(b);l.toggle(this.domNode,"dijitProgressBarIndeterminate",this.indeterminate);c.style.width=100*b+"%";this.onChange()},
_setValueAttr:function(c){this._set("value",c);Infinity==c?this.update({indeterminate:!0}):this.update({indeterminate:!1,progress:c})},_setLabelAttr:function(c){this._set("label",c);this.update()},_setIndeterminateAttr:function(c){this.indeterminate=c;this.update()},report:function(c){return this.label?this.label:this.indeterminate?"&#160;":f.format(c,{type:"percent",places:this.places,locale:this.lang})},onChange:function(){}})})},"url:dijit/templates/ProgressBar.html":'<div class="dijitProgressBar dijitProgressBarEmpty" role="progressbar"\r\n\t><div  data-dojo-attach-point="internalProgress" class="dijitProgressBarFull"\r\n\t\t><div class="dijitProgressBarTile" role="presentation"></div\r\n\t\t><span style="visibility:hidden">&#160;</span\r\n\t></div\r\n\t><div data-dojo-attach-point="labelNode" class="dijitProgressBarLabel" id="${id}_label"></div\r\n\t><img data-dojo-attach-point="indeterminateHighContrastImage" class="dijitProgressBarIndeterminateHighContrastImage" alt=""\r\n/></div>\r\n',
"gridx/tests/support/data/TestData":function(){define([],function(){var k=9973,m=function(f){k=(8887*k+9643)%8677;return Math.floor(k/8677*f)},l="0,1,2,3, ,4,5,6,7, ,8,9,a,b, ,c,d,e,f, ,g,h,i,j, ,k,l,m,n, ,k,o,p,q, ,r,s,t,u, ,v,w,x,y, ,z".split(","),i=function(){var f=m(50),e,h=[];for(e=0;e<f;++e)h.push(l[m(l.length)]);return h.join("")};return{resetSeed:function(){k=9973},getData:function(f){for(var f=void 0===f?100:f,e={identifier:"id",label:"id",items:[]},h=0;h<f;++h)e.items.push({id:h+1,number:m(100),
string:i(),date:(new Date(m(1E13))).toDateString(),time:(new Date(m(1E13))).toTimeString().split(" ")[0],bool:5>m(10),order:h+1});return e},layouts:[[{id:"id",field:"id",name:"Identity"},{id:"number",field:"number",name:"Number"}],[{id:"id",field:"id",name:"Identity"},{id:"number",field:"number",name:"Number"},{id:"string",field:"string",name:"String"}],[{field:"id",name:"Identity",width:"20px"},{field:"number",name:"Number",width:"10em"},{field:"string",name:"String",width:"200px"},{field:"date",
name:"Date",width:"10%"},{field:"time",name:"Time",width:"20%"},{field:"bool",name:"Boolean",width:"30%"}],[{id:"id",field:"id",name:"Identity",dataType:"number"},{id:"number",field:"number",name:"Number",dataType:"number"},{id:"string",field:"string",name:"String",dataType:"string"},{id:"date",field:"date",name:"Date",dataType:"date"},{id:"time",field:"time",name:"Time",dataType:"time"},{id:"bool",field:"bool",name:"Boolean",dataType:"boolean"}],[{id:"number",field:"number",name:"Number"},{id:"string",
field:"string",name:"String"},{id:"date",field:"date",name:"Date"},{id:"time",field:"time",name:"Time"},{id:"bool",field:"bool",name:"Boolean"}],[{id:"id",field:"id",name:"Identity",width:"200px"},{id:"number",field:"number",name:"Number",width:"200px"},{id:"string",field:"string",name:"String",width:"200px"},{id:"date",field:"date",name:"Date",width:"200px"}],[{id:"id",field:"id",name:"Identity",dataType:"number"},{id:"number",field:"number",name:"Number",dataType:"number"},{id:"date",field:"date",
name:"Date",dataType:"date"},{id:"time",field:"time",name:"Time",dataType:"time"},{id:"bool",field:"bool",name:"Boolean",dataType:"boolean"}]]}})},"gridx/tests/support/data/TreeColumnarTestData":function(){define([],function(){var k=9973,m=function(f){k=(8887*k+9643)%8677;return Math.floor(k/8677*f)},l="0,1,2,3, ,4,5,6,7, ,8,9,a,b, ,c,d,e,f, ,g,h,i,j, ,k,l,m,n, ,k,o,p,q, ,r,s,t,u, ,v,w,x,y, ,z".split(","),i=function(f,e,h,d){var c,a,b=[],g=m(d);for(c=0;c<g;++c){a=f+"-"+(c+1);var j=m(1E4),o;o=m(50);
for(var n=void 0,p=[],n=0;n<o;++n)p.push(l[m(l.length)]);o=p.join("");a={id:a,number:j,string:o,date:(new Date(m(1E13))).toDateString(),time:(new Date(m(1E13))).toTimeString().split(" ")[0],bool:5>m(10)};b.push(a);if(e<h)a.children=i(a.id,e+1,h,d)}return b};return{getData:function(f,e){return{identifier:"id",label:"id",items:i("item",1,f,e)}},layouts:[[{id:"id",name:"id",field:"id",expandLevel:"all"},{id:"number",name:"number",field:"number"},{id:"string",name:"string",field:"string"},{id:"date",
name:"date",field:"date"},{id:"time",name:"time",field:"time"},{id:"bool",name:"bool",field:"bool"}],[{id:"id",name:"id",field:"id"},{id:"number",name:"number",field:"number"},{id:"string",name:"string",field:"string"},{id:"date",name:"date",field:"date"},{id:"time",name:"time",field:"time"},{id:"bool",name:"bool",field:"bool"}]]}})},"gridx/tests/support/data/TreeNestedTestData":function(){define([],function(){var k=9973,m=function(f){k=(8887*k+9643)%8677;return Math.floor(k/8677*f)},l="0,1,2,3, ,4,5,6,7, ,8,9,a,b, ,c,d,e,f, ,g,h,i,j, ,k,l,m,n, ,k,o,p,q, ,r,s,t,u, ,v,w,x,y, ,z".split(","),
i=function(f,e,h,d){var c,a,b=[],g=m(d);for(c=0;c<g;++c){a=f+"-"+(c+1);var j=1>=e?m(1E4):void 0,o;if(2>=e){o=m(50);for(var n=void 0,p=[],n=0;n<o;++n)p.push(l[m(l.length)]);o=p.join("")}else o=void 0;a={id:a,number:j,string:o,date:3>=e?(new Date(m(1E13))).toDateString():void 0,time:(new Date(m(1E13))).toTimeString().split(" ")[0],bool:5>m(10)};b.push(a);if(e<h)a.children=i(a.id,e+1,h,d)}return b};return{getData:function(f,e){return{identifier:"id",label:"id",items:i("item",1,f,e)}},layouts:[[{id:"number",
name:"number",field:"number",expandLevel:1},{id:"string",name:"string",field:"string",expandLevel:2},{id:"date",name:"date",field:"date",expandLevel:3},{id:"time",name:"time",field:"time"},{id:"bool",name:"bool",field:"bool"},{id:"id",name:"id",field:"id"}],[{id:"number",name:"number",field:"number"},{id:"string",name:"string",field:"string"},{id:"date",name:"date",field:"date"},{id:"time",name:"time",field:"time"},{id:"bool",name:"bool",field:"bool"},{id:"id",name:"id",field:"id"}]]}})},"gridx/tests/support/stores/ItemFileWriteStore":function(){define(["dojo/data/ItemFileWriteStore",
"./MockServerStore"],function(k,m){return function(l){var i=l.maxLevel?l.dataSource.getData(l.maxLevel,l.maxChildrenCount):l.dataSource.getData(l.size);return new (l.isAsync?m:k)({data:i})}})},"dojo/data/ItemFileWriteStore":function(){define("../_base/lang,../_base/declare,../_base/array,../_base/json,../_base/kernel,./ItemFileReadStore,../date/stamp".split(","),function(k,m,l,i,f,e,h){return m("dojo.data.ItemFileWriteStore",e,{constructor:function(d){this._features["dojo.data.api.Write"]=!0;this._features["dojo.data.api.Notification"]=
!0;this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};if(!this._datatypeMap.Date.serialize)this._datatypeMap.Date.serialize=function(c){return h.toISOString(c,{zulu:!0})};if(d&&!1===d.referenceIntegrity)this.referenceIntegrity=!1;this._saveInProgress=!1},referenceIntegrity:!0,_assert:function(d){if(!d)throw Error("assertion failed in ItemFileWriteStore");},_getIdentifierAttribute:function(){return this.getFeatures()["dojo.data.api.Identity"]},newItem:function(d,c){this._assert(!this._saveInProgress);
this._loadFinished||this._forceLoad();if("object"!=typeof d&&"undefined"!=typeof d)throw Error("newItem() was passed something other than an object");var a=null,b=this._getIdentifierAttribute();if(b===Number)a=this._arrayOfAllItems.length;else{a=d[b];if("undefined"===typeof a)throw Error("newItem() was not passed an identity for the new item");if(k.isArray(a))throw Error("newItem() was not passed an single-valued identity");}this._itemsByIdentity&&this._assert("undefined"===typeof this._itemsByIdentity[a]);
this._assert("undefined"===typeof this._pending._newItems[a]);this._assert("undefined"===typeof this._pending._deletedItems[a]);var g={};g[this._storeRefPropName]=this;g[this._itemNumPropName]=this._arrayOfAllItems.length;this._itemsByIdentity&&(this._itemsByIdentity[a]=g,g[b]=[a]);this._arrayOfAllItems.push(g);b=null;if(c&&c.parent&&c.attribute){var b={item:c.parent,attribute:c.attribute,oldValue:void 0},j=this.getValues(c.parent,c.attribute);if(j&&0<j.length){var e=j.slice(0,j.length);b.oldValue=
1===j.length?j[0]:j.slice(0,j.length);e.push(g);this._setValueOrValues(c.parent,c.attribute,e,!1);b.newValue=this.getValues(c.parent,c.attribute)}else this._setValueOrValues(c.parent,c.attribute,g,!1),b.newValue=g}else g[this._rootItemPropName]=!0,this._arrayOfTopLevelItems.push(g);this._pending._newItems[a]=g;for(var n in d){if(n===this._storeRefPropName||n===this._itemNumPropName)throw Error("encountered bug in ItemFileWriteStore.newItem");a=d[n];k.isArray(a)||(a=[a]);g[n]=a;if(this.referenceIntegrity)for(j=
0;j<a.length;j++)e=a[j],this.isItem(e)&&this._addReferenceToMap(e,g,n)}this.onNew(g,b);return g},_removeArrayElement:function(d,c){var a=l.indexOf(d,c);return-1!=a?(d.splice(a,1),!0):!1},deleteItem:function(d){this._assert(!this._saveInProgress);this._assertIsItem(d);var c=d[this._itemNumPropName],a=this.getIdentity(d);if(this.referenceIntegrity){var b=this.getAttributes(d);d[this._reverseRefMap]&&(d["backup_"+this._reverseRefMap]=k.clone(d[this._reverseRefMap]));l.forEach(b,function(a){l.forEach(this.getValues(d,
a),function(b){this.isItem(b)&&(d["backupRefs_"+this._reverseRefMap]||(d["backupRefs_"+this._reverseRefMap]=[]),d["backupRefs_"+this._reverseRefMap].push({id:this.getIdentity(b),attr:a}),this._removeReferenceFromMap(b,d,a))},this)},this);if(b=d[this._reverseRefMap])for(var g in b){var j=null;if(j=this._itemsByIdentity?this._itemsByIdentity[g]:this._arrayOfAllItems[g])for(var e in b[g]){var n=this.getValues(j,e)||[],h=l.filter(n,function(b){return!(this.isItem(b)&&this.getIdentity(b)==a)},this);this._removeReferenceFromMap(d,
j,e);h.length<n.length&&this._setValueOrValues(j,e,h,!0)}}}this._arrayOfAllItems[c]=null;d[this._storeRefPropName]=null;this._itemsByIdentity&&delete this._itemsByIdentity[a];this._pending._deletedItems[a]=d;d[this._rootItemPropName]&&this._removeArrayElement(this._arrayOfTopLevelItems,d);this.onDelete(d);return!0},setValue:function(d,c,a){return this._setValueOrValues(d,c,a,!0)},setValues:function(d,c,a){return this._setValueOrValues(d,c,a,!0)},unsetAttribute:function(d,c){return this._setValueOrValues(d,
c,[],!0)},_setValueOrValues:function(d,c,a,b){this._assert(!this._saveInProgress);this._assertIsItem(d);this._assert(k.isString(c));this._assert("undefined"!==typeof a);var g=this._getIdentifierAttribute();if(c==g)throw Error("ItemFileWriteStore does not have support for changing the value of an item's identifier.");var g=this._getValueOrValues(d,c),j=this.getIdentity(d);if(!this._pending._modifiedItems[j]){var e={},n;for(n in d)e[n]=n===this._storeRefPropName||n===this._itemNumPropName||n===this._rootItemPropName?
d[n]:n===this._reverseRefMap?k.clone(d[n]):d[n].slice(0,d[n].length);this._pending._modifiedItems[j]=e}j=!1;if(k.isArray(a)&&0===a.length){if(j=delete d[c],a=void 0,this.referenceIntegrity&&g){n=g;k.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++)e=n[h],this.isItem(e)&&this._removeReferenceFromMap(e,d,c)}}else{j=k.isArray(a)?a.slice(0,a.length):[a];if(this.referenceIntegrity)if(g){n=g;k.isArray(n)||(n=[n]);var f={};l.forEach(n,function(a){this.isItem(a)&&(a=this.getIdentity(a),f[a.toString()]=!0)},
this);l.forEach(j,function(a){if(this.isItem(a)){var b=this.getIdentity(a);f[b.toString()]?delete f[b.toString()]:this._addReferenceToMap(a,d,c)}},this);for(h in f)this._removeReferenceFromMap(this._itemsByIdentity?this._itemsByIdentity[h]:this._arrayOfAllItems[h],d,c)}else for(h=0;h<j.length;h++)e=j[h],this.isItem(e)&&this._addReferenceToMap(e,d,c);d[c]=j;j=!0}if(b)this.onSet(d,c,g,a);return j},_addReferenceToMap:function(d,c,a){var c=this.getIdentity(c),b=d[this._reverseRefMap];b||(b=d[this._reverseRefMap]=
{});(d=b[c])||(d=b[c]={});d[a]=!0},_removeReferenceFromMap:function(d,c,a){var c=this.getIdentity(c),b=d[this._reverseRefMap],g;if(b){for(g in b)g==c&&(delete b[g][a],this._isEmpty(b[g])&&delete b[g]);this._isEmpty(b)&&delete d[this._reverseRefMap]}},_dumpReferenceMap:function(){var d;for(d=0;d<this._arrayOfAllItems.length;d++);},_getValueOrValues:function(d,c){var a=void 0;this.hasAttribute(d,c)&&(a=this.getValues(d,c),a=1==a.length?a[0]:a);return a},_flatten:function(d){if(this.isItem(d))return{_reference:this.getIdentity(d)};
if("object"===typeof d)for(var c in this._datatypeMap){var a=this._datatypeMap[c];if(k.isObject(a)&&!k.isFunction(a)){if(d instanceof a.type){if(!a.serialize)throw Error("ItemFileWriteStore:  No serializer defined for type mapping: ["+c+"]");return{_type:c,_value:a.serialize(d)}}}else if(d instanceof a)return{_type:c,_value:d.toString()}}return d},_getNewFileContentString:function(){var d={},c=this._getIdentifierAttribute();if(c!==Number)d.identifier=c;if(this._labelAttr)d.label=this._labelAttr;d.items=
[];for(c=0;c<this._arrayOfAllItems.length;++c){var a=this._arrayOfAllItems[c];if(null!==a){var b={},g;for(g in a)if(g!==this._storeRefPropName&&g!==this._itemNumPropName&&g!==this._reverseRefMap&&g!==this._rootItemPropName){var j=this.getValues(a,g);if(1==j.length)b[g]=this._flatten(j[0]);else for(var e=[],n=0;n<j.length;++n)e.push(this._flatten(j[n])),b[g]=e}d.items.push(b)}}return i.toJson(d,!0)},_isEmpty:function(d){var c=!0;if(k.isObject(d))for(var a in d){c=!1;break}else k.isArray(d)&&0<d.length&&
(c=!1);return c},save:function(d){this._assert(!this._saveInProgress);this._saveInProgress=!0;var c=this,a=function(){c._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};c._saveInProgress=!1;d&&d.onComplete&&d.onComplete.call(d.scope||f.global)},b=function(a){c._saveInProgress=!1;d&&d.onError&&d.onError.call(d.scope||f.global,a)};if(this._saveEverything){var g=this._getNewFileContentString();this._saveEverything(a,b,g)}this._saveCustom&&this._saveCustom(a,b);!this._saveEverything&&!this._saveCustom&&
a()},revert:function(){this._assert(!this._saveInProgress);for(var d in this._pending._modifiedItems){var c=this._pending._modifiedItems[d],a=null,a=this._itemsByIdentity?this._itemsByIdentity[d]:this._arrayOfAllItems[d];c[this._storeRefPropName]=this;for(var b in a)delete a[b];k.mixin(a,c)}var g;for(d in this._pending._deletedItems)g=this._pending._deletedItems[d],g[this._storeRefPropName]=this,c=g[this._itemNumPropName],g["backup_"+this._reverseRefMap]&&(g[this._reverseRefMap]=g["backup_"+this._reverseRefMap],
delete g["backup_"+this._reverseRefMap]),this._arrayOfAllItems[c]=g,this._itemsByIdentity&&(this._itemsByIdentity[d]=g),g[this._rootItemPropName]&&this._arrayOfTopLevelItems.push(g);for(d in this._pending._deletedItems)g=this._pending._deletedItems[d],g["backupRefs_"+this._reverseRefMap]&&(l.forEach(g["backupRefs_"+this._reverseRefMap],function(a){this._addReferenceToMap(this._itemsByIdentity?this._itemsByIdentity[a.id]:this._arrayOfAllItems[a.id],g,a.attr)},this),delete g["backupRefs_"+this._reverseRefMap]);
for(d in this._pending._newItems)c=this._pending._newItems[d],c[this._storeRefPropName]=null,this._arrayOfAllItems[c[this._itemNumPropName]]=null,c[this._rootItemPropName]&&this._removeArrayElement(this._arrayOfTopLevelItems,c),this._itemsByIdentity&&delete this._itemsByIdentity[d];this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};return!0},isDirty:function(d){return d?(d=this.getIdentity(d),(new Boolean(this._pending._newItems[d]||this._pending._modifiedItems[d]||this._pending._deletedItems[d])).valueOf()):
!this._isEmpty(this._pending._newItems)||!this._isEmpty(this._pending._modifiedItems)||!this._isEmpty(this._pending._deletedItems)},onSet:function(){},onNew:function(){},onDelete:function(){},close:function(d){if(this.clearOnClose){if(this.isDirty())throw Error("dojo.data.ItemFileWriteStore: There are unsaved changes present in the store.  Please save or revert the changes before invoking close.");this.inherited(arguments)}}})})},"dojo/data/ItemFileReadStore":function(){define("../_base/kernel,../_base/lang,../_base/declare,../_base/array,../_base/xhr,../Evented,./util/filter,./util/simpleFetch,../date/stamp".split(","),
function(k,m,l,i,f,e,h,d,c){l=l("dojo.data.ItemFileReadStore",[e],{constructor:function(a){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=!1;this.url=this._ccUrl=this._jsonFileUrl=a.url;this._jsonData=a.data;this.data=null;this._datatypeMap=a.typeMap||{};this._datatypeMap.Date||(this._datatypeMap.Date={type:Date,deserialize:function(a){return c.fromISOString(a)}});this._features={"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0};this._itemsByIdentity=null;this._storeRefPropName=
"_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=!1;this._queuedFetches=[];if(void 0!==a.urlPreventCache)this.urlPreventCache=a.urlPreventCache?!0:!1;if(void 0!==a.hierarchical)this.hierarchical=a.hierarchical?!0:!1;if(a.clearOnClose)this.clearOnClose=!0;if("failOk"in a)this.failOk=a.failOk?!0:!1},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:!1,urlPreventCache:!1,failOk:!1,hierarchical:!0,_assertIsItem:function(a){if(!this.isItem(a))throw Error(this.declaredClass+
": Invalid item argument.");},_assertIsAttribute:function(a){if("string"!==typeof a)throw Error(this.declaredClass+": Invalid attribute argument.");},getValue:function(a,b,c){a=this.getValues(a,b);return 0<a.length?a[0]:c},getValues:function(a,b){this._assertIsItem(a);this._assertIsAttribute(b);return(a[b]||[]).slice(0)},getAttributes:function(a){this._assertIsItem(a);var b=[],c;for(c in a)c!==this._storeRefPropName&&c!==this._itemNumPropName&&c!==this._rootItemPropName&&c!==this._reverseRefMap&&
b.push(c);return b},hasAttribute:function(a,b){this._assertIsItem(a);this._assertIsAttribute(b);return b in a},containsValue:function(a,b,c){var d=void 0;"string"===typeof c&&(d=h.patternToRegExp(c,!1));return this._containsValue(a,b,c,d)},_containsValue:function(a,b,c,d){return i.some(this.getValues(a,b),function(a){if(null!==a&&!m.isObject(a)&&d){if(a.toString().match(d))return!0}else if(c===a)return!0})},isItem:function(a){return a&&a[this._storeRefPropName]===this&&this._arrayOfAllItems[a[this._itemNumPropName]]===
a?!0:!1},isItemLoaded:function(a){return this.isItem(a)},loadItem:function(a){this._assertIsItem(a.item)},getFeatures:function(){return this._features},getLabel:function(a){if(this._labelAttr&&this.isItem(a))return this.getValue(a,this._labelAttr)},getLabelAttributes:function(){return this._labelAttr?[this._labelAttr]:null},filter:function(a,b,c){var d=[],e,n;if(a.query){var f;e=a.queryOptions?a.queryOptions.ignoreCase:!1;var i={};for(n in a.query)f=a.query[n],"string"===typeof f?i[n]=h.patternToRegExp(f,
e):f instanceof RegExp&&(i[n]=f);for(e=0;e<b.length;++e){var k=!0,l=b[e];if(null===l)k=!1;else for(n in a.query)f=a.query[n],this._containsValue(l,n,f,i[n])||(k=!1);k&&d.push(l)}}else for(e=0;e<b.length;++e)n=b[e],null!==n&&d.push(n);c(d,a)},_fetchItems:function(a,b,c){var d=this;if(this._loadFinished)this.filter(a,this._getItemsArray(a.queryOptions),b);else{if(this._jsonFileUrl!==this._ccUrl)k.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),
this.url=this._ccUrl=this._jsonFileUrl;else if(this.url!==this._ccUrl)this._ccUrl=this._jsonFileUrl=this.url;if(null!=this.data)this._jsonData=this.data,this.data=null;if(this._jsonFileUrl)if(this._loadInProgress)this._queuedFetches.push({args:a,filter:m.hitch(d,"filter"),findCallback:m.hitch(d,b)});else{this._loadInProgress=!0;var e=f.get({url:d._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk});e.addCallback(function(e){try{d._getItemsFromLoadedData(e),
d._loadFinished=!0,d._loadInProgress=!1,d.filter(a,d._getItemsArray(a.queryOptions),b),d._handleQueuedFetches()}catch(n){d._loadFinished=!0,d._loadInProgress=!1,c(n,a)}});e.addErrback(function(b){d._loadInProgress=!1;c(b,a)});var n=null;if(a.abort)n=a.abort;a.abort=function(){e&&-1===e.fired&&e.cancel();n&&n.call(a)}}else if(this._jsonData)try{this._loadFinished=!0,this._getItemsFromLoadedData(this._jsonData),this._jsonData=null,d.filter(a,this._getItemsArray(a.queryOptions),b)}catch(h){c(h,a)}else c(Error(this.declaredClass+
": No JSON source data was provided as either URL or a nested Javascript object."),a)}},_handleQueuedFetches:function(){if(0<this._queuedFetches.length){for(var a=0;a<this._queuedFetches.length;a++){var b=this._queuedFetches[a],c=b.args,d=b.filter,b=b.findCallback;d?d(c,this._getItemsArray(c.queryOptions),b):this.fetchItemByIdentity(c)}this._queuedFetches=[]}},_getItemsArray:function(a){return a&&a.deep?this._arrayOfAllItems:this._arrayOfTopLevelItems},close:function(){if(this.clearOnClose&&this._loadFinished&&
!this._loadInProgress)this._arrayOfAllItems=[],this._arrayOfTopLevelItems=[],this._loadFinished=!1,this._itemsByIdentity=null,this._loadInProgress=!1,this._queuedFetches=[]},_getItemsFromLoadedData:function(a){function b(a){return null!==a&&"object"===typeof a&&(!m.isArray(a)||d)&&!m.isFunction(a)&&(a.constructor==Object||m.isArray(a))&&"undefined"===typeof a._reference&&"undefined"===typeof a._type&&"undefined"===typeof a._value&&e.hierarchical}function c(a){e._arrayOfAllItems.push(a);for(var d in a){var j=
a[d];if(j)if(m.isArray(j))for(var n=0;n<j.length;++n){var h=j[n];b(h)&&c(h)}else b(j)&&c(j)}}var d=!1,e=this;this._labelAttr=a.label;var n,h;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=a.items;for(n=0;n<this._arrayOfTopLevelItems.length;++n)h=this._arrayOfTopLevelItems[n],m.isArray(h)&&(d=!0),c(h),h[this._rootItemPropName]=!0;var f={},i;for(n=0;n<this._arrayOfAllItems.length;++n)for(i in h=this._arrayOfAllItems[n],h){if(i!==this._rootItemPropName){var k=h[i];null!==k?m.isArray(k)||(h[i]=[k]):
h[i]=[null]}f[i]=i}for(;f[this._storeRefPropName];)this._storeRefPropName+="_";for(;f[this._itemNumPropName];)this._itemNumPropName+="_";for(;f[this._reverseRefMap];)this._reverseRefMap+="_";if(f=a.identifier){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=f;for(n=0;n<this._arrayOfAllItems.length;++n)if(h=this._arrayOfAllItems[n],a=h[f],a=a[0],Object.hasOwnProperty.call(this._itemsByIdentity,a)){if(this._jsonFileUrl)throw Error(this.declaredClass+":  The json data as specified by: ["+
this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+f+"].  Value collided: ["+a+"]");if(this._jsonData)throw Error(this.declaredClass+":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+f+"].  Value collided: ["+a+"]");}else this._itemsByIdentity[a]=h}else this._features["dojo.data.api.Identity"]=Number;for(n=0;n<this._arrayOfAllItems.length;++n)h=this._arrayOfAllItems[n],h[this._storeRefPropName]=this,h[this._itemNumPropName]=
n;for(n=0;n<this._arrayOfAllItems.length;++n)for(i in h=this._arrayOfAllItems[n],h){a=h[i];for(f=0;f<a.length;++f)if(k=a[f],null!==k&&"object"==typeof k){if("_type"in k&&"_value"in k){var l=k._type,u=this._datatypeMap[l];if(u)if(m.isFunction(u))a[f]=new u(k._value);else if(m.isFunction(u.deserialize))a[f]=u.deserialize(k._value);else throw Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");else throw Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+
l+"'");}if(k._reference){k=k._reference;if(m.isObject(k))for(l=0;l<this._arrayOfAllItems.length;++l){var u=this._arrayOfAllItems[l],s=!0,y;for(y in k)u[y]!=k[y]&&(s=!1);s&&(a[f]=u)}else a[f]=this._getItemByIdentity(k);this.referenceIntegrity&&(k=a[f],this.isItem(k)&&this._addReferenceToMap(k,h,i))}else this.isItem(k)&&this.referenceIntegrity&&this._addReferenceToMap(k,h,i)}}},_addReferenceToMap:function(){},getIdentity:function(a){var b=this._features["dojo.data.api.Identity"];return b===Number?a[this._itemNumPropName]:
(a=a[b])?a[0]:null},fetchItemByIdentity:function(a){var b,c;if(this._loadFinished)b=this._getItemByIdentity(a.identity),a.onItem&&(c=a.scope?a.scope:k.global,a.onItem.call(c,b));else{var d=this;if(this._jsonFileUrl!==this._ccUrl)k.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl;else if(this.url!==this._ccUrl)this._ccUrl=this._jsonFileUrl=this.url;if(null!=
this.data&&null==this._jsonData)this._jsonData=this.data,this.data=null;if(this._jsonFileUrl)this._loadInProgress?this._queuedFetches.push({args:a}):(this._loadInProgress=!0,c=f.get({url:d._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk}),c.addCallback(function(c){var g=a.scope?a.scope:k.global;try{d._getItemsFromLoadedData(c),d._loadFinished=!0,d._loadInProgress=!1,b=d._getItemByIdentity(a.identity),a.onItem&&a.onItem.call(g,b),d._handleQueuedFetches()}catch(e){d._loadInProgress=
!1,a.onError&&a.onError.call(g,e)}}),c.addErrback(function(b){d._loadInProgress=!1;a.onError&&a.onError.call(a.scope?a.scope:k.global,b)}));else if(this._jsonData)d._getItemsFromLoadedData(d._jsonData),d._jsonData=null,d._loadFinished=!0,b=d._getItemByIdentity(a.identity),a.onItem&&(c=a.scope?a.scope:k.global,a.onItem.call(c,b))}},_getItemByIdentity:function(a){var b=null;this._itemsByIdentity?Object.hasOwnProperty.call(this._itemsByIdentity,a)&&(b=this._itemsByIdentity[a]):Object.hasOwnProperty.call(this._arrayOfAllItems,
a)&&(b=this._arrayOfAllItems[a]);void 0===b&&(b=null);return b},getIdentityAttributes:function(){var a=this._features["dojo.data.api.Identity"];return a===Number?null:[a]},_forceLoad:function(){var a=this;if(this._jsonFileUrl!==this._ccUrl)k.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl;else if(this.url!==this._ccUrl)this._ccUrl=this._jsonFileUrl=this.url;
if(null!=this.data)this._jsonData=this.data,this.data=null;if(this._jsonFileUrl){var b=f.get({url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:!0});b.addCallback(function(b){try{if(!0!==a._loadInProgress&&!a._loadFinished)a._getItemsFromLoadedData(b),a._loadFinished=!0;else if(a._loadInProgress)throw Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.");}catch(c){throw c;}});b.addErrback(function(a){throw a;
})}else if(this._jsonData)a._getItemsFromLoadedData(a._jsonData),a._jsonData=null,a._loadFinished=!0}});m.extend(l,d);return l})},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(k){var m={};k.setObject("dojo.data.util.filter",m);m.patternToRegExp=function(k,i){for(var f="^",e=null,h=0;h<k.length;h++)switch(e=k.charAt(h),e){case "\\":f+=e;h++;f+=k.charAt(h);break;case "*":f+=".*";break;case "?":f+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":f+=
"\\";default:f+=e}f+="$";return i?RegExp(f,"mi"):RegExp(f,"m")};return m})},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(k,m,l){var i={};k.setObject("dojo.data.util.simpleFetch",i);i.errorHandler=function(f,e){e.onError&&e.onError.call(e.scope||m.global,f,e)};i.fetchHandler=function(f,e){var h=e.abort||null,d=!1,c=e.start?e.start:0,a=e.count&&Infinity!==e.count?c+e.count:f.length;e.abort=function(){d=!0;h&&h.call(e)};var b=e.scope||m.global;
if(!e.store)e.store=this;e.onBegin&&e.onBegin.call(b,f.length,e);e.sort&&f.sort(l.createSortFunction(e.sort,this));if(e.onItem)for(var g=c;g<f.length&&g<a;++g){var j=f[g];d||e.onItem.call(b,j,e)}e.onComplete&&!d&&(g=null,e.onItem||(g=f.slice(c,a)),e.onComplete.call(b,g,e))};i.fetch=function(f){f=f||{};if(!f.store)f.store=this;this._fetchItems(f,k.hitch(this,"fetchHandler"),k.hitch(this,"errorHandler"));return f};return i})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(k){var m=
{};k.setObject("dojo.data.util.sorter",m);m.basicComparator=function(k,i){var f=-1;null===k&&(k=void 0);null===i&&(i=void 0);if(k==i)f=0;else if(k>i||null==k)f=1;return f};m.createSortFunction=function(k,i){function f(a,b,c,d){return function(g,e){var h=d.getValue(g,a),f=d.getValue(e,a);return b*c(h,f)}}for(var e=[],h,d=i.comparatorMap,c=m.basicComparator,a=0;a<k.length;a++){h=k[a];var b=h.attribute;if(b){h=h.descending?-1:1;var g=c;d&&("string"!==typeof b&&"toString"in b&&(b=b.toString()),g=d[b]||
c);e.push(f(b,h,g,i))}}return function(a,b){for(var c=0;c<e.length;){var d=e[c++](a,b);if(0!==d)return d}return 0}};return m})},"gridx/tests/support/stores/MockServerStore":function(){define("gridx/tests/MockServerStore",["dojo","dojo/data/ItemFileWriteStore"],function(k){return k.declare("gridx.tests.MockServerStore",k.data.ItemFileWriteStore,{constructor:function(){var k=this.fetch;this.fetch=function(l){var i=this;setTimeout(function(){k.call(i,l)},200);return l}}})})},"dojo/main":function(){define("./_base/kernel,./has,require,./sniff,./_base/lang,./_base/array,./_base/config,./ready,./_base/declare,./_base/connect,./_base/Deferred,./_base/json,./_base/Color,./has!dojo-firebug?./_firebug/firebug,./_base/browser,./_base/loader".split(","),
function(k,m,l,i,f,e,h,d){h.isDebug&&l(["./_firebug/firebug"]);var c=h.require;c&&(c=e.map(f.isArray(c)?c:[c],function(a){return a.replace(/\./g,"/")}),k.isAsync?l(c):d(1,function(){l(c)}));return k})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready,./kernel,./connect,./unload,./window,./event,./html,./NodeList,../query,./xhr,./fx".split(","),function(k){return k})},"dojo/_base/loader":function(){define("./kernel,../has,require,module,./json,./lang,./array".split(","),
function(k,m,l,i,f,e,h){var d=function(a){return a.replace(/\./g,"/")},c=/\/\/>>built/,a=[],b=[],g=function(c,d,g){a.push(g);h.forEach(c.split(","),function(a){a=G(a,d.module);b.push(a);A(a)});j()},j=function(){var b,c;for(c in D){b=D[c];if(void 0===b.noReqPluginCheck)b.noReqPluginCheck=/loadInit\!/.test(c)||/require\!/.test(c)?1:0;if(!b.executed&&!b.noReqPluginCheck&&b.injected==u)return}H(function(){var b=a;a=[];h.forEach(b,function(a){a(1)})})},o=function(a,b,c){var d=/\(|\)/g,g=1;for(d.lastIndex=
b;(b=d.exec(a))&&!(g=")"==b[0]?g-1:g+1,0==g););if(0!=g)throw"unmatched paren around character "+d.lastIndex+" in: "+a;return[k.trim(a.substring(c,d.lastIndex))+";\n",d.lastIndex]},n=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,p=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,r=/(^|\s)(require|define)\s*\(/m,q=function(a,b){var c,d,g,e=[],j=[];c=[];for(b=b||a.replace(n,function(a){p.lastIndex=r.lastIndex=0;return p.test(a)||r.test(a)?"":a});c=p.exec(b);)d=
p.lastIndex,g=d-c[0].length,d=o(b,d,g),"loadInit"==c[2]?e.push(d[0]):j.push(d[0]),p.lastIndex=d[1];c=e.concat(j);return c.length||!r.test(b)?[a.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 && dojo.loadInit("),c.join(""),c]:0},t=l.initSyncLoader(g,j,function(a,b){var d,g,e=[],j=[];if(c.test(b)||!(d=q(b)))return 0;g=a.mid+"-*loadInit";for(var n in G("dojo",a).result.scopeMap)e.push(n),j.push('"'+n+'"');return"// xdomain rewrite of "+a.mid+"\ndefine('"+g+"',{\n\tnames:"+k.toJson(e)+",\n\tdef:function("+
e.join(",")+"){"+d[1]+"}});\n\ndefine("+k.toJson(e.concat(["dojo/loadInit!"+g]))+", function("+e.join(",")+"){\n"+d[0]+"});"}),w=t.sync,u=t.requested,s=t.arrived,y=t.nonmodule,v=t.executing,x=t.executed,B=t.syncExecStack,D=t.modules,z=t.execQ,G=t.getModule,A=t.injectModule,E=t.setArrived,C=t.signal,J=t.finishExec,F=t.execModule,I=t.getLegacyMode,H=t.guardCheckComplete,g=t.dojoRequirePlugin;k.provide=function(a){var b=B[0],c=e.mixin(G(d(a),l.module),{executed:v,result:e.getObject(a,!0)});E(c);if(b)(b.provides||
(b.provides=[])).push(function(){c.result=e.getObject(a);delete c.provides;c.executed!==x&&J(c)});return c.result};m.add("config-publishRequireResult",1,0,0);k.require=function(a,b){var c=function(a,b){var c=G(d(a),l.module);if(B.length&&B[0].finish)B[0].finish.push(a);else{if(c.executed)return c.result;b&&(c.result=y);var g=I();A(c);g=I();c.executed!==x&&c.injected===s&&t.guardCheckComplete(function(){F(c)});if(c.executed)return c.result;g==w?c.cjs?z.unshift(c):B.length&&(B[0].finish=[a]):z.push(c)}}(a,
b);m("config-publishRequireResult")&&!e.exists(a)&&void 0!==c&&e.setObject(a,c);return c};k.loadInit=function(a){a()};k.registerModulePath=function(a,b){var c={};c[a.replace(/\./g,"/")]=b;l({paths:c})};k.platformRequire=function(a){for(var a=(a.common||[]).concat(a[k._name]||a["default"]||[]),b;a.length;)e.isArray(b=a.shift())?k.require.apply(k,b):k.require(b)};k.requireIf=k.requireAfterIf=function(a,b,c){a&&k.require(b,c)};k.requireLocalization=function(a,b,c){l(["../i18n"],function(d){d.getLocalization(a,
b,c)})};return{extractLegacyApiApplications:q,require:g,loadInit:function(a,b,c){b([a],function(a){b(a.names,function(){for(var e="",j=[],n=0;n<arguments.length;n++)e+="var "+a.names[n]+"= arguments["+n+"]; ",j.push(arguments[n]);eval(e);var h=b.module,f=[],p,e={provide:function(a){a=d(a);a=G(a,h);a!==h&&E(a)},require:function(a,b){a=d(a);b&&(G(a,h).result=y);f.push(a)},requireLocalization:function(a,b,c){p||(p=["dojo/i18n"]);c=(c||k.locale).toLowerCase();a=d(a)+"/nls/"+(/root/i.test(c)?"":c+"/")+
d(b);G(a,h).isXd&&p.push("dojo/i18n!"+a)},loadInit:function(a){a()}},n={},o;try{for(o in e)n[o]=k[o],k[o]=e[o];a.def.apply(null,j)}catch(r){C("error",[{src:i.id,id:"failedDojoLoadInit"},r])}finally{for(o in e)k[o]=n[o]}p&&(f=f.concat(p));f.length?g(f.join(","),b,c):c()})})}}})},"gridx/tests/support/stores/JsonRestStore":function(){define(["dojo","dojox/data/JsonRestStore"],function(k,m){return function(l){k.xhrPost({url:l.path+"/test_jsonRestStore.php?totalsize="+l.size,sync:!0});return new m({idAttribute:"id",
target:l.path+"/test_jsonRestStore.php"})}})},"dojox/data/JsonRestStore":function(){define("dojo/_base/lang,dojo/_base/declare,dojo/_base/connect,dojox/rpc/Rest,dojox/rpc/JsonRest,dojox/json/schema,dojox/data/ServiceStore".split(","),function(k,m,l,i,f,e,h){var d=k.getObject("dojox.rpc",!0),c=m("dojox.data.JsonRestStore",h,{constructor:function(a){l.connect(i._index,"onUpdate",this,function(a,b,c,d){var g=this.service.servicePath;if(a.__id&&a.__id.substring(0,g.length)==g)this.onSet(a,b,c,d)});this.idAttribute=
this.idAttribute||"id";if("string"==typeof a.target&&(a.target=a.target.match(/\/$/)||this.allowNoTrailingSlash?a.target:a.target+"/",!this.service))this.service=f.services[a.target]||i(a.target,!0);f.registerService(this.service,a.target,this.schema);this.schema=this.service._schema=this.schema||this.service._schema||{};this.service._store=this;this.service.idAsRef=this.idAsRef;this.schema._idAttr=this.idAttribute;var c=f.getConstructor(this.service),d=this;this._constructor=function(a){c.call(this,
a);d.onNew(this)};this._constructor.prototype=c.prototype;this._index=i._index},loadReferencedSchema:!0,idAsRef:!1,referenceIntegrity:!0,target:"",allowNoTrailingSlash:!1,newItem:function(a,c){a=new this._constructor(a);if(c){var d=this.getValue(c.parent,c.attribute,[]),d=d.concat([a]);a.__parent=d;this.setValue(c.parent,c.attribute,d)}return a},deleteItem:function(b){var c=[],d=a._getStoreForItem(b)||this;if(this.referenceIntegrity){f._saveNotNeeded=!0;var e=i._index,n=function(h){var g;var f;c.push(h);
h.__checked=1;for(var i in h)if("__"!=i.substring(0,2)){var p=h[i];p==b?h!=e&&(h instanceof Array?(f=f||[]).push(i):(a._getStoreForItem(h)||d).unsetAttribute(h,i)):"object"==typeof p&&p&&(p.__checked||n(p),"object"==typeof p.__checked&&h!=e&&(a._getStoreForItem(h)||d).setValue(h,i,p.__checked))}if(f){i=f.length;for(g=h.__checked=h.concat(),h=g;i--;)h.splice(f[i],1);return h}return null};n(e);f._saveNotNeeded=!1;for(var h=0;c[h];)delete c[h++].__checked}f.deleteObject(b);d.onDelete(b)},changing:function(a,
c){f.changing(a,c)},cancelChanging:function(a){if(a.__id){dirtyObjects=f.getDirtyObjects();for(var c=0;c<dirtyObjects.length;c++)if(a==dirtyObjects[c].object){dirtyObjects.splice(c,1);break}}},setValue:function(b,c,d){var h=b[c],n=b.__id?a._getStoreForItem(b):this;e&&n.schema&&n.schema.properties&&e.mustBeValid(e.checkPropertyChange(d,n.schema.properties[c]));if(c==n.idAttribute)throw Error("Can not change the identity attribute for an item");n.changing(b);if((b[c]=d)&&!d.__parent)d.__parent=b;n.onSet(b,
c,h,d)},setValues:function(a,c,d){if(!k.isArray(d))throw Error("setValues expects to be passed an Array object as its value");this.setValue(a,c,d)},unsetAttribute:function(a,c){this.changing(a);var d=a[c];delete a[c];this.onSet(a,c,d,void 0)},save:function(a){if(!a||!a.global)(a=a||{}).service=this.service;if("syncMode"in a?a.syncMode:this.syncMode)d._sync=!0;a=f.commit(a);this.serverVersion=this._updates&&this._updates.length;return a},revert:function(a){f.revert(a&&a.global&&this.service)},isDirty:function(a){return f.isDirty(a,
this)},isItem:function(a,c){return a&&a.__id&&(c||this.service==f.getServiceAndId(a.__id).service)},_doQuery:function(a){var c=f.query(this.service,"string"==typeof a.queryStr?a.queryStr:a.query,a),d=this;this.loadReferencedSchema&&c.addCallback(function(a){var b=c.ioArgs&&c.ioArgs.xhr&&c.ioArgs.xhr.getResponseHeader("Content-Type"),e=b&&b.match(/definedby\s*=\s*([^;]*)/);b&&!e&&(e=(e=c.ioArgs.xhr.getResponseHeader("Link"))&&e.match(/<([^>]*)>;\s*rel="?definedby"?/));if(e=e&&e[1])return b=f.getServiceAndId((d.target+
e).replace(/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,"$2$3")),b=f.byId(b.service,b.id),b.addCallbacks(function(b){k.mixin(d.schema,b);return a},function(b){console.error(b);return a}),b});return c},_processResults:function(a,c){var d=a.length;return{totalCount:c.fullLength||(c.request.count==d?(c.request.start||0)+2*d:d),items:a}},getConstructor:function(){return this._constructor},getIdentity:function(a){a=a.__clientId||a.__id;if(!a)return a;var c=this.service.servicePath.replace(/[^\/]*$/,
"");return a.substring(0,c.length)!=c?a:a.substring(c.length)},fetchItemByIdentity:function(a){var c=a.identity,d=this;if(c.toString().match(/^(\w*:)?\//))c=f.getServiceAndId(c),d=c.service._store,a.identity=c.id;a._prefix=d.service.servicePath.replace(/[^\/]*$/,"");return d.inherited(arguments)},onSet:function(){},onNew:function(){},onDelete:function(){},getFeatures:function(){var a=this.inherited(arguments);a["dojo.data.api.Write"]=!0;a["dojo.data.api.Notification"]=!0;return a},getParent:function(a){return a&&
a.__parent}});c.getStore=function(a,d){if("string"==typeof a.target){a.target=a.target.match(/\/$/)||a.allowNoTrailingSlash?a.target:a.target+"/";var e=(f.services[a.target]||{})._store;if(e)return e}return new (d||c)(a)};var a=k.getObject("dojox.data",!0);a._getStoreForItem=function(a){if(a.__id){var d=f.getServiceAndId(a.__id);if(d&&d.service._store)return d.service._store;a=a.__id.toString().match(/.*\//)[0];return new c({target:a})}return null};k.getObject("dojox.json.ref",!0)._useRefs=!0;return c})},
"dojox/rpc/Rest":function(){define("dojox/rpc/Rest",["dojo","dojox"],function(k,m){function l(f,e,h){f.addCallback(function(d){if(f.ioArgs.xhr&&h)h=f.ioArgs.xhr.getResponseHeader("Content-Range"),f.fullLength=h&&(h=h.match(/\/(.*)/))&&parseInt(h[1]);return d});return f}k.getObject("rpc.Rest",!0,m);m.rpc&&m.rpc.transportRegistry&&m.rpc.transportRegistry.register("REST",function(f){return"REST"==f},{getExecutor:function(f,e,h){return new m.rpc.Rest(e.name,(e.contentType||h._smd.contentType||"").match(/json|javascript/),
null,function(d,c){var a=h._getRequest(e,[d]);a.url=a.target+(a.data?"?"+a.data:"");if(c&&(0<=c.start||0<=c.count))a.headers=a.headers||{},a.headers.Range="items="+(c.start||"0")+"-"+("count"in c&&Infinity!=c.count?c.count+(c.start||0)-1:"");return a})}});var i;i=m.rpc.Rest=function(f,e,h,d){function c(b){a[b]=function(c,d){return i._change(b,a,c,d)}}var a;a=function(b,c){return i._get(a,b,c)};a.isJson=e;a._schema=h;a.cache={serialize:e?(m.json&&m.json.ref||k).toJson:function(a){return a}};a._getRequest=
d||function(a,c){k.isObject(a)&&(a=(a=k.objectToQuery(a))?"?"+a:"");if(c&&c.sort&&!c.queryStr){for(var a=a+((a?"&":"?")+"sort("),d=0;d<c.sort.length;d++)var h=c.sort[d],a=a+((0<d?",":"")+(h.descending?"-":"+")+encodeURIComponent(h.attribute));a+=")"}d={url:f+(null==a?"":a),handleAs:e?"json":"text",contentType:e?"application/json":"text/plain",sync:m.rpc._sync,headers:{Accept:e?"application/json,application/javascript":"*/*"}};if(c&&(0<=c.start||0<=c.count))d.headers.Range="items="+(c.start||"0")+
"-"+("count"in c&&Infinity!=c.count?c.count+(c.start||0)-1:"");m.rpc._sync=!1;return d};c("put");c("post");c("delete");a.servicePath=f;return a};i._index={};i._timeStamps={};i._change=function(f,e,h,d){h=e._getRequest(h);h[f+"Data"]=d;return l(k.xhr(f.toUpperCase(),h,!0),e)};i._get=function(f,e,h){h=h||{};return l(k.xhrGet(f._getRequest(e,h)),f,0<=h.start||0<=h.count,e)};return i})},"dojox/main":function(){define(["dojo/_base/kernel"],function(k){return k.dojox})},"dojox/rpc/JsonRest":function(){define("dojox/rpc/JsonRest",
["dojo","dojox","dojox/json/ref","dojox/rpc/Rest"],function(k,m){function l(h,d,c,a){(d=d.ioArgs&&d.ioArgs.xhr&&d.ioArgs.xhr.getResponseHeader("Last-Modified"))&&f._timeStamps&&(f._timeStamps[a]=d);var b=h._schema&&h._schema.hrefProperty;if(b)m.json.ref.refAttribute=b;c=c&&m.json.ref.resolveJson(c,{defaultId:a,index:f._index,timeStamps:d&&f._timeStamps,time:d,idPrefix:h.servicePath.replace(/[^\/]*$/,""),idAttribute:e.getIdAttribute(h),schemas:e.schemas,loader:e._loader,idAsRef:h.idAsRef,assignAbsoluteIds:!0});
m.json.ref.refAttribute="$ref";return c}var i=[],f=m.rpc.Rest,e;e=m.rpc.JsonRest={serviceClass:m.rpc.Rest,conflictDateHeader:"If-Unmodified-Since",commit:function(h){for(var h=h||{},d=[],c={},a=[],b=0;b<i.length;b++){var g=i[b],j=g.object,o=g.old;if((!h.service||!j&&!o||!(j||o).__id.indexOf(h.service.servicePath))&&g.save){delete j.__isDirty;if(j)if(o){var n;if(n=j.__id.match(/(.*)#.*/))j=f._index[n[1]];if(!(j.__id in c)){c[j.__id]=j;if(h.incrementalUpdates&&!n)var p=("function"==typeof h.incrementalUpdates?
h.incrementalUpdates:function(){p={};for(var a in j)if(j.hasOwnProperty(a))j[a]!==o[a]&&(p[a]=j[a]);else if(o.hasOwnProperty(a))return null;return p})(j,o);p?d.push({method:"post",target:j,content:p}):d.push({method:"put",target:j,content:j})}}else n=e.getServiceAndId(j.__id).service,e.getIdAttribute(n)in j&&!h.alwaysPostNewItems?d.push({method:"put",target:j,content:j}):d.push({method:"post",target:{__id:n.servicePath},content:j});else o&&d.push({method:"delete",target:o});a.push(g);i.splice(b--,
1)}}k.connect(h,"onError",function(){if(!1!==h.revertOnError){var b=i;i=a;e.revert();i=b}else k.forEach(a,function(a){e.changing(a.object,!a.object)})});e.sendToServer(d,h);return d},sendToServer:function(h,d){var c=k.xhr,a=h.length,b,g,j,i=this.conflictDateHeader;k.xhr=function(a,d){d.headers=d.headers||{};d.headers.Transaction=h.length-1==b?"commit":"open";i&&j&&(d.headers[i]=j);g&&(d.headers["Content-ID"]="<"+g+">");return c.apply(k,arguments)};for(b=0;b<h.length;b++){var n=h[b];m.rpc.JsonRest._contentId=
n.content&&n.content.__id;var p="post"==n.method;(j="put"==n.method&&f._timeStamps[n.content.__id])&&(f._timeStamps[n.content.__id]=new Date+"");g=p&&m.rpc.JsonRest._contentId;var r=e.getServiceAndId(n.target.__id),p=r.service,r=n.deferred=p[n.method](r.id.replace(/#/,""),m.json.ref.toJson(n.content,!1,p.servicePath,!0));(function(b,c,g){c.addCallback(function(e){try{var j=c.ioArgs.xhr&&c.ioArgs.xhr.getResponseHeader("Location");if(j){var n=j.match(/(^\w+:\/\/)/)&&j.indexOf(g.servicePath),j=0<n?j.substring(n):
(g.servicePath+j).replace(/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,"$2$3");b.__id=j;f._index[j]=b}e=l(g,c,e,b&&b.__id)}catch(i){}--a||d.onComplete&&d.onComplete.call(d.scope,h);return e})})(n.content,r,p);r.addErrback(function(b){a=-1;d.onError.call(d.scope,b)})}k.xhr=c},getDirtyObjects:function(){return i},revert:function(e){for(var d=i.length;0<d;){d--;var c=i[d],a=c.object,c=c.old,b=m.data._getStoreForItem(a||c);if(!e||!a&&!c||!(a||c).__id.indexOf(e.servicePath)){if(a&&c){for(var g in c)if(c.hasOwnProperty(g)&&
a[g]!==c[g]){if(b)b.onSet(a,g,a[g],c[g]);a[g]=c[g]}for(g in a)if(!c.hasOwnProperty(g)){if(b)b.onSet(a,g,a[g]);delete a[g]}}else if(c){if(b)b.onNew(c)}else if(b)b.onDelete(a);delete (a||c).__isDirty;i.splice(d,1)}}},changing:function(e,d){if(e.__id){e.__isDirty=!0;for(var c=0;c<i.length;c++){var a=i[c];if(e==a.object){if(d&&(a.object=!1,!this._saveNotNeeded))a.save=!0;return}}a=e instanceof Array?[]:{};for(c in e)e.hasOwnProperty(c)&&(a[c]=e[c]);i.push({object:!d&&e,old:a,save:!this._saveNotNeeded})}},
deleteObject:function(e){this.changing(e,!0)},getConstructor:function(h,d){if("string"==typeof h){var c=h,h=new m.rpc.Rest(h,!0);this.registerService(h,c,d)}if(h._constructor)return h._constructor;h._constructor=function(a){function b(a){if(a){b(a["extends"]);o=a.properties;for(var e in o){var h=o[e];h&&"object"==typeof h&&"default"in h&&(c[e]=h["default"])}}a&&a.prototype&&a.prototype.initialize&&(n=!0,a.prototype.initialize.apply(c,d))}var c=this,d=arguments,o,n;b(h._schema);!n&&a&&"object"==typeof a&&
k.mixin(c,a);var p=e.getIdAttribute(h);f._index[this.__id=this.__clientId=h.servicePath+(this[p]||Math.random().toString(16).substring(2,14)+"@"+(m.rpc.Client&&m.rpc.Client.clientId||"client"))]=this;m.json.schema&&o&&m.json.schema.mustBeValid(m.json.schema.validate(this,h._schema));i.push({object:this,save:!0})};return k.mixin(h._constructor,h._schema,{load:h})},fetch:function(h){h=e.getServiceAndId(h);return this.byId(h.service,h.id)},getIdAttribute:function(e){var e=e._schema,d;if(e&&!(d=e._idAttr))for(var c in e.properties)if(e.properties[c].identity||
"self"==e.properties[c].link)e._idAttr=d=c;return d||"id"},getServiceAndId:function(h){var d="",c;for(c in e.services)h.substring(0,c.length)==c&&c.length>=d.length&&(d=c);if(d)return{service:e.services[d],id:h.substring(d.length)};h=h.match(/^(.*\/)([^\/]*)$/);return{service:new e.serviceClass(h[1],!0),id:h[2]}},services:{},schemas:{},registerService:function(h,d,c){d=h.servicePath=d||h.servicePath;h._schema=e.schemas[d]=c||h._schema||{};e.services[d]=h},byId:function(e,d){var c,a=f._index[(e.servicePath||
"")+d];return a&&!a._loadObject?(c=new k.Deferred,c.callback(a),c):this.query(e,d)},query:function(e,d,c){var a=e(d,c);a.addCallback(function(b){return b.nodeType&&b.cloneNode?b:l(e,a,b,"string"!=typeof d||c&&(c.start||c.count)?void 0:d)});return a},_loader:function(h){var d=e.getServiceAndId(this.__id),c=this;e.query(d.service,d.id).addBoth(function(a){a==c?(delete a.$ref,delete a._loadObject):c._loadObject=function(b){b(a)};h(a)})},isDirty:function(e,d){return!e?d?k.some(i,function(c){return m.data._getStoreForItem(c.object||
c.old)==d}):!!i.length:e.__isDirty}};return m.rpc.JsonRest})},"dojox/json/ref":function(){define("dojo/_base/array,dojo/_base/json,dojo/_base/kernel,dojo/_base/lang,dojo/date/stamp,dojox".split(","),function(k,m,l,i,f,e){i.getObject("json",!0,e);return e.json.ref={resolveJson:function(e,d){function c(s,y,v,x,B,D){var z,G,A,v=a in s?s[a]:v;if(a in s||void 0!==v&&x)v=(j+v).replace(m,"$2$3");x=D||s;if(void 0!==v){if(i)s.__id=v;if(d.schemas&&!(s instanceof Array)&&(A=v.match(/^(.+\/)[^\.\[]*$/)))B=d.schemas[A[1]];
if(n[v]&&s instanceof Array==n[v]instanceof Array)x=n[v],delete x.$ref,delete x._loadObject,G=!0;else if(A=B&&B.prototype)u.prototype=A,x=new u;n[v]=x;if(p)p[v]=d.time}for(;B;){if(A=B.properties)for(z in s){var E=A[z];E&&"date-time"==E.format&&"string"==typeof s[z]&&(s[z]=f.fromISOString(s[z]))}B=B["extends"]}B=s.length;for(z in s){if(z==B)break;if(s.hasOwnProperty(z)){A=s[z];if("object"==typeof A&&A&&!(A instanceof Date)&&"__parent"!=z){k=A[b]||g&&A[a];if((!k||!A.__parent)&&s!=l)A.__parent=x;if(k)if(delete s[z],
D=k.toString().replace(/(#)([^\.\[])/,"$1.$2").match(/(^([^\[]*\/)?[^#\.\[]*)#?([\.\[].*)?/),n[(j+k).replace(m,"$2$3")]?k=n[(j+k).replace(m,"$2$3")]:(k="$"==D[1]||"this"==D[1]||""==D[1]?e:n[(j+D[1]).replace(m,"$2$3")])&&D[3]&&D[3].replace(/(\[([^\]]+)\])|(\.?([^\.\[]+))/g,function(a,b,c,d,g){k=k&&k[c?c.replace(/[\"\'\\]/,""):g]}),k)A=k;else{if(!y){var C;C||l.push(x);C=!0;A=c(A,!1,A[b],!0,E);A._loadObject=d.loader}}else y||(A=c(A,l==s,void 0===v?void 0:w(v,z),!1,E,x!=s&&"object"==typeof x[z]&&x[z]))}s[z]=
A;if(x!=s&&!x.__isDirty&&(D=x[z],x[z]=A,G&&A!==D&&!x._loadObject&&!("_"==z.charAt(0)&&"_"==z.charAt(1))&&"$ref"!=z&&!(A instanceof Date&&D instanceof Date&&A.getTime()==D.getTime())&&!("function"==typeof A&&"function"==typeof D&&A.toString()==D.toString())&&n.onUpdate))n.onUpdate(x,z,D,A)}}if(G&&(a in s||x instanceof Array))for(z in x){if(!x.__isDirty&&x.hasOwnProperty(z)&&!s.hasOwnProperty(z)&&!("_"==z.charAt(0)&&"_"==z.charAt(1))&&!(x instanceof Array&&isNaN(z))){if(n.onUpdate&&"_loadObject"!=z&&
"_idAttr"!=z)n.onUpdate(x,z,x[z],void 0);for(delete x[z];x instanceof Array&&x.length&&void 0===x[x.length-1];)x.length--}}else if(n.onLoad)n.onLoad(x);return x}var d=d||{},a=d.idAttribute||"id",b=this.refAttribute,g=d.idAsRef,j=d.idPrefix||"",i=d.assignAbsoluteIds,n=d.index||{},p=d.timeStamps,k,l=[],m=/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,w=this._addProp,u=function(){};e&&"object"==typeof e&&(e=c(e,!1,d.defaultId,!0),c(l,!1));return e},fromJson:function(e,d){try{var c=eval("("+e+")")}catch(a){throw new SyntaxError("Invalid JSON string: "+
a.message+" parsing: "+e);}return c?this.resolveJson(c,d):c},toJson:function(h,d,c,a){function b(a,h,l){if("object"==typeof a&&a){if(a instanceof Date)return'"'+f.toISOString(a,{zulu:!0})+'"';var r=a.__id;if(r){if("#"!=h&&(g&&!r.match(/#/)||n[r]))return l=r,"#"!=r.charAt(0)&&(l=a.__clientId==r?"cid:"+r:r.substring(0,c.length)==c?r.substring(c.length):r),a={},a[i]=l,b(a,"#");h=r}else a.__id=h,p[h]=a;n[h]=a;var l=l||"",s=d?l+m.toJsonIndentStr:"",y=d?"\n":"",r=d?" ":"";if(a instanceof Array)return"["+
k.map(a,function(a,c){var d=b(a,j(h,c),s);"string"!=typeof d&&(d="undefined");return y+s+d}).join(","+r)+y+l+"]";var v=[],x;for(x in a)if(a.hasOwnProperty(x)){var B;if("number"==typeof x)B='"'+x+'"';else if("string"==typeof x&&("_"!=x.charAt(0)||"_"!=x.charAt(1)))B=m._escapeString(x);else continue;var D=b(a[x],j(h,x),s);"string"==typeof D&&v.push(y+s+B+":"+r+D)}return"{"+v.join(","+r)+y+l+"}"}return"function"==typeof a&&e.json.ref.serializeFunctions?a.toString():m.toJson(a)}var g=this._useRefs,j=
this._addProp,i=this.refAttribute,c=c||"",n={},p={},h=b(h,"#","");if(!a)for(var l in p)delete p[l].__id;return h},_addProp:function(e,d){return e+(e.match(/#/)?1==e.length?"":".":"#")+d},refAttribute:"$ref",_useRefs:!1,serializeFunctions:!1}})},"dojox/json/schema":function(){define(["dojo/_base/kernel","dojox","dojo/_base/array"],function(k,m){k.getObject("json.schema",!0,m);m.json.schema.validate=function(k,i){return this._validate(k,i,!1)};m.json.schema.checkPropertyChange=function(k,i,f){return this._validate(k,
i,f||"property")};m.json.schema.mustBeValid=function(l){if(!l.valid)throw new TypeError(k.map(l.errors,function(i){return"for property "+i.property+": "+i.message}).join(", "));};m.json.schema._validate=function(k,i,f){function e(c,a,b,g){function j(a){d.push({property:b,message:a})}function i(a,c){if(a){if("string"==typeof a&&"any"!=a&&("null"==a?null!==c:typeof c!=a)&&!(c instanceof Array&&"array"==a)&&!("integer"==a&&0===c%1))return[{property:b,message:typeof c+" value found, but a "+a+" is required"}];
if(a instanceof Array){for(var g=[],j=0;j<a.length&&(g=i(a[j],c)).length;j++);if(g.length)return g}else if("object"==typeof a)return g=d,d=[],e(c,a,b),j=d,d=g,j}return[]}var n,b=b+(b?"number"==typeof g?"["+g+"]":"undefined"==typeof g?"":"."+g:g);if(("object"!=typeof a||a instanceof Array)&&(b||"function"!=typeof a))return"function"==typeof a?Object(c)instanceof a||j("is not an instance of the class/constructor "+a.name):a&&j("Invalid schema/property definition "+a),null;f&&a.readonly&&j("is a readonly field, it can not be changed");
a["extends"]&&e(c,a["extends"],b,g);if(void 0===c)a.optional||j("is missing and it is not optional");else if(d=d.concat(i(a.type,c)),a.disallow&&!i(a.disallow,c).length&&j(" disallowed value was matched"),null!==c){if(c instanceof Array){if(a.items)if(a.items instanceof Array)for(g=0,n=c.length;g<n;g++)d.concat(e(c[g],a.items[g],b,g));else for(g=0,n=c.length;g<n;g++)d.concat(e(c[g],a.items,b,g));a.minItems&&c.length<a.minItems&&j("There must be a minimum of "+a.minItems+" in the array");a.maxItems&&
c.length>a.maxItems&&j("There must be a maximum of "+a.maxItems+" in the array")}else a.properties&&d.concat(h(c,a.properties,b,a.additionalProperties));a.pattern&&"string"==typeof c&&!c.match(a.pattern)&&j("does not match the regex pattern "+a.pattern);a.maxLength&&"string"==typeof c&&c.length>a.maxLength&&j("may only be "+a.maxLength+" characters long");a.minLength&&"string"==typeof c&&c.length<a.minLength&&j("must be at least "+a.minLength+" characters long");void 0!==typeof a.minimum&&typeof c==
typeof a.minimum&&a.minimum>c&&j("must have a minimum value of "+a.minimum);void 0!==typeof a.maximum&&typeof c==typeof a.maximum&&a.maximum<c&&j("must have a maximum value of "+a.maximum);if(a["enum"]){g=a["enum"];n=g.length;for(var p,k=0;k<n;k++)if(g[k]===c){p=1;break}p||j("does not have a value in the enumeration "+g.join(", "))}"number"==typeof a.maxDecimal&&c.toString().match(RegExp("\\.[0-9]{"+(a.maxDecimal+1)+",}"))&&j("may only have "+a.maxDecimal+" digits of decimal places")}return null}
function h(c,a,b,g){if("object"==typeof a){("object"!=typeof c||c instanceof Array)&&d.push({property:b,message:"an object is required"});for(var j in a)if(a.hasOwnProperty(j)&&!("_"==j.charAt(0)&&"_"==j.charAt(1))){var h=c[j];e(h,a[j],b,j)}}for(j in c)c.hasOwnProperty(j)&&!("_"==j.charAt(0)&&"_"==j.charAt(1))&&a&&!a[j]&&!1===g&&d.push({property:b,message:typeof h+"The property "+j+" is not defined in the schema and the schema does not allow additional properties"}),(h=a&&a[j]&&a[j].requires)&&!(h in
c)&&d.push({property:b,message:"the presence of the property "+j+" requires that "+h+" also be present"}),h=c[j],a&&"object"==typeof a&&!(j in a)&&e(h,g,b,j),!f&&h&&h.$schema&&(d=d.concat(e(h,h.$schema,b,j)));return d}var d=[];i&&e(k,i,"",f||"");!f&&k&&k.$schema&&e(k,k.$schema,"","");return{valid:!d.length,errors:d}};return m.json.schema})},"dojox/data/ServiceStore":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array"],function(k,m,l){return k("dojox.data.ServiceStore",m.getObject("dojox.data.ClientFilter",
0)||null,{service:null,constructor:function(i){this.byId=this.fetchItemByIdentity;this._index={};i&&m.mixin(this,i);this.idAttribute=i&&i.idAttribute||this.schema&&this.schema._idAttr},schema:null,idAttribute:"id",labelAttribute:"label",syncMode:!1,estimateCountFactor:1,getSchema:function(){return this.schema},loadLazyValues:!0,getValue:function(i,f,e){var h=i[f];return h||(f in i?h:i._loadObject?(dojox.rpc._sync=!0)&&arguments.callee.call(this,dojox.data.ServiceStore.prototype.loadItem({item:i})||
{},f,e):e)},getValues:function(i,f){var e=this.getValue(i,f);return e instanceof Array?e:void 0===e?[]:[e]},getAttributes:function(i){var f=[],e;for(e in i)i.hasOwnProperty(e)&&!("_"==e.charAt(0)&&"_"==e.charAt(1))&&f.push(e);return f},hasAttribute:function(i,f){return f in i},containsValue:function(i,f,e){return-1<l.indexOf(this.getValues(i,f),e)},isItem:function(i){return"object"==typeof i&&i&&!(i instanceof Date)},isItemLoaded:function(i){return i&&!i._loadObject},loadItem:function(i){var f;i.item._loadObject?
i.item._loadObject(function(e){f=e;delete f._loadObject;var h=e instanceof Error?i.onError:i.onItem;h&&h.call(i.scope,e)}):i.onItem&&i.onItem.call(i.scope,i.item);return f},_currentId:0,_processResults:function(i,f){if(i&&"object"==typeof i){var e=i.__id;if(!e&&(e=this.idAttribute?i[this.idAttribute]:this._currentId++,void 0!==e)){var h=this._index[e];if(h){for(var d in h)delete h[d];i=m.mixin(h,i)}i.__id=e;this._index[e]=i}for(var c in i)i[c]=this._processResults(i[c],f).items;e=i.length}return{totalCount:f.request.count==
e?(f.request.start||0)+e*this.estimateCountFactor:e,items:i}},close:function(i){return i&&i.abort&&i.abort()},fetch:function(i){i=i||{};if("syncMode"in i?i.syncMode:this.syncMode)dojox.rpc._sync=!0;var f=this,e=i.scope||f,h=this.cachingFetch?this.cachingFetch(i):this._doQuery(i);h.request=i;h.addCallback(function(d){i.clientFetch&&(d=f.clientSideFetch({query:i.clientFetch,sort:i.sort,start:i.start,count:i.count},d));var c=f._processResults(d,h),d=i.results=c.items;i.onBegin&&i.onBegin.call(e,c.totalCount,
i);if(i.onItem)for(c=0;c<d.length;c++)i.onItem.call(e,d[c],i);i.onComplete&&i.onComplete.call(e,i.onItem?null:d,i);return d});h.addErrback(i.onError&&function(d){return i.onError.call(e,d,i)});i.abort=function(){h.cancel()};i.store=this;return i},_doQuery:function(i){return this.service("string"==typeof i.queryStr?i.queryStr:i.query)},getFeatures:function(){return{"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0,"dojo.data.api.Schema":this.schema}},getLabel:function(i){return this.getValue(i,this.labelAttribute)},
getLabelAttributes:function(){return[this.labelAttribute]},getIdentity:function(i){return i.__id},getIdentityAttributes:function(){return[this.idAttribute]},fetchItemByIdentity:function(i){var f=this._index[(i._prefix||"")+i.identity];if(f){if(f._loadObject)return i.item=f,this.loadItem(i);i.onItem&&i.onItem.call(i.scope,f)}else return this.fetch({query:i.identity,onComplete:i.onItem,onError:i.onError,scope:i.scope}).results;return f}})})},"gridx/tests/support/stores/Memory":function(){define(["dojo/store/Memory"],
function(k){return function(m){return new k({data:m.dataSource.getData(m.size).items})}})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(k,m,l){return k("dojo.store.Memory",null,{constructor:function(i){for(var f in i)this[f]=i[f];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:l,get:function(i){return this.data[this.index[i]]},getIdentity:function(i){return i[this.idProperty]},put:function(i,f){var e=
this.data,h=this.index,d=this.idProperty,d=i[d]=f&&"id"in f?f.id:d in i?i[d]:Math.random();if(d in h){if(f&&!1===f.overwrite)throw Error("Object already exists");e[h[d]]=i}else h[d]=e.push(i)-1;return d},add:function(i,f){(f=f||{}).overwrite=!1;return this.put(i,f)},remove:function(i){var f=this.index,e=this.data;if(i in f)return e.splice(f[i],1),this.setData(e),!0},query:function(i,f){return m(this.queryEngine(i,f)(this.data))},setData:function(i){var a;i.items?(this.idProperty=i.identifier,a=this.data=
i.items,i=a):this.data=i;this.index={};for(var f=0,e=i.length;f<e;f++)this.index[i[f][this.idProperty]]=f}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../_base/Deferred"],function(k,m,l){var i=function(f){function e(e){f[e]||(f[e]=function(){var d=arguments;return l.when(f,function(c){Array.prototype.unshift.call(d,c);return i(k[e].apply(k,d))})})}if(!f)return f;f.then&&(f=m.delegate(f));e("forEach");e("filter");e("map");if(!f.total)f.total=l.when(f,
function(e){return e.length});return f};m.setObject("dojo.store.util.QueryResults",i);return i})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(k){return function(m,l){function i(e){var e=k.filter(e,m),h=l&&l.sort;h&&e.sort("function"==typeof h?h:function(c,a){for(var b,d=0;b=h[d];d++){var e=c[b.attribute],f=a[b.attribute];if(e!=f)return!!b.descending==(null==e||e>f)?-1:1}return 0});if(l&&(l.start||l.count)){var d=e.length,e=e.slice(l.start||0,(l.start||0)+(l.count||
Infinity));e.total=d}return e}switch(typeof m){default:throw Error("Can not query with a "+typeof m);case "object":case "undefined":var f=m,m=function(e){for(var h in f){var d=f[h];if(d&&d.test){if(!d.test(e[h],e))return!1}else if(d!=e[h])return!1}return!0};break;case "string":if(!this[m])throw Error("No filter function "+m+" was found in store");m=this[m];case "function":}i.matches=m;return i}})},"gridx/tests/support/stores/TreeJsonRestStore":function(){define(["dojo","dojox/data/JsonRestStore"],
function(k,m){return function(l){k.xhrPost({url:l.path+"/test_tree_jsonRestStore.php?totalsize="+l.size,sync:!0});return new m({idAttribute:"id",target:l.path+"/test_tree_jsonRestStore.php"})}})},"gridx/tests/support/stores/HugeStore":function(){define(["dojox/data/QueryReadStore"],function(k){return function(m){return new k({url:m.path+"/test_hugeStore.php?totalsize="+m.size})}})},"dojox/data/QueryReadStore":function(){define(["dojo","dojox","dojo/data/util/sorter","dojo/string"],function(k,m){k.declare("dojox.data.QueryReadStore",
null,{url:"",requestMethod:"get",_className:"dojox.data.QueryReadStore",_items:[],_lastServerQuery:null,_numRows:-1,lastRequestHash:null,doClientPaging:!1,doClientSorting:!1,_itemsByIdentity:null,_identifier:null,_features:{"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0},_labelAttr:"label",constructor:function(l){k.mixin(this,l)},getValue:function(l,i,f){this._assertIsItem(l);if(!k.isString(i))throw Error(this._className+".getValue(): Invalid attribute, string expected!");return!this.hasAttribute(l,
i)&&f?f:l.i[i]},getValues:function(k,i){this._assertIsItem(k);var f=[];this.hasAttribute(k,i)&&f.push(k.i[i]);return f},getAttributes:function(k){this._assertIsItem(k);var i=[],f;for(f in k.i)i.push(f);return i},hasAttribute:function(k,i){return this.isItem(k)&&"undefined"!=typeof k.i[i]},containsValue:function(k,i,f){for(var k=this.getValues(k,i),i=k.length,e=0;e<i;e++)if(k[e]==f)return!0;return!1},isItem:function(k){return k?"undefined"!=typeof k.r&&k.r==this:!1},isItemLoaded:function(k){return this.isItem(k)},
loadItem:function(k){this.isItemLoaded(k.item)},fetch:function(l){l=l||{};if(!l.store)l.store=this;var i=this;this._fetchItems(l,function(f,e,h){var d=e.abort||null,c=!1,a=e.start?e.start:0;!1==i.doClientPaging&&(a=0);var b=e.count?a+e.count:f.length;e.abort=function(){c=!0;d&&d.call(e)};var g=e.scope||k.global;if(!e.store)e.store=i;e.onBegin&&e.onBegin.call(g,h,e);e.sort&&i.doClientSorting&&f.sort(k.data.util.sorter.createSortFunction(e.sort,i));if(e.onItem)for(h=a;h<f.length&&h<b;++h){var j=f[h];
c||e.onItem.call(g,j,e)}e.onComplete&&!c&&(h=null,e.onItem||(h=f.slice(a,b)),e.onComplete.call(g,h,e))},function(f,e){e.onError&&e.onError.call(e.scope||k.global,f,e)});return l},getFeatures:function(){return this._features},close:function(){},getLabel:function(k){if(this._labelAttr&&this.isItem(k))return this.getValue(k,this._labelAttr)},getLabelAttributes:function(){return this._labelAttr?[this._labelAttr]:null},_xhrFetchHandler:function(l,i,f){l=this._filterResponse(l);if(l.label)this._labelAttr=
l.label;var e=l.numRows||-1;this._items=[];k.forEach(l.items,function(a){this._items.push({i:a,r:this})},this);l=l.identifier;this._itemsByIdentity={};if(l){this._identifier=l;var h;for(h=0;h<this._items.length;++h){var d=this._items[h].i,c=d[l];if(this._itemsByIdentity[c])throw Error(this._className+":  The json data as specified by: ["+this.url+"] is malformed.  Items within the list have identifier: ["+l+"].  Value collided: ["+c+"]");this._itemsByIdentity[c]=d}}else{this._identifier=Number;for(h=
0;h<this._items.length;++h)this._items[h].n=h}e=this._numRows=-1===e?this._items.length:e;f(this._items,i,e);this._numRows=e},_fetchItems:function(l,i,f){var e=l.serverQuery||l.query||{};if(!this.doClientPaging&&(e.start=l.start||0,l.count))e.count=l.count;if(!this.doClientSorting&&l.sort){var h=[];k.forEach(l.sort,function(c){c&&c.attribute&&h.push((c.descending?"-":"")+c.attribute)});e.sort=h.join(",")}if(this.doClientPaging&&null!==this._lastServerQuery&&k.toJson(e)==k.toJson(this._lastServerQuery))this._numRows=
-1===this._numRows?this._items.length:this._numRows,i(this._items,l,this._numRows);else{var d=("post"==this.requestMethod.toLowerCase()?k.xhrPost:k.xhrGet)({url:this.url,handleAs:"json-comment-optional",content:e,failOk:!0});l.abort=function(){d.cancel()};d.addCallback(k.hitch(this,function(c){this._xhrFetchHandler(c,l,i,f)}));d.addErrback(function(c){f(c,l)});this.lastRequestHash=(new Date).getTime()+"-"+(""+Math.random()).substring(2);this._lastServerQuery=k.mixin({},e)}},_filterResponse:function(k){return k},
_assertIsItem:function(k){if(!this.isItem(k))throw Error(this._className+": Invalid item argument.");},_assertIsAttribute:function(k){if("string"!==typeof k)throw Error(this._className+": Invalid attribute argument ('"+k+"').");},fetchItemByIdentity:function(l){if(this._itemsByIdentity){var i=this._itemsByIdentity[l.identity];if(void 0!==i){l.onItem&&l.onItem.call(l.scope?l.scope:k.global,{i:i,r:this});return}}this._fetchItems({serverQuery:{id:l.identity}},function(f){var e=l.scope?l.scope:k.global;
try{var h=null;f&&1==f.length&&(h=f[0]);l.onItem&&l.onItem.call(e,h)}catch(d){l.onError&&l.onError.call(e,d)}},function(f){var e=l.scope?l.scope:k.global;l.onError&&l.onError.call(e,f)})},getIdentity:function(k){var i=null;return i=this._identifier===Number?k.n:k.i[this._identifier]},getIdentityAttributes:function(){return[this._identifier]}});return m.data.QueryReadStore})},"gridx/tests/support/modules":function(){define("gridx/core/model/extensions/FormatSort,gridx/modules/Focus,gridx/modules/VScroller,gridx/modules/ColumnResizer,gridx/modules/VirtualVScroller,gridx/modules/SingleSort,gridx/modules/NestedSort,gridx/modules/ColumnLock,gridx/modules/select/Row,gridx/modules/select/Column,gridx/modules/select/Cell,gridx/modules/extendedSelect/Row,gridx/modules/extendedSelect/Column,gridx/modules/extendedSelect/Cell,gridx/modules/move/Row,gridx/modules/move/Column,gridx/modules/dnd/Row,gridx/modules/dnd/Column,gridx/modules/AutoScroll,gridx/modules/pagination/Pagination,gridx/modules/pagination/PaginationBar,gridx/modules/pagination/PaginationBarDD,gridx/modules/filter/Filter,gridx/modules/filter/FilterBar,gridx/modules/CellWidget,gridx/modules/Edit,gridx/modules/RowHeader,gridx/modules/IndirectSelect,gridx/modules/Persist,gridx/modules/exporter/Exporter,gridx/modules/exporter/CSV,gridx/modules/exporter/Table,gridx/modules/Printer,gridx/modules/Menu,gridx/modules/Dod,gridx/modules/TitleBar,gridx/modules/Tree,gridx/modules/RowLock,gridx/modules/ToolBar,gridx/modules/SummaryBar,gridx/modules/Bar".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p,r,q,t,w,u,s,y,v,x,B,D,z,G,A,E,C,J,F,I,H,L,P,K,Q,O){return{FormatSort:k,Focus:m,VScroller:l,ColumnResizer:i,VirtualVScroller:f,SingleSort:e,NestedSort:h,ColumnLock:d,SelectRow:c,SelectColumn:a,SelectCell:b,ExtendedSelectRow:g,ExtendedSelectColumn:j,ExtendedSelectCell:o,MoveRow:n,MoveColumn:p,DndRow:r,DndColumn:q,AutoScroll:t,Pagination:w,PaginationBar:u,PaginationBarDD:s,Filter:y,FilterBar:v,CellWidget:x,Edit:B,RowHeader:D,IndirectSelect:z,Persist:G,Exporter:A,
ExportCSV:E,ExportTable:C,Printer:J,Menu:F,Dod:I,TitleBar:H,Tree:L,RowLock:P,ToolBar:K,SummaryBar:Q,Bar:O}})},"gridx/core/model/extensions/FormatSort":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/data/util/sorter","../_Extension"],function(k,m,l,i,f){function e(d,c,a,b){return function(g,e){return c*a(b.getValue(g,d),b.getValue(e,d))}}function h(d,c,a,b,e,j){var h={};return function(d,f){var i=b.getIdentity(d),k=b.getIdentity(f);h[i]||(h[i]=j(e._itemToObject(d)));
h[k]||(h[k]=j(e._itemToObject(f)));return c*a(h[i],h[k])}}return k(f,{name:"formatSort",priority:50,constructor:function(d){var a;a=this.cache=d._cache,d=a;this.aspect(d,"onBeforeFetch","_onBeforeFetch");this.aspect(d,"onAfterFetch","_onAfterFetch")},_onBeforeFetch:function(){this._oldCreateSortFunction=i.createSortFunction;i.createSortFunction=l.hitch(this,this._createComparator)},_onAfterFetch:function(){if(this._oldCreateSortFunction)i.createSortFunction=this._oldCreateSortFunction,delete this._oldCreateSortFunction},
_createComparator:function(d,c){var a=[],b=this.cache,g=c.comparatorMap,j=i.basicComparator;m.forEach(d,function(d){var n=d.attribute,f=d.descending?-1:1,i=j,d=b.columns&&b.columns[d.colId];g&&("string"!==typeof n&&n.toString&&(n=n.toString()),i=g[n]||j);if(d&&d.comparator)i=d.comparator;d=d&&d.sortFormatted&&d.formatter;a.push(d?h(n,f,i,c,b,d):e(n,f,i,c))});return function(b,c){var d,e,g=0;for(d=0,e=a.length;!g&&d<e;++d)g=a[d](b,c);return g}}})})},"gridx/modules/Focus":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/connect,dojo/_base/lang,dojo/_base/sniff,dojo/_base/window,dojo/keys,../core/_Module,../core/util".split(","),
function(k,m,l,i,f,e,h,d,c){return k(d,{name:"focus",getAPIPath:function(){return{focus:this}},constructor:function(){var a=this,b=a.grid;a._areas={};a._tabQueue=[];a._focusNodes=[];a._onDocFocus=function(b){if(!a._noBlur){if(f("ie"))b.target=b.srcElement;a._onFocus(b)}};a.batchConnect([b.domNode,"onkeydown","_onTabDown"],[b.domNode,"onfocus","_focus"],[b.lastFocusNode,"onfocus","_focus"],[b,"onBlur","_doBlur"]);f("ie")?e.doc.attachEvent("onfocusin",a._onDocFocus):e.doc.addEventListener("focus",a._onDocFocus,
!0)},destroy:function(){this._areaQueue=this._areas=null;this._focusNodes=[];this._queueIdx=-1;f("ie")?e.doc.detachEvent("onfocusin",this._onDocFocus):e.doc.removeEventListener("focus",this._onDocFocus,!0);this.inherited(arguments)},registerArea:function(a){if(a&&a.name&&"number"==typeof a.priority){var b=this._tabQueue,d=function(b){a[b]=a[b]?i.hitch(a.scope||a,a[b]):function(){return!0}};this._areas[a.name]&&this.removeArea(a.name);d("doFocus");d("doBlur");d("onFocus");d("onBlur");a.connects=a.connects||
[];this._areas[a.name]=a;d=c.biSearch(b,function(b){return b.p-a.priority});b[d]&&b[d].p===a.priority?(b[d].stack.unshift(a.name),this._focusNodes[d]=a.focusNode||this._focusNodes[d]):(b.splice(d,0,{p:a.priority,stack:[a.name]}),this._focusNodes.splice(d,0,a.focusNode))}},focusArea:function(a,b){var c=this._areas[a];if(c){var d=this._areas[this.currentArea()];if(d&&d.name===a)return b&&d.doFocus(),!0;if(!d||d.doBlur()){if(d)this.onBlurArea(d.name);if(c.doFocus())return this.onFocusArea(c.name),this._updateCurrentArea(c),
!0;this._updateCurrentArea()}}return!1},currentArea:function(){var a=this._tabQueue[this._queueIdx];return a?a.stack[this._stackIdx]:""},tab:function(a,b){var c=this._areas,d=c[this.currentArea()];if(!a)return d?d.name:"";var e=this._queueIdx+a,n=0<a?1:-1,h=this._tabQueue;if(d){var f=d.doBlur(b,a),i=c[f];if(f)this.onBlurArea(d.name);if(i&&i.doFocus(b,a))return this.onFocusArea(i.name),this._updateCurrentArea(i),i.name;if(!f)return d.name}for(;0<=e&&e<h.length;e+=n){f=h[e].stack;for(d=0;d<f.length;++d)if(i=
f[d],c[i].doFocus(b,a))return this.onFocusArea(i),this._queueIdx=e,this._stackIdx=d,i}this._tabingOut=1;0>a?(this._queueIdx=-1,this.grid.domNode.focus()):(this._queueIdx=h.length,this.grid.lastFocusNode.focus());return""},removeArea:function(a){var b=this._areas[a];if(b){this.currentArea()===a&&this._updateCurrentArea();var d=c.biSearch(this._tabQueue,function(a){return a.p-b.priority}),e,h=this._tabQueue[d].stack;for(e=h.length-1;0<=e;--e)if(h[e]===b.name){h.splice(e,1);break}h.length||(this._tabQueue.splice(d,
1),this._focusNodes.splice(d,1));m.forEach(b.connects,l.disconnect);delete this._areas[a];return!0}return!1},onFocusArea:function(){},onBlurArea:function(){},_queueIdx:-1,_stackIdx:0,_onTabDown:function(a){a.keyCode===h.TAB&&this.tab(a.shiftKey?-1:1,a)},_onFocus:function(a){var b,c,d,e;c=this.grid.domNode;d=a.target;for(var h=this._areas[this.currentArea()];d&&d!==c;){b=m.indexOf(this._focusNodes,d);if(0<=b){d=this._tabQueue[b].stack;for(c=0;c<d.length;++c)if(e=this._areas[d[c]],e.onFocus(a)){h&&
h.name!==e.name&&(h.onBlur(a),this.onBlurArea(h.name));this.onFocusArea(e.name);this._queueIdx=b;this._stackIdx=c;break}return}d=d.parentNode}d==c&&h&&this._doBlur(a,h)},_focus:function(a){if(this._tabingOut)this._tabingOut=0;else if(a.target==this.grid.domNode)this._queueIdx=-1,this.tab(1);else if(a.target===this.grid.lastFocusNode)this._queueIdx=this._tabQueue.length,this.tab(-1)},_doBlur:function(a,b){!b&&this.currentArea()&&(b=this._areas[this.currentArea()]);b&&(b.onBlur(a),this.onBlurArea(b.name),
this._updateCurrentArea())},_updateCurrentArea:function(a){var b=this._tabQueue;if(a){var d=this._queueIdx=c.biSearch(b,function(b){return b.p-a.priority});this._stackIdx=m.indexOf(b[d].stack,a.name)}else this._queueIdx=null,this._stackIdx=0}})})},"gridx/modules/ColumnResizer":function(){define("dojo/_base/declare,dojo/_base/sniff,dojo/_base/window,dojo/_base/event,dojo/dom,dojo/dom-style,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/keys,dojo/query,../core/_Module".split(","),function(k,
m,l,i,f,e,h,d,c,a,b,g){function j(a){var b=a.target;if(b){if(/table/i.test(b.tagName)){for(var a=a.offsetX||a.layerX||0,c=0,b=b.rows[0].cells;0<a&&b[c];)a-=b[c].offsetWidth,c++;return b[c]||null}for(;b&&b.tagName;){if("th"==b.tagName.toLowerCase())return b;b=b.parentNode}}return null}var o=h.remove;return k(g,{name:"columnResizer",minWidth:20,detectWidth:5,load:function(){var a=this.grid;this.batchConnect([a.header.innerNode,"mousemove","_mousemove"],[a,"onHeaderMouseOut","_mouseout"],[a,"onHeaderMouseDown",
"_mousedown",this,this.name],[a,"onHeaderKeyDown","_keydown"],[l.doc,"mousemove","_docMousemove"],[l.doc,"onmouseup","_mouseup"]);this.loaded.callback()},getAPIPath:function(){return{columnResizer:this}},columnMixin:{setWidth:function(a){this.grid.columnResizer.setWidth(this.id,a)}},setWidth:function(a,c){var d=this.grid,g,j=d._columns;g=this.arg("minWidth");var h,c=parseInt(c,10);c<g&&(c=g);d._columnsById[a].width=c+"px";for(g=0;g<j.length;++g)j[g].declaredWidth=j[g].width;b('[colid="'+a+'"]',d.domNode).forEach(function(a){h||
(h=e.get(a,"width"));a.style.width=c+"px"});d.body.onRender();d.vLayout.reLayout();this.onResize(a,c,h)},onResize:function(){},_mousemove:function(a){var b=j(a),c=this.grid._eventFlags;if(b&&(this._resizing&&o(b,"gridxHeaderCellOver"),!this._resizing&&b&&!this._ismousedown))a=this._readyToResize=this._isInResizeRange(a),c.onHeaderMouseDown=c.onHeaderCellMouseDown=a?this.name:void 0,h.toggle(l.body(),"gridxColumnResizing",a),a&&o(b,"gridxHeaderCellOver")},_docMousemove:function(a){this._resizing&&
this._updateResizerPosition(a)},_mouseout:function(){if(!this._resizing)this._readyToResize=0,o(l.body(),"gridxColumnResizing")},_keydown:function(c){if((c.keyCode==a.LEFT_ARROW||c.keyCode==a.RIGHT_ARROW)&&c.ctrlKey&&c.shiftKey){var d=c.columnId,g=this.grid,j=2*(g.isLeftToRight()?1:-1);b('[colid="'+d+'"]',g.header.domNode).forEach(function(b){b=e.get(b,"width");b=c.keyCode==a.LEFT_ARROW?b-j:b+j;this.setWidth(d,b);i.stop(c)},this)}},_updateResizerPosition:function(a){var b=a.pageX-this._startX,c=this._targetCell,
d=this.grid,g=d.hScroller,j=0,a=a.pageX-this._gridX,j=this.arg("minWidth"),h=this.grid.isLeftToRight();h||(b=-b);c.offsetWidth+b<j&&(a=h?this._startX-this._gridX-c.offsetWidth+j:this._startX-this._gridX+(c.offsetWidth-j));b=g&&g.container.offsetHeight?g.container:d.bodyNode;j=b.parentNode.offsetTop+b.offsetHeight-d.header.domNode.offsetTop;e.set(this._resizer,{top:d.header.domNode.offsetTop+"px",left:a+"px",height:j+"px"})},_showResizer:function(a){if(!this._resizer)this._resizer=d.create("div",{className:"gridxColumnResizer"},
this.grid.domNode,"last"),this.connect(this._resizer,"mouseup","_mouseup");this._resizer.style.display="block";this._updateResizerPosition(a)},_hideResizer:function(){this._resizer.style.display="none"},_mousedown:function(a){this._readyToResize?(f.setSelectable(this.grid.domNode,!1),l.doc.onselectstart=function(){return!1},this._resizing=1,this._startX=a.pageX,this._gridX=c.position(this.grid.domNode).x,this._showResizer(a)):this._ismousedown=1},_mouseup:function(a){this._ismousedown=0;if(this._resizing){this._readyToResize=
this._resizing=0;o(l.body(),"gridxColumnResizing");f.setSelectable(this.grid.domNode,!0);l.doc.onselectstart=null;var b=this._targetCell,a=a.pageX-this._startX;this.grid.isLeftToRight()||(a=-a);var a=(m("webkit")?b.offsetWidth:e.get(b,"width"))+a,c=this.arg("minWidth");a<c&&(a=c);this.setWidth(b.getAttribute("colid"),a);this._hideResizer()}},_isInResizeRange:function(a){var b=j(a),a=this._getCellX(a),c=this.arg("detectWidth"),d=this.grid.isLeftToRight();if(a<c){if(d)return!!(this._targetCell=b.previousSibling);
this._targetCell=b;return 1}return a>b.offsetWidth-c&&a<=b.offsetWidth?d?(this._targetCell=b,1):!!(this._targetCell=b.previousSibling):0},_getCellX:function(a){var b=a.target,c=j(a);if(!c)return 1E5;if(/table/i.test(b.tagName))return 0;var d=a.offsetX;if(void 0==d)d=a.layerX;/th/i.test(b.tagName)||(d+=b.offsetLeft);m("ff")&&/th/i.test(b.tagName)&&(a=this.grid.isLeftToRight(),b=-parseInt(e.get(c.parentNode.parentNode.parentNode,a?"marginLeft":"marginRight")),a||(b=this.grid.header.domNode.firstChild.scrollWidth-
b-this.grid.header.innerNode.offsetWidth),a=d-(c.offsetLeft-b),0<=a&&(d=a),d>=c.offsetWidth&&(d=0));return d}})})},"gridx/modules/VirtualVScroller":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/_base/sniff,dojo/_base/event,dojo/_base/Deferred,dojo/query,dojo/keys,./VScroller,../core/_Module".split(","),function(k,m,l,i,f,e,h,d,c){return k(c,{constructor:function(a,b){a.autoHeight?m.mixin(this,new c(a,b)):this._scrolls=[]},buffSize:5,lazy:!1,lazyTimeout:50,scrollToRow:function(a,
b){var c=new e,d=this,h=d._scrolls,f=function(){d._subScrollToRow(a,c,b)};h.push(c);d._lazy=d.arg("lazy");d.lazy=!1;1<h.length?h[h.length-2].then(f):f();return c},_subScrollToRow:function(a,b,c){var d=this,e=0,f=d._avgRowHeight,i=d.grid.bodyNode,k=d.domNode,e=i.scrollTop,m=k.scrollTop,t=h('[visualindex="'+a+'"]',i)[0],w=d.grid.focus,u=function(a){d._scrolls.splice(l.indexOf(d._scrolls,b),1);w&&"body"==w.currentArea()&&w.focusArea("body",1);d.lazy=d._lazy;setTimeout(function(){b.callback(a)},5)};if(t)if(f=
t.offsetTop,f+t.offsetHeight>e+i.clientHeight)e=f-e,c||(e+=t.offsetHeight-i.clientHeight);else if(f<e||c&&f>e)e=f-e;else{u(!0);return}else if(i.childNodes.length){for(t=i.firstChild;t&&t.offsetTop<e;)t=t.nextSibling;var s=t&&t.getAttribute("visualindex");if(t&&a<s)e=(a-s)*f;else{for(t=i.lastChild;t&&t.offsetTop+t.offsetHeight>e+i.clientHeight;)t=t.previousSibling;s=t&&t.getAttribute("visualindex");if(t&&a>s)e=(a-s)*f;else{u(!1);return}}}else{u(!1);return}f=0===m&&0>e;m=m>=k.scrollHeight-k.offsetHeight&&
0<e;f||m?d._doVirtualScroll(1):k.scrollTop+=e/d._ratio;f&&0==i.firstChild.getAttribute("visualindex")||m&&i.lastChild.getAttribute("visualindex")==d.grid.body.visualCount-1?u(!1):setTimeout(function(){d._subScrollToRow(a,b,c)},5)},_init:function(){var a=this;a._rowHeight={};a._syncHeight();a.connect(a.grid,"_onResizeEnd",function(){a._doScroll(0,1)});a._doScroll(0,1)},_doVirtualScroll:function(a){var b=this.domNode,c=b.scrollTop,d=this._ratio*(c-(this._lastScrollTop||0));if(a||d){this._lastScrollTop=
c;var e=this.arg("buffSize"),a=b.scrollHeight-b.offsetHeight,f=this.grid.body,i=f.visualStart,k=i+f.visualCount,l=this.grid.bodyNode,m=l.firstChild,w=m&&m.offsetTop-d,u=l.lastChild,s=u&&u.offsetTop-d+u.offsetHeight,y=l.scrollTop,v=y+l.clientHeight,x=this._avgRowHeight,b=Math.ceil(b.offsetHeight/x)+2*e,B,D,z;if(y!=v||v){if(m&&w>y&&w<v)D=f.renderStart,z=Math.ceil((w-y)/x)+e,B=0===c?i:Math.max(D-z,i),z="top";else if(u&&s>y&&s<v)B=f.renderStart+f.renderCount,z=Math.ceil((v-s)/x)+e,D=c===a&&c?k:Math.min(B+
z,k),z="bottom";else if(!m||w>v||!u||s<y)c<=a/2?(B=0===c?i:i+Math.max(Math.floor(c/x)-e,0),D=Math.min(B+b,k)):(D=c===a?k:k+Math.min(b-Math.floor((a-c)/x),0),B=Math.max(D-b,i)),z="clear";else if(m)0===c?(k=f.renderStart,k>i&&(B=i,D=k,z="top")):c===a&&(i=f.renderStart+f.renderCount-1,i<k-1&&(B=i+1,D=k,z="bottom"));"number"==typeof B&&"number"==typeof D&&(f.renderRows(B,D-B,z),c&&B<D&&(B=h('[visualindex="'+D+'"]',l)[0])&&(d+=B.offsetTop));0===c?l.scrollTop=0:c>=a?l.scrollTop=l.scrollHeight:"clear"!=
z&&(l.scrollTop+=d)}}},_doScroll:function(a,b){this.arg("lazy")?(this._lazyScrollHandle&&clearTimeout(this._lazyScrollHandle),this._lazyScrollHandle=setTimeout(m.hitch(this,this._doVirtualScroll,b),this.arg("lazyTimeout"))):this._doVirtualScroll(b)},_onMouseWheel:function(a){"none"!=this.grid.vScrollerNode.style.display&&(this.domNode.scrollTop-=("number"===typeof a.wheelDelta?a.wheelDelta/3:-40*a.detail)/this._ratio,f.stop(a))},_onBodyChange:function(){this._update();this._doScroll(0,1);this._doVirtual()},
_onForcedScroll:function(){this._rowHeight={};this._doScroll(0,1);this._doVirtual()},_avgRowHeight:24,_rowHeight:null,_ratio:1,_syncHeight:function(){var a=this._avgRowHeight*this.grid.body.visualCount,b=1342177;i("ff")?b=17895697:i("webkit")&&(b=134217726);if(a>b)this._ratio=a/b,a=b;this.stubNode.style.height=a+"px"},_doVirtual:function(){var a=this;clearTimeout(a._pVirtual);a._pVirtual=setTimeout(function(){a._updateRowHeight()},100)},_updateRowHeight:function(){var a=0,b=0,c=this.grid,d=c.body,
c=c.bodyNode,e=this.buffSize*this._avgRowHeight,h=c.scrollTop,f=h-e,i=h+c.clientHeight+e,k=this._rowHeight;l.forEach(c.childNodes,function(c){k[c.getAttribute("rowid")]=c.offsetHeight;c.offsetTop>i?++b:c.offsetTop+c.offsetHeight<f&&++a});d.unrenderRows(a);d.unrenderRows(b,"post");var m,c=d=0;for(m in k)d+=k[m],++c;if(c)this._avgRowHeight=d/c,this._syncHeight()},_onKeyScroll:function(a){var j;var g;var b=this.grid.body,c=this.grid.focus,e=this.domNode;if(!c||"body"==c.currentArea()){if(a.keyCode==
d.HOME)b._focusCellRow=0,e.scrollTop=0;else if(a.keyCode==d.END)b._focusCellRow=b.visualCount-1,e.scrollTop=this.stubNode.clientHeight-b.domNode.offsetHeight;else if(a.keyCode==d.PAGE_UP)g=b._focusCellRow=Math.max(b.renderStart-b.renderCount,0),b=g,this.scrollToRow(b);else if(a.keyCode==d.PAGE_DOWN)j=b._focusCellRow=Math.min(b.visualCount-1,b.renderStart+b.renderCount),b=j,this.scrollToRow(b,1);else return;f.stop(a)}}})})},"gridx/modules/SingleSort":function(){define(["dojo/_base/declare","dojo/_base/lang",
"dojo/keys","../core/model/extensions/Sort","../core/_Module"],function(k,m,l,i,f){return k(f,{name:"sort",forced:["header"],modelExtensions:[i],getAPIPath:function(){return{sort:this}},preload:function(){var e=this,h=e.grid,d;e.connect(h,"onHeaderCellClick","_onClick");e.connect(h,"onHeaderCellKeyDown","_onKeyDown");h.persist&&(d=h.persist.registerAndLoad("sort",function(){return[{colId:e._sortId,descending:e._sortDescend}]}));d=d||e.arg("initialOrder");m.isArrayLike(d)&&(d=d[0]);if(d&&d.colId)e._sortId=
d.colId,e._sortDescend=d.descending,e.model.sort([d])},load:function(){var e=this,h,d=function(){e._sortId&&e._updateHeader(e._sortId,e._sortDescend)};e.connect(e.grid.header,"onRender",d);for(h in e.grid._columnsById)e._initHeader(h);d();e.loaded.callback()},columnMixin:{sort:function(e,h){this.grid.sort.sort(this.id,e,h);return this},isSorted:function(){return this.grid.sort.isSorted(this.id)},clearSort:function(e){this.isSorted()&&this.grid.sort.clear(e);return this},isSortable:function(){var e=
this.grid._columnsById[this.id];return e.sortable||void 0===e.sortable},setSortable:function(e){this.grid._columnsById[this.id].sortable=!!e;return this}},sort:function(e,h,d){var c=this.grid,a=c._columnsById[e];if(a&&(a.sortable||void 0===a.sortable))(this._sortId!=e||this._sortDescend==!h)&&this._updateHeader(e,h),this.model.sort([{colId:e,descending:h}]),d||c.body.refresh()},isSorted:function(e){return e==this._sortId?this._sortDescend?-1:1:0},clear:function(e){if(null!==this._sortId)this._initHeader(this._sortId),
this._sortId=this._sortDescend=null,this.model.sort(),e||this.grid.body.refresh()},getSortData:function(){return this._sortId?[{colId:this._sortId,descending:this._sortDescend}]:null},_sortId:null,_sortDescend:null,_initHeader:function(e){var h=this.grid,d=h.header.getHeaderNode(e),e=h.column(e,1);d.innerHTML=["<div class='gridxSortNode'>",e.name(),"</div>"].join("");e.isSortable()?d.setAttribute("aria-sort","none"):d.removeAttribute("aria-sort")},_updateHeader:function(e,h){this._sortId&&this._sortId!=
e&&this._initHeader(this._sortId);this._sortId=e;this._sortDescend=!!h;var d=this.grid,c=d.header.getHeaderNode(e);c.innerHTML=["<div class='gridxSortNode ",h?"gridxSortDown":"gridxSortUp","'><div class='gridxArrowButtonChar'>",h?"&#9662;":"&#9652;","</div><div role='presentation' class='gridxArrowButtonNode'>&nbsp;</div><div class='gridxColCaption'>",d.column(e,1).name(),"</div></div>"].join("");c.setAttribute("aria-sort",h?"descending":"ascending");d.vLayout.reLayout()},_onClick:function(e){this.sort(e.columnId,
this._sortId!=e.columnId?0:!this._sortDescend)},_onKeyDown:function(e){e.keyCode==l.ENTER&&this._onClick(e)}})})},"gridx/core/model/extensions/Sort":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/json","../_Extension"],function(k,m,l,i){return k(i,{name:"sort",priority:30,constructor:function(f,e){var h=e.baseSort;this.clear();this._mixinAPI("sort");if(h&&h.length)this._baseSort=h,this._sort()},clear:function(){},sort:function(){this.model._addCmd({name:"_cmdSort",scope:this,
args:arguments})},_cmdSort:function(){var f=arguments;this._sort.apply(this,f[f.length-1])},_sort:function(f){var e=this.model,h=this._baseSort,d=e._cache,c=d.options=d.options||{},a,b,g;if(m.isArrayLike(f)){for(a=0;a<f.length;++a)b=f[a],b.colId?b.attribute=d.columns?d.columns[b.colId].field||b.colId:b.colId:b.colId=b.attribute;h&&(f=f.concat(h))}else f=h;c.sort&&c.sort.length?l.toJson(c.sort)!==l.toJson(f)&&(g=1):f&&f.length&&(g=1);c.sort=m.clone(f);g&&d.clear();e._msg("storeChange")}})})},"gridx/modules/NestedSort":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/connect,dojo/_base/event,dojo/_base/query,dojo/_base/window,dojo/_base/sniff,dojo/string,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/dom-geometry,dojo/keys,../core/_Module,../core/model/extensions/Sort,dojo/i18n!../nls/NestedSort".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p){var r=m.forEach,q=m.filter,t=m.indexOf,w=c.contains,u=c.remove,s=c.add;return k(o,{name:"sort",forced:["header"],modelExtensions:[n],_a11yText:{dojoxGridDescending:'<span class="gridxNestedSortBtnText">&#9662;</span>',dojoxGridAscending:'<span class="gridxNestedSortBtnText">&#9652;</span>',dojoxGridAscendingTip:'<span class="gridxNestedSortBtnText">&#1784;</span>',dojoxGridDescendingTip:'<span class="gridxNestedSortBtnText">&#1783;</span>',dojoxGridUnsortedTip:'<span class="gridxNestedSortBtnText">x</span>'},
constructor:function(){this._sortData=[]},getAPIPath:function(){return{sort:this}},preload:function(){var a=this;a._sortData=a.arg("initialOrder")||a._sortData;if(a.grid.persist){var b=a.grid.persist.registerAndLoad("sort",function(){return a._sortData});if(b)a._sortData=b}a._sortData=q(a._sortData,function(b){return a.isSortable(b.colId)});a._sortData.length&&a.grid.model.sort(a._sortData)},load:function(){this._init();this.loaded.callback()},columnMixin:{isSorted:function(){return this.grid.sort.isSorted(this.id)},
isSortable:function(){return this.grid.sort.isSortable(this.id)}},getSortData:function(){return this._sortData},sort:function(a){var b=this;b._sortData=q(a,function(a){return b.isSortable(a.colId)});b._doSort();b._updateUI()},isSorted:function(a){return m.some(this._sortData,function(b){return b.colId==a})},_doSort:function(){var a=this.grid,b=this._sortData;a.model.sort(b.length?b:null);a.body.refresh()},clear:function(){this._sortData.length=0;this._doSort();this._updateUI()},isSortable:function(a){return(a=
this.grid._columnsById[a])&&(a.sortable||void 0===a.sortable)},_init:function(){var a=this,b=a.grid.header.domNode,c=function(){a._initHeader();a._initFocus();a._updateUI()};a.connect(b,"onclick","_onHeaderClick");a.connect(b,"onmouseover","_onMouseOver");a.connect(b,"onmouseout","_onMouseOver");a.connect(a.grid.header,"onRender",c);c()},_initHeader:function(){var b=this,c=b.grid.header.domNode.firstChild.firstChild;f(".gridxSortBtn",c).length||r(c.rows[0].cells,function(c){var d=c.getAttribute("colid");
b.isSortable(d)&&(a.create("div",{className:"gridxSortBtn gridxSortBtnNested"},c,"first"),a.create("div",{className:"gridxSortBtn gridxSortBtnSingle"},c,"first"))})},_onHeaderClick:function(a){var b=a.target,c=this._sortData,d;if(w(b,"gridxNestedSortBtnText"))b=b.parentNode;this._markFocus(a);if(w(b,"gridxSortBtn")){d=b.parentNode.getAttribute("colid");if(w(b,"gridxSortBtnSingle")){if(1<c.length)c.length=0;b=q(c,function(a){return a.colId===d})[0];c.length=0;b&&c.push(b);this._sortColumn(d)}else w(b,
"gridxSortBtnNested")&&this._sortColumn(d);i.stop(a)}},_onMouseOver:function(a){var b=this.grid;c.toggle(b.header.domNode,"gridxHeaderHover","mouseover"==a.type);b.autoHeight&&b.vLayout.reLayout()},_sortColumn:function(a){var b=this._sortData;if(this.isSortable(a)){var c=q(b,function(b){return b.colId===a})[0];c?(c.descending&&b.splice(t(b,c),1),c.descending=!c.descending):b.push({colId:a,descending:!1});this._doSort();this._updateUI()}},_updateUI:function(){var a=this,b=a.grid,c=b.domNode,d=a._sortData;
u(c,"gridxSingleSorted");u(c,"gridxNestedSorted");f("th",b.header.domNode).forEach(function(b){var c=b.getAttribute("colid");if(a.isSortable(c)){r(["","Desc","Asc","Main"],function(a){u(b,"gridxCellSorted"+a)});var e=b.childNodes[0],g=b.childNodes[1],j=a._a11yText;e.title=p.singleSort+" - "+p.ascending;g.title=p.nestedSort+" - "+p.ascending;e.innerHTML=j.dojoxGridAscendingTip+"&nbsp;";g.innerHTML=d.length+1+j.dojoxGridAscendingTip;var h=q(d,function(a){return a.colId===c})[0];a._setWaiState(b,c,h);
if(h){g.innerHTML=t(d,h)+1;s(b,"gridxCellSorted");h==d[0]&&s(b,"gridxCellSortedMain");var f=d.length;h.descending?(s(b,"gridxCellSortedDesc"),1==f?(e.title=p.singleSort+" - "+p.unsorted,e.innerHTML=j.dojoxGridDescending+"&nbsp;"):(g.title=p.nestedSort+" - "+p.unsorted,g.innerHTML+=j.dojoxGridDescending)):(s(b,"gridxCellSortedAsc"),1==f?(e.title=p.singleSort+": "+p.descending,e.innerHTML=j.dojoxGridAscending+"&nbsp;"):(g.title=p.nestedSort+" - "+p.descending,g.innerHTML+=j.dojoxGridAscending))}}});
1==d.length?s(c,"gridxSingleSorted"):1<d.length&&s(c,"gridxNestedSorted")},_initFocus:function(){var a=this.grid,b=a.header.domNode;a.focus&&(this._initRegions(),a.focus.registerArea({name:"header",priority:0,focusNode:b,scope:this,doFocus:this._doFocus,doBlur:this._blurNode,onBlur:this._blurNode,connects:[this.connect(b,"onkeypress","_onKeyPress")]}))},_doFocus:function(){this._focusRegion(this._getCurrentRegion()||this._focusRegions[0]);return!0},_blurNode:function(){return!0},_onKeyPress:function(a){var b=
this.grid.isLeftToRight(),c=b?j.RIGHT_ARROW:j.LEFT_ARROW,b=b?j.LEFT_ARROW:j.RIGHT_ARROW;switch(a.keyCode){case b:this._focusPrevious();break;case c:this._focusNext();break;case j.ENTER:case j.SPACE:this._onHeaderClick(a)}i.stop(a)},_onBlur:function(a){this._blurRegion(a.target)},_focusNext:function(){for(var a=this._currRegionIdx,c=this._focusRegions;c[a+1]&&"none"===b.get(c[++a],"display"););c[a]&&this._focusRegion(c[a])},_focusPrevious:function(){for(var a=this._currRegionIdx,c=this._focusRegions;c[a-
1]&&"none"===b.get(c[--a],"display"););c[a]&&this._focusRegion(c[a])},_markFocus:function(a){a=a.target;0<=t(this._focusRegions,a)&&this._focusRegion(a)},_initRegions:function(){var a=this;r(a._nconns,l.disconnect);a._focusRegions=[];a._nconns=[];f(".gridxCell",a.grid.header.domNode).forEach(function(b){var c=b.childNodes;r([2,1,0],function(b){c[b]&&(c[b].setAttribute("tabindex","-1"),a._focusRegions.push(c[b]),a._nconns.push(a.connect(c[b],"onblur","_onBlur")))})});a._currRegionIdx=-1},_focusRegion:function(a){if(a){var b=
this,c=b.grid,d=b._getRegionHeader(a);a.focus();window.setTimeout(function(){s(d,"gridxCellSortFocus");w(a,"gridxSortNode")?s(a,"gridxSortNodeFocus"):w(a,"gridxSortBtn")&&s(a,"gridxSortBtnFocus");s(b.grid.header.domNode,"gridxHeaderFocus");b._currRegionIdx=t(b._focusRegions,a);a.focus();c.hScroller&&c.hScroller.scrollToColumn(d.getAttribute("colid"))},0)}},_blurRegion:function(a){if(a){var b=this._getRegionHeader(a);u(b,"gridxCellSortFocus");u(a,"gridxSortNodeFocus");u(a,"gridxSortBtnFocus");u(this.grid.header.domNode,
"gridxHeaderFocus")}},_getCurrentRegion:function(){return-1===this._currRegionIdx?null:this._focusRegions[this._currRegionIdx]},_getRegionHeader:function(a){for(;a&&!w(a,"gridxCell");)a=a.parentNode;return a},_setWaiState:function(a,b,c){var b="Column "+this.grid.column(b).name(),e="none",g="ascending";c&&(e=c.descending?"descending":"ascending",g=c.descending?"none":"descending");c=d.substitute(p.waiSingleSortLabel,[b,e,g]);b=d.substitute(p.waiNestedSortLabel,[b,e,g]);a.childNodes[0].setAttribute("aria-label",
c);a.childNodes[1].setAttribute("aria-label",b)}})})},"gridx/nls/NestedSort":function(){define({root:{singleSort:"Single Sort",nestedSort:"Nested Sort",ascending:"Click to sort Ascending",descending:"Click to sort Descending",sortingState:"${0} - ${1}",unsorted:"Do not sort this column",waiSingleSortLabel:"${0} - is sorted by ${1}. Choose to sort by ${2}",waiNestedSortLabel:"${0} - is nested sorted by ${1}. Choose to nested sort by ${2}"},ar:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,es:!0,fi:!0,fr:!0,hu:!0,
it:!0,ja:!0,kk:!0,ko:!0,nb:!0,nl:!0,pl:!0,pt:!0,"pt-pt":!0,ro:!0,ru:!0,sk:!0,sl:!0,sv:!0,th:!0,tr:!0,zh:!0,"zh-tw":!0})},"gridx/modules/ColumnLock":function(){define("dojo/_base/kernel,dojo/_base/lang,../core/_Module,dojo/_base/declare,dojo/_base/array,dojo/_base/html,dojo/query".split(","),function(k,m,l,i,f,e,h){return i(l,{name:"columnLock",required:["body"],count:0,load:function(d,c){this.count=this.arg("count");var a=this,b=this.grid;e.body();c.then(function(){if(!b.columnWidth||!b.columnWidth.arg("autoResize"))a.connect(b.body,
"onAfterRow",function(b){a._lockColumns(b.node())}),b.columnResizer&&(a.connect(b.columnResizer,"onResize","_updateHeader"),a.connect(b.columnResizer,"onResize","_updateBody")),b.header&&(b.header.loaded.then(function(){a._updateHeader()}),b.move&&b.move.column&&a.connect(b.move.column,"move","_updateHeader")),a._hackHScroller(),a.count&&a.lock(a.count);a.loaded.callback()})},getAPIPath:function(){return{columnLock:this}},lock:function(d){if(!this.grid.columnWidth||!this.grid.columnWidth.arg("autoResize"))d>=
this.grid._columns.length?(this.count=0,console.warn("Warning: lock count is larger than columns count, do nothing.")):(this.unlock(),d&&e.addClass(this.grid.domNode,"gridxColumnLock"),this.count=d,this._updateUI())},unlock:function(){if(!this.grid.columnWidth||!this.grid.columnWidth.arg("autoResize"))e.removeClass(this.grid.domNode,"gridxColumnLock"),this._unlockColumns(h(".gridxHeaderRowInner",this.grid.headerNode)[0]),f.forEach(this.grid.bodyNode.childNodes,this._unlockColumns,this),this.count=
0,this._updateUI()},_unlockColumns:function(d){for(var c=this.grid.isLeftToRight(),a=d.firstChild.rows[0],b=0;b<this.count;b++){var g=a.cells[b];e.removeClass(g,"gridxLockedCell");e.style(g,{height:"auto"})}d.style[c?"paddingLeft":"paddingRight"]="0px";d.style.width="auto"},_updateUI:function(){this.grid.header&&this._updateHeader();this._updateBody();this._updateScroller();this.grid.hScroller&&this.grid.hScroller._doScroll();this.grid.header.onRender()},_lockColumns:function(d){if(!this.count||this.count>=
this.grid._columns.length)this.count=0;else{var c=this.grid.isLeftToRight(),a=d.firstChild.rows[0],b;for(b=0;b<this.count;b++)k.style(a.cells[b],"height","auto");var g=k.contentBox(a.cells[a.cells.length-1]).h;b=k.marginBox(a.cells[a.cells.length-1]).h;k.style(d.firstChild,"height",b+"px");var j=0;for(b=0;b<this.count;b++){var h=a.cells[b];e.addClass(h,"gridxLockedCell");var f={height:g+"px"};f[c?"left":"right"]=j+"px";e.style(h,f);j+=h.offsetWidth}d.style[c?"paddingLeft":"paddingRight"]=j+"px";d.style.width=
this.grid.bodyNode.offsetWidth-j+"px";d.scrollLeft=this.grid.hScroller?this.grid.hScroller.domNode.scrollLeft:0}},_updateHeader:function(){var d=h(".gridxHeaderRowInner",this.grid.headerNode)[0],c=d.scrollLeft;this._lockColumns(d);d.scrollLeft=c;this._updateScroller()},_updateBody:function(){f.forEach(this.grid.bodyNode.childNodes,this._lockColumns,this)},_updateScroller:function(){this.grid.hScroller&&this.grid.hScroller.refresh()},_hackHScroller:function(){var d=this;m.mixin(this.grid.hScroller,
{_doScroll:function(){var c=this.domNode.scrollLeft;d.count?f.forEach(this.grid.bodyNode.childNodes,function(a){a.scrollLeft=c;if("absolute"==a.style.position){var b=0;f.forEach(a.firstChild.rows[0].cells,function(a){if(k.hasClass(a,"gridxLockedCell"))a.style.left=c+b+"px",b+=a.offsetWidth})}}):this.grid.bodyNode.scrollLeft=c;this.grid.onHScroll(this.grid.hScroller._lastLeft)}})}})})},"gridx/modules/select/Row":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/sniff,dojo/_base/query,dojo/dom-class,dojo/keys,./_RowCellBase,../../core/_Module".split(","),
function(k,m,l,i,f,e,h){return k(h,{name:"selectRow",rowMixin:{select:function(){this.grid.select.row.selectById(this.id);return this},deselect:function(){this.grid.select.row.deselectById(this.id);return this},isSelected:function(){return this.grid.select.row.isSelected(this.id)}},triggerOnCell:!1,treeMode:!0,getSelected:function(){return this.model.getMarkedIds()},clear:function(){if(this.arg("enabled")){var d=this.model;m.forEach(d.getMarkedIds(),function(c){d.markById(c,0)});d.when()}},_type:"row",
_init:function(){var d=this,c=d.grid;d.model.treeMarkMode("",d.arg("treeMode"));d.inherited(arguments);d.model._spTypes.select=1;d.batchConnect([c,"onRowMouseDown",function(a){(d.arg("triggerOnCell")&&!f.contains(a.target,"gridxTreeExpandoIcon")&&!f.contains(a.target,"gridxTreeExpandoInner")||!a.columnId)&&d._select(a.rowId,c._isCopyEvent(a))}],[c,4>l("ff")?"onRowKeyUp":"onRowKeyDown",function(a){(d.arg("triggerOnCell")||!a.columnId)&&a.keyCode==e.SPACE&&d._select(a.rowId,c._isCopyEvent(a))}])},_onMark:function(d,
c,a,b){if("select"==b){var e=this;e._highlight(d,c);e.model.when({id:d},function(){e[c?"onSelected":"onDeselected"](e.grid.row(d,1))})}},_highlight:function(d,c){var a=i('[rowid="'+d+'"]',this.grid.mainNode),b=c&&"mixed"!=c;a.length&&(a.forEach(function(a){f.toggle(a,"gridxRowSelected",b);f.toggle(a,"gridxRowPartialSelected","mixed"==c);a.setAttribute("aria-selected",!!b)}),this.onHighlightChange({row:parseInt(a[0].getAttribute("visualindex"),10)},c))},_markById:function(d,c){var a=this.model;a.treeMarkMode()&&
!a.getMark(d)&&c&&(c="mixed");a.markById(d,c);a.when()},_onRender:function(d,c){var a=this.model,b=d+c,e,j;for(e=d;e<b;++e)if(j=this.grid.body.getRowNode({visualIndex:e}))j=j.getAttribute("rowid"),this._highlight(j,a.getMark(j))}})})},"gridx/modules/select/_RowCellBase":function(){define(["dojo/_base/declare","dojo/_base/lang","./_Base","../../core/model/extensions/Mark"],function(k,m,l,i){return k(l,{modelExtensions:[i],selectById:function(f,e){var h=this.model;this.arg("enabled")&&(h.markById(f,
1,this._getMarkType(e)),h.when())},deselectById:function(f,e){var h=this.model;this.arg("enabled")&&(h.markById(f,0,this._getMarkType(e)),h.when())},isSelected:function(f,e){return!0===this.model.getMark(f,this._getMarkType(e))},_init:function(){this.connect(this.model,"onMarkChange","_onMark")}})})},"gridx/modules/select/_Base":function(){define(["dojo/_base/declare","dojo/_base/connect","../../core/_Module"],function(k,m,l){return k(l,{getAPIPath:function(){var i={select:{}};i.select[this._type]=
this;return i},preload:function(){var i=this,f=i.grid;i.subscribe("gridClearSelection_"+f.id,function(e){e!=i._type&&i.clear()});i.connect(f.body,"onRender","_onRender");i.arg("multiple")&&f.domNode.setAttribute("aria-multiselectable",!0);i._init()},enabled:!0,multiple:!0,holdingCtrl:!1,onSelected:function(){},onDeselected:function(){},onHighlightChange:function(){},_getMarkType:function(){},_isSelected:function(){return this.isSelected.apply(this,arguments)},_select:function(i,f){var e=1;this.arg("enabled")&&
(this.arg("multiple")&&(f||this.arg("holdingCtrl"))?e=!this._isSelected(i):this.clear(),m.publish("gridClearSelection_"+this.grid.id,[this._type]),this._markById(i,e))}})})},"gridx/core/model/extensions/Mark":function(){define(["dojo/_base/declare","dojo/_base/array","../_Extension"],function(k,m,l){return k(l,{name:"move",priority:5,constructor:function(i){this.mixed="mixed";this.states={"0":!1,1:this.mixed,2:!0};this.clear();this._mixinAPI("getMark","getMarkedIds","markById","markByIndex","clearMark",
"treeMarkMode");this.aspect(i,"_msg","_receiveMsg");this.aspect(i._cache,"onLoadRow","_onLoadRow");this.aspect(i,"setStore","clear");i.onMarkChange=function(){};i._spTypes={}},clear:function(){this._byId={};this._last={};this._lazy={};this._tree={}},clearMark:function(i){this._byId[this._initMark(i)]={}},getMarkedIds:function(i,f){var e=[],h,d=this._byId[this._initMark(i)];if(d)for(h in d)(f||2==d[h])&&e.push(h);return e},isMarked:function(i,f){f=this._initMark(f);return 2==this._byId[f][i]},isPartialMarked:function(i,
f){return 1==this._byId[this._initMark(f)][i]},getMark:function(i,f){return{"0":!1,1:this.mixed,2:!0}[this._byId[this._initMark(f)][i]||0]},markById:function(i,f,e){this._cmd(i,f,e,1)},markByIndex:function(i,f,e,h){0<=i&&Infinity>i&&this._cmd(i,f,e,0,h)},treeMarkMode:function(i,f){var i=this._initMark(i),e=this._tree;return void 0===f?e[i]:e[i]=f},_cmdMark:function(){var i=this,f=arguments,e=[],h=i.model._model;m.forEach(f,function(d){d[3]||e.push({start:d[0],count:1})});return h._call("when",[{id:[],
range:e},function(){m.forEach(f,function(d){var c=d[3]?d[0]:h._call("indexToId",[d[0],d[4]]),a=d[1],d=i._initMark(d[2]),a=a===i.mixed?1:a?2:0;i._mark(c,a,d)})}])},_onDelete:function(i){var f,e=this._byId,h=this._last,d=this._lazy;for(f in e)f=this._initMark(f),delete e[f][i],delete h[f][i],delete d[f][i];this.onDelete.apply(this,arguments)},_initMark:function(i){var f=this._byId,e=this._last,h=this._lazy,i=i||"select";f[i]=f[i]||{};h[i]=h[i]||{};e[i]=e[i]||{};return i},_cmd:function(){this.model._addCmd({name:"_cmdMark",
scope:this,args:arguments,async:1})},_receiveMsg:function(i,f){if("filter"==i){var e,h,d=this.model._spTypes;for(e in d)if(d[e])for(h in this._byId[e])f[h]||this._doMark(h,e,0)}},_mark:function(i,f,e){var e=this._initMark(e),h=this._byId[e][i]||0;this.model.isId(i)&&h!=f&&this._doMark(i,e,f)},_onLoadRow:function(i){var f=this.model,e=f._model,h=this._lazy,d,c,a=e._call("treePath",[i]).pop();if(f.isId(a))for(d in h)f=h[d],c=f[a],"number"==typeof c&&(c=f[a]={toMark:c,count:e._call("size",[a])}),c&&
(--c.count,c.count||delete f[a],this._doMark(i,d,c.toMark,1))},_fireEvent:function(i,f,e,h){var d=this.model;e!=h&&(e||delete this._byId[f][i],d.onMarkChange(i,this.states[e||0],this.states[h||0],f))},_doMark:function(i,f,e,h){var d,c,a,b,g=this.model._model,j=this._byId[f],k=this._last[f];b=this._lazy[f];var n=j[i]||0,p;this._tree[f]&&(c=g._call("children",[i]),1==e&&m.every(c,function(a){return(k[a]||0)==(k[c[0]]||0)})&&(e=2));j[i]=k[i]=e;this._fireEvent(i,f,e,n);if(this._tree[f]){for(d=[i];d.length;)a=
d.shift(),n=j[a]||0,p=j[a]=1==e?k[a]||0:e,this._fireEvent(a,f,p,n),g._call("hasChildren",[a])&&(c=g._call("children",[a]),c.length?d=d.concat(c):b[a]=e);if(!h){b=g._call("treePath",[i]);for(i=b.length-1;0<i;--i)e=b[i],n=j[e],h=g._call("children",[e]),d=m.filter(h,function(a){return k[a]=j[a]}).length,a=m.filter(h,function(a){return 2==j[a]}).length,a==h.length&&2!=n?j[e]=2:!d&&n?delete j[e]:d&&a<h.length&&1!=n&&(j[e]=1),this._fireEvent(e,f,j[e],n)}}}})})},"gridx/modules/select/Column":function(){define("dojo/_base/declare,dojo/_base/query,dojo/_base/array,dojo/_base/sniff,dojo/dom-class,dojo/keys,./_Base,../../core/_Module".split(","),
function(k,m,l,i,f,e,h){return k(h,{name:"selectColumn",columnMixin:{select:function(){this.grid.select.column._markById(this.id,1);return this},deselect:function(){this.grid.select.column._markById(this.id,0);return this},isSelected:function(){return this.grid.select.column.isSelected(this.id)}},selectById:function(d){this._markById(d,1)},deselectById:function(d){this._markById(d,0)},isSelected:function(d){d=this.grid._columnsById[d];return!(!d||!d._selected)},getSelected:function(){var d=[],c,a,
b=this.grid._columns,e=b.length;for(c=0;c<e;++c)a=b[c],a._selected&&d.push(a.id);return d},clear:function(){var d=this.grid._columns,c,a=d.length;for(c=0;c<a;++c)this._markById(d[c].id,0)},_type:"column",_init:function(){var d=this,c=d.grid;d.batchConnect([c,"onHeaderCellClick",function(a){f.contains(a.target,"gridxArrowButtonNode")||d._select(a.columnId,c._isCopyEvent(a))}],[c,4>i("ff")?"onHeaderCellKeyUp":"onHeaderCellKeyDown",function(a){(a.keyCode==e.SPACE||a.keyCode==e.ENTER)&&d._select(a.columnId,
c._isCopyEvent(a))}])},_markById:function(d,c){var a=this.grid._columnsById[d];if(this.arg("enabled")&&(c=!!c,a&&!a._selected==c))a._selected=c,this._highlight(d,c),this[c?"onSelected":"onDeselected"](this.grid.column(d,1))},_highlight:function(d,c){var a=this,b=a.grid;m("[colid='"+d+"']",b.bodyNode).forEach(function(e){f.toggle(e,"gridxColumnSelected",c);a.onHighlightChange({column:b._columnsById[d].index},c)})},_onRender:function(d,c){var a,b,e,j=d+c;a=this.grid;var h=a.bodyNode,n=l.filter(a._columns,
function(a){return a._selected});for(a=n.length-1;0<=a;--a)for(b=d;b<j;++b)e=m(['[visualindex="',b,'"] [colid="',n[a].id,'"]'].join(""),h)[0],f.add(e,"gridxColumnSelected")}})})},"gridx/modules/select/Cell":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/sniff,dojo/dom-class,dojo/keys,./_RowCellBase,../../core/_Module".split(","),function(k,m,l,i,f,e){return k(e,{name:"selectCell",cellMixin:{select:function(){this.grid.select.cell.selectById(this.row.id,this.column.id);return this},
deselect:function(){this.grid.select.cell.deselectById(this.row.id,this.column.id);return this},isSelected:function(){return this.grid.select.cell.isSelected(this.row.id,this.column.id)}},getSelected:function(){var e=this,d=[];m.forEach(e.grid._columns,function(c){var a=e.model.getMarkedIds(e._getMarkType(c.id));d.push.apply(d,m.map(a,function(a){return[a,c.id]}))});return d},clear:function(){var e=this,d=e.model;e.arg("enabled")&&(m.forEach(e.grid._columns,function(c){var c=e._getMarkType(c.id),
a=d.getMarkedIds(c),b=a.length,g;for(g=0;g<b;++g)d.markById(a[g],0,c)}),d.when())},_type:"cell",_markTypePrefix:"select_",_getMarkType:function(e){e=this._markTypePrefix+e;this.model._spTypes[e]=1;return e},_init:function(){var e=this,d=e.grid;e.inherited(arguments);e.batchConnect([d,"onCellMouseDown",function(c){e._select([c.rowId,c.columnId],d._isCopyEvent(c))}],[d,4>l("ff")?"onCellKeyUp":"onCellKeyDown",function(c){c.keyCode==f.SPACE&&e._select([c.rowId,c.columnId],d._isCopyEvent(c))}])},_isSelected:function(e){return this.isSelected(e[0],
e[1])},_onMark:function(e,d,c,a){var b=this;if(0===a.indexOf(b._markTypePrefix)){var g=a.substr(b._markTypePrefix.length);b.grid._columnsById[g]&&(b._highlight(e,g,d),b.model.when({id:e},function(){b[d?"onSelected":"onDeselected"](b.grid.cell(e,g,1))}))}},_highlight:function(e,d,c){if(e=this.grid.body.getCellNode({rowId:e,colId:d}))i.toggle(e,"gridxCellSelected",c),e.setAttribute("aria-selected",!!c),this.onHighlightChange()},_markById:function(e,d){var c=this.model;c.markById(e[0],d,this._getMarkType(e[1]));
c.when()},_onRender:function(e,d){var c=this.model,a=e+d,b,g,j,f,n=this.grid._columns;for(b=e;b<a;++b){j=c.indexToId(b);for(g=n.length-1;0<=g;--g)f=n[g].id,c.getMark(j,this._getMarkType(f))&&this._highlight(j,f,1)}}})})},"gridx/modules/extendedSelect/Row":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/query,dojo/_base/lang,dojo/_base/Deferred,dojo/_base/sniff,dojo/dom-class,dojo/mouse,dojo/keys,../../core/_Module,./_RowCellBase".split(","),function(k,m,l,i,f,e,h,d,c,a,b){return k(b,
{name:"selectRow",rowMixin:{select:function(){this.grid.select.row.selectById(this.id);return this},deselect:function(){this.grid.select.row.deselectById(this.id);return this},isSelected:function(){return!0===this.model.getMark(this.id)}},triggerOnCell:!1,treeMode:!0,getSelected:function(){return this.model.getMarkedIds()},isSelected:function(){return m.every(arguments,function(a){return!0===this.model.getMark(a)},this)},clear:function(a){l(".gridxRowSelected",this.grid.mainNode).forEach(function(a){h.remove(a,
"gridxRowSelected");a.removeAttribute("aria-selected")});l(".gridxRowPartialSelected",this.grid.mainNode).forEach(function(a){h.remove(a,"gridxRowPartialSelected")});this._clear();this.model.clearMark();a||this._onSelectionChange()},onHighlightChange:function(){},_type:"row",_init:function(){var a=this,b=a.grid;a.model.treeMarkMode("",a.arg("treeMode"));a.inherited(arguments);a.model._spTypes.select=1;a.batchConnect(b.rowHeader&&[b.rowHeader,"onMoveToRowHeaderCell","_onMoveToRowHeaderCell"],[b,"onRowMouseDown",
function(c){if(d.isLeft(c)&&(a.arg("triggerOnCell")&&!h.contains(c.target,"gridxTreeExpandoIcon")&&!h.contains(c.target,"gridxTreeExpandoInner")||!c.columnId)){a._isOnCell=c.columnId;if(a._isOnCell)b.body._focusCellCol=c.columnIndex;a._start({row:c.visualIndex},b._isCopyEvent(c),c.shiftKey)}}],[b,"onRowMouseOver",function(c){if(a._selecting&&a.arg("triggerOnCell")&&c.columnId)b.body._focusCellCol=c.columnIndex;a._highlight({row:c.visualIndex})}],[b,4>e("ff")?"onRowKeyUp":"onRowKeyDown",function(d){if(d.keyCode==
c.SPACE&&(!d.columnId||a.arg("triggerOnCell")&&(!b.focus||"body"==b.focus.currentArea())))a._isOnCell=d.columnId,a._start({row:d.visualIndex},b._isCopyEvent(d),d.shiftKey),a._end()}])},_markById:function(a,b){var c=this.model;m.forEach(a,function(a){c.markById(a,b)});c.when()},_markByIndex:function(a,b){var c=this.model,d=this.grid.body,e;m.forEach(a,function(a){if(i.isArrayLike(a)){var g=a[0],a=a[1],h;if(0<=g&&Infinity>g){h=a>=g&&Infinity>a?a-g+1:d.visualCount-g;e=d.getRowInfo({visualIndex:g});g=
e.rowIndex;for(a=0;a<h;++a)c.markByIndex(a+g,b,"",e.parentId)}}else 0<=a&&Infinity>a&&(e=d.getRowInfo({visualIndex:a}),c.markByIndex(e.rowIndex,b,"",e.parentId))});return c.when()},_onRender:function(a,b){var c,d=a+b;for(c=a;c<d;++c){var e={row:c};(this._isSelected(e)||this._selecting&&this._toSelect&&this._inRange(c,this._startItem.row,this._currentItem.row,1))&&this._doHighlight(e,1)}},_onMark:function(a,b,c,d){"select"==d&&(a=l('[rowid="'+a+'"]',this.grid.mainNode),a.length&&(a.forEach(function(a){var c=
b&&"mixed"!=b;h.toggle(a,"gridxRowSelected",c);h.toggle(a,"gridxRowPartialSelected","mixed"==b);a.setAttribute("aria-selected",!!c)}),this.onHighlightChange({row:parseInt(a[0].getAttribute("visualindex"),10)},b)))},_onMoveToCell:function(a,b,d){if(this.arg("triggerOnCell")&&d.shiftKey&&(d.keyCode==c.UP_ARROW||d.keyCode==c.DOWN_ARROW))this._start({row:a},this.grid._isCopyEvent(d),1),this._end()},_onMoveToRowHeaderCell:function(a,b){b.shiftKey&&(this._start({row:a},this.grid._isCopyEvent(b),1),this._end())},
_isSelected:function(a){a=this._getRowId(a.row);return this._isRange?0<=m.indexOf(this._refSelectedIds,a):this.model.getMark(a)},_beginAutoScroll:function(){var a=this.grid.autoScroll;this._autoScrollH=a.horizontal;a.horizontal=!1},_endAutoScroll:function(){this.grid.autoScroll.horizontal=this._autoScrollH},_doHighlight:function(a,b){l('[visualindex="'+a.row+'"]',this.grid.mainNode).forEach(function(a){h.toggle(a,"gridxRowSelected",b);a.setAttribute("aria-selected",!!b)});this.onHighlightChange(a,
b)},_end:function(){this.inherited(arguments);delete this._isOnCell},_focus:function(a){var b=this.grid,c=b.focus;if(c)b.body._focusCellRow=a.row,c.focusArea(this._isOnCell?"body":"rowHeader",!0)},_addToSelected:function(a,b,c){var d=this,e=d.grid.body,h=d.model,i=d._lastEndItem,k,l,u;if(!d._isRange)d._refSelectedIds=h.getMarkedIds();if(d._isRange&&d._inRange(b.row,a.row,i.row))return k=Math.min(b.row,i.row),i=Math.max(b.row,i.row),a=e.getRowInfo({visualIndex:k}).rowIndex+1,b=e.getRowInfo({visualIndex:i}).rowIndex,
u=new f,h.when({start:a,count:b-a+1},function(){for(l=a;l<=b;++l){var c=h.indexToId(l),e=0<=m.indexOf(d._refSelectedIds,c);h.markById(c,e)}}).then(function(){h.when(null,function(){u.callback()})}),u;k=Math.min(a.row,b.row);i=Math.max(a.row,b.row);for(l=k;l<=i;++l)k=e.getRowInfo({visualIndex:l}),h.markByIndex(k.rowIndex,c,"",k.parentId);return h.when()}})})},"gridx/modules/extendedSelect/_RowCellBase":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/query","./_Base","../../core/model/extensions/Mark"],
function(k,m,l,i,f){return k(i,{modelExtensions:[f],_getRowId:function(e){return(e=l('[visualindex="'+e+'"]',this.grid.bodyNode)[0])&&e.getAttribute("rowid")},_init:function(){this.batchConnect([this.grid.body,"onMoveToCell","_onMoveToCell"],[this.model,"onMarkChange","_onMark"])}})})},"gridx/modules/extendedSelect/_Base":function(){define("dojo/_base/declare,dojo/_base/query,dojo/_base/connect,dojo/_base/Deferred,dojo/_base/sniff,dojo/_base/window,dojo/dom,dojo/keys,../../core/_Module,../AutoScroll".split(","),
function(k,m,l,i,f,e,h,d,c){return k(c,{required:["autoScroll"],getAPIPath:function(){var a={select:{}};a.select[this._type]=this;return a},load:function(){var a=this,b=a.grid,c=e.doc;b.domNode.setAttribute("aria-multiselectable",!0);a._refSelectedIds=[];a.subscribe("gridClearSelection_"+b.id,function(b){b!=a._type&&a.clear()});a.batchConnect([b.body,"onRender","_onRender"],[c,"onmouseup","_end"],[c,"onkeydown",function(a){a.keyCode==d.SHIFT&&h.setSelectable(b.domNode,!1)}],[c,"onkeyup",function(a){a.keyCode==
d.SHIFT&&h.setSelectable(b.domNode,!0)}]);a._init();a.loaded.callback()},enabled:!0,holdingCtrl:!1,holdingShift:!1,selectById:function(){return this._subMark("_markById",arguments,!0)},deselectById:function(){return this._subMark("_markById",arguments,!1)},selectByIndex:function(){return this._subMark("_markByIndex",arguments,!0)},deselectByIndex:function(){return this._subMark("_markByIndex",arguments,!1)},onSelectionChange:function(){},_clear:function(){delete this._lastToSelect;delete this._lastStartItem;
delete this._lastEndItem},_subMark:function(a,b,c){var d=this;if(d.arg("enabled"))return c&&l.publish("gridClearSelection_"+d.grid.id,[d._type]),d._lastSelectedIds=d.getSelected(),d._refSelectedIds=[],i.when(d[a](b,c),function(){d._onSelectionChange()})},_start:function(a,b,c){if(!this._selecting&&!this._marking&&this.arg("enabled")){h.setSelectable(this.grid.domNode,!1);this._fixFF(1);var d=this._isSelected(a);(c=c||this.arg("holdingShift"))&&this._lastStartItem?(this._isRange=1,this._toSelect=this._lastToSelect,
this._startItem=this._lastStartItem,this._currentItem=this._lastEndItem):(this._startItem=a,this._currentItem=null,b||this.arg("holdingCtrl")?this._toSelect=!d:(this._toSelect=1,this.clear(1)));l.publish("gridClearSelection_"+this.grid.id,[this._type]);this._beginAutoScroll();this.grid.autoScroll.enabled=!0;this._lastSelectedIds=this.getSelected();this._selecting=1;this._highlight(a)}},_highlight:function(a){var b=this;if(b._selecting){var c=b._type,d=b._startItem,e=b._currentItem,h=function(a,d,
e){for(var a=a[c],d=d[c],j=a<d?1:-1;a!=d;a+=j){var h={};h[c]=a;b._highlightSingle(h,e)}};null===e?b._highlightSingle(a,1):b._inRange(a[c],d[c],e[c])?h(e,a,0):(b._inRange(d[c],a[c],e[c])&&(h(e,d,0),e=d),h(a,e,1));b._currentItem=a;b._focus(a)}},_end:function(){var a=this,b=a.grid;if(a._selecting){a._fixFF();a._endAutoScroll();a._selecting=0;a._marking=1;b.autoScroll.enabled=!1;var c=a._addToSelected(a._startItem,a._currentItem,a._toSelect);a._lastToSelect=a._toSelect;a._lastStartItem=a._startItem;a._lastEndItem=
a._currentItem;a._startItem=a._currentItem=a._isRange=null;i.when(c,function(){h.setSelectable(b.domNode,!0);a._marking=0;a._onSelectionChange()})}},_highlightSingle:function(a,b){b=b?this._toSelect:this._isSelected(a);this._doHighlight(a,b)},_onSelectionChange:function(){var a=this.getSelected();this.onSelectionChange(a,this._lastSelectedIds);this._lastSelectedIds=a},_inRange:function(a,b,c,d){return(a>=b&&a<=c||a>=c&&a<=b)&&(d||a!=c)},_fixFF:function(a){f("ff")&&m(".gridxSortNode",this.grid.headerNode).style("overflow",
a?"visible":"")}})})},"gridx/modules/AutoScroll":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-geometry","../core/_Module"],function(k,m,l,i){return i.register(k(i,{name:"autoScroll",constructor:function(){this.connect(m.doc,"mousemove","_onMouseMove")},getAPIPath:function(){return{autoScroll:this}},enabled:!1,vertical:!0,horizontal:!0,margin:20,_timeout:100,_step:10,_maxMargin:100,_onMouseMove:function(f){if(this.arg("enabled")){var e,h,d=this.grid,c=this.arg("margin"),a=
l.position(d.bodyNode);if(this.arg("vertical")&&d.vScroller)e=f.clientY-a.y-c,h=e+2*c-a.h,this._vdir=0>e?e:0<h?h:0;if(this.arg("horizontal")&&d.hScroller)e=f.clientX-a.x-c,h=e+2*c-a.w,this._hdir=0>e?e:0<h?h:0;this._handler||this._scroll()}},_scroll:function(){var f=this;if(f.arg("enabled")){var e,h,d=f.grid,c=f._maxMargin,a=f._step;h=f._vdir;var b=f._hdir;f.arg("vertical")&&h&&(e=0<h?1:-1,h=Math.min(c,Math.abs(h))/a,d.vScroller.domNode.scrollTop+=(1>h?1:h)*a*e,e=1);f.arg("horizontal")&&b&&(e=0<b?
1:-1,h=Math.min(c,Math.abs(b))/a,d.hScroller.domNode.scrollLeft+=(1>h?1:h)*a*e,e=1);if(e){f._handler=setTimeout(function(){f._scroll()},f._timeout);return}}delete f._handler}}))})},"gridx/modules/extendedSelect/Column":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/query,dojo/_base/lang,dojo/_base/sniff,dojo/dom-class,dojo/mouse,dojo/keys,../../core/_Module,./_Base".split(","),function(k,m,l,i,f,e,h,d,c,a){return k(a,{name:"selectColumn",columnMixin:{select:function(){this.grid.select.column.selectById(this.id);
return this},deselect:function(){this.grid.select.column.deselectById(this.id);return this},isSelected:function(){return!!this.grid._columnsById[this.id]._selected}},getSelected:function(){return m.map(m.filter(this.grid._columns,function(a){return a._selected}),function(a){return a.id})},clear:function(a){l(".gridxColumnSelected",this.grid.domNode).forEach(function(a){e.remove(a,"gridxColumnSelected");a.removeAttribute("aria-selected")});m.forEach(this.grid._columns,function(a){a._selected=0});this._clear();
a||this._onSelectionChange()},isSelected:function(){var a=this.grid._columnsById;return m.every(arguments,function(c){return(c=a[c])&&c._selected})},_type:"column",_markById:function(a,c){m.forEach(a,function(a){if(a=this.grid._columnsById[a])a._selected=c,this._doHighlight({column:a.index},c)},this)},_markByIndex:function(a,c){var d,e,h=this.grid._columns;for(d=0;d<a.length;++d){var f=a[d];if(i.isArrayLike(f)){var k=f[0],f=f[1];if(0<=k&&Infinity>k)for(f>=k&&Infinity>f||(f=h.length-1);k<f+1;++k)if(e=
h[k])e._selected=c,this._doHighlight({column:e.index},c)}else if(0<=f&&Infinity>f&&(e=h[f]))e._selected=c,this._doHighlight({column:f},c)}},_init:function(){var a=this,c=a.grid;a.batchConnect([c,"onHeaderCellMouseDown",function(d){h.isLeft(d)&&!e.contains(d.target,"gridxArrowButtonNode")&&a._start({column:d.columnIndex},c._isCopyEvent(d),d.shiftKey)}],[c,"onHeaderCellMouseOver",function(c){a._highlight({column:c.columnIndex})}],[c,"onCellMouseOver",function(c){a._highlight({column:c.columnIndex})}],
[c,4>f("ff")?"onHeaderCellKeyUp":"onHeaderCellKeyDown",function(j){if((j.keyCode==d.SPACE||j.keyCode==d.ENTER)&&!e.contains(j.target,"gridxArrowButtonNode"))a._start({column:j.columnIndex},c._isCopyEvent(j),j.shiftKey),a._end()}],[c.header,"onMoveToHeaderCell","_onMoveToHeaderCell"])},_onRender:function(a,c){var d,h,f=a+c;d=this.grid;var i=d.bodyNode,k,q=m.filter(d._columns,function(a){return a._selected});for(d=q.length-1;0<=d;--d)for(h=a;h<f;++h)k=l(['[visualindex="',h,'"] [colid="',q[d].id,'"]'].join(""),
i)[0],e.add(k,"gridxColumnSelected"),k.setAttribute("aria-selected",!0)},_onMoveToHeaderCell:function(a,c){if(c.shiftKey&&(c.keyCode==d.LEFT_ARROW||c.keyCode==d.RIGHT_ARROW))this._start({column:this.grid._columnsById[a].index},this.grid._isCopyEvent(c),1),this._end()},_isSelected:function(a){var a=this.grid._columns[a.column],c=a.id;return this._isRange?0<=m.indexOf(this._refSelectedIds,c):a._selected},_beginAutoScroll:function(){var a=this.grid.autoScroll;this._autoScrollV=a.vertical;a.vertical=
!1},_endAutoScroll:function(){this.grid.autoScroll.vertical=this._autoScrollV},_doHighlight:function(a,c){l('[colid="'+this.grid._columns[a.column].id+'"].gridxCell',this.grid.domNode).forEach(function(a){e.toggle(a,"gridxColumnSelected",c)})},_focus:function(a){var c=this.grid;c.focus&&c.header._focusNode(l('[colid="'+c._columns[a.column].id+'"].gridxCell',c.header.domNode)[0])},_addToSelected:function(a,c,d){var e=this.grid,h;if(!this._isRange)this._refSelectedIds=this.getSelected();if(this._isRange&&
this._inRange(c.column,a.column,this._lastEndItem.column)){a=Math.min(c.column,this._lastEndItem.column);for(c=Math.max(c.column,this._lastEndItem.column);a<=c;++a)e._columns[a]._selected=0<=m.indexOf(this._refSelectedIds,e._columns[a].id)}else{h=Math.min(a.column,c.column);c=Math.max(a.column,c.column);for(a=h;a<=c;++a)e._columns[a]._selected=d}}})})},"gridx/modules/extendedSelect/Cell":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/query,dojo/_base/lang,dojo/_base/Deferred,dojo/_base/sniff,dojo/dom-class,dojo/mouse,dojo/keys,../../core/_Module,./_RowCellBase".split(","),
function(k,m,l,i,f,e,h,d,c,a,b){var g=i.isArrayLike;return k(b,{name:"selectCell",cellMixin:{select:function(){this.grid.select.cell.selectByIndex(this.row.index(),this.column.index());return this},deselect:function(){this.grid.select.cell.deselectByIndex(this.row.index(),this.column.index());return this},isSelected:function(){return this.grid.select.cell.isSelected(this.row.id,this.column.id)}},getSelected:function(){var a=this,b=[];m.forEach(a.grid._columns,function(c){var d=a.model.getMarkedIds(a._getMarkType(c.id));
b.push.apply(b,m.map(d,function(a){return[a,c.id]}))});return b},clear:function(a){var b=this;l(".gridxCellSelected",b.grid.bodyNode).forEach(function(a){h.remove(a,"gridxCellSelected");a.removeAttribute("aria-selected")});m.forEach(b.grid._columns,function(a){b.model.clearMark(b._getMarkType(a.id))});b._clear();a||b._onSelectionChange()},isSelected:function(a,b){return this.model.getMark(a,this._getMarkType(b))},_type:"cell",_markTypePrefix:"select_",_getMarkType:function(a){a=this._markTypePrefix+
a;this.model._spTypes[a]=1;return a},_markById:function(a,b){g(a[0])||(a=[a]);var c=this,d=c.grid._columnsById,e=c.model;m.forEach(a,function(a){var g=a[0],a=a[1];g&&d[a]&&e.markById(g,b,c._getMarkType(a))});e.when()},_markByIndex:function(a,b){g(a[0])||(a=[a]);var a=m.filter(a,function(a){if(g(a)&&2<=a.length&&0<=a[0]&&Infinity>a[0]&&0<=a[1]&&Infinity>a[1]){if(4<=a.length&&0<=a[2]&&Infinity>a[2]&&0<=a[3]&&Infinity>a[3])a._range=1;return!0}}),c=this,d=c.model,e=c.grid,h=e._columns,f=e.body,i,k,l,
y,v;m.forEach(a,function(a){if(a._range){var e=Math.min(a[0],a[2]),g=Math.max(a[0],a[2])-e+1,j=Math.min(a[1],a[3]),a=Math.max(a[1],a[3]);for(i=j;i<=a;++i)if(l=h[i]){v=f.getRowInfo({visualIndex:e});e=v.rowIndex;y=c._getMarkType(l.id);for(k=0;k<g;++k)d.markByIndex(e+k,b,y,v.parentId)}}else if(l=h[a[1]])v=f.getRowInfo({visualIndex:a[0]}),i=v.rowIndex,d.markByIndex(i,b,c._getMarkType(l.id),v.parentId)});return d.when()},_init:function(){var a=this,b=a.grid;a.inherited(arguments);a.batchConnect([b,"onCellMouseDown",
function(c){d.isLeft(c)&&a._start({rid:c.rowId,r:c.visualIndex,cid:c.columnId,c:c.columnIndex},b._isCopyEvent(c),c.shiftKey)}],[b,"onCellMouseOver",function(b){a._highlight({rid:b.rowId,r:b.visualIndex,cid:b.columnId,c:b.columnIndex})}],[b,4>e("ff")?"onCellKeyUp":"onCellKeyDown",function(d){d.keyCode===c.SPACE&&(a._start({rid:d.rowId,r:d.visualIndex,cid:d.columnId,c:d.columnIndex},b._isCopyEvent(d),d.shiftKey),a._end())}])},_onRender:function(a,b){var c,d,e=this.model,g=this.grid,f=g._columns,i=a+
b;for(c=0;c<f.length;++c){var k=f[c].id,m=this._getMarkType(k);if(e.getMarkedIds(m).length)for(d=a;d<i;++d){var y=this._getRowId(d);(e.getMark(y,m)||this._selecting&&this._toSelect&&this._inRange(c,this._startItem.c,this._currentItem.c,1)&&this._inRange(d,this._startItem.r,this._currentItem.r,1))&&h.add(l('[visualindex="'+d+'"] [colid="'+k+'"]',g.bodyNode)[0],"gridxCellSelected")}}},_onMark:function(a,b,c,d){if(i.isString(d)&&!this._marking&&0===d.indexOf(this._markTypePrefix)&&(a=l('[rowid="'+a+
'"]',this.grid.bodyNode)[0]))d=d.substr(this._markTypePrefix.length),(d=l('[colid="'+d+'"]',a)[0])&&h.toggle(d,"gridxCellSelected",b)},_onMoveToCell:function(a,b,c){if(c.shiftKey){var d=this.grid;this._start({rid:this._getRowId(a),r:a,cid:d._columns[b].id,c:b},d._isCopyEvent(c),1);this._end()}},_isSelected:function(a){if(!a.rid)a.rid=this._getRowId(a.r);if(this._isRange){var b=this._refSelectedIds[a.cid];return b&&0<=m.indexOf(b,a.rid)}return this.model.getMark(a.rid,this._getMarkType(a.cid))},_highlight:function(a){var b=
this,c=b._currentItem;if(b._selecting){if(null===c)b._highlightSingle(a,1),e("ie")&&b._focus(a);else{var d=b._startItem,g=function(a,c,d){var e=c.c>a.c?1:-1,g=c.r>a.r?1:-1,j,h,f,i,n={};if(!d)for(h=a.r,f=c.r+g;h!=f;h+=g)n[h]=b.model.indexToId(h);for(j=a.c,i=c.c+e;j!=i;j+=e){var k=b.grid._columns[j].id;for(h=a.r,f=c.r+g;h!=f;h+=g)b._highlightSingle({rid:n[h],r:h,cid:k,c:j},d)}};(b._inRange(a.r,d.r,c.r)||b._inRange(a.c,d.c,c.c)||b._inRange(d.r,a.r,c.r)||b._inRange(d.c,a.c,c.c))&&g(d,c,0);g(d,a,1);b._focus(a)}b._currentItem=
a}},_doHighlight:function(a,b){var c,d=this.grid.bodyNode.childNodes;for(c=d.length-1;0<=c;--c)if(d[c].getAttribute("visualindex")==a.r){d=d[c].getElementsByTagName("td");for(c=d.length-1;0<=c;--c)if(d[c].getAttribute("colid")==a.cid){h.toggle(d[c],"gridxCellSelected",b);d[c].setAttribute("aria-selected",!!b);break}break}},_focus:function(a){this.grid.focus&&this.grid.body._focusCell(null,a.r,a.c)},_getSelectedIds:function(){var a=this,b={};m.forEach(a.grid._columns,function(c){var d=a.model.getMarkedIds(a._getMarkType(c.id));
d.length&&(b[c.id]=d)});return b},_beginAutoScroll:function(){},_endAutoScroll:function(){},_addToSelected:function(a,b,c){var d=this,e=d.model,g=new f,h=d._lastEndItem,i,k,l,m=[],v=function(){e.when().then(function(){g.callback()})};if(!d._isRange)d._refSelectedIds=d._getSelectedIds();d._isRange&&(d._inRange(b.r,a.r,h.r)&&(i=Math.min(b.r,h.r),k=Math.max(b.r,h.r),m.push({start:i+1,count:k-i,columnStart:a.c,columnEnd:h.c})),d._inRange(b.c,a.c,h.c)&&(l=b.c<h.c?1:-1,i=Math.min(a.r,b.r),k=Math.max(a.r,
b.r),m.push({start:i,count:k-i+1,columnStart:b.c+l,columnEnd:h.c})));l=a.c<b.c?1:-1;for(h=a.c;h!=b.c+l;h+=l){var x=d._getMarkType(d.grid._columns[h].id);i=Math.min(a.r,b.r);for(k=Math.max(a.r,b.r);i<=k;++i)e.markByIndex(i,c,x)}m.length?e.when(m,function(){var a,b,c,g;for(a=0;a<m.length;++a){g=m[a];var j=g.columnStart<g.columnEnd?1:-1;for(b=g.columnStart;b!=g.columnEnd+j;b+=j){c=d.grid._columns[b].id;var h=d._getMarkType(c),f=d._refSelectedIds[c];for(c=g.start;c<g.start+g.count;++c){var i=e.indexToId(c);
e.markById(i,f&&f[i],h)}}}}).then(v):v();return g}})})},"gridx/modules/move/Row":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/keys","../../core/_Module","../../core/model/extensions/Move"],function(k,m,l,i,f){return k(i,{name:"moveRow",modelExtensions:[f],constructor:function(){this.connect(this.model,"onMoved","_onMoved")},getAPIPath:function(){return{move:{row:this}}},preload:function(){this.aspect(this.grid,"onRowKeyDown","_onKeyDown")},rowMixin:{moveTo:function(e,h){this.grid.move.row.move([this.index()],
e,h);return this}},moveSelected:!0,move:function(e,h,d){var c=this.model;c.moveIndexes(e,h);d||c.when()},moveRange:function(e,h,d,c){var a=this.model;a.move(e,h,d);c||a.when()},onMoved:function(){},_onMoved:function(){this.grid.body.refresh();this.onMoved()},_onKeyDown:function(e){var h=this,d=h.grid,c=d.select&&d.select.row;if(e.ctrlKey&&!e.shiftKey&&!e.altKey&&(e.keyCode==l.UP_ARROW||e.keyCode==l.DOWN_ARROW)){var a=e.rowIndex,b=function(b){if(e.keyCode==l.UP_ARROW){for(;0<=m.indexOf(b,a);)a--;0<=
a&&h.move(b,a)}else{for(;0<=m.indexOf(b,a);)a++;a<d.body.rootStart+d.body.rootCount&&h.move(b,a+1)}};if(h.arg("moveSelected")&&c&&c.isSelected(e.rowId)){var g=c.getSelected();d.model.when({id:g},function(){var a=m.map(g,function(a){return d.model.idToIndex(a)});b(a)})}else b([d.model.idToIndex(e.rowId)])}}})})},"gridx/core/model/extensions/Move":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/DeferredList","../_Extension"],function(k,m,l,i,f){function e(c,a){var b,
d,e=[],h=[],f,i=1,k=1,l=a,m=a,w;for(b=0,d=c.length;b<d;++b)e[c[b]]=1;for(b=0,d=e.length;b<d;++b)e[b]?b<a?i?(i=0,f=[b,1],w=h.length,h.unshift(f)):e[b-1]&&++f[1]:k?(k=0,f=[b,1,m],h.push(f),++m):e[b-1]&&(++f[1],++m):i=k=1;for(b=0;b<=w;++b)f=h[b],f[2]=l,l-=f[1];return h}function h(c,a,b,d){var e={},h,f,i={};if(b>c+a){for(f=0;f<a;++f)e[c+f]=b+f-a;for(f=0;f<b-c-a;++f)e[c+a+f]=c+f}else if(b<c){for(f=0;f<a;++f)e[c+f]=b+f;for(f=0;f<c-b;++f)e[b+f]=b+f+a}else return;for(h in d)i[d[h]]=parseInt(h,10);for(h in e)c=
e[h],i.hasOwnProperty(h)&&(h=i[h]),h==c?delete d[h]:d[h]=c}var d=m.hitch;return k(f,{name:"move",priority:10,constructor:function(c,a){var b=c._cache.options=c._cache.options||{};this._mixinAPI("move","moveIndexes","insert");c.onMoved=function(){};if(a.updateStore)this.updateStore=a.updateStore;b.sort=a.moveSortInfo?a.moveSortInfo:[{attribute:this.moveField=a.moveField||"order",descending:this.moveFieldDescending=a.moveFieldDescending||!1}]},clear:function(){},move:function(c,a,b){0<=c&&Infinity>
c&&0<a&&Infinity>a&&0<=b&&Infinity>b&&(b<c||b>c+a)&&this.model._addCmd({name:"_cmdMove",scope:this,args:[c,a,b],async:1})},moveIndexes:function(c,a){this.model._addCmd({name:"_cmdMove",scope:this,args:[c,a],async:1})},insert:function(c,a,b){for(var e=new l,j=d(e,e.callback),h=d(e,e.errback),f=this.moveField,k=this.model.store,m,q=[],a=a?k.fetch?k.getValue(a,f):a[f]:null,t=b?k.fetch?k.getValue(b,f):b[f]:null,b=0;m=c[b];++b)if(a=null===a&&null===t?Math.random():null===a?t-1:null===t?a+1:(a+t)/2,m[f]=
a,k.fetch)k.newItem(m);else{var w=new l;l.when(k.add(m),d(w,w.callback),d(w,w.errback));q.push(w)}k.fetch?k.save({onComplete:j,onError:h}):(new i(q)).then(j,h);return e},updateStore:function(c,a,b){var e=[],j=[],h=[],a=[],f,k,r={},q,t={},w,u=0,s=this.inner,y=this.model.store,v=this.moveField,x=[],B=function(a){for(;a<e.length;++a){var b=e[a];if(!j[b])return void 0===b?a:b}return a},D=function(a){return(a=s._call("byIndex",[a]))&&a.item},z=function(a){return y.fetch?y.getValue(a,v):a[v]},G=function(a,
b){var c=j[a];return c?c.value:0>a?z(D(0))-1:a<b?z(D(a)):z(D(b-1))+1},A=function(){y.fetch?y.save({onComplete:function(){c.callback()},onError:function(a){c.errback(a)}}):(new i(x)).then(function(){c.callback()},function(a){c.errback(a)})},E=Infinity;for(f in b)f=parseInt(f,10),k=b[f],r[f]=k,k<E&&(E=k),e[k]=f;for(b=E;b<e.length;++b)void 0===e[b]&&(e[b]=b,r[b]=b);for(f in r)f=parseInt(f,10),k=r[f],q=k-f,void 0===t[q]?t[q]=1:++t[q];for(q in t)t[q]>u&&(u=t[q],w=q);for(k=0;k<e.length;++k)f=e[k],void 0!==
f&&k-f!=w&&(j[f]={},h.push(f));for(b=0;b<h.length;++b)f=h[b],k=r[f],q=j[f].before=0<k?void 0===e[k-1]?k-1:e[k-1]:-1,k=j[f].after=B(k),a.push({start:f,count:1},{start:k,count:1}),0<=q&&a.push({start:q,count:1});s._call("when",[{id:[],range:a},function(){for(var a=s._call("size"),b=0;b<h.length;++b){f=h[b];var c=D(f),e=j[f],g=G(e.before,a),i=G(e.after,a),g=(g+i)/2,e=e.value=g;y.fetch?y.setValue(c,v,e):(c=m.clone(c),c[v]=e,e=new l,l.when(y.put(c,{overwrite:!0}),d(e,e.callback)),x.push(e))}A()}])},_cmdMove:function(){var c=
new l,a=this.model,b,d,j={},f,i=[];this.inner._call("size");for(b=0;d=arguments[b];++b)a._msg("beforeMove",d),2==d.length?i=i.concat(e(d[0],d[1])):i.push(d);for(b=0;d=i[b];++b)h(d[0],d[1],d[2],j);for(b in j){f=1;break}f?this.updateStore(c,i,j):c.callback();c.then(function(){a._cache.clear();a._msg("moved",j);a.onMoved(i,j)});return c}})})},"gridx/modules/move/Column":function(){define(["dojo/_base/declare","dojo/_base/query","dojo/_base/array","dojo/keys","../../core/_Module"],function(k,m,l,i,f){return k(f,
{name:"moveColumn",getAPIPath:function(){return{move:{column:this}}},preload:function(){this.aspect(this.grid,"onHeaderCellKeyDown","_onKeyDown")},columnMixin:{moveTo:function(e){this.grid.move.column.moveRange(this.index(),1,e);return this}},moveSelected:!0,move:function(e,h){"number"===typeof e&&(e=[e]);var d=[],c,a,b=this.grid._columns,g,j=[];for(c=0,a=e.length;c<a;++c)d[e[c]]=!0;for(c=d.length-1;0<=c;--c)d[c]&&(j.unshift(b[c]),b.splice(c,1));for(c=0,a=b.length;c<a;++c)if(b[c].index>=h){g=c;break}if(void 0===
g)g=b.length;this._moveComplete(j,g)},moveRange:function(e,h,d){if(d<e||d>e+h)d>e+h&&(d-=h),this._moveComplete(this.grid._columns.splice(e,h),d)},onMoved:function(){},_moveComplete:function(e,h){var d=this.grid,c={},a=d._columns,b,g={},j=h<a.length?a[h].id:null,f=function(a){var b=m("> .gridxCell",a).filter(function(a){return g[a.getAttribute("colid")]});null===j?b.place(a):b.place(m('> [colid="'+j+'"]',a)[0],"before")};for(b=e.length-1;0<=b;--b)c[e[b].index]=h+b,g[e[b].id]=1;[].splice.apply(a,[h,
0].concat(e));for(b=a.length-1;0<=b;--b)a[b].index=b;f(m(".gridxHeaderRowInner > table > tbody > tr",d.headerNode)[0]);m(".gridxRow > table > tbody > tr",d.bodyNode).forEach(f);this.onMoved(c)},_onKeyDown:function(e){var h=this.grid,d=this.arg("moveSelected")&&h.select&&h.select.column,c=h.isLeftToRight(),a=c?i.LEFT_ARROW:i.RIGHT_ARROW,c=c?i.RIGHT_ARROW:i.LEFT_ARROW;if(e.ctrlKey&&!e.shiftKey&&!e.altKey&&(e.keyCode==a||e.keyCode==c)){var b=e.columnIndex,d=d&&d.isSelected(e.columnId)?l.map(d.getSelected(),
function(a){return h._columnsById[a].index}):[e.columnIndex],g=h.header.getHeaderNode(e.columnId);if(e.keyCode==a){for(;0<=l.indexOf(d,b);)b--;0<=b&&(this.move(d,b),h.header._focusNode(g))}else if(e.keyCode==c){for(;0<=l.indexOf(d,b);)b++;b<h._columns.length&&(this.move(d,b+1),h.header._focusNode(g))}}}})})},"gridx/modules/dnd/Row":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/Deferred,dojo/_base/lang,dojo/dom-class,dojo/dom-geometry,dojo/_base/sniff,./_Base,../../core/_Module".split(","),
function(k,m,l,i,f,e,h,d){function c(c,d){if(c.grid){var e=new l,h=a(e,e.callback),f=a(e,e.errback),k=[],m=c.grid,t=m.dnd.row._selectedRowIds;m.model.when({id:t},function(){b(t,function(a){m.model.idToIndex(a);(a=m.model.byId(a))&&k.push(i.clone(a.rawData))})}).then(function(){h(k)},f);return e}return c.getGridDndRowData&&c.getGridDndRowData(d)||[]}var a=i.hitch,b=m.forEach;return k(d,{name:"dndRow",required:["_dnd","moveRow"],getAPIPath:function(){return{dnd:{row:this}}},accept:["grid/rows"],provide:["grid/rows"],
onDraggedOut:function(a){var c=[];if(a.grid)c=a.grid.dnd._dnd.profile.arg("accept");else for(var d in a.accept)c.push(d);if(!this.checkArg("copyWhenDragOut",c)){var a=this.grid,e=a.model,h=a.store,f=this._selectedRowIds;if(h.fetch){var i=[];a.model.when({id:f},function(){b(f,function(a){(a=e.byId(a))&&i.push(a.item)})}).then(function(){b(i,h.deleteItem,h);h.save()})}else b(f,h.remove,h)}},_checkDndReady:function(a){var b=this.model;return!b.getMark||b.getMark(a.rowId)?(this.grid.dnd._dnd.profile=
this,this._selectedRowIds=b.getMarkedIds?b.getMarkedIds():[a.rowId],!0):!1},_cssName:"Row",_onBeginDnd:function(a){a.delay=this.arg("delay")},_getDndCount:function(){return this._selectedRowIds.length},_onEndDnd:function(){},_buildDndNodes:function(){var a=this.grid.id;return m.map(this._selectedRowIds,function(b){return["<div id='",a,"_dndrow_",b,"' gridid='",a,"' rowid='",b,"'></div>"].join("")}).join("")},_onBeginAutoScroll:function(){var a=this.grid.autoScroll;this._autoScrollH=a.horizontal;a.horizontal=
!1},_onEndAutoScroll:function(){this.grid.autoScroll.horizontal=this._autoScrollH},_getItemData:function(a){return a.substring((this.grid.id+"_dndrow_").length)},_calcTargetAnchorPos:function(a,b){var c=this,d=a.target,i=c.grid.body,k={width:b.w+"px",height:"",left:""},l=function(a){return c.model.getMark&&c.model.getMark(a.getAttribute("rowid"))},t=function(a){return parseInt(a.getAttribute("visualindex"),10)},w=function(d){var h=d,f=h,i=h;if(l(h)){for(f=h.previousSibling;f&&l(f);)h=f,f=f.previousSibling;
f=h;h=d;for(i=h.nextSibling;i&&l(i);)h=i,i=i.nextSibling;i=h}f&&i?(h=e.position(f),d=e.position(i),a.clientY<(h.y+d.y+d.h)/2?(c._target=t(f),k.top=h.y-b.y+"px"):(c._target=t(i)+1,k.top=d.y+d.h-b.y+"px")):delete c._target;return k};if(!h("ff"))for(;d;){if(f.contains(d,"gridxRow"))return w(d);d=d.parentNode}var u=i.domNode,s=u.childNodes;if(s.length){var d=u.firstChild,y=t(d),v=e.position(d);if(0===y&&a.clientY<=v.y+v.h)k.top=v.y-b.y+"px",c._target=0;else if(d=u.lastChild,y=t(d),v=e.position(d),y===
i.visualCount-1&&a.clientY>v.y+v.h)k.top=v.y+v.h-b.y+"px",c._target=i.visualCount;else return m.some(s,function(b){v=e.position(b);if(v.y<=a.clientY&&v.y+v.h>=a.clientY)return d=b,!0})?w(d):null}else k.top="0px",c._target=0;return k},_onDropInternal:function(){var a=this,b=a.grid;0<=a._target&&a.model.when({id:a._selectedRowIds},function(){var c=m.map(a._selectedRowIds,function(b){return a.model.idToIndex(b)});b.move.row.move(c,b.body.getRowInfo({visualIndex:a._target}).rowIndex)})},_onDropExternal:function(b,
d){var e=new l,h=a(e,e.callback),f=a(e,e.errback),i=this.grid,k=this._target,m,w,u=c(b,d);i.model.when([k-1,k],function(){m=i.model.byIndex(k);w=i.model.byIndex(k-1)}).then(function(){l.when(u,function(a){a&&a.length&&(a=i.model.insert(a,w&&w.item,m&&m.item),l.when(a,h,f))},f)},f);return e}})})},"gridx/modules/dnd/_Base":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/lang,../../core/_Module,./Avatar,./_Dnd".split(","),function(k,m,l,i,f){return k(i,{delay:2,enabled:!0,canRearrange:!0,
copyWhenDragOut:!1,avatar:f,preload:function(){var e=this.grid.dnd._dnd;e.register(this.name,this);e.avatar=this.arg("avatar")},checkArg:function(e,h){var d=this.arg(e);return d&&l.isObject(d)?m.some(h,function(c){return d[c]}):d}})})},"gridx/modules/dnd/Avatar":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/_base/window","dojo/dnd/Avatar"],function(k,m,l,i,f){return k(f,{construct:function(){this.isA11y=m.contains(i.body(),"dijit_a11y");this.node=l.toDom(["<table border='0' cellspacing='0' class='gridxDndAvatar' style='position: absolute; z-index: 1999; margin: 0'><tbody><tr style='opacity: 0.9;'><td class='gridxDnDIcon'>",
this.isA11y?"<span id='a11yIcon'>"+(this.manager.copy?"+":"<")+"</span>":"","</td><td class='gridxDnDItemIcon ",this._getIconClass(),"'></td><td><span class='gridxDnDItemCount'>",this._generateText(),"</span></td></tr></tbody></table>"].join(""))},_getIconClass:function(){var e=this.manager._dndInfo;return["gridxDnDIcon",e.cssName,1===e.count?"Single":"Multi"].join("")},_generateText:function(){return"("+this.manager._dndInfo.count+")"}})})},"dojo/dnd/Avatar":function(){define("../_base/declare,../_base/window,../dom,../dom-attr,../dom-class,../dom-construct,../hccss,../query".split(","),
function(k,m,l,i,f,e,h,d){return k("dojo.dnd.Avatar",null,{constructor:function(c){this.manager=c;this.construct()},construct:function(){var c=e.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),a=this.manager.source,b,d=e.create("tbody",null,c),j=e.create("tr",null,d),f=e.create("td",null,j),n=Math.min(5,this.manager.nodes.length),k=0;h("highcontrast")&&e.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},f);e.create("span",{innerHTML:a.generateText?
this._generateText():""},f);for(i.set(j,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});k<n;++k)a.creator?b=a._normalizedCreator(a.getItem(this.manager.nodes[k].id).data,"avatar").node:(b=this.manager.nodes[k].cloneNode(!0),"tr"==b.tagName.toLowerCase()&&(j=e.create("table"),e.create("tbody",null,j).appendChild(b),b=j)),b.id="",j=e.create("tr",null,d),f=e.create("td",null,j),f.appendChild(b),i.set(j,{"class":"dojoDndAvatarItem",style:{opacity:(9-k)/10}});this.node=c},destroy:function(){e.destroy(this.node);
this.node=!1},update:function(){f.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(h("highcontrast")){var c=l.byId("a11yIcon"),a="+";this.manager.canDropFlag&&!this.manager.copy?a="< ":!this.manager.canDropFlag&&!this.manager.copy?a="o":this.manager.canDropFlag||(a="x");c.innerHTML=a}d("tr.dojoDndAvatarHeader td span"+(h("highcontrast")?" span":""),this.node).forEach(function(a){a.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})})},
"gridx/modules/dnd/_Dnd":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/Deferred,dojo/dom-construct,dojo/dom-geometry,dojo/dom-class,dojo/dom-style,dojo/dom,dojo/_base/window,dojo/_base/sniff,dojo/dnd/Source,dojo/dnd/Manager,../../core/_Module,../AutoScroll".split(","),function(k,m,l,i,f,e,h,d,c,a,b,g,j){var o=m.hitch;return j.register(k(j,{name:"_dnd",constructor:function(){var a=this.grid,b=c.doc;this.accept=[];this._profiles={};this._selectStatus={};this._node=i.create("div");
this.batchConnect([a,"onCellMouseOver","_checkDndReady"],[a,"onCellMouseOut","_dismissDndReady"],[a,"onCellMouseDown","_beginDnd"],[b,"onmouseup","_endDnd"],[b,"onmousemove","_onMouseMove"]);this.subscribe("/dnd/cancel","_endDnd")},load:function(){var c=this.grid.mainNode;this._source=new b(c,{isSource:!1,accept:this.accept,getSelectedNodes:function(){return[0]},getItem:o(this,"_getItem"),checkAcceptance:o(this,"_checkAcceptance"),onDraggingOver:o(this,"_onDraggingOver"),onDraggingOut:o(this,"_onDraggingOut"),
onDropExternal:o(this,"_onDropExternal"),onDropInternal:o(this,"_onDropInternal")});a("ff")&&this._fixFF(this._source,c);this._source.grid=this.grid;this._saveSelectStatus();this.loaded.callback()},destroy:function(){this.inherited(arguments);this._source.destroy();i.destroy(this._node)},getAPIPath:function(){return{dnd:{_dnd:this}}},profile:null,register:function(a,b){this._profiles[a]=b;[].push.apply(this.accept,b.arg("accept"))},_fixFF:function(a){return this.connect(c.doc,"onmousemove",function(b){var c=
f.position(a.node),d=b.clientX,e=b.clientY,b=a._alreadyIn,c=e>=c.y&&e<=c.y+c.h&&d>=c.x&&d<=c.x+c.w;if(!b&&c)a._alreadyIn=1,a.onOverEvent();else if(b&&!c)a._alreadyIn=0,a.onOutEvent()})},_onMouseMove:function(a){this._alreadyIn&&(this._dnding||this._extDnding)&&this._markTargetAnchor(a)},_saveSelectStatus:function(a){var b,c,d=this.grid.select;if(d)for(b in d)if((c=d[b])&&m.isObject(c))if(this._selectStatus[b]=c.arg("enabled"),void 0!==a)c.enabled=a},_loadSelectStatus:function(){var a,b,c=this.grid.select;
if(c)for(a in c)if((b=c[a])&&m.isObject(b))b.enabled=this._selectStatus[a]},_checkDndReady:function(a){var b,d;if(!this._dndReady&&!this._dnding&&!this._extDnding)for(b in this._profiles)if(d=this._profiles[b],d.arg("enabled")&&d._checkDndReady(a)){this.profile=d;this._saveSelectStatus(!1);e.add(c.body(),"gridxDnDReadyCursor");this._dndReady=1;break}},_dismissDndReady:function(){if(this._dndReady)this._loadSelectStatus(),this._dndReady=0,e.remove(c.body(),"gridxDnDReadyCursor")},_beginDnd:function(a){var b=
this;b._checkDndReady(a);if(b._dndReady){var c=b.profile,e=g.manager();b._source.isSource=!0;b._source.canNotDragOut=!c.arg("provide").length;b._node.innerHTML=c._buildDndNodes();b._oldStartDrag=e.startDrag;e.startDrag=o(b,"_startDrag",a);if(b.avatar)b._oldMakeAvatar=e.makeAvatar,e.makeAvatar=function(){return new b.avatar(e)};e._dndInfo={cssName:c._cssName,count:c._getDndCount()};c._onBeginDnd(b._source);d.setSelectable(b.grid.domNode,!1)}},_endDnd:function(){var a=g.manager();this._source.isSource=
!1;this._alreadyIn=0;delete a._dndInfo;if(this._oldStartDrag)a.startDrag=this._oldStartDrag,delete this._oldStartDrag;if(this._oldMakeAvatar)a.makeAvatar=this._oldMakeAvatar,delete this._oldMakeAvatar;if(this._dndReady||this._dnding||this._extDnding)this._dnding=this._extDnding=0,this._destroyUI(),d.setSelectable(this.grid.domNode,!0),e.remove(c.body(),"gridxDnDReadyCursor"),this.profile._onEndDnd(),this._loadSelectStatus()},_createUI:function(){e.add(c.body(),"gridxDnDCursor");if(this.grid.autoScroll)this.profile._onBeginAutoScroll(),
this.grid.autoScroll.enabled=!0},_destroyUI:function(){this._unmarkTargetAnchor();e.remove(c.body(),"gridxDnDCursor");if(this.grid.autoScroll)this.profile._onEndAutoScroll(),this.grid.autoScroll.enabled=!1},_createTargetAnchor:function(){return i.create("div",{"class":"gridxDnDAnchor"})},_markTargetAnchor:function(a){if(this._extDnding||this.profile.arg("canRearrange")){var b=this._targetAnchor,c=f.position(this.grid.mainNode);if(!b)b=this._targetAnchor=this._createTargetAnchor(),b.style.display=
"none",this.grid.mainNode.appendChild(b);e.add(b,"gridxDnDAnchor"+this.profile._cssName);(a=this.profile._calcTargetAnchorPos(a,c))?(h.set(b,a),b.style.display="block"):b.style.display="none"}},_unmarkTargetAnchor:function(){var a=this._targetAnchor;if(a)a.style.display="none",e.remove(a,"gridxDnDAnchor"+this.profile._cssName)},_startDrag:function(a,b,c,d){if(this._dndReady&&b===this._source)this._oldStartDrag.call(g.manager(),b,this._node.childNodes,d),this._dndReady=0,this._dnding=this._alreadyIn=
1,this._createUI(),this._markTargetAnchor(a)},_getItem:function(a){return{type:this.profile.arg("provide"),data:this.profile._getItemData(a)}},_checkAcceptance:function(a,c){var d=function(a){for(var b={},c=a.length-1;0<=c;--c)b[a[c]]=1;return b},e=b.prototype.checkAcceptance;if(e.apply(this._source,arguments)){if(a.grid===this.grid)return this.profile.arg("canRearrange");if(!a.canNotDragOut)for(var g in this._profiles){var j=this._profiles[g],h=e.apply({accept:d(j.arg("accept"))},arguments);if(j.arg("enabled")&&
h&&(!j.checkAcceptance||j.checkAcceptance.apply(j,arguments)))return this.profile=j,this._extDnding=1,!0}}return!1},_onDraggingOver:function(){if(this._dnding||this._extDnding)this._alreadyIn=1,this._createUI()},_onDraggingOut:function(){if(this._dnding||this._extDnding)this._alreadyIn=0,this._destroyUI()},_onDropInternal:function(a,b){this.profile._onDropInternal(a,b)},_onDropExternal:function(a,b,c){var d=this,b=d.profile._onDropExternal(a,b,c);l.when(b,function(){if(!c)if(a.grid)a.grid.dnd._dnd.profile.onDraggedOut(d._source);
else a.deleteSelectedNodes()})}}))})},"dojo/dnd/Source":function(){define("../_base/array,../_base/connect,../_base/declare,../_base/kernel,../_base/lang,../dom-class,../dom-geometry,../mouse,../ready,../topic,./common,./Selector,./Manager".split(","),function(k,m,l,i,f,e,h,d,c,a,b,g,j){i.isAsync||c(0,function(){require(["dojo/dnd/AutoSource","dojo/dnd/Target"])});var o=l("dojo.dnd.Source",g,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,selfAccept:!0,skipForm:!1,withHandles:!1,autoSync:!1,delay:0,
accept:["text"],generateText:!0,constructor:function(b,c){f.mixin(this,f.mixin({},c));var d=this.accept;if(d.length){this.accept={};for(var g=0;g<d.length;++g)this.accept[d[g]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;this.before=!0;this._lastY=this._lastX=0;this.sourceState="";this.isSource&&e.add(this.node,"dojoDndSource");this.targetState="";this.accept&&e.add(this.node,"dojoDndTarget");this.horizontal&&e.add(this.node,"dojoDndHorizontal");this.topics=[a.subscribe("/dnd/source/over",
f.hitch(this,"onDndSourceOver")),a.subscribe("/dnd/start",f.hitch(this,"onDndStart")),a.subscribe("/dnd/drop",f.hitch(this,"onDndDrop")),a.subscribe("/dnd/cancel",f.hitch(this,"onDndCancel"))]},checkAcceptance:function(a,b){if(this==a)return!this.copyOnly||this.selfAccept;for(var c=0;c<b.length;++c){for(var d=a.getItem(b[c].id).type,e=!1,g=0;g<d.length;++g)if(d[g]in this.accept){e=!0;break}if(!e)return!1}return!0},copyState:function(a,b){if(a)return!0;2>arguments.length&&(b=this==j.manager().target);
if(b){if(this.copyOnly)return this.selfCopy}else return this.copyOnly;return!1},destroy:function(){o.superclass.destroy.call(this);k.forEach(this.topics,function(a){a.remove()});this.targetAnchor=null},onMouseMove:function(a){if(!(this.isDragging&&"Disabled"==this.targetState)){o.superclass.onMouseMove.call(this,a);var c=j.manager();if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)){var d=this.getSelectedNodes();
d.length&&c.startDrag(this,d,this.copyState(b.getCopyKeyState(a),!0))}if(this.isDragging){d=!1;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current)this.targetBox=h.position(this.current,!0);d=this.horizontal?a.pageX-this.targetBox.x<this.targetBox.w/2==h.isBodyLtr(this.current.ownerDocument):a.pageY-this.targetBox.y<this.targetBox.h/2}if(this.current!=this.targetAnchor||d!=this.before)this._markTargetAnchor(d),c.canDrop(!this.current||c.source!=this||!(this.current.id in this.selection))}}},
onMouseDown:function(a){if(!this.mouseDown&&this._legalMouseDown(a)&&(!this.skipForm||!b.isFormElement(a)))this.mouseDown=!0,this._lastX=a.pageX,this._lastY=a.pageY,o.superclass.onMouseDown.call(this,a)},onMouseUp:function(a){if(this.mouseDown)this.mouseDown=!1,o.superclass.onMouseUp.call(this,a)},onDndSourceOver:function(a){this!==a?(this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor()):this.isDragging&&(a=j.manager(),a.canDrop("Disabled"!=this.targetState&&(!this.current||a.source!=this||
!(this.current.id in this.selection))))},onDndStart:function(a,b,c){this.autoSync&&this.sync();this.isSource&&this._changeState("Source",this==a?c?"Copied":"Moved":"");this._changeState("Target",this.accept&&this.checkAcceptance(a,b)?"":"Disabled");this==a&&j.manager().overSource(this);this.isDragging=!0},onDndDrop:function(a,b,c,d){if(this==d)this.onDrop(a,b,c);this.onDndCancel()},onDndCancel:function(){if(this.targetAnchor)this._unmarkTargetAnchor(),this.targetAnchor=null;this.before=!0;this.mouseDown=
this.isDragging=!1;this._changeState("Source","");this._changeState("Target","")},onDrop:function(a,b,c){if(this!=a)this.onDropExternal(a,b,c);else this.onDropInternal(b,c)},onDropExternal:function(a,c,d){var e=this._normalizedCreator;this._normalizedCreator=this.creator?function(b,c){return e.call(this,a.getItem(b.id).data,c)}:d?function(c){var d=a.getItem(c.id),c=c.cloneNode(!0);c.id=b.getUniqueId();return{node:c,data:d.data,type:d.type}}:function(b){var c=a.getItem(b.id);a.delItem(b.id);return{node:b,
data:c.data,type:c.type}};this.selectNone();!d&&!this.creator&&a.selectNone();this.insertNodes(!0,c,this.before,this.current);!d&&this.creator&&a.deleteSelectedNodes();this._normalizedCreator=e},onDropInternal:function(a,c){var d=this._normalizedCreator;if(!(this.current&&this.current.id in this.selection)){if(c)this._normalizedCreator=this.creator?function(a,b){return d.call(this,this.getItem(a.id).data,b)}:function(a){var c=this.getItem(a.id),a=a.cloneNode(!0);a.id=b.getUniqueId();return{node:a,
data:c.data,type:c.type}};else{if(!this.current)return;this._normalizedCreator=function(a){var b=this.getItem(a.id);return{node:a,data:b.data,type:b.type}}}this._removeSelection();this.insertNodes(!0,a,this.before,this.current);this._normalizedCreator=d}},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){o.superclass.onOverEvent.call(this);j.manager().overSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOver()},onOutEvent:function(){o.superclass.onOutEvent.call(this);
j.manager().outSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOut()},_markTargetAnchor:function(a){if(!(this.current==this.targetAnchor&&this.before==a))this.targetAnchor&&this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetAnchor=this.current,this.targetBox=null,this.before=a,this.targetAnchor&&this._addItemClass(this.targetAnchor,this.before?"Before":"After")},_unmarkTargetAnchor:function(){if(this.targetAnchor)this._removeItemClass(this.targetAnchor,
this.before?"Before":"After"),this.targetBox=this.targetAnchor=null,this.before=!0},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")},_legalMouseDown:function(a){if("touchstart"!=a.type&&!d.isLeft(a))return!1;if(!this.withHandles)return!0;for(a=a.target;a&&a!==this.node;a=a.parentNode){if(e.contains(a,"dojoDndHandle"))return!0;if(e.contains(a,"dojoDndItem")||e.contains(a,"dojoDndIgnore"))break}return!1}});return o})},"dojo/dnd/common":function(){define(["../_base/connect",
"../_base/kernel","../_base/lang","../dom"],function(k,m,l,i){var f={};f.getCopyKeyState=k.isCopyKey;f._uniqueId=0;f.getUniqueId=function(){var e;do e=m._scopeName+"Unique"+ ++f._uniqueId;while(i.byId(e));return e};f._empty={};f.isFormElement=function(e){e=e.target;if(3==e.nodeType)e=e.parentNode;return 0<=" button textarea input select option ".indexOf(" "+e.tagName.toLowerCase()+" ")};l.mixin(l.getObject("dojo.dnd",!0),f);return f})},"dojo/dnd/Selector":function(){define("../_base/array,../_base/declare,../_base/event,../_base/kernel,../_base/lang,../dom,../dom-construct,../mouse,../_base/NodeList,../on,../touch,./common,./Container".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j){var o=m("dojo.dnd.Selector",j,{constructor:function(c,d){d||(d={});this.singular=d.singular;this.autoSync=d.autoSync;this.selection={};this.anchor=null;this.simpleSelection=!1;this.events.push(a(this.node,b.press,f.hitch(this,"onMouseDown")),a(this.node,b.release,f.hitch(this,"onMouseUp")))},singular:!1,getSelectedNodes:function(){var a=new c,b=g._empty,d;for(d in this.selection)d in b||a.push(e.byId(d));return a},selectNone:function(){return this._removeSelection()._removeAnchor()},
selectAll:function(){this.forInItems(function(a,b){this._addItemClass(e.byId(b),"Selected");this.selection[b]=1},this);return this._removeAnchor()},deleteSelectedNodes:function(){var a=g._empty,b;for(b in this.selection)if(!(b in a)){var c=e.byId(b);this.delItem(b);h.destroy(c)}this.anchor=null;this.selection={};return this},forInSelectedItems:function(a,b){var b=b||i.global,c=this.selection,d=g._empty,e;for(e in c)e in d||a.call(b,this.getItem(e),e,this)},sync:function(){o.superclass.sync.call(this);
if(this.anchor&&!this.getItem(this.anchor.id))this.anchor=null;var a=[],b=g._empty,c;for(c in this.selection)c in b||this.getItem(c)||a.push(c);k.forEach(a,function(a){delete this.selection[a]},this);return this},insertNodes:function(a,b,c,d){var e=this._normalizedCreator;this._normalizedCreator=function(b,c){var d=e.call(this,b,c);a?(this.anchor?this.anchor!=d.node&&(this._removeItemClass(d.node,"Anchor"),this._addItemClass(d.node,"Selected")):(this.anchor=d.node,this._removeItemClass(d.node,"Selected"),
this._addItemClass(this.anchor,"Anchor")),this.selection[d.node.id]=1):(this._removeItemClass(d.node,"Selected"),this._removeItemClass(d.node,"Anchor"));return d};o.superclass.insertNodes.call(this,b,c,d);this._normalizedCreator=e;return this},destroy:function(){o.superclass.destroy.call(this);this.selection=this.anchor=null},onMouseDown:function(a){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!g.getCopyKeyState(a)&&!a.shiftKey&&this.current.id in this.selection)this.simpleSelection=
!0,d.isLeft(a)&&l.stop(a);else{if(!this.singular&&a.shiftKey){g.getCopyKeyState(a)||this._removeSelection();var b=this.getAllNodes();if(b.length){if(!this.anchor)this.anchor=b[0],this._addItemClass(this.anchor,"Anchor");this.selection[this.anchor.id]=1;if(this.anchor!=this.current){for(var c=0,e;c<b.length&&!(e=b[c],e==this.anchor||e==this.current);++c);for(++c;c<b.length;++c){e=b[c];if(e==this.anchor||e==this.current)break;this._addItemClass(e,"Selected");this.selection[e.id]=1}this._addItemClass(this.current,
"Selected");this.selection[this.current.id]=1}}}else if(this.singular)this.anchor==this.current?g.getCopyKeyState(a)&&this.selectNone():(this.selectNone(),this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1);else if(g.getCopyKeyState(a))this.anchor==this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):(this.anchor&&
(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,"Selected")),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);else if(!(this.current.id in this.selection))this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1;l.stop(a)}},onMouseUp:function(){if(this.simpleSelection&&(this.simpleSelection=!1,this.selectNone(),this.current))this.anchor=this.current,this._addItemClass(this.anchor,
"Anchor"),this.selection[this.current.id]=1},onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){this.onmousemoveEvent=a(this.node,b.move,f.hitch(this,"onMouseMove"))},onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)},_removeSelection:function(){var a=g._empty,b;for(b in this.selection)if(!(b in a)){var c=e.byId(b);c&&this._removeItemClass(c,"Selected")}this.selection={};return this},_removeAnchor:function(){if(this.anchor)this._removeItemClass(this.anchor,
"Anchor"),this.anchor=null;return this}});return o})},"dojo/dnd/Container":function(){define("../_base/array,../_base/declare,../_base/event,../_base/kernel,../_base/lang,../_base/window,../dom,../dom-class,../dom-construct,../Evented,../has,../on,../query,../ready,../touch,./common".split(","),function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p){m=m("dojo.dnd.Container",a,{skipForm:!1,allowNested:!1,constructor:function(a,b){this.node=h.byId(a);b||(b={});this.creator=b.creator||null;this.skipForm=b.skipForm;
this.parent=b.dropParent&&h.byId(b.dropParent);this.map={};this.current=null;this.containerState="";d.add(this.node,"dojoDndContainer");(!b||!b._skipStartup)&&this.startup();this.events=[g(this.node,n.over,f.hitch(this,"onMouseOver")),g(this.node,n.out,f.hitch(this,"onMouseOut")),g(this.node,"dragstart",f.hitch(this,"onSelectStart")),g(this.node,"selectstart",f.hitch(this,"onSelectStart"))]},creator:function(){},getItem:function(a){return this.map[a]},setItem:function(a,b){this.map[a]=b},delItem:function(a){delete this.map[a]},
forInItems:function(a,b){var b=b||i.global,c=this.map,d=p._empty,e;for(e in c)e in d||a.call(b,c[e],e,this);return b},clearItems:function(){this.map={}},getAllNodes:function(){return j((this.allowNested?"":"> ")+".dojoDndItem",this.parent)},sync:function(){var a={};this.getAllNodes().forEach(function(b){if(b.id){var c=this.getItem(b.id);if(c){a[b.id]=c;return}}else b.id=p.getUniqueId();var c=b.getAttribute("dndType"),d=b.getAttribute("dndData");a[b.id]={data:d||b.innerHTML,type:c?c.split(/\s*,\s*/):
["text"]}},this);this.map=a;return this},insertNodes:function(a,b,c){if(this.parent.firstChild)if(b){if(!c)c=this.parent.firstChild}else{if(c)c=c.nextSibling}else c=null;var d;if(c)for(b=0;b<a.length;++b)d=this._normalizedCreator(a[b]),this.setItem(d.node.id,{data:d.data,type:d.type}),c.parentNode.insertBefore(d.node,c);else for(b=0;b<a.length;++b)d=this._normalizedCreator(a[b]),this.setItem(d.node.id,{data:d.data,type:d.type}),this.parent.appendChild(d.node);return this},destroy:function(){k.forEach(this.events,
function(a){a.remove()});this.clearItems();this.node=this.parent=this.current=null},markupFactory:function(a,b,c){a._skipStartup=!0;return new c(b,a)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){var a=this.parent.getElementsByTagName("tbody");if(a&&a.length)this.parent=a[0]}this.defaultCreator=p._defaultCreator(this.parent);this.sync()},onMouseOver:function(a){for(var b=a.relatedTarget;b&&!(b==this.node);)try{b=b.parentNode}catch(c){b=null}b||
(this._changeState("Container","Over"),this.onOverEvent());b=this._getChildByEvent(a);if(this.current!=b)this.current&&this._removeItemClass(this.current,"Over"),b&&this._addItemClass(b,"Over"),this.current=b},onMouseOut:function(a){for(a=a.relatedTarget;a;){if(a==this.node)return;try{a=a.parentNode}catch(b){a=null}}if(this.current)this._removeItemClass(this.current,"Over"),this.current=null;this._changeState("Container","");this.onOutEvent()},onSelectStart:function(a){(!this.skipForm||!p.isFormElement(a))&&
l.stop(a)},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(a,b){var c="dojoDnd"+a,e=a.toLowerCase()+"State";d.replace(this.node,c+b,c+this[e]);this[e]=b},_addItemClass:function(a,b){d.add(a,"dojoDndItem"+b)},_removeItemClass:function(a,b){d.remove(a,"dojoDndItem"+b)},_getChildByEvent:function(a){if(a=a.target)for(var b=a.parentNode;b;a=b,b=a.parentNode)if((b==this.parent||this.allowNested)&&d.contains(a,"dojoDndItem"))return a;return null},_normalizedCreator:function(a,b){var c=
(this.creator||this.defaultCreator).call(this,a,b);if(!f.isArray(c.type))c.type=["text"];if(!c.node.id)c.node.id=p.getUniqueId();d.add(c.node,"dojoDndItem");return c}});p._createNode=function(a){return!a?p._createSpan:function(b){return c.create(a,{innerHTML:b})}};p._createTrTd=function(a){var b=c.create("tr");c.create("td",{innerHTML:a},b);return b};p._createSpan=function(a){return c.create("span",{innerHTML:a})};p._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};p._defaultCreator=function(a){var a=
a.tagName.toLowerCase(),b="tbody"==a||"thead"==a?p._createTrTd:p._createNode(p._defaultCreatorNodes[a]);return function(a,c){var d=a&&f.isObject(a),e,g;d&&a.tagName&&a.nodeType&&a.getAttribute?(e=a.getAttribute("dndData")||a.innerHTML,d=(d=a.getAttribute("dndType"))?d.split(/\s*,\s*/):["text"],g=a):(e=d&&a.data?a.data:a,d=d&&a.type?a.type:["text"],g=("avatar"==c?p._createSpan:b)(""+e));if(!g.id)g.id=p.getUniqueId();return{node:g,data:e,type:d}}};return m})},"dojo/dnd/Manager":function(){define("../_base/array,../_base/declare,../_base/event,../_base/lang,../_base/window,../dom-class,../Evented,../has,../keys,../on,../topic,../touch,./common,./autoscroll,./Avatar".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n){var p=m("dojo.dnd.Manager",[h],{constructor:function(){this.source=this.avatar=null;this.nodes=[];this.copy=!0;this.target=null;this.canDropFlag=!1;this.events=[]},OFFSET_X:d("touch")?0:16,OFFSET_Y:d("touch")?-64:16,overSource:function(a){if(this.avatar)this.target=a&&"Disabled"!=a.targetState?a:null,this.canDropFlag=Boolean(this.target),this.avatar.update();b.publish("/dnd/source/over",a)},outSource:function(a){if(this.avatar){if(this.target==a)this.target=
null,this.canDropFlag=!1,this.avatar.update(),b.publish("/dnd/source/over",null)}else b.publish("/dnd/source/over",null)},startDrag:function(c,d,j){o.autoScrollStart(f.doc);this.source=c;this.nodes=d;this.copy=Boolean(j);this.avatar=this.makeAvatar();f.body().appendChild(this.avatar.node);b.publish("/dnd/start",c,d,this.copy);this.events=[a(f.doc,g.move,i.hitch(this,"onMouseMove")),a(f.doc,g.release,i.hitch(this,"onMouseUp")),a(f.doc,"keydown",i.hitch(this,"onKeyDown")),a(f.doc,"keyup",i.hitch(this,
"onKeyUp")),a(f.doc,"dragstart",l.stop),a(f.body(),"selectstart",l.stop)];e.add(f.body(),"dojoDnd"+(j?"Copy":"Move"))},canDrop:function(a){a=Boolean(this.target&&a);if(this.canDropFlag!=a)this.canDropFlag=a,this.avatar.update()},stopDrag:function(){e.remove(f.body(),["dojoDndCopy","dojoDndMove"]);k.forEach(this.events,function(a){a.remove()});this.events=[];this.avatar.destroy();this.source=this.target=this.avatar=null;this.nodes=[]},makeAvatar:function(){return new n(this)},updateAvatar:function(){this.avatar.update()},
onMouseMove:function(a){var b=this.avatar;if(b)o.autoScrollNodes(a),b=b.node.style,b.left=a.pageX+this.OFFSET_X+"px",b.top=a.pageY+this.OFFSET_Y+"px",b=Boolean(this.source.copyState(j.getCopyKeyState(a))),this.copy!=b&&this._setCopyStatus(b);d("touch")&&a.preventDefault()},onMouseUp:function(a){if(this.avatar){if(this.target&&this.canDropFlag){var c=Boolean(this.source.copyState(j.getCopyKeyState(a)));b.publish("/dnd/drop/before",this.source,this.nodes,c,this.target,a);b.publish("/dnd/drop",this.source,
this.nodes,c,this.target,a)}else b.publish("/dnd/cancel");this.stopDrag()}},onKeyDown:function(a){if(this.avatar)switch(a.keyCode){case c.CTRL:a=Boolean(this.source.copyState(!0));this.copy!=a&&this._setCopyStatus(a);break;case c.ESCAPE:b.publish("/dnd/cancel"),this.stopDrag()}},onKeyUp:function(a){this.avatar&&a.keyCode==c.CTRL&&(a=Boolean(this.source.copyState(!1)),this.copy!=a&&this._setCopyStatus(a))},_setCopyStatus:function(a){this.copy=a;this.source._markDndStatus(this.copy);this.updateAvatar();
e.replace(f.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"))}});j._manager=null;p.manager=j.manager=function(){if(!j._manager)j._manager=new p;return j._manager};return p})},"dojo/dnd/autoscroll":function(){define("../_base/lang,../sniff,../_base/window,../dom-geometry,../dom-style,../window".split(","),function(k,m,l,i,f,e){var h={};k.setObject("dojo.dnd.autoscroll",h);h.getViewport=e.getBox;h.V_TRIGGER_AUTOSCROLL=32;h.H_TRIGGER_AUTOSCROLL=32;h.V_AUTOSCROLL_VALUE=16;
h.H_AUTOSCROLL_VALUE=16;var d,c=l.doc,a=Infinity,b=Infinity;h.autoScrollStart=function(g){c=g;d=e.getBox(c);g=l.body(c).parentNode;a=Math.max(g.scrollHeight-d.h,0);b=Math.max(g.scrollWidth-d.w,0)};h.autoScroll=function(g){var j=d||e.getBox(c),f=l.body(c).parentNode,i=0,k=0;g.clientX<h.H_TRIGGER_AUTOSCROLL?i=-h.H_AUTOSCROLL_VALUE:g.clientX>j.w-h.H_TRIGGER_AUTOSCROLL&&(i=Math.min(h.H_AUTOSCROLL_VALUE,b-f.scrollLeft));g.clientY<h.V_TRIGGER_AUTOSCROLL?k=-h.V_AUTOSCROLL_VALUE:g.clientY>j.h-h.V_TRIGGER_AUTOSCROLL&&
(k=Math.min(h.V_AUTOSCROLL_VALUE,a-f.scrollTop));window.scrollBy(i,k)};h._validNodes={div:1,p:1,td:1};h._validOverflow={auto:1,scroll:1};h.autoScrollNodes=function(a){for(var b,c,d,e,k,q,t=0,w=0,u=a.target;u;){if(1==u.nodeType&&u.tagName.toLowerCase()in h._validNodes){d=f.getComputedStyle(u);e=d.overflow.toLowerCase()in h._validOverflow;k=d.overflowX.toLowerCase()in h._validOverflow;q=d.overflowY.toLowerCase()in h._validOverflow;if(e||k||q)b=i.getContentBox(u,d),c=i.position(u,!0);if(e||k){d=Math.min(h.H_TRIGGER_AUTOSCROLL,
b.w/2);k=a.pageX-c.x;if(m("webkit")||m("opera"))k+=l.body().scrollLeft;t=0;0<k&&k<b.w&&(k<d?t=-d:k>b.w-d&&(t=d),u.scrollLeft+=t)}if(e||q){e=Math.min(h.V_TRIGGER_AUTOSCROLL,b.h/2);q=a.pageY-c.y;if(m("webkit")||m("opera"))q+=l.body().scrollTop;w=0;0<q&&q<b.h&&(q<e?w=-e:q>b.h-e&&(w=e),u.scrollTop+=w)}if(t||w)return}try{u=u.parentNode}catch(s){u=null}}h.autoScroll(a)};return h})},"gridx/modules/dnd/Column":function(){define("dojo/_base/declare,dojo/_base/array,dojo/dom-geometry,dojo/dom-class,dojo/_base/query,./_Base,../../core/_Module".split(","),
function(k,m,l,i,f,e){return k(e,{name:"dndColumn",required:["_dnd","selectColumn","moveColumn"],getAPIPath:function(){return{dnd:{column:this}}},preload:function(){var e=this.grid;this.inherited(arguments);this._selector=e.select.column;this.connect(e.header,"onRender","_initHeader")},load:function(){this._initHeader();this.loaded.callback()},accept:[],provide:["grid/columns"],_checkDndReady:function(e){return this._selector.isSelected(e.columnId)?(this._selectedColIds=this._selector.getSelected(),
this.grid.dnd._dnd.profile=this,!0):!1},onDraggedOut:function(){},_cssName:"Column",_initHeader:function(){f(".gridxCell",this.grid.header.domNode).attr("aria-dragged","false")},_onBeginDnd:function(e){var d=this;e.delay=d.arg("delay");m.forEach(d._selectedColIds,function(c){f('[colid="'+c+'"].gridxCell',d.grid.header.domNode).attr("aria-dragged","true")})},_getDndCount:function(){return this._selectedColIds.length},_onEndDnd:function(){f('[aria-dragged="true"].gridxCell',this.grid.header.domNode).attr("aria-dragged",
"false")},_buildDndNodes:function(){var e=this.grid.id;return m.map(this._selectedColIds,function(d){return["<div id='",e,"_dndcolumn_",d,"' gridid='",e,"' columnid='",d,"'></div>"].join("")}).join("")},_onBeginAutoScroll:function(){var e=this.grid.autoScroll;this._autoScrollV=e.vertical;e.vertical=!1},_onEndAutoScroll:function(){this.grid.autoScroll.vertical=this._autoScrollV},_getItemData:function(e){return e.substring((this.grid.id+"_dndcolumn_").length)},_calcTargetAnchorPos:function(e,d){for(var c=
e.target,a=this,b=a.grid,g=b.isLeftToRight(),j=b._columns,k={height:d.h+"px",width:"",top:""},n=function(c){var i=c.getAttribute("colid"),n=b._columnsById[i].index,p=c,m=c,r=c=n;if(a._selector.isSelected(i)){for(c=n;0<c&&a._selector.isSelected(j[c-1].id);)--c;p=f(".gridxHeaderRow [colid='"+j[c].id+"']",b.headerNode)[0];for(r=n;r<j.length-1&&a._selector.isSelected(j[r+1].id);)++r;m=f(".gridxHeaderRow [colid='"+j[r].id+"']",b.headerNode)[0]}p&&m?(i=l.position(p),n=l.position(m),p=e.clientX<(i.x+n.x+
n.w)/2,k.left=p?i.x-d.x-1+"px":n.x+n.w-d.x-1+"px",a._target=p^g?r+1:c):delete a._target;return k};c;){if(i.contains(c,"gridxCell"))return n(c);c=c.parentNode}var p=f(".gridxRow",b.bodyNode)[0],m=l.position(p.firstChild);if(m.x+m.w<=e.clientX)k.left=m.x+m.w-d.x-1+"px",a._target=j.length;else if(m.x>=e.clientX)k.left=m.x-d.x-1+"px",a._target=0;else if(f(".gridxCell",p).some(function(a){var b=l.position(a);if(b.x<=e.clientX&&b.x+b.w>=e.clientX)return c=a,!0}))return n(c);return k},_onDropInternal:function(){var e=
this;if(0<=e._target){var d=m.map(e._selectedColIds,function(c){return e.grid._columnsById[c].index});e.grid.move.column.move(d,e._target)}},_onDropExternal:function(){}})})},"gridx/modules/pagination/Pagination":function(){define(["dojo/_base/declare","dojo/_base/array","../../core/_Module"],function(k,m,l){return k(l,{name:"pagination",forced:["body"],getAPIPath:function(){return{pagination:this}},rowMixin:{getPage:function(){return this.grid.pagination.pageOfIndex(this.index())},indexInPage:function(){return this.grid.pagination.indexInPage(this.index())}},
preload:function(){this.grid.body.autoChangeSize=!1},load:function(){var i=this;i._pageSize=i.arg("initialPageSize")||i._pageSize;i._page=i.arg("initialPage",i._page,function(f){return 0<=f});i.model.when({},function(){i._updateBody(1);i.connect(i.model,"onSizeChange","_onSizeChange");i.loaded.callback()})},pageSize:function(){var i=this._pageSize;return 0<i?i:this.model.size()},isAll:function(){return 0===this._pageSize},pageCount:function(){return this.isAll()?1:Math.max(Math.ceil(this.model.size()/
this.pageSize()),1)},currentPage:function(){return this._page},firstIndexInPage:function(i){if(!i&&0!==i)i=this._page;else if(!(0<=i))return-1;i*=this.pageSize();return i<this.model.size()?i:-1},lastIndexInPage:function(i){i=this.firstIndexInPage(i);if(0<=i){var i=i+this.pageSize()-1,f=this.model.size();return i<f?i:f-1}return-1},pageOfIndex:function(i){return this.isAll()?0:Math.floor(i/this.pageSize())},indexInPage:function(i){return this.isAll()?i:i%this.pageSize()},filterIndexesInPage:function(i,
f){var e=this.firstIndexInPage(f),h=this.lastIndexInPage(f);return 0>e?[]:m.filter(i,function(d){return d>=e&&d<=h})},gotoPage:function(i){var f=this._page;if(i!=f&&0<=this.firstIndexInPage(i))this._page=i,this._updateBody(),this.onSwitchPage(i,f)},setPageSize:function(i){var f=this._pageSize;if(i!=f&&0<=i){var e=this.firstIndexInPage(),h=-1;this._pageSize=i;if(this._page>=this.pageCount())h=this._page,this._page=this.pageOfIndex(e);this._updateBody();this.onChangePageSize(i,f);if(0<=h)this.onSwitchPage(this._page,
h)}},onSwitchPage:function(){},onChangePageSize:function(){},_page:0,_pageSize:10,_updateBody:function(i){var f=this.grid.body,e=this.model.size(),h=this.pageSize(),d=this.firstIndexInPage();0===e||0>d?h=d=0:e-d<h&&(h=e-d);f.updateRootRange(d,h);i||f.refresh()},_onSizeChange:function(i){if(0===i)this._page=0,this.grid.body.updateRootRange(0,0);else{if(0>this.firstIndexInPage()&&0!==this._page)i=this._page,this._page=0,this.onSwitchPage(0,i);this._updateBody()}}})})},"gridx/modules/pagination/PaginationBar":function(){define("dojo/_base/declare,./_PaginationBarBase,./LinkPager,../../core/_Module,./GotoPagePane,dijit/Dialog,dijit/form/Button,dijit/form/NumberTextBox".split(","),
function(k,m,l,i,f,e,h,d){return k(m,{gotoButton:!0,visibleSteppers:3,sizeSeparator:"|",gotoPagePane:f,dialogClass:e,buttonClass:h,numberTextBoxClass:d,pagerClass:l})})},"gridx/modules/pagination/_PaginationBarBase":function(){define(["dojo/_base/declare","dojo/_base/array","../../core/_Module"],function(k,m,l){return k(l,{name:"paginationBar",required:["vLayout"],forced:["pagination"],getAPIPath:function(){return{paginationBar:this}},preload:function(){var i=this.grid,f=i.vLayout,i=i.pagination;
this._pagers=[];this._exist("top")&&f.register(this,"_topPagerNode","headerNode",-5);this._exist("bottom")&&f.register(this,"_bottomPagerNode","footerNode",5);if(!i.arg("initialPageSize"))i.initialPageSize=this.arg("sizes")[0]},load:function(i,f){var e=this;f.then(function(){e._init();e.loaded.callback()})},destroy:function(){this.inherited(arguments);m.forEach(this._pagers,function(i){i.destroyRecursive()})},sizes:[10,25,50,100,0],position:"bottom",sizeSwitch:!0,stepper:!0,description:!0,refresh:function(){m.forEach(this._pagers,
function(i){i.refresh()});this.grid.vLayout.reLayout()},_exist:function(i,f){var e=this.arg(f||"position");return(e=e&&(""+e).toLowerCase())&&("top"!=e&&"bottom"!=e||e==i)},_init:function(){var i=this;m.forEach(["top","bottom"],function(f){if(i._exist(f)){var e=new (i.arg("pagerClass"))({pagination:i.grid.pagination,module:i,position:f,focusPriority:{top:-5,bottom:5}[f]});i._pagers.push(e);i["_"+f+"PagerNode"]=e.domNode}})}})})},"gridx/modules/pagination/LinkPager":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/_base/sniff,dojo/_base/query,dojo/_base/event,dojo/dom-class,dojo/string,dojo/keys,../../core/util,./_PagerBase,dojo/text!../../templates/PaginationBar.html".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g){function j(a,b,c){for(a=a.target;!n(a,b);){if(n(a,c))return null;a=a.parentNode}return a}function o(a,b,c,d,e){var g=d?-1:1,b=b?m.indexOf(a,b)+(c?g:0):d?a.length-1:0,c=function(b,c){for(;a[b]&&!e(a[b]);)b+=c;return a[b]};(b=c(b,g)||c(b-g,-g))&&b.focus();return b}var n=h.contains,p=h.toggle,r=d.substitute;return k(b,{templateString:g,_tabIndex:-1,postMixInProperties:function(){if(i("ie")){var a=this.module.grid.domNode.getAttribute("tabindex");this._tabIndex=0<a?a:
0}},refresh:function(){this._createDescription();this._createPageStepper();this._createPageSizeSwitch();this._createGotoButton()},_onSwitchPage:function(){this._createPageStepper();this.module.grid.vLayout.reLayout()},_onSizeChange:function(){this._createDescription();this._onSwitchPage()},_focusArea:function(){var a=this.module.grid.focus;return a&&a.currentArea()},_onChangePageSize:function(a,b){var c=f('[pagesize="'+a+'"]',this._sizeSwitchContainer)[0];c&&h.add(c,"gridxPagerSizeSwitchBtnActive");
(c=f('[pagesize="'+b+'"]',this._sizeSwitchContainer)[0])&&h.remove(c,"gridxPagerSizeSwitchBtnActive");this._focusArea()==this.position+"PageSizeSwitch"&&this._findNextPageSizeSwitch();this._createPageStepper();this.module.grid.vLayout.reLayout()},_createPageStepper:function(){var a=this.module;if(this._toggleNode("gridxPagerStepper",a._exist(this.position,"stepper"))){var b=this.pagination,c=b.pageCount(),d=b.currentPage(),e=a.arg("visibleSteppers"),b=[],g=this._tabIndex,j=!1,f=!1,h=[a.arg("pageIndexTitleTemplate",
this.pageIndexTitle),a.arg("pageIndexWaiTemplate",this.pageIndexTitle),a.arg("pageIndexTemplate",this.pageIndex)],a=function(a){return['<span class="gridxPagerStepperBtn gridxPagerPage ',d==a?"gridxPagerStepperBtnActive":"",'" aria-pressed="',d==a?"true":"false",'" pageindex="',a,'" title="',r(h[0],[a+1]),'" aria-label="',r(h[1],[a+1]),'" role="button" tabindex="',g,'">',r(h[2],[a+1]),"</span>"].join("")};if(c){var i=d-Math.floor((e-1)/2),k=i+e-1;1>i?(i=1,k=e-1):c>e&&i>=c-e&&(i=c-e);k>=c-1&&(k=c-
2);b.push(a(0));if(2<c){1<i&&b.push('<span class="gridxPagerStepperEllipsis">&hellip;</span>');for(e=i;e<=k;++e)b.push(a(e));k<c-2&&b.push('<span class="gridxPagerStepperEllipsis">&hellip;</span>')}1<c&&b.push(a(c-1))}this._pageBtnContainer.innerHTML=b.join("");if(!d||d===c-1)f=!d||1>=c,j=d||1>=c;p(this._nextPageBtn,"gridxPagerStepperBtnDisable gridxPagerNextPageDisable",j);p(this._prevPageBtn,"gridxPagerStepperBtnDisable gridxPagerPrevPageDisable",f);this._nextPageBtn.setAttribute("aria-disabled",
j);this._prevPageBtn.setAttribute("aria-disabled",f);this._focusArea()==this.position+"PageStepper"&&this._findNextPageStepperBtn()}},_gotoPrevPage:function(){this._focusPageIndex="Prev";var a=this.pagination;a.gotoPage(a.currentPage()-1)},_gotoNextPage:function(){this._focusPageIndex="Next";var a=this.pagination;a.gotoPage(a.currentPage()+1)},_gotoPage:function(a){var q;if(a=j(a,"gridxPagerStepperBtn","gridxPagerPages"))q=this._focusPageIndex=a.getAttribute("pageindex"),a=q,this.pagination.gotoPage(parseInt(a,
10))},_onHoverPageBtn:function(a){var b=j(a,"gridxPagerStepperBtn","gridxPagerPages");b&&p(b,"gridxPagerStepperBtnHover","mouseover"==a.type)},_onHoverSizeBtn:function(a){var b=j(a,"gridxPagerSizeSwitchBtn","gridxPagerSizeSwitch");b&&p(b,"gridxPagerSizeSwitchBtnHover","mouseover"==a.type)},_createPageSizeSwitch:function(){var a=this.module;if(this._toggleNode("gridxPagerSizeSwitch",a._exist(this.position,"sizeSwitch"))){var b=[],c=this._tabIndex,d=a.arg("sizeSeparator"),e=this.pagination.pageSize(),
g=[a.arg("pageSizeTitleTemplate",this.pageSizeTitle),a.arg("pageSizeWaiTemplate",this.pageSizeTitle),a.arg("pageSizeTemplate",this.pageSize),a.arg("pageSizeAllTitleText",this.pageSizeAllTitle),a.arg("pageSizeAllWaiText",this.pageSizeAllTitle),a.arg("pageSizeAllText",this.pageSizeAll)];m.forEach(a.arg("sizes"),function(a){var j=!1;0<a||(a=0,j=!0);b.push('<span class="gridxPagerSizeSwitchBtn ',e===a?"gridxPagerSizeSwitchBtnActive":"",'" aria-pressed="',e===a?"true":"false",'" pagesize="',a,'" title="',
j?g[3]:r(g[0],[a]),'" aria-label="',j?g[4]:r(g[1],[a]),'" role="button" tabindex="',c,'">',j?g[5]:r(g[2],[a]),"</span>",'<span class="gridxPagerSizeSwitchSeparator">'+d+"</span>")});b.pop();this._sizeSwitchContainer.innerHTML=b.join("")}},_switchPageSize:function(a){var q;if(a=j(a,"gridxPagerSizeSwitchBtn","gridxPagerSizeSwitch"))q=this._focusPageSize=a.getAttribute("pagesize"),a=q,this.pagination.setPageSize(parseInt(a,10))},_createGotoButton:function(){this._toggleNode("gridxPagerGoto",this.module._exist(this.position,
"gotoButton"))},_showGotoDialog:function(){var a=this.module;if(!this._gotoDialog){var b=a.arg("dialogClass"),c=a.arg("gotoPagePane"),a=l.mixin({"class":"gridxGotoPageDialog",title:this.gotoDialogTitle,content:new c({pager:this})},a.arg("dialogProps")||{});this._gotoDialog=new b(a)}b=this.pagination.pageCount();a=this._gotoDialog.content;a.pageCountMsgNode.innerHTML=r(this.gotoDialogPageCount,[b]);a.pageInputBox.set("constraints",{fractional:!1,min:1,max:b});this._gotoDialog.show()},_initFocus:function(){var b=
this,d=b.module.grid,g=d.focus;if(g){var j=d.pagination,f=b.position,h=b.focusPriority,i=d.isLeftToRight()?c.LEFT_ARROW:c.RIGHT_ARROW;g.registerArea({name:f+"PageStepper",priority:h,focusNode:b._pageStepperContainer,doFocus:l.hitch(b,b._findNextPageStepperBtn,!1,!1)});b.connect(b._pageStepperContainer,"onkeydown",function(a){if(a.keyCode==c.LEFT_ARROW||a.keyCode==c.RIGHT_ARROW)b._findNextPageStepperBtn(!0,a.keyCode==i);else if(a.keyCode==c.ENTER&&n(a.target,"gridxPagerStepperBtn")&&!n(a.target,"gridxPagerStepperBtnActive")&&
!n(a.target,"gridxPagerStepperBtnDisable"))if(isNaN(parseInt(b._focusPageIndex,10)))b["_goto"+b._focusPageIndex+"Page"]();else j.gotoPage(parseInt(b._focusPageIndex,10));else return;e.stop(a)});g.registerArea({name:f+"PageSizeSwitch",priority:h+0.0010,focusNode:b._sizeSwitchContainer,doFocus:l.hitch(b,b._findNextPageSizeSwitch,!1,!1)});b.connect(b._sizeSwitchContainer,"onkeydown",function(a){if(a.keyCode==c.LEFT_ARROW||a.keyCode==c.RIGHT_ARROW)b._findNextPageSizeSwitch(!0,a.keyCode==i);else if(a.keyCode==
c.ENTER&&n(a.target,"gridxPagerSizeSwitchBtn")&&!n(a.target,"gridxPagerSizeSwitchBtnActive"))j.setPageSize(parseInt(b._focusPageSize,10));else return;e.stop(a)});g.registerArea({name:f+"GotoPage",priority:h+0.0020,focusNode:b._gotoBtn,doFocus:function(c){a.stopEvent(c);b._gotoBtn.focus();return!0}});b.connect(b._gotoBtn,"onkeydown",function(a){a.keyCode==c.ENTER&&(b._showGotoDialog(),e.stop(a))})}},_findNextPageSizeSwitch:function(b,c,d){a.stopEvent(d);var d=this._sizeSwitchContainer,e=f('[pagesize="'+
this._focusPageSize+'"]',d)[0];if(e=o(f(".gridxPagerSizeSwitchBtn",d),e,b,c,function(a){return!n(a,"gridxPagerSizeSwitchBtnActive")}))this._focusPageSize=e.getAttribute("pagesize");return e},_findNextPageStepperBtn:function(b,c,d){a.stopEvent(d);var d=this._pageStepperContainer,e=f('[pageindex="'+this._focusPageIndex+'"]',d)[0];if(e=o(f(".gridxPagerStepperBtn",d),e,b,c,function(a){return!n(a,"gridxPagerStepperBtnActive")&&!n(a,"gridxPagerStepperBtnDisable")}))this._focusPageIndex=e.getAttribute("pageindex");
return e}})})},"gridx/modules/pagination/_PagerBase":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/query,dojo/string,dijit/_WidgetBase,dijit/_TemplatedMixin,dojo/i18n!../../nls/PaginationBar".split(","),function(k,m,l,i,f,e,h){return k([f,e],{pagination:null,module:null,position:"bottom",focusPriority:0,constructor:function(){this._nls=h;m.mixin(this,h)},postCreate:function(){var d=this.pagination,c=this.module.model;this.connect(d,"onSwitchPage","_onSwitchPage");this.connect(d,
"onChangePageSize","_onChangePageSize");this.connect(c,"onSizeChange","_onSizeChange");this.connect(c,"onMarkChange","_createDescription");this._initFocus();this.refresh()},_toggleNode:function(d,c){l("."+d,this.domNode)[0].style.display=c?"":"none";return c},_createDescription:function(){var d=this.module;if(this._toggleNode("gridxPagerDescription",d._exist(this.position,"description"))){var c=d.grid,a=c.select&&c.select.row,b=a?a.getSelected().length:0,d=a?d.arg("descriptionSelectionTemplate",h.summaryWithSelection):
d.arg("descriptionTemplate",h.summary);this._descContainer.innerHTML=i.substitute(d,[c.model.size(),b])}}})})},"gridx/nls/PaginationBar":function(){define({root:{pagerWai:"Pager",pageIndex:"${0}",pageIndexTitle:"Page ${0}",firstPageTitle:"First page",prevPageTitle:"Previous page",nextPageTitle:"Next page",lastPageTitle:"Last page",pageSize:"${0}",pageSizeTitle:"${0} items per page",pageSizeAll:"All",pageSizeAllTitle:"All items",description:"${0} - ${1} of ${2} items.",descriptionEmpty:"Grid is empty.",
summary:"Total: ${0}",summaryWithSelection:"Total: ${0} Selected: ${1}",gotoBtnTitle:"Go to a specific page",gotoDialogTitle:"Go to Page",gotoDialogMainMsg:"Specify the page number:",gotoDialogPageCount:"(${0} pages)",gotoDialogOKBtn:"Go",gotoDialogCancelBtn:"Cancel",pageLabel:"Page",pageSizeLabel:"Rows"},ar:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,es:!0,fi:!0,fr:!0,hu:!0,it:!0,ja:!0,kk:!0,ko:!0,nb:!0,nl:!0,pl:!0,pt:!0,"pt-pt":!0,ro:!0,ru:!0,sk:!0,sl:!0,sv:!0,th:!0,tr:!0,zh:!0,"zh-tw":!0})},"url:gridx/templates/PaginationBar.html":"<div class='gridxPager' role=\"navigation\" aria-label='${id} ${pagerWai}'\r\n\t><table class='gridxPagerInner' cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\"\r\n\t\t><tr\r\n\t\t\t><td class=\"gridxPagerDescriptionTD\"\r\n\t\t\t\t><div class=\"gridxPagerDescription\"\r\n\t\t\t\t\tdata-dojo-attach-point=\"_descContainer\"\r\n\t\t\t\t></div\r\n\t\t\t></td\r\n\t\t\t><td class=\"gridxPagerStepperTD\"\r\n\t\t\t\t><div class=\"gridxPagerStepper\"\r\n\t\t\t\t\trole=\"toolbar\"\r\n\t\t\t\t\tdata-dojo-attach-point=\"_pageStepperContainer\"\r\n\t\t\t\t\t><span class='gridxPagerStepperBtn gridxPagerPrevPage'\r\n\t\t\t\t\t\ttabindex='${_tabIndex}'\r\n\t\t\t\t\t\ttitle='${prevPageTitle}'\r\n\t\t\t\t\t\taria-label='${prevPageTitle}'\r\n\t\t\t\t\t\trole=\"button\"\r\n\t\t\t\t\t\tpageindex='Prev'\r\n\t\t\t\t\t\tdata-dojo-attach-point='_prevPageBtn'\r\n\t\t\t\t\t\tdata-dojo-attach-event='onclick: _gotoPrevPage'\r\n\t\t\t\t\t\t><span class='gridxPagerA11yInner'>&nbsp;&lt;</span\r\n\t\t\t\t\t></span\r\n\t\t\t\t\t><span class='gridxPagerPages'\r\n\t\t\t\t\t\tdata-dojo-attach-point='_pageBtnContainer'\r\n\t\t\t\t\t\tdata-dojo-attach-event='onclick: _gotoPage, onmouseover: _onHoverPageBtn, onmouseout: _onHoverPageBtn'\r\n\t\t\t\t\t></span\r\n\t\t\t\t\t><span class='gridxPagerStepperBtn gridxPagerNextPage'\r\n\t\t\t\t\t\ttabindex='${_tabIndex}'\r\n\t\t\t\t\t\ttitle='${nextPageTitle}'\r\n\t\t\t\t\t\taria-label='${nextPageTitle}'\r\n\t\t\t\t\t\tpageindex='Next'\r\n\t\t\t\t\t\tdata-dojo-attach-point='_nextPageBtn'\r\n\t\t\t\t\t\tdata-dojo-attach-event='onclick: _gotoNextPage'\r\n\t\t\t\t\t\t><span class='gridxPagerA11yInner'>&nbsp;&gt;</span\r\n\t\t\t\t\t></span\r\n\t\t\t\t></div\r\n\t\t\t></td\r\n\t\t\t><td class=\"gridxPagerSizeSwitchTD\"\r\n\t\t\t\t><div class=\"gridxPagerSizeSwitch\"\r\n\t\t\t\t\trole=\"toolbar\"\r\n\t\t\t\t\tdata-dojo-attach-point='_sizeSwitchContainer'\r\n\t\t\t\t\tdata-dojo-attach-event='onclick: _switchPageSize, onmouseover: _onHoverSizeBtn, onmouseout: _onHoverSizeBtn'\r\n\t\t\t\t></div\r\n\t\t\t></td\r\n\t\t\t><td class='gridxPagerGoto'\r\n\t\t\t\t><span class='gridxPagerGotoBtn'\r\n\t\t\t\t\ttabindex='${_tabIndex}'\r\n\t\t\t\t\ttitle='${gotoBtnTitle}'\r\n\t\t\t\t\trole='button'\r\n\t\t\t\t\taria-label='${gotoBtnTitle}'\r\n\t\t\t\t\tdata-dojo-attach-point='_gotoBtn'\r\n\t\t\t\t\tdata-dojo-attach-event='onclick: _showGotoDialog'\r\n\t\t\t\t\t><span class='gridxPagerA11yInner'>&#9650;</span\r\n\t\t\t\t></span\r\n\t\t\t></td\r\n\t\t></tr\r\n\t></table\r\n></div>\r\n",
"gridx/modules/pagination/GotoPagePane":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/event,dojo/keys,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!../../templates/GotoPagePane.html".split(","),function(k,m,l,i,f,e,h,d){return k([f,e,h],{templateString:d,pager:null,postMixInProperties:function(){var c=this.pager,a=c.module;m.mixin(this,c._nls);this.numberTextBoxClass=a.arg("numberTextBoxClass").prototype.declaredClass;this.buttonClass=a.arg("buttonClass").prototype.declaredClass},
postCreate:function(){this._updateStatus()},_updateStatus:function(){var c=this.pageInputBox;this.okBtn.set("disabled",!c.isValid()||""===c.get("displayedValue"))},_onOK:function(){var c=this.pager;c.pagination.gotoPage(this.pageInputBox.get("value")-1);c._gotoDialog.hide()},_onCancel:function(){this.pager._gotoDialog.hide()},_onKeyDown:function(c){!this.okBtn.get("disabled")&&i.ENTER==c.keyCode&&(this._onOK(),l.stop(c))}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array",
"dojo/_base/declare","dojo/parser"],function(k,m,l){return m("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,_beforeFillContent:function(){if(this.widgetsInTemplate)this._attachTemplateNodes(this._startupWidgets=l.parse(this.domNode,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,scope:"dojo"}),function(i,f){return i[f]})},startup:function(){k.forEach(this._startupWidgets,function(i){i&&
!i._started&&i.startup&&i.startup()});this.inherited(arguments)}})})},"dojo/parser":function(){define("./_base/kernel,./_base/lang,./_base/array,./_base/config,./_base/html,./_base/window,./_base/url,./_base/json,./aspect,./date/stamp,./Deferred,./has,./query,./on,./ready".split(","),function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n){function p(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<q){var b=a._nameCaseMap={},d;for(d in c)"_"!==d.charAt(0)&&(b[d.toLowerCase()]=d);b._extendCnt=q}return b}function r(a){var b=
a.join();if(!t[b]){for(var c=[],d=0,e=a.length;d<e;d++){var g=a[d];c[c.length]=t[g]=t[g]||m.getObject(g)||~g.indexOf("/")&&require(g)}a=c.shift();t[b]=c.length?a.createSubclass?a.createSubclass(c):a.extend.apply(a,c):a}return t[b]}var q=0;c.after(m,"extend",function(){q++},!0);var t={},w={_clearCache:function(){q++;t={}},_functionFromScript:function(a,b){var c="",d="",e=a.getAttribute(b+"args")||a.getAttribute("args"),g=a.getAttribute("with"),e=(e||"").split(/\s*,\s*/);g&&g.length&&l.forEach(g.split(/\s*,\s*/),
function(a){c+="with("+a+"){";d+="}"});return new Function(e,c+a.innerHTML+d)},instantiate:function(a,b,c){var b=b||{},c=c||{},d=(c.scope||k._scopeName)+"Type",e="data-"+(c.scope||k._scopeName)+"-",g=e+"type",j=e+"mixins",f=[];l.forEach(a,function(a){var c=d in b?b[d]:a.getAttribute(g)||a.getAttribute(d);if(c){var e=a.getAttribute(j),c=e?[c].concat(e.split(/\s*,\s*/)):[c];f.push({node:a,types:c})}});return this._instantiate(f,b,c)},_instantiate:function(a,b,c){a=l.map(a,function(a){var d=a.ctor||
r(a.types);if(!d)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(d,a.node,b,c,a.scripts,a.inherited)},this);!b._started&&!c.noStart&&l.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a},construct:function(b,e,f,i,n,r){var s;var q=b&&b.prototype,i=i||{},t={};i.defaults&&m.mixin(t,i.defaults);r&&m.mixin(t,r);var w;g("dom-attributes-explicit")?w=e.attributes:g("dom-attributes-specified-flag")?w=l.filter(e.attributes,
function(a){return a.specified}):(r=(/^input$|^img$/i.test(e.nodeName)?e:e.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),w=l.map(r.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:"LI"==e.nodeName&&"value"==a||"enctype"==b?e.getAttribute(b):e.getAttributeNode(b).value}}));var A=i.scope||k._scopeName,r="data-"+A+"-",E={};"dojo"!==A&&(E[r+"props"]="data-dojo-props",E[r+"type"]="data-dojo-type",E[r+"mixins"]=
"data-dojo-mixins",E[A+"type"]="dojoType",E[r+"id"]="data-dojo-id");for(var A=0,C,J=[],F,I;C=w[A++];){var H=C.name,L=H.toLowerCase();C=C.value;switch(E[L]||L){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":I=C;break;case "data-dojo-id":case "jsid":F=C;break;case "data-dojo-attach-point":case "dojoattachpoint":t.dojoAttachPoint=C;break;case "data-dojo-attach-event":case "dojoattachevent":t.dojoAttachEvent=C;break;case "class":t["class"]=e.className;break;
case "style":t.style=e.style&&e.style.cssText;break;default:if(H in q||(H=p(b)[L]||H),H in q)switch(typeof q[H]){case "string":t[H]=C;break;case "number":t[H]=C.length?Number(C):NaN;break;case "boolean":t[H]="false"!=C.toLowerCase();break;case "function":t[H]=""===C||-1!=C.search(/[^\w\.]+/i)?new Function(C):m.getObject(C,!1)||new Function(C);J.push(H);break;default:L=q[H],t[H]=L&&"length"in L?C?C.split(/\s*,\s*/):[]:L instanceof Date?""==C?new Date(""):"now"==C?new Date:a.fromISOString(C):L instanceof
h?k.baseUrl+C:d.fromJson(C)}else t[H]=C}}for(A=0;A<J.length;A++)w=J[A].toLowerCase(),e.removeAttribute(w),e[w]=null;if(I)try{I=d.fromJson.call(i.propsThis,"{"+I+"}"),m.mixin(t,I)}catch(P){throw Error(P.toString()+" in data-dojo-props='"+I+"'");}m.mixin(t,f);n||(n=b&&(b._noScript||q._noScript)?[]:j("> script[type^='dojo/']",e));f=[];i=[];I=[];J=[];if(n)for(A=0;A<n.length;A++){var K=n[A];e.removeChild(K);w=K.getAttribute(r+"event")||K.getAttribute("event");E=K.getAttribute(r+"prop");H=K.getAttribute(r+
"method");L=K.getAttribute(r+"advice");C=K.getAttribute("type");K=this._functionFromScript(K,r);w?"dojo/connect"==C?f.push({method:w,func:K}):"dojo/on"==C?J.push({event:w,func:K}):t[w]=K:"dojo/aspect"==C?f.push({method:H,advice:L,func:K}):"dojo/watch"==C?I.push({prop:E,func:K}):i.push(K)}s=(n=b.markupFactory||q.markupFactory)?n(t,e,b):new b(t,e),b=s;F&&m.setObject(F,b);for(A=0;A<f.length;A++)c[f[A].advice||"after"](b,f[A].method,m.hitch(b,f[A].func),!0);for(A=0;A<i.length;A++)i[A].call(b);for(A=0;A<
I.length;A++)b.watch(I[A].prop,I[A].func);for(A=0;A<J.length;A++)o(b,J[A].event,J[A].func);return b},scan:function(a,c){function d(a){if(!a.inherited){a.inherited={};var b=a.node,c=d(a.parent),b={dir:b.getAttribute("dir")||c.dir,lang:b.getAttribute("lang")||c.lang,textDir:b.getAttribute(p)||c.textDir},e;for(e in b)b[e]&&(a.inherited[e]=b[e])}return a.inherited}var e=[],j=[],f={},h=(c.scope||k._scopeName)+"Type",i="data-"+(c.scope||k._scopeName)+"-",n=i+"type",p=i+"textdir",i=i+"mixins",o=a.firstChild,
m=c.inherited;if(!m){var q=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&q(a.parentNode,b)},m={dir:q(a,"dir"),lang:q(a,"lang"),textDir:q(a,p)},t;for(t in m)m[t]||delete m[t]}for(var m={inherited:m},w,H;;)if(o)if(1!=o.nodeType)o=o.nextSibling;else if(w&&"script"==o.nodeName.toLowerCase())(L=o.getAttribute("type"))&&/^dojo\/\w/i.test(L)&&w.push(o),o=o.nextSibling;else if(H)o=o.nextSibling;else{var L=o.getAttribute(n)||o.getAttribute(h);t=o.firstChild;if(!L&&(!t||3==t.nodeType&&
!t.nextSibling))o=o.nextSibling;else{H=null;if(L){var P=o.getAttribute(i);w=P?[L].concat(P.split(/\s*,\s*/)):[L];try{H=r(w)}catch(K){}H||l.forEach(w,function(a){~a.indexOf("/")&&!f[a]&&(f[a]=!0,j[j.length]=a)});P=H&&!H.prototype._noScript?[]:null;m={types:w,ctor:H,parent:m,node:o,scripts:P};m.inherited=d(m);e.push(m)}else m={node:o,scripts:w,parent:m};o=t;w=P;H=H&&H.prototype.stopParser&&!c.template}}else{if(!m||!m.node)break;o=m.node.nextSibling;w=m.scripts;H=!1;m=m.parent}var Q=new b;j.length?(g("dojo-debug-messages")&&
console.warn("WARNING: Modules being Auto-Required: "+j.join(", ")),require(j,function(){Q.resolve(l.filter(e,function(a){if(!a.ctor)try{a.ctor=r(a.types)}catch(b){}for(var d=a.parent;d&&!d.types;)d=d.parent;var e=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(e&&e.stopParser&&!c.template);a.instantiate=!d||d.instantiate&&d.instantiateChildren;return a.instantiate}))})):Q.resolve(e);return Q.promise},_require:function(a){var a=d.fromJson("{"+a.innerHTML+"}"),c=[],e=[],g=new b,j;for(j in a)c.push(j),
e.push(a[j]);require(e,function(){for(var a=0;a<c.length;a++)m.setObject(c[a],arguments[a]);g.resolve(arguments)});return g.promise},_scanAmd:function(a){var c=new b,d=c.promise;c.resolve(!0);var e=this;j("script[type='dojo/require']",a).forEach(function(a){d=d.then(function(){return e._require(a)});a.parentNode.removeChild(a)});return d},parse:function(a,b){var c;!b&&a&&a.rootNode?(b=a,c=b.rootNode):a&&m.isObject(a)&&!("nodeType"in a)?b=a:c=a;c=c?f.byId(c):e.body();var b=b||{},d=b.template?{template:!0}:
{},g=[],j=this,h=this._scanAmd(c,b).then(function(){return j.scan(c,b)}).then(function(a){return g=g.concat(j._instantiate(a,d,b))}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});m.mixin(g,h);return g}};k.parser=w;i.parseOnLoad&&n(100,w,"parse");return w})},"url:gridx/templates/GotoPagePane.html":"<div class='gridxGotoPage'\r\n\t><table><tbody\r\n\t\t><tr><td id='${id}-pageInputLabel' class='gridxGotoPageMainMsg'>\r\n\t\t${gotoDialogMainMsg}\r\n\t\t</td></tr\r\n\t\t><tr><td class='gridxGotoPageInput'\r\n\t\t\t><input data-dojo-type='${numberTextBoxClass}'\r\n\t\t\t\tdata-dojo-props='\"aria-labelledby\": \"${id}-pageInputLabel\"'\r\n\t\t\t\tclass='gridxGotoPageInputBox'\r\n\t\t\t\tdata-dojo-attach-point='pageInputBox'\r\n\t\t\t\tdata-dojo-attach-event='onKeyUp: _updateStatus, onKeyDown: _onKeyDown'></input\r\n\t\t\t><span\r\n\t\t\t\tclass='gridxPageCountMsg'\r\n\t\t\t\tdata-dojo-attach-point='pageCountMsgNode'></span\r\n\t\t></td></tr\r\n\t\t><tr><td class='gridxGotoPageBtns'\r\n\t\t\t><button data-dojo-type='${buttonClass}' \r\n\t\t\t\tdata-dojo-attach-point='okBtn'\r\n\t\t\t\tdata-dojo-attach-event='onClick: _onOK'>\r\n\t\t\t\t${gotoDialogOKBtn}\r\n\t\t\t</button\r\n\t\t\t><button data-dojo-type='${buttonClass}'\r\n\t\t\t\tdata-dojo-attach-event='onClick: _onCancel'>\r\n\t\t\t\t${gotoDialogCancelBtn}\r\n\t\t\t</button\r\n\t\t></td></tr\r\n\t></tbody></table\r\n></div>\r\n",
"dijit/Dialog":function(){define("require,dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/Deferred,dojo/dom,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/_base/fx,dojo/i18n,dojo/keys,dojo/_base/lang,dojo/on,dojo/ready,dojo/sniff,dojo/window,dojo/dnd/Moveable,dojo/dnd/TimedMoveable,./focus,./_base/manager,./_Widget,./_TemplatedMixin,./_CssStateMixin,./form/_FormMixin,./_DialogMixin,./DialogUnderlay,./layout/ContentPane,dojo/text!./templates/Dialog.html,./main,dojo/i18n!./nls/common".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p,r,q,t,w,u,s,y,v,x,B,D,z,G,A,E){var s=i("dijit._DialogBase",[v,B,D,x],{templateString:A,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],open:!1,duration:s.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,doLayout:!1,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},"aria-describedby":"",maxRatio:0.9,
postMixInProperties:function(){var a=g.getLocalization("dijit","common");o.mixin(this,a);this.inherited(arguments)},postCreate:function(){c.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[]},onLoad:function(){this._position();this.autofocus&&J.isTop(this)&&(this._getFocusItems(this.domNode),u.focus(this._firstFocusItem));
this.inherited(arguments)},_endDrag:function(){var a=d.position(this.domNode),b=q.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),b.h-a.h);a.x=Math.min(Math.max(a.x,0),b.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var a=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==r("ie")?w:t)(a,{handle:this.titleBar}),this.connect(this._moveable,"onMoveStop","_endDrag")):h.add(a,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":m.map(this["class"].split(/\s/),
function(a){return a+"_underlay"}).join(" "),ownerDocument:this.ownerDocument}},_size:function(){this._checkIfSingleChild();if(this._singleChild){if("undefined"!=typeof this._singleChildOriginalStyle)this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle}else c.set(this.containerNode,{width:"auto",height:"auto"});var a=d.position(this.domNode),b=q.getBox(this.ownerDocument);b.w*=this.maxRatio;b.h*=this.maxRatio;if(a.w>=b.w||a.h>=b.h){var e=d.position(this.containerNode),
g=Math.min(a.w,b.w)-(a.w-e.w),a=Math.min(a.h,b.h)-(a.h-e.h);if(this._singleChild&&this._singleChild.resize){if("undefined"==typeof this._singleChildOriginalStyle)this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;this._singleChild.resize({w:g,h:a})}else c.set(this.containerNode,{width:g+"px",height:a+"px",overflow:"auto",position:"relative"})}else this._singleChild&&this._singleChild.resize&&this._singleChild.resize()},_position:function(){if(!h.contains(this.ownerDocumentBody,
"dojoMove")){var a=this.domNode,b=q.getBox(this.ownerDocument),e=this._relativePosition,g=e?null:d.position(a);c.set(a,{left:Math.floor(b.l+(e?e.x:(b.w-g.w)/2))+"px",top:Math.floor(b.t+(e?e.y:(b.h-g.h)/2))+"px"})}},_onKey:function(b){if(b.charOrCode){var c=b.target;b.charOrCode===j.TAB&&this._getFocusItems(this.domNode);var d=this._firstFocusItem==this._lastFocusItem;if(c==this._firstFocusItem&&b.shiftKey&&b.charOrCode===j.TAB)d||u.focus(this._lastFocusItem),a.stop(b);else if(c==this._lastFocusItem&&
b.charOrCode===j.TAB&&!b.shiftKey)d||u.focus(this._firstFocusItem),a.stop(b);else{for(;c;){if(c==this.domNode||h.contains(c,"dijitPopup"))if(b.charOrCode==j.ESCAPE)this.onCancel();else return;c=c.parentNode}if(b.charOrCode!==j.TAB)a.stop(b);else if(!r("opera"))try{this._firstFocusItem.focus()}catch(e){}}}},show:function(){if(!this.open){this._started||this.startup();if(!this._alreadyInitialized)this._setup(),this._alreadyInitialized=!0;this._fadeOutDeferred&&this._fadeOutDeferred.cancel();var a=q.get(this.ownerDocument);
this._modalconnects.push(n(a,"scroll",o.hitch(this,"resize")));this._modalconnects.push(n(this.domNode,l._keypress,o.hitch(this,"_onKey")));c.set(this.domNode,{opacity:0,display:""});this._set("open",!0);this._onShow();this._size();this._position();var d;this._fadeInDeferred=new f(o.hitch(this,function(){d.stop();delete this._fadeInDeferred}));d=b.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:o.hitch(this,function(){J.show(this,this.underlayAttrs)}),onEnd:o.hitch(this,function(){this.autofocus&&
J.isTop(this)&&(this._getFocusItems(this.domNode),u.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();return this._fadeInDeferred}},hide:function(){if(this._alreadyInitialized&&this.open){this._fadeInDeferred&&this._fadeInDeferred.cancel();var a;this._fadeOutDeferred=new f(o.hitch(this,function(){a.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(o.hitch(this,"onHide"));a=b.fadeOut({node:this.domNode,duration:this.duration,onEnd:o.hitch(this,
function(){this.domNode.style.display="none";J.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();if(this._scrollConnected)this._scrollConnected=!1;for(var c;c=this._modalconnects.pop();)c.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return this._fadeOutDeferred}},resize:function(){"none"!=this.domNode.style.display&&(z._singleton&&z._singleton.layout(),this._position(),this._size())},destroy:function(){this._fadeInDeferred&&
this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();J.hide(this);this.inherited(arguments)}}),C=i("dijit.Dialog",[G,s],{});C._DialogBase=s;var J=C._DialogLevelManager={_beginZIndex:950,show:function(a,b){F[F.length-1].focus=u.curNode;var d=z._singleton;!d||d._destroyed?d=E._underlay=z._singleton=new z(b):d.set(a.underlayAttrs);var e=F[F.length-1].dialog?F[F.length-1].zIndex+2:
C._DialogLevelManager._beginZIndex;1==F.length&&d.show();c.set(z._singleton.domNode,"zIndex",e-1);c.set(a.domNode,"zIndex",e);F.push({dialog:a,underlayAttrs:b,zIndex:e})},hide:function(a){if(F[F.length-1].dialog==a){F.pop();var b=F[F.length-1];z._singleton._destroyed||(1==F.length?z._singleton.hide():(c.set(z._singleton.domNode,"zIndex",b.zIndex-1),z._singleton.set(b.underlayAttrs)));if(a.refocus){a=b.focus;if(b.dialog&&(!a||!e.isDescendant(a,b.dialog.domNode)))b.dialog._getFocusItems(b.dialog.domNode),
a=b.dialog._firstFocusItem;if(a)try{a.focus()}catch(d){}}}else b=m.indexOf(m.map(F,function(a){return a.dialog}),a),-1!=b&&F.splice(b,1)},isTop:function(a){return F[F.length-1].dialog==a}},F=C._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];r("dijit-legacy-requires")&&p(0,function(){k(["dijit/TooltipDialog"])});return C})},"dojo/dnd/Moveable":function(){define("../_base/array,../_base/declare,../_base/event,../_base/lang,../dom,../dom-class,../Evented,../on,../topic,../touch,./common,./Mover,../_base/window".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j){return m("dojo.dnd.Moveable",[h],{handle:"",delay:0,skip:!1,constructor:function(b,c){this.node=f.byId(b);c||(c={});this.handle=c.handle?f.byId(c.handle):null;if(!this.handle)this.handle=this.node;this.delay=0<c.delay?c.delay:0;this.skip=c.skip;this.mover=c.mover?c.mover:g;this.events=[d(this.handle,a.press,i.hitch(this,"onMouseDown")),d(this.handle,"dragstart",i.hitch(this,"onSelectStart")),d(this.handle,"selectstart",i.hitch(this,"onSelectStart"))]},markupFactory:function(a,
b,c){return new c(b,a)},destroy:function(){k.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(c){if(!this.skip||!b.isFormElement(c)){if(this.delay)this.events.push(d(this.handle,a.move,i.hitch(this,"onMouseMove")),d(this.handle,a.release,i.hitch(this,"onMouseUp"))),this._lastX=c.pageX,this._lastY=c.pageY;else this.onDragDetected(c);l.stop(c)}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>
this.delay)this.onMouseUp(a),this.onDragDetected(a);l.stop(a)},onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();l.stop(a)},onSelectStart:function(a){(!this.skip||!b.isFormElement(a))&&l.stop(a)},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){c.publish("/dnd/move/start",a);e.add(j.body(),"dojoMove");e.add(this.node,"dojoMoveItem")},onMoveStop:function(a){c.publish("/dnd/move/stop",a);e.remove(j.body(),"dojoMove");e.remove(this.node,"dojoMoveItem")},
onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);var c=a.node.style;c.left=b.l+"px";c.top=b.t+"px";this.onMoved(a,b)},onMoving:function(){},onMoved:function(){}})})},"dojo/dnd/Mover":function(){define("../_base/array,../_base/declare,../_base/event,../_base/lang,../sniff,../_base/window,../dom,../dom-geometry,../dom-style,../Evented,../on,../touch,./common,./autoscroll".split(","),function(k,m,l,i,f,e,h,d,c,a,b,g,j,o){return m("dojo.dnd.Mover",[a],{constructor:function(a,c,d){this.node=
h.byId(a);this.marginBox={l:c.pageX,t:c.pageY};this.mouseButton=c.button;c=this.host=d;a=a.ownerDocument;this.events=[b(a,g.move,i.hitch(this,"onFirstMove")),b(a,g.move,i.hitch(this,"onMouseMove")),b(a,g.release,i.hitch(this,"onMouseUp")),b(a,"dragstart",l.stop),b(a.body,"selectstart",l.stop)];o.autoScrollStart(a);if(c&&c.onMoveStart)c.onMoveStart(this)},onMouseMove:function(a){o.autoScroll(a);var b=this.marginBox;this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);l.stop(a)},onMouseUp:function(a){(f("webkit")&&
f("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();l.stop(a)},onFirstMove:function(a){var b=this.node.style,g,j=this.host;switch(b.position){case "relative":case "absolute":g=Math.round(parseFloat(b.left))||0;b=Math.round(parseFloat(b.top))||0;break;default:b.position="absolute";b=d.getMarginBox(this.node);g=e.doc.body;var f=c.getComputedStyle(g),h=d.getMarginBox(g,f),f=d.getContentBox(g,f);g=b.l-(f.l-h.l);b=b.t-(f.t-h.t)}this.marginBox.l=g-this.marginBox.l;this.marginBox.t=
b-this.marginBox.t;if(j&&j.onFirstMove)j.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){k.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(k,m){var l=m.prototype.onMove;return k("dojo.dnd.TimedMoveable",m,{timeout:40,constructor:function(i,f){f||(f={});if(f.timeout&&"number"==typeof f.timeout&&0<=f.timeout)this.timeout=
f.timeout},onMoveStop:function(i){i._timer&&(clearTimeout(i._timer),l.call(this,i,i._leftTop));m.prototype.onMoveStop.apply(this,arguments)},onMove:function(i,f){i._leftTop=f;if(!i._timer){var e=this;i._timer=setTimeout(function(){i._timer=null;l.call(e,i,i._leftTop)},this.timeout)}}})})},"dijit/form/_FormMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/window".split(","),function(k,m,l,i,f,e){return m("dijit.form._FormMixin",null,{state:"",
_getDescendantFormWidgets:function(e){var d=[];k.forEach(e||this.getChildren(),function(c){"value"in c?d.push(c):d=d.concat(this._getDescendantFormWidgets(c.getChildren()))},this);return d},reset:function(){k.forEach(this._getDescendantFormWidgets(),function(e){e.reset&&e.reset()})},validate:function(){var f=!1;return k.every(k.map(this._getDescendantFormWidgets(),function(d){d._hasBeenBlurred=!0;var c=d.disabled||!d.validate||d.validate();!c&&!f&&(e.scrollIntoView(d.containerNode||d.domNode),d.focus(),
f=!0);return c}),function(d){return d})},setValues:function(e){l.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",e)},_setValueAttr:function(e){var d={};k.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(d[a.name]||(d[a.name]=[])).push(a)});for(var c in d)if(d.hasOwnProperty(c)){var a=d[c],b=i.getObject(c,!1,e);void 0!==b&&(i.isArray(b)||(b=[b]),"boolean"==typeof a[0].checked?k.forEach(a,function(a){a.set("value",
-1!=k.indexOf(b,a.value))}):a[0].multiple?a[0].set("value",b):k.forEach(a,function(a,c){a.set("value",b[c])}))}},getValues:function(){l.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var e={};k.forEach(this._getDescendantFormWidgets(),function(d){var c=d.name;if(c&&!d.disabled){var a=d.get("value");"boolean"==typeof d.checked?/Radio/.test(d.declaredClass)?!1!==a?i.setObject(c,a,e):(a=i.getObject(c,
!1,e),void 0===a&&i.setObject(c,null,e)):(d=i.getObject(c,!1,e),d||(d=[],i.setObject(c,d,e)),!1!==a&&d.push(a)):(d=i.getObject(c,!1,e),"undefined"!=typeof d?i.isArray(d)?d.push(a):i.setObject(c,[d,a],e):i.setObject(c,a,e))}});return e},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var e=k.map(this._descendants,function(d){return d.get("state")||""});return 0<=k.indexOf(e,"Error")?"Error":0<=k.indexOf(e,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},
connectChildren:function(e){this._descendants=this._getDescendantFormWidgets();k.forEach(this._descendants,function(d){d._started||d.startup()});e||this._onChildChange()},_onChildChange:function(e){(!e||"state"==e||"disabled"==e)&&this._set("state",this._getState());if(!e||"value"==e||"disabled"==e||"checked"==e)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);
this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var e=this;this.own(f(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(d){d.target!=e.domNode&&e._onChildChange(d.type.replace("attrmodified-",""))}));this.watch("state",function(d,c,a){this.onValidStateChange(""==a)})},destroy:function(){this.inherited(arguments)}})})},"dijit/_DialogMixin":function(){define(["dojo/_base/declare",
"./a11y"],function(k,m){return k("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var k=m._getTabNavigable(this.containerNode);this._firstFocusItem=k.lowest||k.first||this.closeButtonNode||this.domNode;this._lastFocusItem=k.last||k.highest||this._firstFocusItem}})})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare,dojo/dom-attr,dojo/window,./_Widget,./_TemplatedMixin,./BackgroundIframe".split(","),
function(k,m,l,i,f,e){return k("dijit.DialogUnderlay",[i,f],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_setDialogIdAttr:function(e){m.set(this.node,"id",e+"_underlay");this._set("dialogId",e)},_setClassAttr:function(e){this.node.className="dijitDialogUnderlay "+e;this._set("class",e)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode)},layout:function(){var e=this.node.style,
d=this.domNode.style;d.display="none";var c=l.getBox(this.ownerDocument);d.top=c.t+"px";d.left=c.l+"px";e.width=c.w+"px";e.height=c.h+"px";d.display="block"},show:function(){this.domNode.style.display="block";this.layout();this.bgIframe=new e(this.domNode)},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none"}})})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel,dojo/_base/lang,../_Widget,../_Container,./_ContentPaneResizeMixin,dojo/string,dojo/html,dojo/i18n!../nls/loading,dojo/_base/array,dojo/_base/declare,dojo/_base/Deferred,dojo/dom,dojo/dom-attr,dojo/_base/xhr,dojo/i18n,dojo/when".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p){return a("dijit.layout.ContentPane",[l,i,f],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:k._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},
onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,create:function(a,b){if((!a||!a.template)&&b&&!("href"in a)&&!("content"in a)){for(var b=g.byId(b),c=b.ownerDocument.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);a=m.delegate(a,{content:c})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var a=n.getLocalization("dijit","loading",this.lang);this.loadingMessage=e.substitute(this.loadingMessage,a);this.errorMessage=e.substitute(this.errorMessage,
a)},buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode;this.domNode.title="";j.get(this.domNode,"role")||this.domNode.setAttribute("role","group")},startup:function(){this.inherited(arguments);this._contentSetter&&c.forEach(this._contentSetter.parseResults,function(a){if(!a._started&&!a._destroyed&&m.isFunction(a.startup))a.startup(),a._started=!0},this)},setHref:function(a){k.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.",
"","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new b(m.hitch(this,"cancel"));this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){k.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href",
"");this.cancel();this.onLoadDeferred=new b(m.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||
this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new b(m.hitch(this,"cancel"));this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};
m.isObject(this.ioArgs)&&m.mixin(b,this.ioArgs);var c=this._xhrDfd=(this.ioMethod||o.get)(b),d;c.then(function(b){d=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(c){a._onError("Content",c)}},function(b){c.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return d});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){console.error("Error "+this.widgetId+
" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var b=this._contentSetter;c.forEach(this.getChildren(),function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});b&&(c.forEach(b.parseResults,function(b){if(!b._destroyed)b.destroyRecursive?
b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0}),delete b.parseResults);a||h._emptyNode(this.containerNode);delete this._singleChild},_setContent:function(a,b){this.destroyDescendants();var c=this._contentSetter;if(!(c&&c instanceof h._ContentSetter))c=this._contentSetter=new h._ContentSetter({node:this.containerNode,_onError:m.hitch(this,this._onError),onContentError:m.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+
this.id+" could not change content due to "+b.message,b)}})});var d=m.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),d=c.set(m.isObject(a)&&a.domNode?a.domNode:a,d),e=this;return p(d&&d.then?d:c.parseDeferred,function(){delete e._contentSetterParams;b||(e._started&&(delete e._started,e.startup(),e._scheduleLayout()),
e._onLoadHandler(a))})},_onError:function(a,b,c){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,dojo/query,dojo/sniff,../registry,../Viewport,./utils".split(","),
function(k,m,l,i,f,e,h,d,c,a,b){return m("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var b=this.getParent();this._childOfLayoutWidget=b&&b.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(a.on("resize",e.hitch(this,"resize")))}},_checkIfSingleChild:function(){var a=[],b=!1;h("> *",this.containerNode).some(function(d){var e=
c.byNode(d);e&&e.resize?a.push(e):d.offsetHeight&&(b=!0)});this._singleChild=1==a.length&&!b?a[0]:null;l.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(a,c){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();a&&i.setMarginBox(this.domNode,
a);var d=this.containerNode;if(d===this.domNode){var f=c||{};e.mixin(f,a||{});if(!("h"in f)||!("w"in f))f=e.mixin(i.getMarginBox(d),f);this._contentBox=b.marginBox2contentBox(d,f)}else this._contentBox=i.getContentBox(d);this._layoutChildren()},_layoutChildren:function(){this.doLayout&&this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||i.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else k.forEach(this.getChildren(),function(a){a.resize&&
a.resize()})},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!l.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dijit/layout/utils":function(){define("dojo/_base/array,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,../main".split(","),
function(k,m,l,i,f,e){function h(d,c){var a=d.resize?d.resize(c):l.setMarginBox(d.domNode,c);a?f.mixin(d,a):(f.mixin(d,l.getMarginBox(d.domNode)),f.mixin(d,c))}e=f.getObject("layout",!0,e);e.marginBox2contentBox=function(d,c){var a=i.getComputedStyle(d),b=l.getMarginExtents(d,a),e=l.getPadBorderExtents(d,a);return{l:i.toPixelValue(d,a.paddingLeft),t:i.toPixelValue(d,a.paddingTop),w:c.w-(b.w+e.w),h:c.h-(b.h+e.h)}};e.layoutChildren=function(d,c,a,b,e){c=f.mixin({},c);m.add(d,"dijitLayoutContainer");
a=k.filter(a,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(k.filter(a,function(a){return"center"==a.region||"client"==a.layoutAlign}));k.forEach(a,function(a){var d=a.domNode,f=a.region||a.layoutAlign;if(!f)throw Error("No region setting for "+a.id);var i=d.style;i.left=c.l+"px";i.top=c.t+"px";i.position="absolute";m.add(d,"dijitAlign"+(f.substring(0,1).toUpperCase()+f.substring(1)));d={};b&&b==a.id&&(d["top"==a.region||"bottom"==a.region?"h":"w"]=e);"top"==f||"bottom"==f?
(d.w=c.w,h(a,d),c.h-=a.h,"top"==f?c.t+=a.h:i.top=c.t+c.h+"px"):"left"==f||"right"==f?(d.h=c.h,h(a,d),c.w-=a.w,"left"==f?c.l+=a.w:i.left=c.l+c.w+"px"):("client"==f||"center"==f)&&h(a,c)})};return{marginBox2contentBox:e.marginBox2contentBox,layoutChildren:e.layoutChildren}})},"dojo/html":function(){define("./_base/kernel,./_base/lang,./_base/array,./_base/declare,./dom,./dom-construct,./parser".split(","),function(k,m,l,i,f,e,h){var d={};m.setObject("dojo.html",d);var c=0;d._secureForInnerHtml=function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,
"")};d._emptyNode=e.empty;d._setNodeContent=function(a,b){e.empty(a);if(b)if("string"==typeof b&&(b=e.toDom(b,a.ownerDocument)),!b.nodeType&&m.isArrayLike(b))for(var c=b.length,d=0;d<b.length;d=c==b.length?d+1:0)e.place(b[d],a,"last");else e.place(b,a,"last");return a};d._ContentSetter=i("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:k._scopeName,startup:!0,constructor:function(a,b){m.mixin(this,a||{});b=this.node=f.byId(this.node||
b);if(!this.id)this.id=["Setter",b?b.id||b.tagName:"",c++].join("_")},set:function(a,b){if(void 0!==a)this.content=a;b&&this._mixin(b);this.onBegin();this.setContent();var c=this.onEnd();return c&&c.then?c:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=d._setNodeContent(a,this.content)}catch(b){var c=this.onContentError(b);try{a.innerHTML=c}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+
e.message,e)}}this.node=a},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(l.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);d._emptyNode(this.node)},onBegin:function(){var a=this.content;if(m.isString(a)&&(this.cleanContent&&(a=d._secureForInnerHtml(a)),this.extractContent)){var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=
b[1])}this.empty();this.content=a;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+a},_mixin:function(a){var b={},c;for(c in a)c in b||(this[c]=a[c])},_parse:function(){var a=this.node;try{var b={};l.forEach(["dir","lang",
"textDir"],function(a){this[a]&&(b[a]=this[a])},this);var c=this;this.parseDeferred=h.parse({rootNode:a,noStart:!this.startup,inherited:b,scope:this.parserScope}).then(function(a){return c.parseResults=a})}catch(d){this._onError("Content",d,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(a,b,c){a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&d._setNodeContent(this.node,a,!0)}});d.set=function(a,b,c){void 0==b&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),
b="");return c?(new d._ContentSetter(m.mixin(c,{content:b,node:a}))).set():d._setNodeContent(a,b,!0)};return d})},"dijit/nls/loading":function(){define({root:{loadingState:"Loading...",errorState:"Sorry, an error occurred"},zh:!0,"zh-tw":!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,az:!0,ar:!0})},"url:dijit/templates/Dialog.html":'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\r\n\t<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\r\n\t\t<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\r\n\t\t\t\trole="header" level="1"></span>\r\n\t\t<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabIndex="-1">\r\n\t\t\t<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\r\n\t\t</span>\r\n\t</div>\r\n\t<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\r\n</div>\r\n',
"dijit/nls/common":function(){define({root:{buttonOk:"OK",buttonCancel:"Cancel",buttonSave:"Save",itemClose:"Close"},zh:!0,"zh-tw":!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,az:!0,ar:!0})},"gridx/modules/pagination/PaginationBarDD":function(){define("dojo/_base/declare,../../core/_Module,./_PaginationBarBase,./DropDownPager,dijit/form/FilteringSelect,dijit/form/Select".split(","),
function(k,m,l,i,f,e){return k(l,{stepperClass:f,sizeSwitchClass:e,pagerClass:i})})},"gridx/modules/pagination/DropDownPager":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/store/Memory,./_PagerBase,../../core/util,dojo/text!../../templates/PaginationBarDD.html".split(","),function(k,m,l,i,f,e){return k(i,{templateString:e,refresh:function(){this._createDescription();this._createPageStepper();this._createPageSizeSwitch()},_onSwitchPage:function(e){this._pageStepperSelect.set("value",e+
1)},_onChangePageSize:function(){this._createPageStepper()},_onSizeChange:function(){this._createDescription();this._createPageStepper()},_createPageStepper:function(){var e=this.module;if(this._toggleNode("gridxPagerStepper",e._exist(this.position,"stepper"))){var d=[],c,a=this.pagination,b=a.pageCount(),g=a.currentPage(),j=this._pageStepperSelect,f,i;for(f=0;f<b;++f)i=f+1,i={id:i,label:i,value:i},d.push(i),g==f&&(c=i);d=new l({data:d});j?(j.set("store",d),j.set("value",g+1)):(g=this._pageStepperContainer.firstChild,
j=e.arg("stepperClass"),e=m.mixin({store:d,searchAttr:"label",item:c,"class":"gridxPagerStepperWidget",onChange:function(b){a.gotoPage(b-1)}},e.arg("stepperProps")||{}),j=this._pageStepperSelect=new j(e),j.placeAt(this._pageStepperContainer,"last"),j.startup(),g.setAttribute("for",j.focusNode.id));j.set("disabled",1>=b)}},_createPageSizeSwitch:function(){var e=this.module;if(this._toggleNode("gridxPagerSizeSwitch",e._exist(this.position,"sizeSwitch"))){for(var d=[],c=this.pagination,a=c.pageSize(),
b=e.arg("pageSizeAllText",this.pageSizeAll),g=this._sizeSwitchSelect,j=e.arg("sizes"),f=0,i=j.length;f<i;++f){var k=j[f],l=!(0<k);d.push({label:l?b:k,value:l?-1:k,selected:a==k||l&&c.isAll()})}g?(g.removeOption(g.getOptions()),g.addOption(d)):(a=this._sizeSwitchContainer.firstChild,g=e.arg("sizeSwitchClass"),e=m.mixin({options:d,"class":"gridxPagerSizeSwitchWidget",onChange:function(a){c.setPageSize(0>a?0:a)}},e.arg("sizeSwitchProps")||{}),g=this._sizeSwitchSelect=new g(e),g.placeAt(this._sizeSwitchContainer,
"last"),g.startup(),a.setAttribute("for",g.focusNode.id))}},_initFocus:function(){var e=this,d=e.module.grid.focus,c=e.position,a=e.focusPriority;d&&(d.registerArea({name:c+"PageStepper",priority:a,focusNode:e._pageStepperContainer,doFocus:function(a){f.stopEvent(a);e._pageStepperSelect.focus();return!0}}),d.registerArea({name:c+"PageSizeSwitch",priority:a+0.0010,focusNode:e._sizeSwitchContainer,doFocus:function(a){f.stopEvent(a);e._sizeSwitchSelect.focus();return!0}}))}})})},"url:gridx/templates/PaginationBarDD.html":'<div class=\'gridxPager\'\r\n\t><table class=\'gridxPagerInner\' cellpadding="0" cellspacing="0" role="presentation"\r\n\t\t><tr\r\n\t\t\t><td class="gridxPagerDescriptionTD"\r\n\t\t\t\t><div class="gridxPagerDescription"\r\n\t\t\t\t\tdata-dojo-attach-point="_descContainer"\r\n\t\t\t\t></div\r\n\t\t\t></td\r\n\t\t\t><td class="gridxPagerStepperTD"\r\n\t\t\t\t><div class="gridxPagerStepper"\r\n\t\t\t\t\tdata-dojo-attach-point="_pageStepperContainer"\r\n\t\t\t\t\t><label id="${id}-pagerStepperLabel" class=\'gridxPagerLabel\'>${pageLabel}</label\r\n\t\t\t\t></div\r\n\t\t\t></td\r\n\t\t\t><td class="gridxPagerSizeSwitchTD"\r\n\t\t\t\t><div class="gridxPagerSizeSwitch"\r\n\t\t\t\t\tdata-dojo-attach-point=\'_sizeSwitchContainer\'\r\n\t\t\t\t\t><label id="${id}-pagerSizeSwitchLabel" class=\'gridxPagerLabel\'>${pageSizeLabel}</label\r\n\t\t\t\t></div\r\n\t\t\t></td\r\n\t\t></tr\r\n\t></table\r\n></div>\r\n',
"dijit/form/FilteringSelect":function(){define("dojo/data/util/filter,dojo/_base/declare,dojo/_base/lang,dojo/when,./MappedTextBox,./ComboBoxMixin".split(","),function(k,m,l,i,f,e){return m("dijit.form.FilteringSelect",[f,e],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(e,d,c,a){d&&
d[this.searchAttr]!==this._lastQuery||!d&&e.length&&this.store.getIdentity(e[0])!=this._lastQuery||(e.length?this.set("item",e[0],a):this.set("value","",a||void 0===a&&!this.focused,this.textbox.value,null))},_openResultList:function(e,d,c){d[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(e,d,c,a){this._onChangeActive||(d=null);
if(void 0===a){if(null===e||""===e)if(e="",!l.isString(c)){this._setDisplayedValueAttr(c||"",d);return}var b=this;this._lastQuery=e;i(this.store.get(e),function(a){b._callbackSetLabel(a?[a]:[],void 0,void 0,d)})}else this.valueNode.value=e,this.inherited(arguments)},_setItemAttr:function(e,d,c){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(e){return e.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(e,d){null==e&&(e="");if(!this._created){if(!("displayedValue"in
this.params))return;d=!1}if(this.store){this.closeDropDown();var c=l.clone(this.query),a=this._getDisplayQueryString(e),b;this.store._oldAPI?b=a:(b=k.patternToRegExp(a,this.ignoreCase),b.toString=function(){return a});this._lastQuery=c[this.searchAttr]=b;this._lastDisplayedValue=this.textbox.value=e;this._set("displayedValue",e);var g=this,j={ignoreCase:this.ignoreCase,deep:!0};l.mixin(j,this.fetchProperties);this._fetchHandle=this.store.query(c,j);i(this._fetchHandle,function(a){g._fetchHandle=null;
g._callbackSetLabel(a||[],c,j,d)},function(a){g._fetchHandle=null;g._cancelingQuery||console.error("dijit.form.FilteringSelect: "+a.toString())})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"dijit/form/ComboBoxMixin":function(){define("dojo/_base/declare,dojo/_base/Deferred,dojo/_base/kernel,dojo/_base/lang,dojo/store/util/QueryResults,./_AutoCompleterMixin,./_ComboBoxMenu,../_HasDropDown,dojo/text!./templates/DropDownBox.html".split(","),function(k,m,l,i,f,e,h,d,c){return k("dijit.form.ComboBoxMixin",
[d,e],{dropDownClass:h,hasDownArrow:!0,templateString:c,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_setHasDownArrowAttr:function(a){this._set("hasDownArrow",a);this._buttonNode.style.display=a?"":"none"},_showResultList:function(){this.displayMessage("");this.inherited(arguments)},_setStoreAttr:function(a){a.get||i.mixin(a,{_oldAPI:!0,get:function(a){var c=new m;this.fetchItemByIdentity({identity:a,onItem:function(a){c.resolve(a)},onError:function(a){c.reject(a)}});
return c.promise},query:function(a,c){var d=new m(function(){e.abort&&e.abort()}),e=this.fetch(i.mixin({query:a,onBegin:function(a){d.total=a},onComplete:function(a){d.resolve(a)},onError:function(a){d.reject(a)}},c));return f(d)}});this._set("store",a)},postMixInProperties:function(){var a=this.params.store||this.store;a&&this._setStoreAttr(a);this.inherited(arguments);if(!this.params.store&&!this.store._oldAPI){var b=this.declaredClass;i.mixin(this.store,{getValue:function(a,c){l.deprecated(b+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly",
"","2.0");return a[c]},getLabel:function(a){l.deprecated(b+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return a.name},fetch:function(a){l.deprecated(b+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");require(["dojo/data/ObjectStore"],i.hitch(this,function(b){(new b({objectStore:this})).fetch(a)}))}})}}})})},"dijit/form/_AutoCompleterMixin":function(){define("dojo/data/util/filter,dojo/_base/declare,dojo/dom-attr,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/query,dojo/regexp,dojo/sniff,dojo/string,./DataList,../registry,./_TextBoxMixin,./_SearchMixin".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j,o){return m("dijit.form._AutoCompleterMixin",o,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(a){var b=0;if("number"==typeof a.selectionStart)b=a.selectionStart;else if(c("ie")){var d=a.ownerDocument.selection.createRange().duplicate(),a=a.createTextRange();d.move("character",0);a.move("character",0);try{a.setEndPoint("EndToEnd",d),b=(""+a.text).replace(/\r/g,"").length}catch(e){}}return b},
_setCaretPos:function(a,b){b=parseInt(b);j.selectInputText(a,b,b)},_setDisabledAttr:function(a){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",a?"true":"false")},_onKey:function(a){if(!(32<=a.charCode)){var b=a.charCode||a.keyCode;if(!(b==f.ALT||b==f.CTRL||b==f.META||b==f.SHIFT)){var c=this.dropDown,d=null;this._abortQuery();this.inherited(arguments);if(!a.altKey&&!a.ctrlKey&&!a.metaKey)switch(this._opened&&(d=c.getHighlightedOption()),b){case f.PAGE_DOWN:case f.DOWN_ARROW:case f.PAGE_UP:case f.UP_ARROW:this._opened&&
this._announceOption(d);i.stop(a);break;case f.ENTER:if(d){if(d==c.nextButton){this._nextSearch(1);i.stop(a);break}else if(d==c.previousButton){this._nextSearch(-1);i.stop(a);break}i.stop(a)}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case f.TAB:b=this.get("displayedValue");if(c&&(b==c._messages.previousMessage||b==c._messages.nextMessage))break;d&&this._selectOption(d);case f.ESCAPE:if(this._opened)this._lastQuery=null,this.closeDropDown()}}}},_autoCompleteText:function(a){var b=
this.focusNode;j.selectInputText(b,b.value.length);var c=this.ignoreCase?"toLowerCase":"substr";if(0==a[c](0).indexOf(this.focusNode.value[c](0))){if(c=this.autoComplete?this._getCaretPos(b):b.value.length,c+1>b.value.length)b.value=a,j.selectInputText(b,c)}else b.value=a,j.selectInputText(b)},_openResultList:function(a,b,c){var d=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();!a.length&&0==c.start?this.closeDropDown():(this._nextSearch=this.dropDown.onPage=e.hitch(this,function(b){a.nextPage(-1!==
b);this.focus()}),this.dropDown.createOptions(a,c,e.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),"direction"in c?(c.direction?this.dropDown.highlightFirstOption():c.direction||this.dropDown.highlightLastOption(),d&&this._announceOption(this.dropDown.getHighlightedOption())):this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(b[this.searchAttr].toString())&&this._announceOption(this.dropDown.containerNode.firstChild.nextSibling))},_showResultList:function(){this.closeDropDown(!0);
this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"),this.focusNode.removeAttribute("aria-activedescendant"))},_setBlurValue:function(){var a=this.get("displayedValue"),b=this.dropDown;b&&(a==b._messages.previousMessage||a==b._messages.nextMessage)?this._setValueAttr(this._lastValueReported,
!0):"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",a)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),this._refreshState())},_setItemAttr:function(a,b,c){var d="";a&&(c||(c=this.store._oldAPI?this.store.getValue(a,this.searchAttr):a[this.searchAttr]),d=this._getValueField()!=this.searchAttr?this.store.getIdentity(a):c);this.set("value",d,b,c,a)},_announceOption:function(a){if(a){var b;if(a==this.dropDown.nextButton||a==this.dropDown.previousButton)b=
a.innerHTML,this.item=void 0,this.value="";else{var c=this.dropDown.items[a.getAttribute("item")];b=(this.store._oldAPI?this.store.getValue(c,this.searchAttr):c[this.searchAttr]).toString();this.set("item",c,!1,b)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",l.get(a,"id"));this._autoCompleteText(b)}},_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);this._setCaretPos(this.focusNode,this.focusNode.value.length);
this._handleOnChange(this.value,!0)},_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0;this.inherited(arguments)},_startSearch:function(a){if(!this.dropDown){var b=this.id+"_popup";this.dropDown=new (e.isString(this.dropDownClass)?e.getObject(this.dropDownClass,!1):this.dropDownClass)({onChange:e.hitch(this,this._selectOption),id:b,dir:this.dir,textDir:this.textDir});this.focusNode.removeAttribute("aria-activedescendant");this.textbox.setAttribute("aria-owns",
b)}this._lastInput=a;this.inherited(arguments)},_getValueField:function(){return this.searchAttr},postMixInProperties:function(){this.inherited(arguments);if(!this.store&&(this.store=new b({},this.srcNodeRef),!("value"in this.params))){var a=this.item=this.store.fetchSelectedItem();if(a){var c=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(a,c):a[c]}}},postCreate:function(){var a=h('label[for="'+this.id+'"]');if(a.length){if(!a[0].id)a[0].id=this.id+"_label";this.domNode.setAttribute("aria-labelledby",
a[0].id)}this.inherited(arguments);this.connect(this,"onSearch","_openResultList")},_getMenuLabelFromItem:function(a){var a=this.labelFunc(a,this.store),b=this.labelType;"none"!=this.highlightMatch&&"text"==this.labelType&&this._lastInput&&(a=this.doHighlight(a,this._lastInput),b="html");return{html:"html"==b,label:a}},doHighlight:function(a,b){var c=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),e=this.queryExpr.indexOf("${0}"),b=d.escapeString(b);return this._escapeHtml(a.replace(RegExp((0==
e?"^":"")+"("+b+")"+(e==this.queryExpr.length-4?"$":""),c),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,'<span class="dijitComboBoxHighlightMatch">$1</span>')},_escapeHtml:function(a){return a=(""+a).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;")},reset:function(){this.item=null;this.inherited(arguments)},labelFunc:function(a,b){return(b._oldAPI?b.getValue(a,this.labelAttr||this.searchAttr):a[this.labelAttr||this.searchAttr]).toString()},_setValueAttr:function(a,
b,c,d){this._set("item",d||null);null==a&&(a="");this.inherited(arguments)},_setTextDirAttr:function(a){this.inherited(arguments);this.dropDown&&this.dropDown._set("textDir",a)}})})},"dijit/form/DataList":function(){define("dojo/_base/declare,dojo/dom,dojo/_base/lang,dojo/query,dojo/store/Memory,../registry".split(","),function(k,m,l,i,f,e){function h(d){return{id:d.value,value:d.value,name:l.trim(d.innerText||d.textContent||"")}}return k("dijit.form.DataList",f,{constructor:function(d,c){this.domNode=
m.byId(c);l.mixin(this,d);this.id&&e.add(this);this.domNode.style.display="none";this.inherited(arguments,[{data:i("option",this.domNode).map(h)}])},destroy:function(){e.remove(this.id)},fetchSelectedItem:function(){var d=i("> option[selected]",this.domNode)[0]||i("> option",this.domNode)[0];return d&&h(d)}})})},"dijit/form/_SearchMixin":function(){define("dojo/data/util/filter,dojo/_base/declare,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/query,dojo/sniff,dojo/string,dojo/when,../registry".split(","),
function(k,m,l,i,f,e,h,d,c,a){return m("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_abortQuery:function(){if(this.searchTimer)this.searchTimer=this.searchTimer.remove();if(this._queryDeferHandle)this._queryDeferHandle=this._queryDeferHandle.remove();if(this._fetchHandle){if(this._fetchHandle.abort)this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1;if(this._fetchHandle.cancel)this._cancelingQuery=
!0,this._fetchHandle.cancel(),this._cancelingQuery=!1;this._fetchHandle=null}},_onInput:function(a){this.inherited(arguments);if(!this.disabled&&!this.readOnly){var c=a.charOrCode;if(!a.altKey&&!((a.ctrlKey||a.metaKey)&&"x"!=c&&"v"!=c||c==i.SHIFT)){var d=!1;this._prev_key_backspace=!1;switch(c){case i.DELETE:case i.BACKSPACE:d=this._maskValidSubsetError=this._prev_key_backspace=!0;break;default:d="string"==typeof c||229==c}if(d)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",1);
else this.onSearch()}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"))},_startSearch:function(a){this._abortQuery();var e=this,j=f.clone(this.query),h={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},i=d.substitute(this.queryExpr,[a]),p,l=function(){var a=e._fetchHandle=e.store.query(j,h);!e.disabled&&!(e.readOnly||p!==e._lastQuery)&&c(a,function(b){e._fetchHandle=null;!e.disabled&&!e.readOnly&&
p===e._lastQuery&&c(a.total,function(a){b.total=a;var c=e.pageSize;if(isNaN(c)||c>b.total)c=b.total;b.nextPage=function(a){h.direction=a=!1!==a;h.count=c;if(a){if(h.start+=b.length,h.start>=b.total)h.count=0}else if(h.start-=c,0>h.start)h.count=Math.max(c+h.start,0),h.start=0;0>=h.count?(b.length=0,e.onSearch(b,j,h)):l()};e.onSearch(b,j,h)})},function(a){e._fetchHandle=null;e._cancelingQuery||console.error(e.declaredClass+" "+a.toString())})};f.mixin(h,this.fetchProperties);this.store._oldAPI?p=i:
(p=k.patternToRegExp(i,this.ignoreCase),p.toString=function(){return i});this._lastQuery=j[this.searchAttr]=p;this._queryDeferHandle=this.defer(l,this.searchDelay)},constructor:function(){this.query={};this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var b=this.list;if(b)this.store=a.byId(b)}this.inherited(arguments)}})})},"dijit/form/_ComboBoxMenu":function(){define("dojo/_base/declare,dojo/dom-class,dojo/dom-style,dojo/keys,../_WidgetBase,../_TemplatedMixin,./_ComboBoxMenuMixin,./_ListMouseMixin".split(","),
function(k,m,l,i,f,e,h,d){return k("dijit.form._ComboBoxMenu",[f,e,d,h],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;'><div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div><div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div></div>",baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);
this.isLeftToRight()||(m.add(this.previousButton,"dijitMenuItemRtl"),m.add(this.nextButton,"dijitMenuItemRtl"))},_createMenuItem:function(){var c=this.ownerDocument.createElement("div");c.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");c.setAttribute("role","option");return c},onHover:function(c){m.add(c,"dijitMenuItemHover")},onUnhover:function(c){m.remove(c,"dijitMenuItemHover")},onSelect:function(c){m.add(c,"dijitMenuItemSelected")},onDeselect:function(c){m.remove(c,
"dijitMenuItemSelected")},_page:function(c){var a=0,b=this.domNode.scrollTop,d=l.get(this.domNode,"height");for(this.getHighlightedOption()||this.selectNextNode();a<d;){var e=this.getHighlightedOption();if(c){if(!e.previousSibling||"none"==e.previousSibling.style.display)break;this.selectPreviousNode()}else{if(!e.nextSibling||"none"==e.nextSibling.style.display)break;this.selectNextNode()}e=this.domNode.scrollTop;a+=(e-b)*(c?-1:1);b=e}},handleKey:function(c){switch(c.charOrCode){case i.DOWN_ARROW:return this.selectNextNode(),
!1;case i.PAGE_DOWN:return this._page(!1),!1;case i.UP_ARROW:return this.selectPreviousNode(),!1;case i.PAGE_UP:return this._page(!0),!1;default:return!0}}})})},"dijit/form/_ComboBoxMenuMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(k,m,l,i){return m("dijit.form._ComboBoxMenuMixin",null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=i.getLocalization("dijit.form","ComboBox",
this.lang)},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages.previousMessage;this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(f){this.value=f;this.onChange(f)},onClick:function(f){if(f==this.previousButton)this._setSelectedAttr(null),this.onPage(-1);else if(f==this.nextButton)this._setSelectedAttr(null),this.onPage(1);else this.onChange(f)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},
_createOption:function(f,e){var h=this._createMenuItem(),d=e(f);d.html?h.innerHTML=d.label:h.appendChild(h.ownerDocument.createTextNode(d.label));if(""==h.innerHTML)h.innerHTML="&#160;";this.applyTextDir(h,h.innerText||h.textContent||"");return h},createOptions:function(f,e,h){this.items=f;this.previousButton.style.display=0==e.start?"none":"";l.set(this.previousButton,"id",this.id+"_prev");k.forEach(f,function(c,a){var b=this._createOption(c,h);b.setAttribute("item",a);l.set(b,"id",this.id+a);this.nextButton.parentNode.insertBefore(b,
this.nextButton)},this);var d=!1;f.total&&!f.total.then&&-1!=f.total?e.start+e.count<f.total?d=!0:e.start+e.count>f.total&&e.count==f.length&&(d=!0):e.count==f.length&&(d=!0);this.nextButton.style.display=d?"":"none";l.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var f=this.containerNode;2<f.childNodes.length;)f.removeChild(f.childNodes[f.childNodes.length-2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},
selectFirstNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}})})},"dijit/form/nls/ComboBox":function(){define({root:{previousMessage:"Previous choices",nextMessage:"More choices"},zh:!0,"zh-tw":!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,
nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,az:!0,ar:!0})},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/mouse","dojo/on","dojo/touch","./_ListBase"],function(k,m,l,i,f){return k("dijit.form._ListMouseMixin",f,{postCreate:function(){this.inherited(arguments);this.own(l(this.domNode,i.press,function(e){e.preventDefault()}));this._listConnect(i.press,"_onMouseDown");this._listConnect(i.release,"_onMouseUp");this._listConnect(m.enter,
"_onMouseOver");this._listConnect(m.leave,"_onMouseOut")},_onMouseDown:function(e,f){if(this._hoveredNode)this.onUnhover(this._hoveredNode),this._hoveredNode=null;this._isDragging=!0;this._setSelectedAttr(f)},_onMouseUp:function(e,f){this._isDragging=!1;var d=this.selected,c=this._hoveredNode;if(d&&f==d)this.onClick(d);else c&&f==c&&(this._setSelectedAttr(c),this.onClick(c))},_onMouseOut:function(){if(this._hoveredNode)this.onUnhover(this._hoveredNode),this._hoveredNode=null;if(this._isDragging)this._cancelDrag=
(new Date).getTime()+1E3},_onMouseOver:function(e,f){if(this._cancelDrag){if((new Date).getTime()>this._cancelDrag)this._isDragging=!1;this._cancelDrag=null}this._hoveredNode=f;this.onHover(f);this._isDragging&&this._setSelectedAttr(f)}})})},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(k,m,l){return k("dijit.form._ListBase",null,{selected:null,_listConnect:function(i,f){var e=this;return e.own(m(e.containerNode,m.selector(function(e,d,c){return e.parentNode==
c},i),function(h){h.preventDefault();e[f](h,this)}))},selectFirstNode:function(){for(var i=this.containerNode.firstChild;i&&"none"==i.style.display;)i=i.nextSibling;this._setSelectedAttr(i)},selectLastNode:function(){for(var i=this.containerNode.lastChild;i&&"none"==i.style.display;)i=i.previousSibling;this._setSelectedAttr(i)},selectNextNode:function(){var i=this.selected;if(i){for(i=i.nextSibling;i&&"none"==i.style.display;)i=i.nextSibling;i?this._setSelectedAttr(i):this.selectFirstNode()}else this.selectFirstNode()},
selectPreviousNode:function(){var i=this.selected;if(i){for(i=i.previousSibling;i&&"none"==i.style.display;)i=i.previousSibling;i?this._setSelectedAttr(i):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(i){if(this.selected!=i){var f=this.selected;if(f)this.onDeselect(f),this.selected=null;if(i)this.selected=i,l.scrollIntoView(i),this.onSelect(i)}else if(i)this.onSelect(i)}})})},"dijit/form/Select":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-attr,dojo/dom-class,dojo/dom-geometry,dojo/_base/event,dojo/i18n,dojo/_base/lang,dojo/sniff,./_FormSelectWidget,../_HasDropDown,../Menu,../MenuItem,../MenuSeparator,../Tooltip,dojo/text!./templates/Select.html,dojo/i18n!./nls/validate".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p){var r=m("dijit.form._SelectMenu",g,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);var a=this.menuTableNode=this.domNode,b=this.domNode=this.ownerDocument.createElement("div");b.style.cssText="overflow-x: hidden; overflow-y: scroll";a.parentNode&&a.parentNode.replaceChild(b,a);i.remove(a,"dijitMenuTable");b.className=a.className+" dijitSelectMenu";a.className="dijitReset dijitMenuTable";a.setAttribute("role","listbox");b.setAttribute("role",
"presentation");b.appendChild(a)},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onselectstart",e.stop)},focus:function(){var a=!1,b=this.parentWidget.value;d.isArray(b)&&(b=b[b.length-1]);b&&k.forEach(this.parentWidget._getChildren(),function(c){c.option&&b===c.option.value&&(a=!0,this.focusChild(c,!1))},this);a||this.inherited(arguments)},resize:function(a){if(a&&(f.setMarginBox(this.domNode,a),"w"in a))this.menuTableNode.style.width="100%"}}),m=m("dijit.form.Select",
[a,b],{baseClass:"dijitSelect dijitValidationTextBox",templateString:p,_buttonInputDisabled:c("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"&#160;",_isLoaded:!1,_childrenLoaded:!1,_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var a=this.srcNodeRef.selectedIndex||0;this.value=this.options[0<=a?a:0].value}this.dropDown=new r({id:this.id+"_menu",parentWidget:this});i.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,
"Menu "))},_getMenuItemForOption:function(a){if(!a.value&&!a.label)return new o({ownerDocument:this.ownerDocument});var b=d.hitch(this,"_setValueAttr",a),a=new j({option:a,label:a.label||this.emptyLabel,onClick:b,ownerDocument:this.ownerDocument,dir:this.dir,disabled:a.disabled||!1});a.focusNode.setAttribute("role","listitem");return a},_addOptionItem:function(a){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(a))},_getChildren:function(){return!this.dropDown?[]:this.dropDown.getChildren()},
_loadChildren:function(a){!0===a?(this.dropDown&&delete this.dropDown.focusedChild,this.options.length?this.inherited(arguments):(k.forEach(this._getChildren(),function(a){a.destroyRecursive()}),this.dropDown.addChild(new j({ownerDocument:this.ownerDocument,label:this.emptyLabel})))):this._updateSelection();this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);
this._refreshState()},_setValueAttr:function(a){this.inherited(arguments);l.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setOptionsAttr:function(a){this._isLoaded=!1;this._set("options",a)},_setDisplay:function(a){a=a||this.emptyLabel;this.containerNode.innerHTML='<span class="dijitReset dijitInline '+
this.baseClass.replace(/\s+|$/g,"Label ")+'">'+a+"</span>";this.focusNode.setAttribute("aria-valuetext",a)},validate:function(a){a=this.disabled||this.isValid(a);this._set("state",a?"":this._hasBeenBlurred?"Error":"Incomplete");this.focusNode.setAttribute("aria-invalid",a?"false":"true");var b=a?"":this._missingMsg;b&&this.focused&&this._hasBeenBlurred?n.show(b,this.domNode,this.tooltipPosition,!this.isLeftToRight()):n.hide(this.domNode);this._set("message",b);return a},isValid:function(){return!this.required||
0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);n.hide(this.domNode);this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=h.getLocalization("dijit.form","validate",this.lang).missingMessage},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onselectstart",e.stop);9>c("ie")&&this.defer(function(){try{var a=domStyle.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;if(b){var c=this.domNode.getElementsByTagName("INPUT");
if(c)for(a=0;a<c.length;a++)c[a].style.fontFamily=b}}}catch(d){}})},_setStyleAttr:function(a){this.inherited(arguments);i.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(a){this._loadChildren(!0);this._isLoaded=!0;a()},closeDropDown:function(){this.inherited(arguments);if(this.dropDown&&this.dropDown.menuTableNode)this.dropDown.menuTableNode.style.width=""},destroy:function(a){this.dropDown&&
!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(a),delete this.dropDown);this.inherited(arguments)},_onFocus:function(){this.validate(!0);this.inherited(arguments)},_onBlur:function(){n.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});m._Menu=r;return m})},"dijit/form/_FormSelectWidget":function(){define("dojo/_base/array,dojo/_base/Deferred,dojo/aspect,dojo/data/util/sorter,dojo/_base/declare,dojo/dom,dojo/dom-class,dojo/_base/kernel,dojo/_base/lang,dojo/query,dojo/when,dojo/store/util/QueryResults,./_FormValueWidget".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j){return f("dijit.form._FormSelectWidget",j,{multiple:!1,options:null,store:null,query:null,queryOptions:null,labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,onLoadDeferred:null,getOptions:function(a){var b=a,d=this.options||[],e=d.length;if(void 0===b)return d;if(c.isArray(b))return k.map(b,"return this.getOptions(item);",this);c.isObject(a)&&(k.some(this.options,function(a,c){return a===b||a.value&&a.value===b.value?(b=c,!0):!1})||(b=-1));if("string"==
typeof b)for(a=0;a<e;a++)if(d[a].value===b){b=a;break}return"number"==typeof b&&0<=b&&b<e?this.options[b]:null},addOption:function(a){c.isArray(a)||(a=[a]);k.forEach(a,function(a){a&&c.isObject(a)&&this.options.push(a)},this);this._loadChildren()},removeOption:function(a){c.isArray(a)||(a=[a]);a=this.getOptions(a);k.forEach(a,function(a){if(a)this.options=k.filter(this.options,function(b){return b.value!==a.value||b.label!==a.label}),this._removeOptionItem(a)},this);this._loadChildren()},updateOption:function(a){c.isArray(a)||
(a=[a]);k.forEach(a,function(a){var b=this.getOptions(a),c;if(b)for(c in a)b[c]=a[c]},this);this._loadChildren()},setStore:function(a,d,e){var j=this.store,e=e||{};if(j!==a){for(var f;f=this._notifyConnections.pop();)f.remove();if(!a.get&&(c.mixin(a,{_oldAPI:!0,get:function(a){var b=new m;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,b){var d,e=new m(function(){d.abort&&d.abort()});d=this.fetch(c.mixin({query:a,
onBegin:function(a){e.total=a},onComplete:function(a){e.resolve(a)},onError:function(a){e.reject(a)}},b));return new g(e)}}),a.getFeatures()["dojo.data.api.Notification"]))this._notifyConnections=[l.after(a,"onNew",c.hitch(this,"_onNewItem"),!0),l.after(a,"onDelete",c.hitch(this,"_onDeleteItem"),!0),l.after(a,"onSet",c.hitch(this,"_onSetItem"),!0)];this._set("store",a)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();e.query&&
(this._set("query",e.query),this._set("queryOptions",e.queryOptions));if(a)this._loadingStore=!0,this.onLoadDeferred=new m,this._queryRes=a.query(this.query,this.queryOptions),b(this._queryRes,c.hitch(this,function(b){if(this.sortByLabel&&!e.sort&&b.length)if(b[0].getValue)b.sort(i.createSortFunction([{attribute:a.getLabelAttributes(b[0])[0]}],a));else{var g=this.labelAttr;b.sort(function(a,b){return a[g]>b[g]?1:b[g]>a[g]?-1:0})}e.onFetch&&(b=e.onFetch.call(this,b,e));k.forEach(b,function(a){this._addOptionForItem(a)},
this);this._queryRes.observe&&this._queryRes.observe(c.hitch(this,function(a,b,c){b==c?this._onSetItem(a):(-1!=b&&this._onDeleteItem(a),-1!=c&&this._onNewItem(a))}),!0);this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:d);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(b):this._loadChildren();this.onLoadDeferred.resolve(!0);this.onSetStore()}),function(a){console.error("dijit.form.Select: "+a.toString());this.onLoadDeferred.reject(a)});return j},
_setValueAttr:function(a,b){this._onChangeActive||(b=null);if(this._loadingStore)this._pendingValue=a;else{var d=this.getOptions()||[];c.isArray(a)||(a=[a]);k.forEach(a,function(b,e){c.isObject(b)||(b+="");"string"===typeof b&&(a[e]=k.filter(d,function(a){return a.value===b})[0]||{value:"",label:""})},this);a=k.filter(a,function(a){return a&&a.value});if(!this.multiple&&(!a[0]||!a[0].value)&&d.length)a[0]=d[0];k.forEach(d,function(b){b.selected=k.some(a,function(a){return a.value===b.value})});var e=
k.map(a,function(a){return a.value}),g=k.map(a,function(a){return a.label});"undefined"==typeof e||"undefined"==typeof e[0]||(this._setDisplay(this.multiple?g:g[0]),this.inherited(arguments,[this.multiple?e:e[0],b]),this._updateSelection())}},_getDisplayedValueAttr:function(){var a=this.get("value");c.isArray(a)||(a=[a]);a=k.map(this.getOptions(a),function(a){return a&&"label"in a?a.label:a?a.value:null},this);return this.multiple?a:a[0]},_loadChildren:function(){this._loadingStore||(k.forEach(this._getChildren(),
function(a){a.destroyRecursive()}),k.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this._set("value",this._getValueFromOpts());var a=this.value;c.isArray(a)||(a=[a]);a&&a[0]&&k.forEach(this._getChildren(),function(b){var c=k.some(a,function(a){return b.option&&a===b.option.value});h.toggle(b.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),c);b.domNode.setAttribute("aria-selected",c?"true":"false")},this)},_getValueFromOpts:function(){var a=
this.getOptions()||[];if(!this.multiple&&a.length){var b=k.filter(a,function(a){return a.selected})[0];if(b&&b.value)return b.value;a[0].selected=!0;return a[0].value}return this.multiple?k.map(k.filter(a,function(a){return a.selected}),function(a){return a.value})||[]:""},_onNewItem:function(a,b){(!b||!b.parent)&&this._addOptionForItem(a)},_onDeleteItem:function(a){this.removeOption(this.store.getIdentity(a))},_onSetItem:function(a){this.updateOption(this._getOptionObjForItem(a))},_getOptionObjForItem:function(a){var b=
this.store,c=this.labelAttr&&this.labelAttr in a?a[this.labelAttr]:b.getLabel(a);return{value:c?b.getIdentity(a):null,label:c,item:a}},_addOptionForItem:function(a){var b=this.store;b.isItemLoaded&&!b.isItemLoaded(a)?b.loadItem({item:a,onItem:function(a){this._addOptionForItem(a)},scope:this}):this.addOption(this._getOptionObjForItem(a))},constructor:function(a){this._oValue=(a||{}).value||null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);e.setSelectable(this.focusNode,
!1)},_fillContent:function(){if(!this.options)this.options=this.srcNodeRef?a("> *",this.srcNodeRef).map(function(a){return"separator"===a.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:a.getAttribute("data-"+d._scopeName+"-value")||a.getAttribute("value"),label:""+a.innerHTML,selected:a.getAttribute("selected")||!1,disabled:a.getAttribute("disabled")||!1}},this):[];this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",
this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);this.connect(this,"onChange","_updateSelection");var a=this.store;if(a&&(a.getIdentity||a.getFeatures()["dojo.data.api.Identity"]))this.store=null,this.setStore(a,this._oValue)},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var a;a=this._notifyConnections.pop();)a.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close();this.inherited(arguments)},_addOptionItem:function(){},
_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},_getSelectedOptionsAttr:function(){return this.getOptions(this.get("value"))},_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"dijit/Menu":function(){define("require,dojo/_base/array,dojo/_base/declare,dojo/_base/event,dojo/dom,dojo/dom-attr,dojo/dom-geometry,dojo/dom-style,dojo/keys,dojo/_base/lang,dojo/on,dojo/sniff,dojo/_base/window,dojo/window,./popup,./DropDownMenu,dojo/ready".split(","),function(k,
m,l,i,f,e,h,d,c,a,b,g,j,o,n,p,r){g("dijit-legacy-requires")&&r(0,function(){k(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});return l("dijit.Menu",p,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):m.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return o.get(this._iframeContentDocument(a))||
this._iframeContentDocument(a).__parent__||a.name&&j.doc.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&j.doc.frames[a.name]&&j.doc.frames[a.name].document||null},bindDomNode:function(d){var d=f.byId(d,this.ownerDocument),g;if("iframe"==d.tagName.toLowerCase()){var h=d,k=this._iframeContentWindow(h);g=j.body(k.document)}else g=d==j.body(this.ownerDocument)?this.ownerDocument.documentElement:d;var n={node:d,iframe:h};
e.set(d,"_dijitMenu"+this.id,this._bindings.push(n));var p=a.hitch(this,function(a){var d=this.selector,e=d?function(a){return b.selector(d,a)}:function(a){return a},g=this;return[b(a,e(this.leftClickToOpen?"click":"contextmenu"),function(a){i.stop(a);g._scheduleOpen(this,h,{x:a.pageX,y:a.pageY})}),b(a,e("keydown"),function(a){a.shiftKey&&a.keyCode==c.F10&&(i.stop(a),g._scheduleOpen(this,h))})]});n.connects=g?p(g):[];if(h)n.onloadHandler=a.hitch(this,function(){var a=this._iframeContentWindow(h);
g=j.body(a.document);n.connects=p(g)}),h.addEventListener?h.addEventListener("load",n.onloadHandler,!1):h.attachEvent("onload",n.onloadHandler)},unBindDomNode:function(a){var b;try{b=f.byId(a,this.ownerDocument)}catch(c){return}a="_dijitMenu"+this.id;if(b&&e.has(b,a)){for(var d=e.get(b,a)-1,g=this._bindings[d],j;j=g.connects.pop();)j.remove();(j=g.iframe)&&(j.removeEventListener?j.removeEventListener("load",g.onloadHandler,!1):j.detachEvent("onload",g.onloadHandler));e.remove(b,a);delete this._bindings[d]}},
_scheduleOpen:function(a,b,c){if(!this._openTimer)this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:a,iframe:b,coords:c})},1)},_openMyself:function(a){function b(){l.refocus&&m&&m.focus();n.close(l)}var c=a.target,e=a.iframe,a=a.coords;this.currentTarget=c;if(a){if(e){var c=h.position(e,!0),j=this._iframeContentWindow(e),j=h.docScroll(j.document),i=d.getComputedStyle(e),k=d.toPixelValue,p=(g("ie")&&g("quirks")?0:k(e,i.paddingLeft))+(g("ie")&&g("quirks")?k(e,i.borderLeftWidth):
0),e=(g("ie")&&g("quirks")?0:k(e,i.paddingTop))+(g("ie")&&g("quirks")?k(e,i.borderTopWidth):0);a.x+=c.x+p-j.x;a.y+=c.y+e-j.y}}else a=h.position(c,!0),a.x+=10,a.y+=10;var l=this,e=this._focusManager.get("prevNode"),c=this._focusManager.get("curNode"),m=!c||f.isDescendant(c,this.domNode)?e:c;n.open({popup:this,x:a.x,y:a.y,onExecute:b,onCancel:b,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);n.close(this)}},destroy:function(){m.forEach(this._bindings,
function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"dijit/DropDownMenu":function(){define("dojo/_base/declare,dojo/_base/event,dojo/keys,dojo/text!./templates/Menu.html,./_OnDijitClickMixin,./_MenuBase".split(","),function(k,m,l,i,f,e){return k("dijit.DropDownMenu",[e,f],{templateString:i,baseClass:"dijitMenu",postCreate:function(){this.inherited(arguments);var e=this.isLeftToRight();this._openSubMenuKey=e?l.RIGHT_ARROW:l.LEFT_ARROW;this._closeSubMenuKey=e?l.LEFT_ARROW:
l.RIGHT_ARROW;this.connectKeyNavHandlers([l.UP_ARROW],[l.DOWN_ARROW])},_onKeyPress:function(e){if(!e.ctrlKey&&!e.altKey)switch(e.charOrCode){case this._openSubMenuKey:this._moveToPopup(e);m.stop(e);break;case this._closeSubMenuKey:if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else m.stop(e)}}})})},"url:dijit/templates/Menu.html":'<table class="dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role="menu" tabIndex="${tabIndex}"\r\n\t   data-dojo-attach-event="onkeypress:_onKeyPress" cellspacing="0">\r\n\t<tbody class="dijitReset" data-dojo-attach-point="containerNode"></tbody>\r\n</table>\r\n',
"dijit/_MenuBase":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/_base/lang,dojo/mouse,dojo/on,dojo/window,./popup,./registry,./_Widget,./_KeyNavContainer,./_OnDijitClickMixin,./_TemplatedMixin".split(","),function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n){return m("dijit._MenuBase",[g,n,j],{parentMenu:null,popupDelay:500,autoFocus:!1,postCreate:function(){var a=this,c=function(a){return f.contains(a,"dijitMenuItem")};this.own(d(this.containerNode,d.selector(c,
h.enter),function(){a.onItemHover(b.byNode(this))}),d(this.containerNode,d.selector(c,h.leave),function(){a.onItemUnhover(b.byNode(this))}),d(this.containerNode,d.selector(c,o.a11yclick),function(c){a.onItemClick(b.byNode(this),c);c.stopPropagation();c.preventDefault()}));this.inherited(arguments)},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,a);else(a=this._getTopMenu())&&
a._isMenuBar&&a.focusNext()},_onPopupHover:function(){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var a=this.currentPopup.parentMenu;a.focusedChild&&a.focusedChild._setSelected(!1);a.focusedChild=this.currentPopup.from_item;a.focusedChild._setSelected(!0);this._stopPendingCloseTimer(this.currentPopup)}},onItemHover:function(a){if(this.isActive&&(this.focusChild(a),this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer))this.hover_timer=this.defer("_openPopup",this.popupDelay);
this.focusedChild&&this.focusChild(a);this._hoveredChild=a;a._set("hovering",!0)},_onChildBlur:function(b){this._stopPopupTimer();b._setSelected(!1);var c=b.popup;if(c)this._stopPendingCloseTimer(c),c._pendingClose_timer=this.defer(function(){c._pendingClose_timer=null;if(c.parentMenu)c.parentMenu.currentPopup=null;a.close(c)},this.popupDelay)},onItemUnhover:function(a){this.isActive&&this._stopPopupTimer();if(this._hoveredChild==a)this._hoveredChild=null;a._set("hovering",!1)},_stopPopupTimer:function(){if(this.hover_timer)this.hover_timer=
this.hover_timer.remove()},_stopPendingCloseTimer:function(a){if(a._pendingClose_timer)a._pendingClose_timer=a._pendingClose_timer.remove()},_stopFocusTimer:function(){if(this._focus_timer)this._focus_timer=this._focus_timer.remove()},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,b){"undefined"==typeof this.isShowingNow&&this._markActive();this.focusChild(a);if(a.disabled)return!1;a.popup?this._openPopup("keypress"==b.type):(this.onExecute(),a._onClick?
a._onClick(b):a.onClick(b))},_openPopup:function(b){this._stopPopupTimer();var c=this.focusedChild;if(c){var d=c.popup;if(!d.isShowingNow){this.currentPopup&&(this._stopPendingCloseTimer(this.currentPopup),a.close(this.currentPopup));d.parentMenu=this;d.from_item=c;var g=this;a.open({parent:this,popup:d,around:c.domNode,orient:this._orient||["after","before"],onCancel:function(){g.focusChild(c);g._cleanUp();c._setSelected(!0);g.focusedChild=c},onExecute:e.hitch(this,"_cleanUp")});this.currentPopup=
d;d.connect(d.domNode,"onmouseenter",e.hitch(g,"_onPopupHover"))}if(b&&d.focus)d._focus_timer=this.defer(e.hitch(d,function(){this._focus_timer=null;this.focus()}))}},_markActive:function(){this.isActive=!0;f.replace(this.domNode,"dijitMenuActive","dijitMenuPassive")},onOpen:function(){this.isShowingNow=!0;this._markActive()},_markInactive:function(){this.isActive=!1;f.replace(this.domNode,"dijitMenuPassive","dijitMenuActive")},onClose:function(){this._stopFocusTimer();this._markInactive();this.isShowingNow=
!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();if(this.currentPopup)0<=k.indexOf(this._focusManager.activeStack,this.id)&&(i.set(this.focusedChild.focusNode,"tabIndex",this.tabIndex),this.focusedChild.focusNode.focus()),a.close(this.currentPopup),this.currentPopup=null;if(this.focusedChild)this.focusedChild._setSelected(!1),this.onItemUnhover(this.focusedChild),this.focusedChild=null},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild)},
_onBlur:function(){this._cleanUp();this.inherited(arguments)},_cleanUp:function(){this._closeChild();"undefined"==typeof this.isShowingNow&&this._markInactive()}})})},"dijit/MenuItem":function(){define("dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/_base/kernel,dojo/sniff,./_Widget,./_TemplatedMixin,./_Contained,./_CssStateMixin,dojo/text!./templates/MenuItem.html".split(","),function(k,m,l,i,f,e,h,d,c,a,b){return k("dijit.MenuItem",[h,d,c,a],{templateString:b,baseClass:"dijitMenuItem",
label:"",_setLabelAttr:function(a){this.containerNode.innerHTML=a;this._set("label",a);"auto"===this.textDir&&this.applyTextDir(this.focusNode,this.label)},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){a&&!("label"in this.params)&&this.set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);var a=this.id+"_text";l.set(this.containerNode,"id",a);this.accelKeyNode&&(l.set(this.accelKeyNode,"id",this.id+
"_accel"),a+=" "+this.id+"_accel");this.domNode.setAttribute("aria-labelledby",a);m.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==e("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_onFocus:function(){this._setSelected(!0);this.getParent()._onItemFocus(this);this.inherited(arguments)},_setSelected:function(a){i.toggle(this.domNode,"dijitMenuItemSelected",a)},setLabel:function(a){f.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.",
"","2.0");this.set("label",a)},setDisabled:function(a){f.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode.style.display=a?"":"none";this.accelKeyNode.innerHTML=a;l.set(this.containerNode,"colSpan",a?"1":"2");this._set("accelKey",a)},_setTextDirAttr:function(a){if(!this._created||
this.textDir!=a)this._set("textDir",a),this.applyTextDir(this.focusNode,this.label)}})})},"url:dijit/templates/MenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1">\r\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\r\n\t\t<img src="${_blankGif}" alt="" class="dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"/>\r\n\t</td>\r\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode"></td>\r\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\r\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">\r\n\t\t<div data-dojo-attach-point="arrowWrapper" style="visibility: hidden">\r\n\t\t\t<img src="${_blankGif}" alt="" class="dijitMenuExpand"/>\r\n\t\t\t<span class="dijitMenuExpandA11y">+</span>\r\n\t\t</div>\r\n\t</td>\r\n</tr>\r\n',
"dijit/MenuSeparator":function(){define("dojo/_base/declare,dojo/dom,./_WidgetBase,./_TemplatedMixin,./_Contained,dojo/text!./templates/MenuSeparator.html".split(","),function(k,m,l,i,f,e){return k("dijit.MenuSeparator",[l,i,f],{templateString:e,buildRendering:function(){this.inherited(arguments);m.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"url:dijit/templates/MenuSeparator.html":'<tr class="dijitMenuSeparator">\r\n\t<td class="dijitMenuSeparatorIconCell">\r\n\t\t<div class="dijitMenuSeparatorTop"></div>\r\n\t\t<div class="dijitMenuSeparatorBottom"></div>\r\n\t</td>\r\n\t<td colspan="3" class="dijitMenuSeparatorLabelCell">\r\n\t\t<div class="dijitMenuSeparatorTop dijitMenuSeparatorLabel"></div>\r\n\t\t<div class="dijitMenuSeparatorBottom"></div>\r\n\t</td>\r\n</tr>',
"url:dijit/form/templates/Select.html":'<table class="dijit dijitReset dijitInline dijitLeft"\r\n\tdata-dojo-attach-point="_buttonNode,tableNode,focusNode" cellspacing=\'0\' cellpadding=\'0\'\r\n\trole="combobox" aria-haspopup="true"\r\n\t><tbody role="presentation"><tr role="presentation"\r\n\t\t><td class="dijitReset dijitStretch dijitButtonContents" role="presentation"\r\n\t\t\t><div class="dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point="containerNode,_popupStateNode"></div\r\n\t\t\t><div class="dijitReset dijitValidationContainer"\r\n\t\t\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\r\n\t\t\t/></div\r\n\t\t\t><input type="hidden" ${!nameAttrSetting} data-dojo-attach-point="valueNode" value="${value}" aria-hidden="true"\r\n\t\t/></td\r\n\t\t><td class="dijitReset dijitRight dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\r\n\t\t\tdata-dojo-attach-point="titleNode" role="presentation"\r\n\t\t\t><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\r\n\t\t\t\t${_buttonInputDisabled}\r\n\t\t/></td\r\n\t></tr></tbody\r\n></table>\r\n',
"gridx/modules/filter/Filter":function(){define("../../core/_Module,../../core/model/extensions/ClientFilter,../../core/model/extensions/Query,dojo/_base/declare,dojo/_base/array,dojo/_base/lang".split(","),function(k,m,l,i,f,e){function h(a,b,c){e.isFunction(c)&&(a=c(a));switch(b){case "number":return parseFloat(a,10);case "boolean":return!!a;case "date":return a=new Date(a),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.getTime();case "time":return a=new Date(a),a.setDate(1),
a.setMonth(0),a.setFullYear(2E3),a.getTime();default:return""+a}}function d(a,b,c,d){e.isArray(c)&&(c=f.map(c,function(a){return a.expr}));return e.mixin(a,{expr:e.mixin({op:b,data:c},d||{})})}function c(a,b,c,d,e){b=""+b.apply(0,a);a=""+c.apply(0,a);d||(b=b.toLowerCase(),a=a.toLowerCase());return e(b,a)}k=i(k,{name:"filter",modelExtensions:[m,l],getAPIPath:function(){return{filter:this}},constructor:function(){this.setFilter(this.arg("preCondition"),1)},serverMode:!1,setupFilterQuery:function(a){return a},
setFilter:function(a,b){var c=this.model;if(a!=this._checker)this._checker=a,this.arg("serverMode")?c.query(this.setupFilterQuery(a&&a.expr)):c.filter(a),b||this.grid.body.refresh()},getFilter:function(){return this._checker}});return e.mixin(k,{column:function(a,b,c,e){b=(""+(b||"string")).toLowerCase();return d(function(d){return h(d[e?"rawData":"data"][a],b,c)},b,a,{isCol:!0})},value:function(a,b,c){b=(""+(b||typeof a)).toLowerCase();a=h(a,b,c);return d(function(){return a},b,a)},isEmpty:function(a,
b){return d(function(){var c=a.apply(0,arguments);return b?0<=f.indexOf(b,c):""===c||null===c||void 0===c},"isEmpty",[a])},and:function(){var a=f.filter(arguments,function(a){return e.isFunction(a)});return d(function(){var b=arguments;return f.every(a,function(a){return a.apply(0,b)})},"and",a)},or:function(){var a=f.filter(arguments,function(a){return e.isFunction(a)});return d(function(){var b=arguments;return f.some(a,function(a){return a.apply(0,b)})},"or",a)},not:function(a){return d(function(){return!a.apply(0,
arguments)},"not",[a])},equal:function(a,b){return d(function(){return a.apply(0,arguments)===b.apply(0,arguments)},"equal",[a,b])},greater:function(a,b){return d(function(){return a.apply(0,arguments)>b.apply(0,arguments)},"greater",[a,b])},less:function(a,b){return d(function(){return a.apply(0,arguments)<b.apply(0,arguments)},"less",[a,b])},greaterEqual:function(a,b){return d(function(){return a.apply(0,arguments)>=b.apply(0,arguments)},"greaterEqual",[a,b])},lessEqual:function(a,b){return d(function(){return a.apply(0,
arguments)<=b.apply(0,arguments)},"lessEqual",[a,b])},match:function(a,b){return d(function(){return 0<=(""+a.apply(0,arguments)).search(b)},"match",[a,{expr:{op:"regex",data:b}}])},contain:function(a,b,e){return d(function(){return c(arguments,a,b,e,function(a,b){return 0<=a.indexOf(b)})},"contain",[a,b])},startWith:function(a,b,e){return d(function(){return c(arguments,a,b,e,function(a,b){return a.substring(0,b.length)===b})},"startWith",[a,b])},endWith:function(a,b,e){return d(function(){return c(arguments,
a,b,e,function(a,b){return a.substring(a.length-b.length)===b})},"endWith",[a,b])}})})},"gridx/core/model/extensions/ClientFilter":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/Deferred","../_Extension"],function(k,m,l,i,f){var e=l.hitch,h=m.forEach,d=m.indexOf;return k(f,{name:"clientFilter",priority:20,constructor:function(c,a){this.pageSize=a.pageSize||100;this._mixinAPI("filter","hasFilter");c.onFilterProgress=function(){};this.aspect(c,"_msg","_receiveMsg");
this.aspect(c,"setStore","clear")},clear:function(){this._ids=0;this._indexes={}},filter:function(c){this.model._addCmd({name:"_cmdFilter",scope:this,args:arguments,async:1})},hasFilter:function(){return!!this._ids},byIndex:function(c){var a=this._ids,b=this.inner,d=a&&a[c];return a?this.model.isId(d)&&b._call("byId",[d]):b._call("byIndex",arguments)},byId:function(c){return this.ids&&void 0===this._indexes[c]?null:this.inner._call("byId",arguments)},indexToId:function(c){return this._ids?this._ids[c]:
this.inner._call("indexToId",arguments)},idToIndex:function(c){if(this._ids){var a=d(this._ids,c);return 0<=a?a:void 0}return this.inner._call("idToIndex",arguments)},size:function(){return this._ids?this._ids.length:this.inner._call("size",arguments)},when:function(c,a){var b=this,d=function(){b._ids&&b._mapWhenArgs(c);return b.inner._call("when",[c,a])};if(b._refilter&&(b._refilter=0,b._ids)){var j=new i;b._reFilter().then(function(){d().then(e(j,j.callback),e(j,j.errback))});return j}return d()},
_cmdFilter:function(){var c=arguments;return this._filter.apply(this,c[c.length-1])},_filter:function(c){var a=this;a.size();a.clear();if(l.isFunction(c)){var b=[];return a.model.scan({start:0,pageSize:a.pageSize,whenScope:a,whenFunc:a.when},function(d,e){var g,f,h,i=e+d.length;for(g=e;g<i;++g)if(f=a.indexToId(g),h=a.byIndex(g))c(h,f)&&(b.push(f),a._indexes[f]=g);else break}).then(function(){b.length==a.size()?a.clear():(a._ids=b,a.model._msg("filter",b))},0,a.model.onFilterProgress)}var d=new i;
d.callback();return d},_mapWhenArgs:function(c){var a=this,b=[],d=a._ids.length;c.id=m.filter(c.id,function(b){return void 0!==a._indexes[b]});h(c.range,function(c){if(!c.count||0>c.count){var e=d-c.start;if(0>=e)return;c.count=e}for(e=0;e<c.count;++e){var f=a._mapIndex(e+c.start);void 0!==f&&b.push({start:f,count:1})}});c.range=b},_mapMoveArgs:function(c){var a=this;if(3==c.length){for(var b=[],d=c[0],e=c[0]+c[1];d<e;++d)b.push(a._mapIndex(d));c[0]=b;c[1]=a._mapIndex(c[2]);c.pop()}else c[0]=m.map(c[0],
function(b){return a._mapIndex(b)}),c[1]=a._mapIndex(c[1])},_mapIndex:function(c){return this._indexes[this._ids[c]]},_moveFiltered:function(c,a,b){var d=this._ids.length;if(0<=c&&c<d&&0<a&&Infinity>a&&0<=b&&b<d&&(b<c||b>c+a)){var e=[];for(d=c,c+=a;d<c;++d)e.push(this._mapIndex(d));this.inner._call("moveIndexes",[e,this._mapIndex(b)])}},_reFilter:function(){var c=this;return c.inner._call("when",[{id:c._ids,range:[]},function(){h(c._ids,function(a){var b=c.inner._call("idToIndex",[a]);c._indexes[a]=
b});c._ids.sort(function(a,b){return c._indexes[a]-c._indexes[b]})}])},_onMoved:function(c){var a=this;h(a._ids,function(b){var d=a._indexes[b];void 0!==c[d]&&(a._indexes[b]=c[d])});a._ids.sort(function(b,c){return a._indexes[b]-a._indexes[c]})},_receiveMsg:function(c,a){if(this._ids)"storeChange"==c?this._refilter=1:"moved"==c?this._onMoved(a):"beforeMove"==c&&this._mapMoveArgs(a)},_onNew:function(c){if(this._ids)this._ids.push(c),this._refilter=1;this.onNew.apply(this,arguments)},_onDelete:function(c,
a,b){var e=this._indexes,j=this._ids;if(j){var f=d(j,c),h=e[c];0<=f&&j.splice(f,1);if(0<=f&&void 0!==h)for(f in a=f,e)e[f]>h&&--e[f];else a=void 0,this._refilter=1}this.onDelete(c,a,b)}})})},"gridx/modules/filter/FilterBar":function(){define("dojo/_base/kernel,dojo/_base/declare,dijit/registry,dojo/_base/lang,dojo/_base/array,dojo/_base/event,dojo/dom-construct,dojo/dom-attr,dojo/dom-class,dojo/string,dojo/parser,dojo/query,../../core/_Module,dojo/text!../../templates/FilterBar.html,dojo/i18n!../../nls/FilterBar,./Filter,./FilterDialog,./FilterConfirmDialog,./FilterTooltip,dijit/TooltipDialog,dijit/popup,dijit/Tooltip,dijit/form/Button".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p,r,q,t){return m(j,{name:"filterBar",forced:["filter"],getAPIPath:function(){return{filterBar:this}},closeButton:!0,defineFilterButton:!0,tooltipDelay:300,maxRuleCount:0,ruleCountToConfirmClearFilter:2,conditions:{string:"equal,contain,startWith,endWith,notEqual,notContain,notStartWith,notEndWith,isEmpty".split(","),number:"equal,greater,less,greaterEqual,lessEqual,notEqual,isEmpty".split(","),date:["equal","before","after","range","isEmpty"],time:["equal",
"before","after","range","isEmpty"],"boolean":["equal","isEmpty"]},load:function(){p.before=p.lessEqual;p.after=p.greaterEqual;k.deprecated("FilterBar module property closeFilterBarButton is deprecated.","Use closeButton instead","1.1");this.closeFilterBarButton=this.arg("closeButton",this.arg("closeFilterBarButton"));this.domNode=h.create("div",{innerHTML:a.substitute(o,n),"class":"gridxFilterBar"});b.parse(this.domNode);c.toggle(this.domNode,"gridxFilterBarHideCloseBtn",!this.arg("closeButton"));
this.grid.vLayout.register(this,"domNode","headerNode",-1);this._nls=n;this._initWidgets();this._initFocus();this.refresh();this.connect(this.domNode,"onclick","onDomClick");this.connect(this.domNode,"onmouseover","onDomMouseOver");this.connect(this.domNode,"onmousemove","onDomMouseMove");this.connect(this.domNode,"onmouseout","onDomMouseOut");this.loaded.callback()},onDomClick:function(a){a.target&&a.target.tagName&&("clear"===d.get(a.target,"action")?this.clearFilter():c.contains(a.target,"gridxFilterBarCloseBtn")||
c.contains(a.target,"gridxFilterBarCloseBtnText")?this.hide():this.showFilterDialog())},onDomMouseMove:function(a){(!a||!a.target||!("clear"===d.get(a.target,"action")||this.btnFilter===dijit.getEnclosingWidget(a.target)))&&this._showTooltip(a)},onDomMouseOver:function(){},onDomMouseOut:function(){window.setTimeout(i.hitch(this,"_hideTooltip"),10)},applyFilter:function(a){var b=[];this.filterData=a;f.forEach(a.conditions,function(a){var c="string";if(a.colId)c=this.grid.column(a.colId).dataType(),
b.push(this._getFilterExpression(a.condition,a,c,a.colId));else{var d=[];f.forEach(this.grid.columns(),function(b){b.isFilterable()&&d.push(this._getFilterExpression(a.condition,a,c,b.id))},this);b.push(p.or.apply(p,d))}},this);this.grid.filter.setFilter(("all"===a.type?p.and:p.or).apply(p,b));var c=this;this.model.when({}).then(function(){c._currentSize=c.model.size();c._totalSize=c.model._cache.size();c._buildFilterState()})},confirmToExecute:function(a,b){var c=this.arg("ruleCountToConfirmClearFilter");
if(this.filterData&&(this.filterData.conditions.length>=c||0>=c)){if(!this._cfmDlg)this._cfmDlg=new q;this._cfmDlg.execute=i.hitch(b,a);this._cfmDlg.show()}else a.apply(b)},clearFilter:function(a){a?(this.filterData=null,this.grid.filter.setFilter(),this._buildFilterState()):this.confirmToExecute(i.hitch(this,"clearFilter",!0),this)},columnMixin:{isFilterable:function(){return!1!==this.grid._columnsById[this.id].filterable},setFilterable:function(a){this.grid.filterBar._setFilterable(this.id,a);return this},
dataType:function(){return(this.grid._columnsById[this.id].dataType||"string").toLowerCase()},filterConditions:function(){return this.grid.filterBar._getColumnConditions(this.id)}},refresh:function(){this.btnClose.style.display=this.closeButton?"":"none";this.btnFilter.domNode.style.display=this.arg("defineFilterButton")?"":"none"},isVisible:function(){return"none"!=this.domNode.style.display},show:function(){this.domNode.style.display="block";this.grid.vLayout.reLayout();this.onShow()},hide:function(){this.domNode.style.display=
"none";this.grid.vLayout.reLayout();this._hideTooltip();this.onHide()},onShow:function(){},onHide:function(){},showFilterDialog:function(){var a=this._filterDialog;if(!a)this._filterDialog=a=new r({grid:this.grid});a.open||(this.filterData||a.setData(this.filterData),a.show(),this.filterData&&a.setData(this.filterData))},uninitialize:function(){this._filterDialog&&this._filterDialog.destroyRecursive();this.inherited(arguments);h.destroy(this.domNode)},_getColumnConditions:function(a){var b;a?(b=this.grid._columnsById[a].disabledConditions||
[],a=(this.grid._columnsById[a].dataType||"string").toLowerCase()):(b=[],a="string");var a=this.conditions[a],c={};a||(a=this.conditions.string);f.forEach(b,function(a){c[a]=!0});return a=f.filter(a,function(a){return!c[a]})},_setFilterable:function(a,b){var c=this.grid._columnsById[a];if(c&&c.filterable!=!!b&&(c.filterable=!!b,this.filterData)){var c=this.filterData,d=c.conditions.length;c.conditions=f.filter(c.conditions,function(b){return b.colId!=a});d!=c.conditions.length&&this.applyFilter(c);
this._filterDialog.open&&this._filterDialog.setData(c)}},_initWidgets:function(){this.btnFilter=l.byNode(g(".dijitButton",this.domNode)[0]);this.btnClose=g(".gridxFilterBarCloseBtn",this.domNode)[0];this.statusNode=g(".gridxFilterBarStatus",this.domNode)[0].firstChild;d.remove(this.btnFilter.focusNode,"aria-labelledby")},_buildFilterState:function(){var b=this._nls;!this.filterData||!this.filterData.conditions.length?this.statusNode.innerHTML=b.filterBarMsgNoFilterTemplate:(this.statusNode.innerHTML=
a.substitute(b.filterBarMsgHasFilterTemplate,[this._currentSize,this._totalSize,"items"])+'&nbsp; &nbsp; <a href="javascript:void(0);" action="clear" title="Clear filter">Clear Filter</a>',this._buildTooltip())},_buildTooltip:function(){if(!this._tooltip)this._tooltip=new t({grid:this.grid});this._tooltip.buildContent()},_showTooltip:function(a,b){this._hideTooltip();if(this.filterData&&this.filterData.conditions&&this.filterData.conditions.length)b?this._tooltip.show(a):this._pointTooltipDelay=window.setTimeout(i.hitch(this,
"_showTooltip",a,!0),this.arg("tooltipDelay"))},_hideTooltip:function(){var a=this._tooltip;if(a&&!a.isMouseOn){if(this._pointTooltipDelay)window.clearTimeout(this._pointTooltipDelay),this._pointTooltipDelay=null;a.hide()}},_getRuleString:function(b,c,d){if("isEmpty"==b)c="";else if(/^date|^time/i.test(d)){var e=this._formatDate;if(/^time/i.test(d))e=this._formatTime;c="range"===b?a.substitute(this._nls.rangeTemplate,[e(c.start),e(c.end)]):e(c)}return'<span style="font-style:italic">'+this._getConditionDisplayName(b)+
"</span> "+c},_getConditionDisplayName:function(a){return this._nls["condition"+(a.charAt(0).toUpperCase()+a.substring(1))]},_getConditionOptions:function(a){var b=this._nls,c=this._conditionOptions=this._conditionOptions||{};if(!c[a]){var d=[];f.forEach(this._getColumnConditions(a),function(a){var c=a.charAt(0).toUpperCase()+a.substring(1);d.push({label:b["condition"+c],value:a})},this);c[a]=d}return c[a]},_getFilterExpression:function(a,b,c,d){var a={date:this.grid._columnsById[d].dateParser||this._stringToDate,
time:this.grid._columnsById[d].timeParser||this._stringToTime},e=b.condition,g=!1,c="isEmpty"==e?"string":c;"range"===e?(g=p.value(b.value.start,c),b=p.value(b.value.end,c),c=p.column(d,c,a[c]),c=p.and(p.greaterEqual(c,g),p.lessEqual(c,b))):(/^not/.test(e)&&(g=!0,e=e.replace(/^not/g,""),e=e.charAt(0).toLowerCase()+e.substring(1)),c=p[e](p.column(d,c,a[c]),"isEmpty"==e?null:p.value(b.value,c)),g&&(c=p.not(c)));return c},_stringToDate:function(a,b){b=b||/(\d{4})\/(\d\d?)\/(\d\d?)/;b.test(a);var c=new Date;
c.setFullYear(parseInt(RegExp.$1));c.setMonth(parseInt(RegExp.$2)-1);return c},_stringToTime:function(a,b){b=b||/(\d\d?):(\d\d?):(\d\d?)/;b.test(a);var c=new Date;c.setHours(parseInt(RegExp.$1));c.setMinutes(parseInt(RegExp.$2));c.setSeconds(parseInt(RegExp.$3));return c},_formatDate:function(a){var b=a.getMonth()+1,c=a.getDate();return b+"/"+c+"/"+a.getFullYear()},_formatTime:function(a){var b=a.getHours(),a=a.getMinutes();10>b&&(b="0"+b);10>a&&(a="0"+a);return b+":"+a+":00"},_initFocus:function(){var a=
this.grid.focus;a&&(a.registerArea({name:"filterbar_btn",priority:-1,focusNode:this.btnFilter.domNode,doFocus:this._doFocusBtnFilter,scope:this}),a.registerArea({name:"filterbar_clear",priority:-0.9,focusNode:this.domNode,doFocus:this._doFocusClearLink,scope:this}),a.registerArea({name:"filterbar_close",priority:-0.8,focusNode:this.btnClose,doFocus:this._doFocusBtnClose,scope:this}))},_doFocusBtnFilter:function(a){this.btnFilter.focus();a&&e.stop(a);return!0},_doFocusClearLink:function(a){this.btnFilter.focus();
var b=g('a[action="clear"]')[0];return b?(b.focus(),a&&e.stop(a),!0):!1},_doFocusBtnClose:function(a){this.btnClose.focus();a&&e.stop(a);return!0},_doBlur:function(){return!0},destroy:function(){this._filterDialog&&this._filterDialog.destroy();h.destroy(this.domNode);this.inherited(arguments)}})})},"url:gridx/templates/FilterBar.html":'<input type="button" data-dojo-type="dijit.form.Button" data-dojo-props="\r\n\ticonClass: \'gridxFilterBarBtnIcon\',\r\n\tlabel: \'...\',\r\n\ttitle: \'${defineFilter}\'" aria-label=\'${defineFilter}\'\r\n/><div class="gridxFilterBarStatus"\r\n\t><span>${noFilterApplied}</span\r\n\t><span class="gridxFilterBarCloseBtn" tabindex="-1" title="${closeFilterBarBtn}"><span class="gridxFilterBarCloseBtnText">x</span></span\r\n></div>\r\n',
"gridx/nls/FilterBar":function(){define({root:{clearFilterDialogTitle:"Clear Filter",filterDefDialogTitle:"Filter",defaultRuleTitle:"Rule",ruleTitleTemplate:"Rule ${ruleNumber}",noFilterApplied:"No filter applied.",defineFilter:"Define filter",conditionEqual:"equal",conditionNotEqual:"does not equal",conditionLess:"is less than",conditionLessEqual:"less than or equal",conditionGreater:"is greater than",conditionGreaterEqual:"greater than or equal",conditionContain:"contains",conditionIs:"is",conditionStartWith:"starts with",
conditionEndWith:"ends with",conditionNotContain:"does not contain",conditionIsNot:"is not",conditionNotStartWith:"does not start with",conditionNotEndWith:"does not end with",conditionBefore:"before",conditionAfter:"after",conditionRange:"range",conditionIsEmpty:"is empty",all:"all",any:"any",relationAll:"all rules",waiRelAll:"Match all of the following rules:",relationAny:"any rules",waiRelAny:"Match any of the following rules:",relationMsgFront:"Match",relationMsgTail:"",and:"and",or:"or",addRuleButton:"Add Rule",
waiAddRuleButton:"Add a new rule",removeRuleButton:"Remove Rule",waiRemoveRuleButtonTemplate:"Remove rule ${0}",addRuleButton:"Add Filter Rule",cancelButton:"Cancel",waiCancelButton:"Cancel this dialog",clearButton:"Clear",waiClearButton:"Clear the filter",filterButton:"Filter",waiFilterButton:"Submit the filter",columnSelectLabel:"Column",waiColumnSelectTemplate:"Column for rule ${0}",conditionSelectLabel:"Condition",waiConditionSelectTemplate:"Condition for rule ${0}",valueBoxLabel:"Value",waiValueBoxTemplate:"Enter value to filter for rule ${0}",
rangeTo:"to",rangeTemplate:"from ${0} to ${1}",statusTipHeaderColumn:"Column",statusTipHeaderCondition:"Rules",statusTipTitle:"Filter Bar",statusTipMsg:"Click the filter bar here to filter on values in ${0}.",anycolumn:"any column",statusTipTitleNoFilter:"Filter Bar",statusTipTitleHasFilter:"Filter",statusTipRelPre:"Match",statusTipRelPost:"rules.",statusTipHeaderAll:"Match all rules.",statusTipHeaderAny:"Match any rules.",defaultItemsName:"items",filterBarMsgHasFilterTemplate:"${0} of ${1} ${2} shown.",
filterBarMsgNoFilterTemplate:"No filter applied",filterBarDefButton:"Define filter",waiFilterBarDefButton:"Filter the table",a11yFilterBarDefButton:"Filter...",filterBarClearButton:"Clear filter",waiFilterBarClearButton:"Clear the filter",closeFilterBarBtn:"Close filter bar",clearFilterMsg:"This will remove the filter and show all available records.",anyColumnOption:"Any Column",trueLabel:"True",falseLabel:"False",radioTrueLabel:"Value True",radioFalseLabel:"Value False",beginTimeRangeLabel:"Time Range Value Start",
endTimeRangeLabel:"Time Range Value End",beginDateRangeLabel:"Date Range Value Start",endDateRangeLabel:"Date Range Value End",startsWithExpr:"${0}*"},ar:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,es:!0,fi:!0,fr:!0,hu:!0,it:!0,ja:!0,kk:!0,ko:!0,nb:!0,nl:!0,pl:!0,pt:!0,"pt-pt":!0,ro:!0,ru:!0,sk:!0,sl:!0,sv:!0,th:!0,tr:!0,zh:!0,"zh-tw":!0})},"gridx/modules/filter/FilterDialog":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/dom-class,dojo/string,dojo/query,dojo/keys,dijit/registry,dijit/Dialog,dojox/html/metrics,./FilterPane,dojo/text!../../templates/FilterDialog.html,dojo/i18n!../../nls/FilterBar,dijit/form/Select,dijit/form/Button,dijit/layout/AccordionContainer".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j){return k(c,{title:j.filterDefDialogTitle,cssClass:"gridxFilterDialog",grid:null,autofocus:!1,postCreate:function(){this.inherited(arguments);this.i18n=j;this.set("content",f.substitute(g,this));this._initWidgets();i.add(this.domNode,"gridxFilterDialog")},done:function(){this.hide();this.grid.filterBar.applyFilter(this.getData())},getData:function(){return{type:this._sltMatch.get("value"),conditions:l.map(this._accordionContainer.getChildren(),function(a){return a.getData()})}},
setData:function(a){this.removeChildren();a&&a.conditions.length&&(this._sltMatch.set("value",a&&a.type),l.forEach(a.conditions,function(a){this.addRule().setData(a)},this))},removeChildren:function(){l.forEach(this._accordionContainer.getChildren(),function(a){this._accordionContainer.removeChild(a);a.destroy()},this)},clear:function(){this.grid.filterBar.confirmToExecute(function(){this.grid.filterBar.clearFilter(!0);this.hide()},this)},cancel:function(){this.hide()},show:function(){this.inherited(arguments);
this._accordionContainer.hasChildren()||this.addRule()},addRule:function(){var c=this._accordionContainer;3===c.getChildren().length&&(c._contentBox.w-=a.getScrollbar().w);var d=c.getChildren().length+1,d=f.substitute(this.i18n.ruleTitleTemplate,{ruleNumber:d}),d=new b({grid:this.grid,title:d});c.addChild(d);c.selectChild(d);if(!this._titlePaneHeight)this._titlePaneHeight=d._buttonWidget.domNode.offsetHeight+3;d._initCloseButton();d._onColumnChange();try{d.tbSingle.focus()}catch(e){}i.toggle(c.domNode,
"gridxFilterSingleRule",1===c.getChildren().length);this.connect(d,"onChange","_updateButtons");this._updateButtons();this._updateAccordionContainerHeight();c.domNode.parentNode.scrollTop=1E5;return d},_initWidgets:function(){var a=this;dojo.query("form",this.domNode)[0].onsubmit=function(){a.done();return!1};this._accordionContainer=d.byNode(e(".dijitAccordionContainer",this.domNode)[0]);this._sltMatch=d.byNode(e(".dijitSelect",this.domNode)[0]);var b=e(".dijitButton",this.domNode);this._btnAdd=
d.byNode(b[0]);this._btnFilter=d.byNode(b[1]);this._btnClear=d.byNode(b[2]);this._btnCancel=d.byNode(b[3]);this.connect(this._btnAdd,"onClick","addRule");this.connect(this._btnFilter,"onClick","done");this.connect(this._btnClear,"onClick","clear");this.connect(this._btnCancel,"onClick","cancel");this.connect(this._accordionContainer,"removeChild","_updateButtons");this.connect(this._accordionContainer,"removeChild","_updatePaneTitle")},_updatePaneTitle:function(){l.forEach(this._accordionContainer.getChildren(),
function(a){a._updateTitle()})},_updateButtons:function(){var a=this._accordionContainer.getChildren();l.some(a,function(a){return null===a.getData()})?this._btnFilter.set("disabled",!0):this._btnFilter.set("disabled",!1);var b=this.grid.filterBar.arg("maxRuleCount");this._btnAdd.set("disabled",a.length>=b&&0<b);this._btnClear.set("disabled",!this.grid.filterBar.filterData)},_updateAccordionContainerHeight:function(){var a=this._accordionContainer,b=a.getChildren().length;a.domNode.style.height=145+
b*this._titlePaneHeight+"px";a.resize()},uninitialize:function(){this.inherited(arguments)}})})},"gridx/modules/filter/FilterPane":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/dom-construct,dojo/dom-class,dojo/string,dojo/query,dijit/registry,dojox/html/ellipsis,dojox/html/metrics,./DistinctComboBoxMenu,./Filter,dojo/text!../../templates/FilterPane.html,dojo/i18n!../../nls/FilterBar,dijit/layout/ContentPane,dijit/form/Select,dijit/form/TextBox,dijit/form/DateTextBox,dijit/form/TimeTextBox,dijit/form/RadioButton,dijit/form/NumberTextBox,dijit/form/ComboBox".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g,j,o){return k([dijit.layout.ContentPane],{sltColumn:null,sltCondition:null,grid:null,title:o.defaultRuleTitle,postCreate:function(){this.inherited(arguments);this.i18n=o;this.set("content",e.substitute(j,this));this._initFields();this._initSltCol();this.connect(this.sltColumn,"onChange","_onColumnChange");this.connect(this.sltCondition,"onChange","_onConditionChange");this.comboText.dropDownClass=b;this._onConditionChange()},getData:function(){var a=this._getValue(),
b=this.sltColumn.get("value"),c=this.sltCondition.get("value");return"isEmpty"===c||null!==a&&("range"!==c||a.start&&a.end)?{colId:"_gridx_any_column_value_"==b?"":b,condition:c,value:"isEmpty"===c?"":a,type:this._getType()}:null},setData:function(a){null!==a&&(this.sltColumn.set("value",a.colId,null),this._onColumnChange(),this.sltCondition.set("value",a.condition,null),this._onConditionChange(),this._setValue(a.value))},close:function(){var b=this._getContainer();4===b.getChildren().length&&(b._contentBox.w+=
a.getScrollbar().w);if(this===b.selectedChildWidget){var c=l.indexOf(b.getChildren(),this);0<c&&b.selectChild(b.getChildren()[c-1])}b.removeChild(this);f.toggle(b.domNode,"gridxFilterSingleRule",1===b.getChildren().length);this.grid.filterBar._filterDialog._updateAccordionContainerHeight()},onChange:function(){},_getContainer:function(){return d.byNode(this.domNode.parentNode.parentNode.parentNode)},_initFields:function(){this.sltColumn=d.byNode(h("li>table",this.domNode)[0]);this.sltCondition=d.byNode(h("li>table",
this.domNode)[1]);var a=this._fields=[this.tbSingle=d.byNode(h(".gridxFilterPaneTextWrapper > .dijitTextBox",this.domNode)[0]),this.tbNumber=d.byNode(h(".gridxFilterPaneNumberWrapper > .dijitTextBox",this.domNode)[0]),this.comboText=d.byNode(h(".gridxFilterPaneComboWrapper > .dijitComboBox",this.domNode)[0]),this.sltSingle=d.byNode(h(".gridxFilterPaneSelectWrapper > .dijitSelect",this.domNode)[0]),this.dtbSingle=d.byNode(h(".gridxFilterPaneDateWrapper > .dijitDateTextBox",this.domNode)[0]),this.dtbStart=
d.byNode(h(".gridxFilterPaneDateRangeWrapper > .dijitDateTextBox",this.domNode)[0]),this.dtbEnd=d.byNode(h(".gridxFilterPaneDateRangeWrapper > .dijitDateTextBox",this.domNode)[1]),this.ttbSingle=d.byNode(h(".gridxFilterPaneTimeWrapper > .dijitTimeTextBox",this.domNode)[0]),this.ttbStart=d.byNode(h(".gridxFilterPaneTimeRangeWrapper > .dijitTimeTextBox",this.domNode)[0]),this.ttbEnd=d.byNode(h(".gridxFilterPaneTimeRangeWrapper > .dijitTimeTextBox",this.domNode)[1]),this.rbTrue=d.byNode(h(".gridxFilterPaneRadioWrapper .dijitRadio",
this.domNode)[0]),this.rbFalse=d.byNode(h(".gridxFilterPaneRadioWrapper .dijitRadio",this.domNode)[1])];this.rbTrue.domNode.nextSibling.htmlFor=this.rbTrue.id;this.rbFalse.domNode.nextSibling.htmlFor=this.rbFalse.id;var b="rb_name_"+Math.random();this.rbTrue.set("name",b);this.rbFalse.set("name",b);l.forEach(a,function(a){this.connect(a,"onChange","_onValueChange")},this)},_initSltCol:function(){var a=[{label:o.anyColumnOption,value:"_gridx_any_column_value_"}],b=this.sltColumn;l.forEach(this.grid.columns(),
function(b){b.isFilterable()&&a.push({value:b.id,label:b.name()})},this);b.addOption(a)},_initCloseButton:function(){var a=this._buttonWidget;this.connect(i.create("span",{className:"gridxFilterPaneCloseButton",innerHTML:'<img src="'+this._blankGif+'"/>',tabIndex:0,title:"Close"},a.domNode,"last"),"onclick","close");f.add(a.titleTextNode,"dojoxEllipsis")},_onColumnChange:function(){var a=this.sltColumn.get("value"),a=this.grid.filterBar._getConditionOptions("_gridx_any_column_value_"==a?"":a),b=this.sltCondition;
b.options&&b.options.length&&b.removeOption(b.options);b.addOption(m.clone(a));this._updateTitle();this._updateValueField();this.onChange()},_onConditionChange:function(){this._updateValueField();this._updateTitle();this.onChange()},_onValueChange:function(){this._updateTitle();this.onChange()},_getDataType:function(){var a=this.sltColumn.get("value"),b="string";"_gridx_any_column_value_"==a||(b=this.grid.column(a).dataType());return b},_getType:function(){var a={string:"Text",number:"Number",date:"Date",
time:"Time","boolean":"Radio"}[this._getDataType()];"range"===this.sltCondition.get("value")&&(a+="Range");return a},_updateTitle:function(){if(this._buttonWidget){var a;a=this._getValue();var b=this._getType(),c=this.sltCondition.get("value"),d=this._buttonWidget.titleTextNode;a&&("range"!==c||a.start&&a.end)?a=this.sltColumn.get("displayedValue")+" "+this.grid.filterBar._getRuleString(c,a,b):(a=l.indexOf(this._getContainer().getChildren(),this)+1,a=e.substitute(this.i18n.ruleTitleTemplate,{ruleNumber:a}));
d.innerHTML=a;d.title=a.replace(/<\/?span[^>]*>/g,"").replace("&nbsp;"," ")}},_needComboBox:function(){var a=this.sltColumn.get("value");return"Text"===this._getType()&&"_gridx_any_column_value_"!=a&&this.grid._columnsById[a].field},_updateValueField:function(){var a=this._getType(),b=this.sltColumn.get("value"),c=this._needComboBox();l.forEach("Text,Combo,Date,Number,DateRange,Time,TimeRange,Select,Radio".split(","),function(a){f.remove(this.domNode,"gridxFilterPane"+a)},this);f.add(this.domNode,
"gridxFilterPane"+(c?"Combo":a));var d="isEmpty"===this.sltCondition.get("value");l.forEach(this._fields,function(a){a.set("disabled",d)});if(c){if(!this._dummyCombo)this._dummyCombo=new dijit.form.ComboBox({store:this.grid.store});a=this.grid._columnsById[b];m.mixin(this.comboText,{store:this.grid.store,searchAttr:a.field,fetchProperties:{sort:[{attribute:a.field,descending:!1}]}})}},_getValue:function(){var a=this._getType(),b=this._needComboBox();switch(a){case "Text":return(b?this.comboText:this.tbSingle).get("value")||
null;case "Number":return isNaN(this.tbNumber.get("value"))?null:this.tbNumber.get("value");case "Select":return this.sltSingle.get("value")||null;case "Date":return this.dtbSingle.get("value")||null;case "DateRange":return{start:this.dtbStart.get("value"),end:this.dtbEnd.get("value")};case "Time":return this.ttbSingle.get("value")||null;case "TimeRange":return{start:this.ttbStart.get("value"),end:this.ttbEnd.get("value")};case "Radio":return!!this.rbTrue.get("checked");default:return null}},_setValue:function(a){if(a){var b=
this._getType(),c=this._needComboBox();switch(b){case "Text":(c?this.comboText:this.tbSingle).set("value",a);break;case "Number":this.tbNumber.set("value",a);break;case "Select":this.sltSingle.set("value",a);break;case "Date":this.dtbSingle.set("value",a);break;case "DateRange":this.dtbStart.set("value",a.start);this.dtbEnd.set("value",a.end);break;case "Time":this.ttbSingle.set("value",a);break;case "TimeRange":this.ttbStart.set("value",a.start);this.ttbEnd.set("value",a.end);break;case "Radio":this.rbTrue.set("checked",
!0)}}},uninitialize:function(){this.inherited(arguments);this._dummyCombo&&this._dummyCombo.destroyRecursive()}})})},"dojox/html/ellipsis":function(){define("dojox/html/ellipsis",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/Color","dojo/colors"],function(k){if(7>k.isFF){var m=1;"dojoxFFEllipsisDelay"in k.config&&(m=Number(k.config.dojoxFFEllipsisDelay),isNaN(m)&&(m=1));try{var l=function(){var a=document.createElementNS("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul",
"window"),b=document.createElementNS("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul","description");b.setAttribute("crop","end");a.appendChild(b);return function(b){var c=a.cloneNode(!0);c.firstChild.setAttribute("value",b.textContent);b.innerHTML="";b.appendChild(c)}}()}catch(i){}var f=k.create,e=k.doc,h=k.place,d=f("iframe",{className:"dojoxEllipsisIFrame",src:"javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}<\/script></head><body></body></html>'"}),
c=function(a,b){if(!a.collapsed)if(0<b){do c(a),b--;while(b)}else if(3==a.endContainer.nodeType&&0<a.endOffset)a.setEnd(a.endContainer,a.endOffset-1);else if(3==a.endContainer.nodeType)a.setEndBefore(a.endContainer),c(a);else if(a.endOffset&&a.endContainer.childNodes.length>=a.endOffset){var d=a.endContainer.childNodes[a.endOffset-1];3==d.nodeType?a.setEnd(d,d.length-1):(d.childNodes.length?a.setEnd(d,d.childNodes.length):a.setEndBefore(d),c(a))}else a.setEndBefore(a.endContainer),c(a)},a=function(a){var b=
f("div",{className:"dojoxEllipsisContainer"}),g=f("div",{className:"dojoxEllipsisShown",style:{display:"none"}});a.parentNode.replaceChild(b,a);b.appendChild(a);b.appendChild(g);var j=d.cloneNode(!0),i=a.style,k=g.style,l=function(){i.display="";k.display="none";if(!(a.scrollWidth<=a.offsetWidth)){var b=e.createRange();b.selectNodeContents(a);i.display="none";k.display="";var d=!1;do{var j=1;h(b.cloneContents(),g,"only");var f=g.scrollWidth,l=g.offsetWidth,d=f<=l,f=1-1*l/f;0<f&&(j=Math.max(Math.round(g.textContent.length*
f)-1,1));c(b,j)}while(!b.collapsed&&!d)}};j.onload=function(){j.contentWindow.onresize=l;l()};b.appendChild(j)},b=k.hasClass,g=k.doc,j,o,n;g.querySelectorAll?(j=g,o="querySelectorAll",n=".dojoxEllipsis"):g.getElementsByClassName?(j=g,o="getElementsByClassName",n="dojoxEllipsis"):(j=k,o="query",n=".dojoxEllipsis");fx=function(){k.forEach(j[o].apply(j,[n]),function(c){if(c&&!c._djx_ellipsis_done)c._djx_ellipsis_done=!0,l&&c.textContent==c.innerHTML&&!b(c,"dojoxEllipsisSelectable")?l(c):a(c)})};k.addOnLoad(function(){var a=
null,b=null,c=function(){b&&(k.disconnect(b),b=null);a&&clearTimeout(a);a=setTimeout(function(){a=null;fx();b=k.connect(k.body(),"DOMSubtreeModified",c)},m)};c()})}})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(k,m,l,i){var f={};m.setObject("dojo.colors",f);var e=function(d,c,a){0>a&&++a;1<a&&--a;var b=6*a;return 1>b?d+(c-d)*b:1>2*a?c:2>3*a?d+6*(c-d)*(2/3-a):d};k.colorFromRgb=l.fromRgb=function(d,c){var a=d.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);
if(a){var b=a[2].split(/\s*,\s*/),g=b.length,a=a[1];if("rgb"==a&&3==g||"rgba"==a&&4==g){a=b[0];return"%"==a.charAt(a.length-1)?(a=i.map(b,function(a){return 2.56*parseFloat(a)}),4==g&&(a[3]=b[3]),l.fromArray(a,c)):l.fromArray(b,c)}if("hsl"==a&&3==g||"hsla"==a&&4==g){var a=(parseFloat(b[0])%360+360)%360/360,j=parseFloat(b[1])/100,f=parseFloat(b[2])/100,j=0.5>=f?f*(j+1):f+j-f*j,f=2*f-j,a=[256*e(f,j,a+1/3),256*e(f,j,a),256*e(f,j,a-1/3),1];4==g&&(a[3]=b[3]);return l.fromArray(a,c)}}return null};var h=
function(d,c,a){d=Number(d);return isNaN(d)?a:d<c?c:d>a?a:d};l.prototype.sanitize=function(){this.r=Math.round(h(this.r,0,255));this.g=Math.round(h(this.g,0,255));this.b=Math.round(h(this.b,0,255));this.a=h(this.a,0,1);return this};f.makeGrey=l.makeGrey=function(d,c){return l.fromArray([d,d,d,c])};m.mixin(l.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,
226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,
150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],
hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,
136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],
navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,
87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});return l})},"gridx/modules/filter/DistinctComboBoxMenu":function(){define(["dojo/_base/declare","dijit/form/_ComboBoxMenu"],
function(k,m){return k(m,{createOptions:function(k,i,f){var e={};arguments[0]=k.filter(function(h){h=f(h).label;return e[h]?!1:e[h]=!0});this.inherited(arguments)}})})},"url:gridx/templates/FilterPane.html":'<ul class="gridxFilterPaneForm">\r\n\t<li><label id="${id}_ColumnLabel" for="${id}_ColumnSelect">${i18n.columnSelectLabel}</label></li>\r\n\t<li name="sltColumn">\r\n\t\t<div data-dojo-type="dijit.form.Select" id="${id}_ColumnSelect" aria-labelledby="${id}_ColumnLabel" style="width:100%;"></div>\r\n\t</li>\r\n\t<li><label id="${id}_ConditionLabel" for="${id}_ConditionSelect">${i18n.conditionSelectLabel}</label></li>\r\n\t<li name="sltCondition">\r\n\t\t<div data-dojo-type="dijit.form.Select" id="${id}_ConditionSelect" style="width:100%;" aria-labelledby="${id}_ConditionLabel"></div>\r\n\t</li>\r\n\t<li><label id="${id}_ValueLabel">${i18n.valueBoxLabel}</label></li>\r\n\t\r\n\t<li class="gridxFilterPaneFieldWrapper gridxFilterPaneTextWrapper">\r\n\t\t<input type="text" data-dojo-type="dijit.form.TextBox" intermediateChanges="true"\r\n\t\t style="width:100%;" aria-labelledby="${id}_ValueLabel"/>\r\n\t</li>\r\n\t\r\n<\!--            dropDownClass="gridx.modules.filter.DistinctComboBoxMenu"--\>\r\n\t<li class="gridxFilterPaneFieldWrapper gridxFilterPaneComboWrapper">\r\n\t\t<input type="text" data-dojo-type="dijit.form.ComboBox" \r\n\t\t\tintermediateChanges="true" autoComplete="false" queryExpr="*${i18n.startsWithExpr}" \r\n\t\t\tstyle="width:100%;"  aria-labelledby="${id}_ValueLabel"/>\r\n\t</li>\r\n\t\r\n\t<li class="gridxFilterPaneFieldWrapper gridxFilterPaneNumberWrapper">\r\n\t\t<input type="text" data-dojo-type="dijit.form.NumberTextBox"  aria-labelledby="${id}_ValueLabel" intermediateChanges="true" style="width:100%;"/>\r\n\t</li>\r\n\t\r\n\t<li class="gridxFilterPaneFieldWrapper gridxFilterPaneDateWrapper">\r\n\t\t<div data-dojo-type="dijit.form.DateTextBox" aria-labelledby="${id}_ValueLabel" intermediateChanges="true" style="width: 100%"></div>\r\n\t</li>\r\n\t\r\n\t<li class="gridxFilterPaneFieldWrapper gridxFilterPaneDateRangeWrapper">\r\n\t\t<div data-dojo-type="dijit.form.DateTextBox" style="width:44%; float: left;" intermediateChanges="true"\r\n\t\t\t aria-label="${i18n.beginDateRangeLabel}"></div>\r\n\t\t<div style="width:10%; text-align: center; float: left;">${i18n.rangeTo}</div>\r\n\t\t<div data-dojo-type="dijit.form.DateTextBox" style="width:44%; float: right;" intermediateChanges="true"\r\n\t\t\t aria-label="${i18n.endDateRangeLabel}"></div>\r\n\t</li>\r\n\t\r\n\t<li class="gridxFilterPaneFieldWrapper gridxFilterPaneTimeWrapper">\r\n\t\t<div data-dojo-type="dijit.form.TimeTextBox" aria-labelledby="${id}_ValueLabel" style="width: 100%" intermediateChanges="true"></div>\r\n\t</li>\r\n\t\r\n\t<li class="gridxFilterPaneFieldWrapper gridxFilterPaneTimeRangeWrapper">\r\n\t\t<div data-dojo-type="dijit.form.TimeTextBox" style="width:44%; float: left;" intermediateChanges="true"\r\n\t\t\t aria-label="${i18n.beginTimeRangeLabel}"></div>\r\n\t\t<div style="text-align: center; float: left; width: 10%;">${i18n.rangeTo}</div>\r\n\t\t<div data-dojo-type="dijit.form.TimeTextBox" style="width:44%; float: right;" intermediateChanges="true"\r\n\t\t\t aria-label="${i18n.endTimeRangeLabel}"></div>\r\n\t</li>\r\n\t\r\n\t<li class="gridxFilterPaneFieldWrapper gridxFilterPaneRadioWrapper">\r\n\t\t<span style="width:49%; float:left;">\r\n\t\t\t<div data-dojo-type="dijit.form.RadioButton" aria-label="${i18n.radioTrueLabel}" checked="true"></div><span>${i18n.trueLabel}</span>\r\n\t\t</span>\r\n\t\t<span style="width:49%; float: right;">\r\n\t\t\t<div data-dojo-type="dijit.form.RadioButton" aria-label="${i18n.radioFalseLabel}"></div><span>${i18n.falseLabel}</span>\r\n\t\t</span>\r\n\t</li>\r\n\t\r\n\t<li class="gridxFilterPaneFieldWrapper gridxFilterPaneSelectWrapper">\r\n\t\t<div data-dojo-type="dijit.form.Select" aria-labelledby="${id}_ValueLabel" style="width: 100%"></div>\r\n\t</li>\r\n</ul>\r\n',
"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(k,m,l){return k("dijit.form.RadioButton",[m,l],{baseClass:"dijitRadio"})})},"dijit/form/CheckBox":function(){define("require,dojo/_base/declare,dojo/dom-attr,dojo/has,dojo/query,dojo/ready,./ToggleButton,./_CheckBoxMixin,dojo/text!./templates/CheckBox.html,dojo/NodeList-dom".split(","),function(k,m,l,i,f,e,h,d,c){i("dijit-legacy-requires")&&e(0,function(){k(["dijit/form/RadioButton"])});return m("dijit.form.CheckBox",
[h,d],{templateString:c,baseClass:"dijitCheckBox",_setValueAttr:function(a,b){"string"==typeof a&&(this.inherited(arguments),a=!0);this._created&&this.set("checked",a,b)},_getValueAttr:function(){return this.checked?this.value:!1},_setIconClassAttr:null,postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=this.checked?"checked":""},_fillContent:function(){},_onFocus:function(){this.id&&f("label[for='"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},
_onBlur:function(){this.id&&f("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");this.inherited(arguments)}})})},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/_base/event"],function(k,m,l){return k("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(i){this._set("readOnly",i);m.set(this.focusNode,"readOnly",i);this.focusNode.setAttribute("aria-readonly",i)},_setLabelAttr:void 0,
_getSubmitValue:function(i){return!i&&0!==i?"on":i},_setValueAttr:function(i){i=this._getSubmitValue(i);this._set("value",i);m.set(this.focusNode,"value",i)},reset:function(){this.inherited(arguments);this._set("value",this.params.value||"on");m.set(this.focusNode,"value",this.value)},_onClick:function(i){return this.readOnly?(l.stop(i),!1):this.inherited(arguments)}})})},"url:dijit/form/templates/CheckBox.html":'<div class="dijit dijitReset dijitInline" role="presentation"\r\n\t><input\r\n\t \t${!nameAttrSetting} type="${type}" ${checkedAttrSetting}\r\n\t\tclass="dijitReset dijitCheckBoxInput"\r\n\t\tdata-dojo-attach-point="focusNode"\r\n\t \tdata-dojo-attach-event="onclick:_onClick"\r\n/></div>\r\n',
"dijit/form/_RadioButtonMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-attr,dojo/_base/event,dojo/_base/lang,dojo/query,../registry".split(","),function(k,m,l,i,f,e,h){return m("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var d=[];e("input[type=radio]",this.focusNode.form||this.ownerDocument).forEach(f.hitch(this,function(c){c.name==this.name&&c.form==this.focusNode.form&&(c=h.getEnclosingWidget(c))&&d.push(c)}));return d},_setCheckedAttr:function(d){this.inherited(arguments);
this._created&&d&&k.forEach(this._getRelatedWidgets(),f.hitch(this,function(c){c!=this&&c.checked&&c.set("checked",!1)}))},_getSubmitValue:function(d){return null===d?"on":d},_onClick:function(d){if(this.checked||this.disabled)return i.stop(d),!1;return this.readOnly?(i.stop(d),k.forEach(this._getRelatedWidgets(),f.hitch(this,function(c){l.set(this.focusNode||this.domNode,"checked",c.checked)})),!1):this.inherited(arguments)}})})},"dijit/form/ComboBox":function(){define(["dojo/_base/declare","./ValidationTextBox",
"./ComboBoxMixin"],function(k,m,l){return k("dijit.form.ComboBox",[m,l],{})})},"url:gridx/templates/FilterDialog.html":'<form action="./" onsubmit="return false;">\r\n<label id="${id}_MatchOptionLabel" for="${id}_MatchOptionSelect">${i18n.relationMsgFront} </label>\r\n<select data-dojo-type="dijit.form.Select" id="${id}_MatchOptionSelect" aria-labelledby="${id}_MatchOptionLabel">\r\n\t<option value="all">${i18n.relationAll}</option>\r\n\t<option value="any">${i18n.relationAny}</option>\r\n</select>\r\n\r\n<div class="gridxFilterAccordionWrapper">\r\n\t<div data-dojo-type="dijit.layout.AccordionContainer"></div>\r\n</div>\r\n\r\n<div class="gridxFilterDialogButtons">\r\n\t<input type="button" class="gridxFilterDialogBtnAdd" data-dojo-type="dijit.form.Button" \r\n\t\t   showLabel="false" iconClass="gridxFilterBtnAddRule" label="${i18n.addRuleButton}"/>\r\n\t<input type="submit" data-dojo-type="dijit.form.Button" label="${i18n.filterButton}"/>\r\n\t<input type="button" data-dojo-type="dijit.form.Button" label="${i18n.clearButton}"/>\r\n\t<input type="button" data-dojo-type="dijit.form.Button" label="${i18n.cancelButton}"/>\r\n</div>\r\n</form>\r\n',
"dijit/layout/AccordionContainer":function(){define("require,dojo/_base/array,dojo/_base/declare,dojo/_base/event,dojo/_base/fx,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/keys,dojo/_base/lang,dojo/sniff,dojo/topic,../focus,../_base/manager,dojo/ready,../_Widget,../_Container,../_TemplatedMixin,../_CssStateMixin,./StackContainer,./ContentPane,dojo/text!./templates/AccordionButton.html".split(","),function(k,m,l,i,f,e,h,d,c,a,b,g,j,o,n,p,r,q,t,w,u,s,y,v){var t=l("dijit.layout._AccordionButton",
[q,w,u],{templateString:v,label:"",_setLabelAttr:{node:"titleTextNode",type:"innerHTML"},title:"",_setTitleAttr:{node:"titleTextNode",type:"attribute",attribute:"title"},iconClassAttr:"",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitAccordionTitle",getParent:function(){return this.parent},buildRendering:function(){this.inherited(arguments);var a=this.id.replace(" ","_");h.set(this.titleTextNode,"id",a+"_title");this.focusNode.setAttribute("aria-labelledby",h.get(this.titleTextNode,
"id"));e.setSelectable(this.domNode,!1)},getTitleHeight:function(){return a.getMarginSize(this.domNode).h},_onTitleClick:function(){this.getParent().selectChild(this.contentWidget,!0);n.focus(this.focusNode)},_onTitleKeyPress:function(a){return this.getParent()._onKeyPress(a,this.contentWidget)},_setSelectedAttr:function(a){this._set("selected",a);this.focusNode.setAttribute("aria-expanded",a?"true":"false");this.focusNode.setAttribute("aria-selected",a?"true":"false");this.focusNode.setAttribute("tabIndex",
a?"0":"-1")}}),x=l("dijit.layout._AccordionInnerContainer",[q,u],{baseClass:"dijitAccordionInnerContainer",isLayoutContainer:!0,buildRendering:function(){this.domNode=c.place("<div class='"+this.baseClass+"' role='presentation'>",this.contentWidget.domNode,"after");var a=this.contentWidget,b=g.isString(this.buttonWidget)?g.getObject(this.buttonWidget):this.buttonWidget;this.button=a._buttonWidget=(new b({contentWidget:a,label:a.title,title:a.tooltip,dir:a.dir,lang:a.lang,textDir:a.textDir,iconClass:a.iconClass,
id:a.id+"_button",parent:this.parent})).placeAt(this.domNode);this.containerNode=c.place("<div class='dijitAccordionChildWrapper' style='display:none'>",this.domNode);c.place(this.contentWidget.domNode,this.containerNode)},postCreate:function(){this.inherited(arguments);var a=this.button;this._contentWidgetWatches=[this.contentWidget.watch("title",g.hitch(this,function(b,c,d){a.set("label",d)})),this.contentWidget.watch("tooltip",g.hitch(this,function(b,c,d){a.set("title",d)})),this.contentWidget.watch("iconClass",
g.hitch(this,function(b,c,d){a.set("iconClass",d)}))]},_setSelectedAttr:function(a){this._set("selected",a);this.button.set("selected",a);if(a&&(a=this.contentWidget,a.onSelected))a.onSelected()},startup:function(){this.contentWidget.startup()},destroy:function(){this.button.destroyRecursive();m.forEach(this._contentWidgetWatches||[],function(a){a.unwatch()});delete this.contentWidget._buttonWidget;delete this.contentWidget._wrapperWidget;this.inherited(arguments)},destroyDescendants:function(a){this.contentWidget.destroyRecursive(a)}}),
l=l("dijit.layout.AccordionContainer",s,{duration:p.defaultDuration,buttonWidget:t,baseClass:"dijitAccordionContainer",buildRendering:function(){this.inherited(arguments);this.domNode.style.overflow="hidden";this.domNode.setAttribute("role","tablist")},startup:function(){this._started||(this.inherited(arguments),this.selectedChildWidget&&this.selectedChildWidget._wrapperWidget.set("selected",!0))},layout:function(){var b=this.selectedChildWidget;if(b){var c=b._wrapperWidget.domNode,d=a.getMarginExtents(c),
c=a.getPadBorderExtents(c),e=b._wrapperWidget.containerNode,g=a.getMarginExtents(e),e=a.getPadBorderExtents(e),j=this._contentBox,f=0;m.forEach(this.getChildren(),function(c){c!=b&&(f+=a.getMarginSize(c._wrapperWidget.domNode).h)});this._verticalSpace=j.h-f-d.h-c.h-g.h-e.h-b._buttonWidget.getTitleHeight();this._containerContentBox={h:this._verticalSpace,w:this._contentBox.w-d.w-c.w-g.w-e.w};b&&b.resize(this._containerContentBox)}},_setupChild:function(a){a._wrapperWidget=x({contentWidget:a,buttonWidget:this.buttonWidget,
id:a.id+"_wrapper",dir:a.dir,lang:a.lang,textDir:a.textDir,parent:this});this.inherited(arguments)},addChild:function(a,b){if(this._started){var d=this.containerNode;if(b&&"number"==typeof b){var e=q.prototype.getChildren.call(this);if(e&&e.length>=b)d=e[b-1].domNode,b="after"}c.place(a.domNode,d,b);a._started||a.startup();this._setupChild(a);o.publish(this.id+"-addChild",a,b);this.layout();this.selectedChildWidget||this.selectChild(a)}else this.inherited(arguments)},removeChild:function(a){a._wrapperWidget&&
(c.place(a.domNode,a._wrapperWidget.domNode,"after"),a._wrapperWidget.destroy(),delete a._wrapperWidget);d.remove(a.domNode,"dijitHidden");this.inherited(arguments)},getChildren:function(){return m.map(this.inherited(arguments),function(a){return"dijit.layout._AccordionInnerContainer"==a.declaredClass?a.contentWidget:a},this)},destroy:function(){this._animation&&this._animation.stop();m.forEach(this.getChildren(),function(a){a._wrapperWidget?a._wrapperWidget.destroy():a.destroyRecursive()});this.inherited(arguments)},
_showChild:function(a){a._wrapperWidget.containerNode.style.display="block";return this.inherited(arguments)},_hideChild:function(a){a._wrapperWidget.containerNode.style.display="none";this.inherited(arguments)},_transition:function(b,c,d){8>j("ie")&&(d=!1);this._animation&&(this._animation.stop(!0),delete this._animation);var e=this;if(b){b._wrapperWidget.set("selected",!0);var g=this._showChild(b);this.doLayout&&b.resize&&b.resize(this._containerContentBox)}c&&(c._wrapperWidget.set("selected",!1),
d||this._hideChild(c));if(d){var h=b._wrapperWidget.containerNode,i=c._wrapperWidget.containerNode,d=b._wrapperWidget.containerNode,b=a.getMarginExtents(d),d=a.getPadBorderExtents(d),k=b.h+d.h;i.style.height=e._verticalSpace-k+"px";this._animation=new f.Animation({node:h,duration:this.duration,curve:[1,this._verticalSpace-k-1],onAnimate:function(a){a=Math.floor(a);h.style.height=a+"px";i.style.height=e._verticalSpace-k-a+"px"},onEnd:function(){delete e._animation;h.style.height="auto";c._wrapperWidget.containerNode.style.display=
"none";i.style.height="auto";e._hideChild(c)}});this._animation.onStop=this._animation.onEnd;this._animation.play()}return g},_onKeyPress:function(a,c){if(!this.disabled&&!(a.altKey||!c&&!a.ctrlKey)){var d=a.charOrCode;if(c&&(d==b.LEFT_ARROW||d==b.UP_ARROW)||a.ctrlKey&&d==b.PAGE_UP)this._adjacent(!1)._buttonWidget._onTitleClick(),i.stop(a);else if(c&&(d==b.RIGHT_ARROW||d==b.DOWN_ARROW)||a.ctrlKey&&(d==b.PAGE_DOWN||d==b.TAB))this._adjacent(!0)._buttonWidget._onTitleClick(),i.stop(a)}}});j("dijit-legacy-requires")&&
r(0,function(){k(["dijit/layout/AccordionPane"])});l._InnerContainer=x;l._Button=t;return l})},"dijit/layout/StackContainer":function(){define("dojo/_base/array,dojo/cookie,dojo/_base/declare,dojo/dom-class,dojo/has,dojo/_base/lang,dojo/ready,dojo/topic,../registry,../_WidgetBase,./_LayoutWidget,dojo/i18n!../nls/common".split(","),function(k,m,l,i,f,e,h,d,c,a,b){f("dijit-legacy-requires")&&h(0,function(){require(["dijit/layout/StackController"])});e.extend(a,{selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",
showTitle:!0});return l("dijit.layout.StackContainer",b,{doLayout:!0,persist:!1,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);i.add(this.domNode,"dijitLayoutContainer");this.containerNode.setAttribute("role","tabpanel")},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onkeypress",this._onKeyPress)},startup:function(){if(!this._started){var a=this.getChildren();k.forEach(a,this._setupChild,this);this.persist?this.selectedChildWidget=
c.byId(m(this.id+"_selectedChild")):k.some(a,function(a){if(a.selected)this.selectedChildWidget=a;return a.selected},this);var b=this.selectedChildWidget;if(!b&&a[0])b=this.selectedChildWidget=a[0],b.selected=!0;d.publish(this.id+"-startup",{children:a,selected:b});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var a=this.selectedChildWidget;a&&this._showChild(a)}this.inherited(arguments)},_setupChild:function(a){this.inherited(arguments);i.replace(a.domNode,
"dijitHidden","dijitVisible");a.domNode.title=""},addChild:function(a,b){this.inherited(arguments);this._started&&(d.publish(this.id+"-addChild",a,b),this.layout(),this.selectedChildWidget||this.selectChild(a))},removeChild:function(a){this.inherited(arguments);this._started&&d.publish(this.id+"-removeChild",a);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===a&&(this.selectedChildWidget=void 0,this._started)){var b=this.getChildren();b.length&&this.selectChild(b[0])}this._started&&
this.layout()}},selectChild:function(a,b){a=c.byId(a);if(this.selectedChildWidget!=a){var e=this._transition(a,this.selectedChildWidget,b);this._set("selectedChildWidget",a);d.publish(this.id+"-selectChild",a);this.persist&&m(this.id+"_selectedChild",this.selectedChildWidget.id)}return e},_transition:function(a,b){b&&this._hideChild(b);var c=this._showChild(a);a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize());return c},_adjacent:function(a){var b=this.getChildren(),
c=k.indexOf(b,this.selectedChildWidget),c=c+(a?1:b.length-1);return b[c%b.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0)},back:function(){return this.selectChild(this._adjacent(!1),!0)},_onKeyPress:function(a){d.publish(this.id+"-containerKeyPress",{e:a,page:this})},layout:function(){var a=this.selectedChildWidget;a&&a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize())},_showChild:function(a){var b=this.getChildren();a.isFirstChild=
a==b[0];a.isLastChild=a==b[b.length-1];a._set("selected",!0);i.replace(a.domNode,"dijitVisible","dijitHidden");return a._onShow&&a._onShow()||!0},_hideChild:function(a){a._set("selected",!1);i.replace(a.domNode,"dijitHidden","dijitVisible");a.onHide&&a.onHide()},closeChild:function(a){a.onClose(this,a)&&(this.removeChild(a),a.destroyRecursive())},destroyDescendants:function(a){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;k.forEach(this.getChildren(),function(b){a||this.removeChild(b);
b.destroyRecursive(a)},this);this._descendantsBeingDestroyed=!1}})})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(k,m){k.cookie=function(k,i,f){var e=document.cookie,h;if(1==arguments.length)h=(h=e.match(RegExp("(?:^|; )"+m.escapeString(k)+"=([^;]*)")))?decodeURIComponent(h[1]):void 0;else{f=f||{};e=f.expires;if("number"==typeof e){var d=new Date;d.setTime(d.getTime()+864E5*e);e=f.expires=d}if(e&&e.toUTCString)f.expires=e.toUTCString();var i=encodeURIComponent(i),e=k+"="+
i,c;for(c in f)e+="; "+c,d=f[c],!0!==d&&(e+="="+d);document.cookie=e}return h};k.cookie.isSupported=function(){if(!("cookieEnabled"in navigator))this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1});return navigator.cookieEnabled};return k.cookie})},"url:dijit/layout/templates/AccordionButton.html":'<div data-dojo-attach-event=\'onclick:_onTitleClick\' class=\'dijitAccordionTitle\' role="presentation">\r\n\t<div data-dojo-attach-point=\'titleNode,focusNode\' data-dojo-attach-event=\'onkeypress:_onTitleKeyPress\'\r\n\t\t\tclass=\'dijitAccordionTitleFocus\' role="tab" aria-expanded="false"\r\n\t\t><span class=\'dijitInline dijitAccordionArrow\' role="presentation"></span\r\n\t\t><span class=\'arrowTextUp\' role="presentation">+</span\r\n\t\t><span class=\'arrowTextDown\' role="presentation">-</span\r\n\t\t><img src="${_blankGif}" alt="" class="dijitIcon" data-dojo-attach-point=\'iconNode\' style="vertical-align: middle" role="presentation"/>\r\n\t\t<span role="presentation" data-dojo-attach-point=\'titleTextNode\' class=\'dijitAccordionText\'></span>\r\n\t</div>\r\n</div>\r\n',
"gridx/modules/filter/FilterConfirmDialog":function(){define(["dojo/_base/declare","dojo/string","dijit/Dialog","dojo/text!../../templates/FilterConfirmDialog.html","dojo/i18n!../../nls/FilterBar"],function(k,m,l,i,f){return k(l,{title:f.clearFilterDialogTitle,cssClass:"gridxFilterConfirmDialog",autofocus:!1,postCreate:function(){this.inherited(arguments);this.set("content",m.substitute(i,f));var e=dijit.findWidgets(this.domNode);this.btnClear=e[0];this.btnCancel=e[1];this.connect(this.btnCancel,
"onClick","hide");this.connect(this.btnClear,"onClick","onExecute")},onExecute:function(){this.execute()},execute:function(){}})})},"url:gridx/templates/FilterConfirmDialog.html":'<div class="gridxFilterConfirmDialogMessage">${clearFilterMsg}</div\r\n><div class="gridxFilterConfirmDialogButtons"\r\n\t><input type="button" data-dojo-type="dijit.form.Button" label="${clearButton}"\r\n\t/><input type="button" data-dojo-type="dijit.form.Button" label="${cancelButton}"\r\n/></div>\r\n',"gridx/modules/filter/FilterTooltip":function(){define("dojo,dijit,dojo/_base/declare,dojo/string,dojo/i18n!../../nls/FilterBar,./Filter,./FilterDialog,dijit/TooltipDialog,dijit/popup,dijit/Tooltip,dojo/_base/array,dojo/_base/event,dojo/_base/html".split(","),
function(k,m,l,i,f){return l(m.TooltipDialog,{grid:null,filterBar:null,postCreate:function(){this.inherited(arguments);this.filterBar=this.grid.filterBar;this.connect(this,"onClick","_onClick");this.connect(this,"onMouseEnter","_onMouseEnter");this.connect(this,"onMouseLeave","_onMouseLeave");k.addClass(this.domNode,"gridxFilterTooltip");k.addClass(this.domNode,"dijitTooltipBelow")},show:function(e){this.inherited(arguments);m.popup.open({popup:this,x:e.pageX,y:e.pageY,padding:{x:-6,y:-3}})},hide:function(){this.inherited(arguments);
m.popup.close(this)},buildContent:function(){var e=this.filterBar,h=e._nls,d=e.filterData;if(d&&d.conditions.length){var c=['<div class="gridxFilterTooltipTitle"><b>${i18n.statusTipTitleHasFilter}</b> ',"all"===d.type?h.statusTipHeaderAll:h.statusTipHeaderAny,"</div><table><tr><th>${i18n.statusTipHeaderColumn}</th><th>${i18n.statusTipHeaderCondition}</th></tr>"];k.forEach(d.conditions,function(a,b){c.push("<tr",b%2?' class="gridxFilterTooltipOddRow"':"","><td>",a.colId?this.grid.column(a.colId).name():
"${i18n.anyColumnOption}",'</td><td class="gridxFilterTooltipValueCell">',"<div>",e._getRuleString(a.condition,a.value,a.type),'<span action="remove-rule" title="${i18n.removeRuleButton}"',' class="gridxFilterTooltipRemoveBtn"><span class="gridxFilterTooltipRemoveBtnText">x</span></span></div></td></tr>')},this);c.push("</table>");this.i18n=f;this.set("content",i.substitute(c.join(""),this));k.toggleClass(this.domNode,"gridxFilterTooltipSingleRule",1===d.conditions.length)}},_onMouseEnter:function(){this.isMouseOn=
!0},_onMouseLeave:function(){this.isMouseOn=!1;this.hide()},_onClick:function(e){var f=this._getTr(e),d=this.filterBar;f&&/^span$/i.test(e.target.tagName)?(d.filterData.conditions.splice(f.rowIndex-1,1),f.parentNode.removeChild(f),d.applyFilter(d.filterData),k.stopEvent(e)):(this.filterBar.showFilterDialog(),this.hide())},_getTr:function(e){for(e=e.target;e&&!/^tr$/i.test(e.tagName)&&e!==this.domNode;)e=e.parentNode;return e&&/^tr$/i.test(e.tagName)?e:null}})})},"dijit/TooltipDialog":function(){define("dojo/_base/declare,dojo/dom-class,dojo/_base/event,dojo/keys,dojo/_base/lang,./focus,./layout/ContentPane,./_DialogMixin,./form/_FormMixin,./_TemplatedMixin,dojo/text!./templates/TooltipDialog.html,./main".split(","),
function(k,m,l,i,f,e,h,d,c,a,b){return k("dijit.TooltipDialog",[h,a,c,d],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:b,_setTitleAttr:function(a){this.containerNode.title=a;this._set("title",a)},postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey")},orient:function(a,b,c){a={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow",
"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+c];m.replace(this.domNode,a,this._currentOrientClass||"");this._currentOrientClass=a},focus:function(){this._getFocusItems(this.containerNode);e.focus(this._firstFocusItem)},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,a.corner);var b=
a.aroundNodePos;if("M"==a.corner.charAt(0)&&"M"==a.aroundCorner.charAt(0))this.connectorNode.style.top=b.y+(b.h-this.connectorNode.offsetHeight>>1)-a.y+"px",this.connectorNode.style.left="";else if("M"==a.corner.charAt(1)&&"M"==a.aroundCorner.charAt(1))this.connectorNode.style.left=b.x+(b.w-this.connectorNode.offsetWidth>>1)-a.x+"px";this._onShow()},onClose:function(){this.onHide()},_onKey:function(a){var b=a.target;a.charOrCode===i.TAB&&this._getFocusItems(this.containerNode);var c=this._firstFocusItem==
this._lastFocusItem;a.charOrCode==i.ESCAPE?(this.defer("onCancel"),l.stop(a)):b==this._firstFocusItem&&a.shiftKey&&a.charOrCode===i.TAB?(c||e.focus(this._lastFocusItem),l.stop(a)):b==this._lastFocusItem&&a.charOrCode===i.TAB&&!a.shiftKey?(c||e.focus(this._firstFocusItem),l.stop(a)):a.charOrCode===i.TAB&&a.stopPropagation()}})})},"url:dijit/templates/TooltipDialog.html":'<div role="presentation" tabIndex="-1">\r\n\t<div class="dijitTooltipContainer" role="presentation">\r\n\t\t<div class ="dijitTooltipContents dijitTooltipFocusNode" data-dojo-attach-point="containerNode" role="dialog"></div>\r\n\t</div>\r\n\t<div class="dijitTooltipConnector" role="presentation" data-dojo-attach-point="connectorNode"></div>\r\n</div>\r\n',
"gridx/modules/CellWidget":function(){define("dojo/_base/declare,dojo/_base/query,dojo/_base/array,dojo/_base/event,dojo/_base/sniff,dojo/dom-class,dojo/keys,dijit/registry,dijit/a11y,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,../core/_Module".split(","),function(k,m,l,i,f,e,h,d,c,a,b,g,j){var o=function(){return""},n=k([a,b,g],{content:"",setCellValue:null,cell:null,postMixInProperties:function(){this.templateString=['<div class="gridxCellWidget">',this.content,"</div>"].join("")},
postCreate:function(){this.connect(this.domNode,"onmousedown",function(a){a.cancelBubble=!0})},setValue:function(a,b,c){try{var g=this;m(".gridxHasGridCellValue",g.domNode).map(function(a){return d.byNode(a)}).forEach(function(d){if(d){var f=e.contains(d.domNode,"gridxUseStoreData")?b:a,j=d.onChange;if(c&&d.get("value")!==f)d.onChange=function(){d.onChange=j};g.setCellValue||d.set("value",f)}});g.setCellValue&&g.setCellValue(a,b,g,c)}catch(f){console.error("Can not set cell value: ",f)}}});j._markupAttrs.push("!widgetsInCell",
"!setCellValue");return k(j,{name:"cellWidget",getAPIPath:function(){return{cellWidget:this}},cellMixin:{widget:function(){return this.grid.cellWidget.getCellWidget(this.row.id,this.column.id)}},constructor:function(){this._init()},preload:function(){var a=this.grid.body;this.batchConnect([a,"onAfterRow","_showDijits"],[a,"onAfterCell","_showDijit"],[a,"onUnrender","_onUnrenderRow"]);this._initFocus()},destroy:function(){this.inherited(arguments);var a,b,c,d,e=this.grid._columns;for(a=e.length-1;0<=
a;--a)if(c=e[a],d=c._cellWidgets){for(b in d)d[b].destroyRecursive();delete c._cellWidgets}},backupCount:20,setCellDecorator:function(a,b,c,d){var e=this._decorators[a];e||(e=this._decorators[a]={});(a=e[b])||(a=e[b]={});a.decorator=c;a.setCellValue=d;a.widget=null},restoreCellDecorator:function(a,b){var c=this._decorators[a];if(c){var d=c[b];if(d&&d.widget){var e=d.widget.domNode.parentNode;if(e)e.innerHTML=null;window.setTimeout(function(){d.widget.destroyRecursive();d.widget=null;d.decorator=null;
d.setCellValue=null},100)}delete c[b]}},getCellWidget:function(a,b){var c=this.grid.body.getCellNode({rowId:a,colId:b});return c&&(c=m(".gridxCellWidget",c)[0])?d.byNode(c):null},onCellWidgetCreated:function(){},_init:function(){this._decorators={};var a,b,c=this.grid._columns;for(a=c.length-1;0<=a;--a)if(b=c[a],b.decorator&&b.widgetsInCell)b.userDecorator=b.decorator,b.decorator=o,b._cellWidgets={},b._backupWidgets=[]},_showDijits:function(a){var b=this;l.forEach(a.cells(),function(a){var c=a.column.def();
if(c.userDecorator||b._getSpecialCellDec(a.row.id,c.id))if(c=a.node()){a=b._prepareCellWidget(a);if(f("ie"))for(;c.childNodes.length;)c.removeChild(c.firstChild);else c.innerHTML="";a.placeAt(c);a.startup()}})},_showDijit:function(a){var b=a.column.def();if(b.userDecorator||this._getSpecialCellDec(a.row.id,b.id))b=this._prepareCellWidget(a),a=a.node(),a.innerHTML="",b.placeAt(a),b.startup()},_prepareCellWidget:function(a){var b=a.column.def(),c=this._getSpecialWidget(a);c||(c=b._backupWidgets.pop(),
c||(c=new n({content:b.userDecorator(),setCellValue:b.setCellValue}),this.onCellWidgetCreated(c,a)),b._cellWidgets[a.row.id]=c);c.cell=a;c.setValue(a.data(),a.rawData(),!0);return c},_onUnrenderRow:function(a){for(var b=this.grid._columns,c=this.arg("backupCount"),d=function(a,b){var d=a._cellWidgets[b];a._backupWidgets.length<c?a._backupWidgets.push(d):d.destroyRecursive()},e=0,g=b.length;e<g;++e){var f=b[e],j=f._cellWidgets;if(j)if(this.model.isId(a)&&j[a])d(f,a),delete j[a];else{for(var h in j)d(f,
h);f._cellWidgets={}}}},_getSpecialCellDec:function(a,b){var c=this._decorators[a];return c&&c[b]},_getSpecialWidget:function(a){var b=this._decorators[a.row.id];if(b&&(b=b[a.column.id])){if(!b.widget&&b.decorator)try{b.widget=new n({content:b.decorator(a.data(),a.row.id,a.row.visualIndex()),setCellValue:b.setCellValue})}catch(c){console.error("Edit:",c)}return b.widget}return null},_initFocus:function(){var a=this.grid.focus;a&&a.registerArea({name:"cellwidget",priority:1,scope:this,doFocus:this._doFocus,
doBlur:this._doBlur,onFocus:this._onFocus,onBlur:this._endNavigate,connects:[this.connect(this.grid,"onCellKeyDown","_onKey")]})},_doFocus:function(a,b){if(this._navigating){var c=this._navElems,d=function(){var a=0>b?c.highest||c.last:c.lowest||c.first;a&&a.focus()};f("webkit")?d():setTimeout(d,5);return!0}return!1},_doBlur:function(a,b){if(a){var c=this,d=c.model,e=c.grid,g=e.body,j=c._navElems,h=j.lowest||j.first,j=j.last||j.highest||h;if((f("ie")?a.srcElement:a.target)==(0<b?j:h))i.stop(a),d.when({id:c._focusRowId},
function(){var a=g.getRowInfo({parentId:d.treePath(c._focusRowId).pop(),rowIndex:d.idToIndex(c._focusRowId)}).visualIndex;g._nextCell(a,e._columnsById[c._focusColId].index,0<b?1:-1,function(a,b){return c._isNavigable(e._columns[b].id)}).then(function(a){c._focusColId=e._columns[a.c].id;var f=g.getRowInfo({visualIndex:a.r});c._focusRowId=d.indexToId(f.rowIndex,f.parentId);g._focusCellCol=a.c;g._focusCellRow=a.r;c._beginNavigate(c._focusRowId,c._focusColId);c._doFocus(null,b)})});return!1}this._navigating=
!1;return!0},_isNavigable:function(a){return(a=this.grid._columnsById[a])&&(a.navigable||void 0===a.navigable)&&a.decorator},_beginNavigate:function(a,b){return this._isNavigable(b)?(this._navigating=!0,this._focusColId=b,this._focusRowId=a,this._navElems=c._getTabNavigable(this.grid.body.getCellNode({rowId:a,colId:b})),!0):!1},_endNavigate:function(){this._navigating=!1},_onFocus:function(a){for(var b=a.target,c=this.grid.domNode;b&&b!==c&&!e.contains(b,"gridxCell");)b=b.parentNode;if(b&&b!==c){for(var c=
b,d=b.getAttribute("colid");b&&!e.contains(b,"gridxRow");)b=b.parentNode;if(b)return b=b.getAttribute("rowid"),c!=a.target&&this._beginNavigate(b,d)}return!1},_onKey:function(a){var b=this.grid.focus;if(a.keyCode==h.F2&&!this._navigating&&"body"==b.currentArea())this._beginNavigate(a.rowId,a.columnId)&&(i.stop(a),b.focusArea("cellwidget"));else if(a.keyCode==h.ESCAPE&&this._navigating&&"cellwidget"==b.currentArea())this._navigating=!1,b.focusArea("body")}})})},"gridx/modules/Edit":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/query,dojo/_base/json,dojo/_base/Deferred,dojo/_base/sniff,dojo/DeferredList,dojo/dom-class,dojo/keys,../core/_Module,../core/util,dojo/date/locale,dijit/form/TextBox".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g){function j(a,b,c){return a.storePattern&&("date"==a.dataType||"time"==a.dataType)?g.parse(b,a.storePattern):c}function o(a,b,c,d){return(b=g.parse(d[a],b))?g.format(b,c):d[a]}function n(a){return a&&function(b,c,d){var e=d.gridCellEditField,d=d.cell,g=d.column.editorArgs;e.set(g&&g.valueField||"value",a(c,b,d,e))}}a._markupAttrs.push("!editable","!alwaysEditing","editor","!editorArgs","applyWhen");return k(a,{name:"edit",forced:["cellWidget"],constructor:function(){this._init()},
getAPIPath:function(){return{edit:this}},preload:function(){var a=this.grid;a.domNode.removeAttribute("aria-readonly");this.connect(a,"onCellDblClick","_onUIBegin");this.connect(a.cellWidget,"onCellWidgetCreated","_onCellWidgetCreated");this.connect(a.body,"onAfterRow",function(b){l(".gridxCell",b.node()).forEach(function(b){a._columnsById[b.getAttribute("colid")].editable&&b.removeAttribute("aria-readonly")})});this._initFocus()},cellMixin:{beginEdit:function(){return this.grid.edit.begin(this.row.id,
this.column.id)},cancelEdit:function(){this.grid.edit.cancel(this.row.id,this.column.id);return this},applyEdit:function(){return this.grid.edit.apply(this.row.id,this.column.id)},isEditing:function(){return this.grid.edit.isEditing(this.row.id,this.column.id)},editor:function(){var a=this.grid.cellWidget.getCellWidget(this.row.id,this.column.id);return a&&a.gridCellEditField}},columnMixin:{isEditable:function(){return this.grid._columnsById[this.id].editable},isAlwaysEditing:function(){return this.grid._columnsById[this.id].alwaysEditing},
setEditable:function(a){this.grid._columnsById[this.id].editable=!!a;return this},editor:function(){return this.grid._columnsById[this.id].editor},setEditor:function(a,b){this.grid.edit.setEditor(this.id,a,b);return this}},begin:function(a,b){var c=new f,d=this,e=d.grid;if(d.isEditing(a,b))d._record(a,b),d._focusEditor(a,b),c.callback(!0),d.onBegin(e.cell(a,b,1));else{var g=e.row(a,1),h=e._columnsById[b];g&&h.editable?(e.cellWidget.setCellDecorator(a,b,d._getDecorator(b),n(h.editorArgs&&h.editorArgs.toEditor||
m.partial(j,h))),d._record(a,b),e.body.refreshCell(g.visualIndex(),h.index).then(function(){d._focusEditor(a,b);c.callback(!0);d.onBegin(e.cell(a,b,1))})):c.callback(!1)}return c},cancel:function(a,b){var c=new f,d=this,e=d.grid,g=d.model,j=e.row(a,1);if(j){var h=e.cellWidget,i=e._columnsById[b];i&&(i.alwaysEditing?(g=g.byId(a),h=h.getCellWidget(a,b),h.setValue(g.data[b],g.rawData[i.field]),c.callback(),d.onCancel(e.cell(a,b,1))):(d._erase(a,b),h.restoreCellDecorator(a,b),e.body.refreshCell(j.visualIndex(),
i.index).then(function(){c.callback();d.onCancel(e.cell(a,b,1))})))}else c.callback();return c},apply:function(a,b){var c=new f,d=this,e=d.grid,j=e.cell(a,b,1);if(j){var h=e.cellWidget.getCellWidget(a,b),i=h&&h.gridCellEditField;if(i&&(!m.isFunction(i.isValid)||i.isValid())){var k=j.column.editorArgs,i=i.get(k&&k.valueField||"value"),l=function(g){d._erase(a,b);j.column.alwaysEditing?(c.callback(g),d.onApply(j,g)):(e.cellWidget.restoreCellDecorator(a,b),e.body.refreshCell(j.row.visualIndex(),j.column.index()).then(function(){c.callback(g);
d.onApply(j,g)}))};try{k&&k.fromEditor?i=k.fromEditor(i,h.cell):j.column.storePattern&&(i=g.format(i,j.column.storePattern)),m.isFunction(j.column.customApplyEdit)?f.when(j.column.customApplyEdit(j,i),function(){l(!0)}):j.rawData()===i?l(!0):f.when(j.setRawData(i),function(){l(!0)})}catch(n){console.warn("Can not apply change! Error message: ",n),l(!1)}return c}}c.callback(!1);return c},isEditing:function(a,b){var c=this.grid._columnsById[b];if(c&&c.alwaysEditing)return!0;c=this.grid.cellWidget.getCellWidget(a,
b);return!!c&&!!c.gridCellEditField},setEditor:function(a,b,c){var a=this.grid._columnsById[a],d=a.editorArgs=a.editorArgs||{};a.editor=b;m.mixin(d,c||{})},onBegin:function(){},onApply:function(){},onCancel:function(){},_init:function(){this._editingCells={};for(var a=0,b=this.grid._columns,c=b.length;a<c;++a){var d=b[a];if(d.storePattern&&d.field&&("date"==d.dataType||"time"==d.dataType)){d.gridPattern=d.gridPattern||!m.isFunction(d.formatter)&&(m.isObject(d.formatter)||"string"==typeof d.formatter)&&
d.formatter||d.storePattern;var e;if(m.isString(d.storePattern))e=d.storePattern,d.storePattern={},d.storePattern[d.dataType+"Pattern"]=e;d.storePattern.selector=d.dataType;if(m.isString(d.gridPattern))e=d.gridPattern,d.gridPattern={},d.gridPattern[d.dataType+"Pattern"]=e;d.gridPattern.selector=d.dataType;d.formatter=m.partial(o,d.field,d.storePattern,d.gridPattern)}}this._initAlwaysEdit()},_initAlwaysEdit:function(){for(var a=this.grid._columns,b=a.length-1;0<=b;--b){var c=a[b];if(c.alwaysEditing)c.editable=
!0,c.navigable=!0,c.userDecorator=this._getDecorator(c.id),c.setCellValue=n(c.editorArgs&&c.editorArgs.toEditor||m.partial(j,c)),c.decorator=function(){return""},c._cellWidgets={},c._backupWidgets=[]}},_getColumnEditor:function(a){a=this.grid._columnsById[a].editor;return m.isFunction(a)?a.prototype.declaredClass:m.isString(a)?a:"dijit.form.TextBox"},_onCellWidgetCreated:function(a,b){var c=this,e=b.column,g=a.gridCellEditField;g&&e.alwaysEditing&&a.connect(g,"onChange",function(){for(var b=a.domNode.parentNode;b&&
!d.contains(b,"gridxRow");)b=b.parentNode;if(b){var f=e.editorArgs&&e.editorArgs.applyDelay||500;clearTimeout(g._timeoutApply);g._timeoutApply=setTimeout(function(){c.apply(b.getAttribute("rowid"),e.id)},f)}})},_focusEditor:function(a,b){var c=this.grid.cellWidget,d=function(){var d=c.getCellWidget(a,b);(d=d&&d.gridCellEditField)&&!d.focused&&m.isFunction(d.focus)&&d.focus()};e("webkit")?d():setTimeout(d,1)},_getDecorator:function(a){var b=this._getColumnEditor(a),a=this.grid._columnsById[a],c=a.editorArgs||
{},d=c.useGridData,e=c.constraints||{},g=c.props||"";(a=a.gridPattern||a.storePattern)&&(e=m.mixin({},a,e));e=i.toJson(e);e=e.substring(1,e.length-1);g&&e&&(g+=", ");return function(){return["<div data-dojo-type='",b,"' data-dojo-attach-point='gridCellEditField' class='gridxCellEditor gridxHasGridCellValue ",d?"":"gridxUseStoreData","' data-dojo-props='",g,e,"'></div>"].join("")}},_record:function(a,b){var c=this._editingCells,d=c[a];d||(d=c[a]={});d[b]=1},_erase:function(a,b){var c=this._editingCells[a];
c&&delete c[b]},_applyAll:function(){var a=this._editingCells,b,c;for(b in a)for(c in a[b])this.apply(b,c)},_onUIBegin:function(a){this.isEditing(a.rowId,a.columnId)||this._applyAll();return this.begin(a.rowId,a.columnId)},_initFocus:function(){var a=this,b=a.grid,c=b.focus;c?c.registerArea({name:"edit",priority:1,scope:a,doFocus:a._onFocus,doBlur:a._doBlur,onFocus:a._onFocus,onBlur:a._onBlur,connects:[a.connect(b,"onCellKeyDown","_onKey"),a.connect(a,"_focusEditor","_focus")]}):a.connect(b,"onCellMouseDown",
function(b){var c=a._editingCells;(!c[b.rowId]||!c[b.rowId][b.columnId])&&a._applyAll()})},_onFocus:function(a){if(a){for(var b=a.target;b&&!d.contains(b,"gridxCell");)b=b.parentNode;return b&&(a=b.getAttribute("colid"),b=b.parentNode.parentNode.parentNode.parentNode.getAttribute("rowid"),this.isEditing(b,a))?(this._record(b,a),!0):!1}return this._editing},_doBlur:function(a,c){var d=this,e=d.grid,g=e.body;if(d._editing&&c){var f=g.getRowInfo({parentId:d.model.treePath(d._focusCellRow).pop(),rowIndex:d.model.idToIndex(d._focusCellRow)}).visualIndex;
g._nextCell(f,e._columnsById[d._focusCellCol].index,0<c?1:-1,function(a,b){return e._columns[b].editable}).then(function(c){b.stopEvent(a);d._applyAll();d._focusCellCol=e._columns[c.c].id;var f=g.getRowInfo({visualIndex:c.r});d._focusCellRow=d.model.indexToId(f.rowIndex,f.parentId);g._focusCellCol=c.c;g._focusCellRow=c.r;d.begin(d._focusCellRow,d._focusCellCol)});return!1}return!0},_onBlur:function(){this._applyAll();return!0},_focus:function(a,b){this._editing=!0;this._focusCellCol=b;this._focusCellRow=
a;this.grid.focus.focusArea("edit")},_blur:function(){this._editing=!1;var a=this.grid.focus;a&&(e("ie")?setTimeout(function(){a.focusArea("body")},1):a.focusArea("body"))},_onKey:function(a){var d=this,e=d.grid,g=e._columnsById[a.columnId];if(g.editable){var f=d.isEditing(a.rowId,a.columnId);a.keyCode==c.ENTER?f?d.apply(a.rowId,a.columnId).then(function(b){b&&d._blur();g.alwaysEditing&&d._focusEditor(a.rowId,a.columnId)}):"body"==e.focus.currentArea()&&(b.stopEvent(a),d._onUIBegin(a)):a.keyCode==
c.ESCAPE&&f&&d.cancel(a.rowId,a.columnId).then(m.hitch(d,d._blur)).then(function(){e.focus.focusArea("body")})}d._editing&&a.keyCode!==c.TAB&&a.stopPropagation()}})})},"gridx/modules/RowHeader":function(){define("dojo/_base/declare,dojo/_base/query,dojo/_base/lang,dojo/_base/sniff,dojo/aspect,dojo/dom-construct,dojo/dom-class,dojo/dom-style,dojo/keys,../core/_Module,../core/util".split(","),function(k,m,l,i,f,e,h,d,c,a,b){return k(a,{name:"rowHeader",getAPIPath:function(){return{rowHeader:this}},
constructor:function(){this.headerNode=e.create("div",{"class":"gridxRowHeaderHeader",role:"row",innerHTML:['<table border="0" cellspacing="0" cellpadding="0" style="width: ',this.arg("width"),';"><tr><th class="gridxRowHeaderHeaderCell" role="rowheader" tabindex="-1"></th></tr></table>'].join("")});this.bodyNode=e.create("div",{"class":"gridxRowHeaderBody"})},destroy:function(){this.inherited(arguments);this._b.remove();e.destroy(this.headerNode);e.destroy(this.bodyNode)},preload:function(){var a=
this.headerNode,b=this.bodyNode,c=this.grid,d=c.body,e=this.arg("width");c._initEvents(["RowHeaderHeader","RowHeaderCell"],c._eventNames);c.header.domNode.appendChild(a);a.style.width=e;this.headerCellNode=m("th",a)[0];c._connectEvents(a,"_onHeaderMouseEvent",this);c.mainNode.appendChild(b);b.style.width=e;c.hLayout.register(null,b);this.batchConnect([d,"onRender","_onRendered"],[d,"onAfterRow","_onAfterRow"],[d,"onAfterCell","_onAfterCell"],[d,"onUnrender","_onUnrender"],[c.bodyNode,"onscroll","_onScroll"],
[c,"onRowMouseOver","_onRowMouseOver"],[c,"onRowMouseOut","_onRowMouseOver"],[c,"_onResizeEnd","_onResize"],c.columnWidth&&[c.columnWidth,"onUpdate","_onResize"],c.columnResizer&&[c.columnResizer,"onResize","_onResize"],[c,"onRowHeaderCellMouseOver","_onCellMouseOver"],[c,"onRowHeaderCellMouseOut","_onCellMouseOver"]);this._b=f.before(d,"renderRows",l.hitch(this,this._onRenderRows),!0);c._connectEvents(b,"_onBodyMouseEvent",this);this._initFocus()},load:function(a,b){var c=this,e=c.bodyNode;b.then(function(){var a=
e.offsetWidth||d.get(e,"width");e.style[c.grid.isLeftToRight()?"left":"right"]=-a+"px";c.loaded.callback()})},width:"20px",onMoveToRowHeaderCell:function(){},_onRenderRows:function(a,b,c){var d=this.bodyNode;if(0<b)a=this._buildRows(a,b),"top"==c?e.place(a,d,"first"):"bottom"==c?e.place(a,d,"last"):(d.innerHTML=a,d.scrollTop=0);else if("top"!=c&&"bottom"!=c)d.innerHTML=""},_onAfterRow:function(a){var b=a.visualIndex(),c=m('[visualindex="'+b+'"].gridxRowHeaderRow',this.bodyNode)[0],b=m('[visualindex="'+
b+'"].gridxRow .gridxRowTable',this.grid.bodyNode)[0],d=c.firstChild,e=this.arg("cellProvider");c.setAttribute("rowid",a.id);c.setAttribute("rowindex",a.index());c.setAttribute("parentid",this.model.treePath(a.id).pop()||"");if(e)d.firstChild.firstChild.firstChild.innerHTML=e.call(this,a);this._syncRowHeight(d,b)},_onAfterCell:function(a){var b=a.row.visualIndex(),a=m('[visualindex="'+b+'"].gridxRowHeaderRow',this.bodyNode)[0],b=m('[visualindex="'+b+'"].gridxRow .gridxRowTable',this.grid.bodyNode)[0];
this._syncRowHeight(a.firstChild,b)},_syncRowHeight:function(a,b){function c(){return i("ie")||e._isCollapse?b.offsetHeight+"px":d.getComputedStyle(b).height}var e=this;if(void 0===e._isCollapse){var f=m(".gridxCell",e.grid.header.innerNode)[0];e._isCollapse=f&&"collapse"==d.get(f,"borderCollapse")}a.style.height=c();setTimeout(function(){a.style.height=c()},0)},_onRendered:function(){var a=this.arg("headerProvider");if(a)this.headerCellNode.innerHTML=a();this._onScroll()},_onUnrender:function(a){(a=
a&&m('[rowid="'+a+'"].gridxRowHeaderRow',this.bodyNode))&&a.length&&e.destroy(a[a.length-1])},_onScroll:function(){this.bodyNode.scrollTop=this.grid.bodyNode.scrollTop},_onResize:function(){for(var a=this.grid.bodyNode.firstChild,b=this.bodyNode.firstChild;a&&b;a=a.nextSibling,b=b.nextSibling)b.firstChild.style.height=a.firstChild.offsetHeight+"px"},_buildRows:function(a,b){for(var c=[],d=0;d<b;++d)c.push('<div class="gridxRowHeaderRow" role="row" visualindex="',a+d,'"><table border="0" cellspacing="0" cellpadding="0" style="height: 24px;"><tr><td class="gridxRowHeaderCell" role="rowheader" tabindex="-1"></td></tr></table></div>');
return c.join("")},_onHeaderMouseEvent:function(a,b){var c=this.grid,d="onRowHeaderHeader"+a,e="onHeader"+a;if(c._isConnected(d))c[d](b);if(c._isConnected(e))c[e](b)},_onBodyMouseEvent:function(a,b){var c=this.grid,d="onRowHeaderCell"+a,e="onRow"+a,f=c._isConnected(d),h=c._isConnected(e);if(f||h)if(this._decorateBodyEvent(b),0<=b.rowIndex){if(b.isRowHeader&&f)c[d](b);if(h)c[e](b)}},_decorateBodyEvent:function(a){for(var b=a.target||a.originalTarget;b&&b!=this.bodyNode;){if(h.contains(b,"gridxRowHeaderCell"))a.isRowHeader=
!0,a.rowHeaderCellNode=b;else if("div"===b.tagName.toLowerCase()&&h.contains(b,"gridxRowHeaderRow")){a.rowId=b.getAttribute("rowid");a.parentId=b.getAttribute("parentid");a.rowIndex=parseInt(b.getAttribute("rowindex"),10);a.visualIndex=parseInt(b.getAttribute("visualindex"),10);break}b=b.parentNode}},_onRowMouseOver:function(a){var b=m('> [rowid="'+a.rowId+'"].gridxRowHeaderRow',this.bodyNode)[0];b&&h.toggle(b,"gridxRowOver","mouseover"==a.type.toLowerCase())},_onCellMouseOver:function(a){var b=m('> [rowid="'+
a.rowId+'"].gridxRowHeaderRow .gridxRowHeaderCell',this.bodyNode)[0];b&&h.toggle(b,"gridxRowHeaderCellOver","mouseover"==a.type.toLowerCase())},_initFocus:function(){var a=this.grid.focus;a&&a.registerArea({name:"rowHeader",priority:0.9,focusNode:this.bodyNode,scope:this,doFocus:this._doFocus,onFocus:this._onFocus,doBlur:this._blur,onBlur:this._blur,connects:[this.connect(this.bodyNode,"onkeydown","_onKeyDown")]})},_doFocus:function(a){if(this._focusRow(this.grid.body._focusCellRow))return b.stopEvent(a),
!0},_onFocus:function(a){for(a=a.target;a!=this.bodyNode;){if(h.contains(a,"gridxRowHeaderRow"))return this._focusRow(this.grid.body._focusCellRow=parseInt(a.getAttribute("visualindex"),10)),!0;a=a.parentNode}},_focusRow:function(a){a=m('[visualindex="'+a+'"] .gridxRowHeaderCell',this.bodyNode)[0];this._blur();if(a=a||this.bodyNode.firstChild)h.add(a,"gridxCellFocus"),a.focus();return a},_blur:function(){m(".gridxCellFocus",this.bodyNode).forEach(function(a){h.remove(a,"gridxCellFocus")});return!0},
_onKeyDown:function(a){var d=this,e=d.grid;if("rowHeader"==e.focus.currentArea()&&a.keyCode==c.UP_ARROW||a.keyCode==c.DOWN_ARROW){b.stopEvent(a);var f=e.body,h=f._focusCellRow+(a.keyCode==c.UP_ARROW?-1:1);f._focusCellRow=h=0>h?0:h>=f.visualCount?f.visualCount-1:h;e.vScroller.scrollToRow(h).then(function(){d._focusRow(h);d.onMoveToRowHeaderCell(h,a)})}}})})},"gridx/modules/IndirectSelect":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/event,dojo/_base/query,dojo/_base/lang,dojo/dom-class,dojo/_base/Deferred,dojo/keys,../core/_Module,../core/util,./RowHeader".split(","),
function(k,m,l,i,f,e,h,d,c,a){return k(c,{name:"indirectSelect",required:["rowHeader","selectRow"],preload:function(){var a=this,c=a.grid,d=c.focus,e=c.select.row,h=c.rowHeader;h.cellProvider=f.hitch(a,a._createSelector);a.batchConnect([e,"onHighlightChange","_onHighlightChange"],[e,"clear","_onClear"],[e,"onSelectionChange","_onSelectionChange"],[c,"onRowMouseOver","_onMouseOver"],[c,"onRowMouseOut","_onMouseOut"],[c,"onRowKeyDown","_onKeyDown"],[c,"onHeaderKeyDown","_onKeyDown"],d&&[d,"onFocusArea",
function(c){"rowHeader"==c&&a._onMouseOver()}],d&&[d,"onBlurArea",function(c){"rowHeader"==c&&a._onMouseOut()}]);if(e.selectByIndex&&a.arg("all"))a._allSelected={},h.headerProvider=f.hitch(a,a._createSelectAllBox),h.loaded.then(function(){d&&a._initFocus();a.connect(c,"onRowHeaderHeaderMouseDown","_onSelectAll")})},all:!0,_createSelector:function(a){var c=a.node(),a=c&&e.contains(c,"gridxRowSelected"),c=c&&e.contains(c,"gridxRowPartialSelected");return this._createCheckBox(a,c)},_createCheckBox:function(a,
c){var d=this._getDijitClass();return['<span role="',this._isSingle()?"radio":"checkbox",'" class="gridxIndirectSelectionCheckBox dijitReset dijitInline ',d," ",a?d+"Checked":"",c?d+"Partial":"",'" aria-checked="',a?"true":c?"mixed":"false",'"><span class="gridxIndirectSelectionCheckBoxInner">',a?"&#10003;":c?"&#9646;":"&#9744;","</span></span>"].join("")},_createSelectAllBox:function(){return this._createCheckBox(this._allSelected[this._getPageId()])},_getPageId:function(){return this.grid.body.rootStart+
","+this.grid.body.rootCount},_onClear:function(){var a=this._getDijitClass()+"Checked";i("."+a,this.grid.rowHeader.bodyNode).forEach(function(c){e.remove(c,a)})},_onHighlightChange:function(a,c){var d=i('[visualindex="'+a.row+'"].gridxRowHeaderRow .gridxIndirectSelectionCheckBox',this.grid.rowHeader.bodyNode)[0];if(d){var f=this._getDijitClass(),h="mixed"==c,k=c&&!h;e.toggle(d,f+"Checked",k);e.toggle(d,f+"Partial",h);d.setAttribute("aria-checked",k?"true":h?"mixed":"false");d.firstChild.innerHTML=
k?"&#10003;":h?"&#9646;":"&#9744;"}},_onMouseOver:function(){var a=this.grid.select.row;if(!a.holdingCtrl)this._holdingCtrl=!1,a.holdingCtrl=!0},_onMouseOut:function(){if(this.hasOwnProperty("_holdingCtrl"))this.grid.select.row.holdingCtrl=!1,delete this._holdingCtrl},_getDijitClass:function(){return this._isSingle()?"dijitRadio":"dijitCheckBox"},_isSingle:function(){var a=this.grid.select.row;return a.hasOwnProperty("multiple")&&!a.arg("multiple")},_onSelectAll:function(){var a=this.grid,c=a.body;
a.select.row[this._allSelected[this._getPageId()]?"deselectByIndex":"selectByIndex"]([0,c.visualCount-1])},_onSelectionChange:function(a){var c=this,d,f,i=c.grid.body,k=c.model,l=i.rootStart,q=i.rootCount,t=m.filter(a,function(a){return!k.treePath(a).pop()});q===k.size()?f=q==t.length:(d=new h,k.when({start:l,count:q},function(){var a=m.filter(m.map(t,function(a){return k.idToIndex(a)}),function(a){return a>=l&&a<l+q});f=q==a.length;d.callback()}));h.when(d,function(){c._allSelected[c._getPageId()]=
f;var a=c.grid.rowHeader.headerCellNode.firstChild;e.toggle(a,c._getDijitClass()+"Checked",f);a.setAttribute("aria-checked",f?"true":"false")})},_initFocus:function(){var b=this.grid,c=b.rowHeader,d=c.headerCellNode,f=function(b){a.stopEvent(b);e.add(d,"gridxHeaderCellFocus");d.focus();return!0},h=function(){e.remove(d,"gridxHeaderCellFocus");return!0};b.focus.registerArea({name:"selectAll",priority:0.89,focusNode:c.headerNode,doFocus:f,doBlur:h,onFocus:f,onBlur:h})},_onKeyDown:function(a){65==a.keyCode&&
a.ctrlKey&&!a.shiftKey&&(this._allSelected[this._getPageId()]||this._onSelectAll(),l.stop(a))}})})},"gridx/modules/Persist":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/_base/json,dojo/_base/unload,dojo/cookie,../core/_Module".split(","),function(k,m,l,i,f,e,h){return k(h,{name:"persist",constructor:function(d){var c=this,a=d.destroy;c.arg("key",window.location+"/"+d.id,function(a){return a});c._persistedList={};d.destroy=function(){c.save();a.call(d)};c._restoreColumnState();
f.addOnWindowUnload(function(){c.save()})},getAPIPath:function(){return{persist:this}},enabled:!0,options:null,key:"",put:function(d,c,a){c&&l.isObject(c)?e(d,i.toJson(c),a):e(d,null,{expires:-1})},get:function(d){return i.fromJson(e(d))},registerAndLoad:function(d,c,a){this._persistedList[d]={saver:c,scope:a,enabled:!0};return(c=this.get(this.arg("key")))?c[d]:null},features:function(){var d=this._persistedList,c=[],a;for(a in d)d.hasOwnProperty(a)&&c.push(a);return c},enable:function(d){this._setEnable(d,
1)},disable:function(d){this._setEnable(d,0)},isEnabled:function(d){var c=this._persistedList[d];return c?c.enabled:d?!1:this.arg("enabled")},save:function(){var d=null;if(this.arg("enabled")){var c,a,b=this._persistedList,d={};for(c in b)a=b[c],a.enabled&&(d[c]=a.saver.call(a.scope||l.global))}this.put(this.arg("key"),d,this.arg("options"))},_setEnable:function(d,c){var a=this._persistedList,c=!!c;if(a[d])a[d].enabled=c;else if(!d){for(d in a)a[d].enabled=c;this.enabled=c}},_restoreColumnState:function(){var d=
this.grid,c=[],a=this.registerAndLoad("column",this._columnStateSaver,this);l.isArray(a)&&(m.forEach(a,function(a){m.some(d._columns,function(e,f){if(e.id==a.id)return e=c[a.index]=d._columns[f],e.declaredWidth=e.width=a.width,!0})}),d.setColumns(c))},_columnStateSaver:function(){return m.map(this.grid._columns,function(d){return{id:d.id,index:d.index,width:d.width}})}})})},"gridx/modules/exporter/Exporter":function(){define(["dojo/_base/declare","dojo/_base/lang","../../core/_Module","dojo/_base/Deferred",
"dojo/_base/array"],function(k,m,l,i,f){function e(c,a,b,d){return!c[a]||!1!==c[a](b||d,d)}function h(c,a,b){var d=[],e=0,h=0,i=c.progressStep;if("number"==typeof c.start&&0<=c.start)e=c.start;"number"==typeof c.count&&0<c.count&&(h=e+c.count);h=h||b;if(a)if(a=f.filter(a,function(a){return a>=e&&a<h}),a.length&&(!i||a.length<=i))d.push(a);else for(c=0;c<a.length;c+=i)d.push(a.slice(c,c+i));else if(a=h-e,!i||a<=i)d.push({start:e,count:a});else for(c=e;c<h;c+=i)d.push({start:c,count:c+i<h?i:h-c});d.p=
0;return d}function d(c,a,b){var b=b.p+1,d=m.isArray(c);return b<(d?c.length:c.start+c.count)?{p:b,row:a.row(d?c[b]:b)}:null}return l.register(k(l,{name:"exporter",getAPIPath:function(){return{exporter:this}},_export:function(c,a){var b=new i,d=this,j=d.model,k=d._getColumns(a),l=d.grid.select,p=l&&l.row,l=l&&l.column,r,q,t={columnIds:k},w=function(){e(c,"afterBody",t,a);b.callback(c.getResult())},u=m.hitch(b,b.errback);try{if(e(c,"initialize",0,a),!a.omitHeader&&e(c,"beforeHeader",t,a)&&(f.forEach(k,
function(b){t.column=d.grid.column(b,1);e(c,"handleHeaderCell",t,a)}),e(c,"afterHeader",t,a)),e(c,"beforeBody",t,a)){if(a.selectedOnly&&p&&(!l||!l.getSelected().length))r=j.when().then(function(){q=p.getSelected()},u);i.when(r,function(){var e,k=q&&j.when({id:q},function(){e=f.map(q,function(a){return j.idToIndex(a)});e.sort(function(a,b){return a-b})},u);i.when(k,function(){var f=new i,k=j.size();d._fetchRows(b,c,t,a,f,h(a,e,k));f.then(w,u)},u)},u)}else b.callback(c.getResult())}catch(s){u(s)}return b},
_fetchRows:function(c,a,b,f,j,h){var i=this,k=i.grid,l=f.filter,q=b.columnIds,t=h[h.p++],w=m.hitch(j,j.errback),u=function(){c.progress(h.p/h.length);i.model.when(t,function(){for(var c=m.isArray(t)?{p:0,row:k.row(t[0])}:{p:t.start,row:k.row(t.start)};c&&c.row;c=d(t,k,c))if(b.row=c.row,(!l||l(c.row))&&e(a,"beforeRow",b,f)){for(var j=0;j<q.length;++j){var h=k.column(q[j],1),o=b.cell=k.cell(c.row,h);b.column=h;b.data=i._format(f,o);e(a,"handleCell",b,f)}e(a,"afterRow",b,f)}}).then(function(){i._fetchRows(c,
a,b,f,j,h)},w)};t?1<h.length?setTimeout(u,10):u():j.callback()},_format:function(c,a){var b=c.formatters,d=a.column.id;return b&&m.isFunction(b[d])?b[d](a):c.useStoreData?a.rawData()||"":a.data()||""},_getColumns:function(c){var a=this.grid,b=a._columnsById;m.isArrayLike(c.columns)&&c.columns.length?(c=f.filter(c.columns,function(a){return b[a]}),c.sort(function(a,c){return b[a].index-b[c].index})):c=f.map(a._columns,function(a){return a.id});return c}}))})},"gridx/modules/exporter/CSV":function(){define(["dojo/_base/declare",
"dojo/_base/lang","../../core/_Module","./Exporter"],function(k,m,l){return k(l,{name:"exportCsv",forced:["exporter"],getAPIPath:function(){return{exporter:{toCSV:m.hitch(this,this.toCSV)}}},toCSV:function(i){return this.grid.exporter._export(this,i||{})},initialize:function(i){this._s=i.separator||",";this._n=i.newLine||"\r\n";this._lines=[]},beforeHeader:function(){this._cells=[]},handleHeaderCell:function(i){this._cells.push(i.column.name())},afterHeader:function(){this._lines.push(this._cells.join(this._s))},
beforeRow:function(){this._cells=[]},handleCell:function(i){i=(""+i.data).replace(/"/g,'""');if(0<=i.indexOf(this._s)||0<=i.search(/[" \t\r\n]/))i='"'+i+'"';this._cells.push(i)},afterRow:function(){this._lines.push(this._cells.join(this._s))},getResult:function(){return this._lines.join(this._n)}})})},"gridx/modules/exporter/Table":function(){define(["dojo/_base/declare","dojo/_base/lang","../../core/_Module","./Exporter"],function(k,m,l){function i(f,e){var h=f.columnWidth,h=h&&h[e.id]||(f.natualWidth?
"":e.getWidth())||"auto";return[' colid="',e.id,'" style="width:',h,'"'].join("")}return k(l,{name:"exportTable",forced:["exporter"],getAPIPath:function(){return{exporter:{toTable:m.hitch(this,this.toTable)}}},toTable:function(f){return this.grid.exporter._export(this,f||{})},initialize:function(f){this._rst=['<table class="grid"',f.natualWidth?"":' style="table-layout:fixed;"',' border="0" cellpadding="0" cellspacing="0">']},beforeHeader:function(){this._rst.push('<thead><tr class="grid_header">')},
handleHeaderCell:function(f,e){var h=f.column;this._rst.push('<th class="grid_header_cell"',i(e,h),">",h.name(),"</th>")},afterHeader:function(){this._rst.push("</tr><thead>")},beforeBody:function(){this._rst.push("<tbody>")},beforeRow:function(f){var f=f.row,e=f.index();this._rst.push('<tr class="grid_row grid_row_',e%2?"even":"odd",'" rowid="',f.id,'" rowindex="',e,'">')},handleCell:function(f,e){this._rst.push('<td class="grid_cell"',i(e,f.column),">",f.data,"</td>")},afterRow:function(){this._rst.push("</tr>")},
afterBody:function(){this._rst.push("</tbody></table>")},getResult:function(){return this._rst.join("")}})})},"gridx/modules/Printer":function(){define("../core/_Module,dojo/_base/declare,dojo/_base/lang,dojo/_base/Deferred,dojo/_base/xhr,dojo/_base/array,dojo/_base/sniff,dojo/_base/window".split(","),function(k,m,l,i,f,e,h,d){function c(a){var b=new i,c=g(b,b.callback);a?f.get({url:a}).then(c,function(){console.warn("Failed to load resource: ",a);c("")}):c("");return b}function a(a){var c,e=function(b){b=
b.document;b.open();b.write(a);b.close()};if(window.print)if(h("chrome")||h("opera"))c=window.open("javascript:''","","status=0,menubar=0,location=0,toolbar=0,width=1,height=1,resizable=0,scrollbars=0"),e(c),c.print(),c.close();else{if(!b){b=d.doc.createElement("iframe");b.frameBorder=0;c=b.style;c.position="absolute";c.width=c.height="1px";c.right=c.bottom=0;c.border="none";c.overflow="hidden";if(!h("ie"))c.visibility="hidden";d.body().appendChild(b)}c=b.contentWindow;e(c);c.focus();c.print()}else console.warn("Print function is not available")}
var b,g=l.hitch;return m(k,{name:"printer",forced:["exportTable"],getAPIPath:function(){return{printer:this}},print:function(b){return this.toHTML(b).then(a)},toHTML:function(a){var b=this,d=new i;c(a.styleSrc).then(function(c){b.grid.exporter.toTable(a).then(function(e){d.callback(b._wrap(a,c,e))},g(d,d.errback),g(d,d.progress))});return d},_wrap:function(a,b,c){return['<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html ',this.grid.isLeftToRight()?
"":'dir="rtl"',"><head><title>",a.title||"",'</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><style type="text/css">',b,'</style><style type="text/css">',a.style||"","</style>",a.customHead||"","</head><body>",a.description||"",c,"</body></html>"].join("")}})})},"gridx/modules/Menu":function(){define("dojo/_base/declare,dojo/_base/connect,../core/_Module,dojo/dom-class,dojo/keys,dojo/_base/event,dojo/_base/lang,dijit/registry,dijit/Menu".split(","),function(k,m,l,
i,f,e,h,d){return k(l,{name:"menu",getAPIPath:function(){return{menu:this}},constructor:function(){this._menus={}},context:null,bind:function(c,a){var a=a||{},b=this,e=b.grid,f=a.hookPoint&&a.hookPoint.toLowerCase()||"grid",i=a.selected?f+"-selected":f,k=b._evtMap[f],l=b._menus[i]=b._menus[i]||{},i=h.partial(b._showMenu,i);m.disconnect(l.open);m.disconnect(l.close);l.menu=d.byId(c);l.open=k?b.connect(e,k,i):"body"==f?b.connect(e.bodyNode,"oncontextmenu",i):b.connect(e.domNode,"oncontextmenu",i);l.close=
b.connect(l.menu,"onClose",function(){b._mutex=0})},unbind:function(c){var a,b=this._menus,e,c=d.byId(c);for(a in b)if(e=b[a],e.menu==c){m.disconnect(e.open);m.disconnect(e.close);delete b[a];break}},_evtMap:{header:"onHeaderContextMenu",headercell:"onHeaderCellContextMenu",cell:"onCellContextMenu",row:"onRowContextMenu"},_showMenu:function(c,a){var b=this._menus;if(!this._mutex&&b[c].menu){var d=this.grid,j=a.rowId,h=a.columnId,k=!c.indexOf("row"),l=!c.indexOf("cell"),m=!c.indexOf("headercell"),
q=0<c.indexOf("-"),t=!!(l&&i.contains(a.cellNode,"gridxCellSelected")||m&&i.contains(d.header.getHeaderNode(h),"gridxColumnSelected")||k&&i.contains(d.body.getRowNode({rowId:j}),"gridxRowSelected"));if(q==t||!q&&t&&!b[c+"-selected"])this.context={grid:d,column:m&&d.column(h,1),row:k&&d.row(j,1),cell:l&&d.cell(j,h,1)},e.stop(a),this._mutex=1,b[c].menu._openMyself({target:a.target,coords:a.keyCode!=f.F10&&"pageX"in a?{x:a.pageX,y:a.pageY}:null})}}})})},"gridx/modules/Dod":function(){define("dojo/_base/kernel,../core/_Module,dojo/_base/declare,dojo/_base/html,dojo/_base/fx,dojo/fx,dojo/query".split(","),
function(k,m,l,i,f,e,h){return l(m,{name:"dod",required:["body"],useAnimation:!0,duration:750,defaultShow:!1,showExpando:!0,autoClose:!1,load:function(){k.experimental("gridx/modules/Dod");this._rowMap={};this.connect(this.grid.body,"onAfterRow","_onAfterRow");this.connect(this.grid.bodyNode,"onclick","_onBodyClick");this.grid.columnResizer&&this.connect(this.grid.columnResizer,"onResize","_onColumnResize");this.loaded.callback()},getAPIPath:function(){return{dod:this}},rowMixin:{showDetail:function(){this.grid.dod.show(this)},
hideDetail:function(){this.grid.dod.hide(this)},toggleDetail:function(){this.grid.dod.toggle(this)},refreshDetail:function(){this.grid.dod.refreshDetail(this)},isDetailShown:function(){return this.grid.dod.isShown(this)}},show:function(d){var c=this._row(d);if(!c.dodShown&&!c.inAnim&&d.node()){c.dodShown=!0;this._getExpando(d).firstChild.innerHTML="-";var a=d.node(),b=a.scrollWidth;if(!c.dodLoadingNode)c.dodLoadingNode=k.create("div",{className:"gridxDodLoadNode",innerHTML:"Loading..."});if(!c.dodNode)c.dodNode=
k.create("div",{className:"gridxDodNode"});i.place(c.dodLoadingNode,a,"last");i.place(c.dodNode,a,"last");i.style(c.dodLoadingNode,"width",b+"px");i.style(c.dodNode,"width",b+"px");i.addClass(a,"gridxDodShown");i.style(c.dodNode,"display","none");c.dodLoaded?this._detailLoadComplete(d):(i.style(c.dodLoadingNode,"display","block"),this.grid.rowHeader&&(a=h('[rowid="'+d.id+'"].gridxRowHeaderRow',this.grid.rowHeader.bodyNode)[0],k.style(a.firstChild,"height",k.style(d.node(),"height")+"px")),a=new k.Deferred,
this.detailProvider(this.grid,d.id,c.dodNode,a),a.then(k.hitch(this,"_detailLoadComplete",d),k.hitch(this,"_detailLoadError",d)))}},hide:function(d){var c=this._row(d),a=this.grid;if(c.dodShown&&!c.inAnim&&d.node()){i.removeClass(d.node(),"gridxDodShown");i.style(c.dodLoadingNode,"display","none");if(this.grid.rowHeader){var b=h('[rowid="'+d.id+'"].gridxRowHeaderRow',this.grid.rowHeader.bodyNode)[0];k.style(b.firstChild,"height",k.style(d.node(),"height")-1+"px")}this._getExpando(d).firstChild.innerHTML=
"+";c.inAnim=!0;e.wipeOut({node:c.dodNode,duration:this.arg("duration"),onEnd:function(){c.dodShown=!1;c.inAnim=!1;a.body.onRender()}}).play();this.grid.rowHeader&&(b=h('[rowid="'+d.id+'"].gridxRowHeaderRow',this.grid.rowHeader.bodyNode)[0],f.animateProperty({node:b.firstChild,duration:this.arg("duration"),properties:{height:{start:b.offsetHeight,end:b.offsetHeight-c.dodNode.scrollHeight,units:"px"}}}).play());c.defaultShow=!1}},toggle:function(d){this.isShown(d)?this.hide(d):this.show(d)},refresh:function(d){this._row(d).dodLoaded=
!1;this.show(d)},isShown:function(d){return!!this._row(d).dodShown},onShow:function(){},onHide:function(){},_rowMap:null,_lastOpen:null,_row:function(d){d=d.id||d;return this._rowMap[d]||(this._rowMap[d]={})},_onBodyClick:function(d){if(i.hasClass(d.target,"gridxDodExpando")||i.hasClass(d.target,"gridxDodExpandoText")){for(d=d.target;d&&!i.hasClass(d,"gridxRow");)d=d.parentNode;d=i.attr(d,"rowindex");this.toggle(this.grid.row(parseInt(d)))}},_onAfterRow:function(d){var c=this._row(d);if(this.arg("showExpando")){var a=
k.query("table",d.node())[0].rows[0].cells[0];k.create("span",{className:"gridxDodExpando",innerHTML:'<span class="gridxDodExpandoText">'+(this.defaultShow?"-":"+")+"</span>"},a,"first")}if(this.isShown(d)||this.arg("defaultShow")&&void 0===c.dodShown)c.dodShown=!1,c.defaultShow=!0,this.show(d)},_onColumnResize:function(){k.query(".gridxDodNode",this.grid.bodyNode).forEach(function(d){i.style(d,"width",d.parentNode.firstChild.offsetWidth+"px")})},_detailLoadComplete:function(d){var c=this._row(d),
a=this.grid;if(this.isShown(d)){c.dodLoaded=!0;if(c.defaultShow)i.style(c.dodNode,"display","block"),a.body.onRender();else if("block"==k.style(c.dodLoadingNode,"display")&&(i.marginBox(c.dodNode,{h:i.marginBox(c.dodLoadingNode).h}),i.style(c.dodNode,"display","block")),c.inAnim=!0,e.wipeIn({node:c.dodNode,duration:this.arg("duration"),onEnd:function(){c.inAnim=!1;a.body.onRender()}}).play(),this.grid.rowHeader){var b=h('[rowid="'+d.id+'"].gridxRowHeaderRow',this.grid.rowHeader.bodyNode)[0];f.animateProperty({node:b.firstChild,
duration:this.arg("duration"),properties:{height:{start:b.offsetHeight,end:d.node().firstChild.offsetHeight+c.dodNode.scrollHeight,units:"px"}}}).play()}i.style(c.dodLoadingNode,"display","none")}},_detailLoadError:function(d){var c=this._row(d);c.dodLoaded=!1;if(this.isShown(d))c.dodLoadingNode.innerHTML="Error: failed to load detail."},_showLoading:function(d){this._row(d).dodLoadingNode.innerHTML="Loading..."},_getExpando:function(d){return k.query("table",d.node())[0].rows[0].cells[0].firstChild},
_hideLoading:function(){},endFunc:function(){}})})},"dojo/fx":function(){define("./_base/lang,./Evented,./_base/kernel,./_base/array,./_base/connect,./_base/fx,./dom,./dom-style,./dom-geometry,./ready,require".split(","),function(k,m,l,i,f,e,h,d,c,a,b){l.isAsync||a(0,function(){b(["./fx/Toggler"])});var l=l.fx={},a={_fire:function(a,b){this[a]&&this[a].apply(this,b||[]);return this}},g=function(a){this._index=-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=
0;i.forEach(this._animations,function(a){this.duration+=a.duration;a.delay&&(this.duration+=a.delay)},this)};g.prototype=new m;k.extend(g,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){f.disconnect(this._onAnimateCtx);f.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=f.connect(this._current,"onAnimate",this,"_onAnimate"),this._onEndCtx=
f.connect(this._current,"onEnd",this,"_onEnd"),this._current.play(0,!0))},play:function(a,b){if(!this._current)this._current=this._animations[this._index=0];if(!b&&"playing"==this._current.status())return this;var c=f.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin")}),d=f.connect(this._current,"onBegin",this,function(a){this._fire("onBegin",arguments)}),e=f.connect(this._current,"onPlay",this,function(a){this._fire("onPlay",arguments);f.disconnect(c);f.disconnect(d);f.disconnect(e)});
this._onAnimateCtx&&f.disconnect(this._onAnimateCtx);this._onAnimateCtx=f.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx&&f.disconnect(this._onEndCtx);this._onEndCtx=f.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=f.connect(this._current,"onPause",this,function(b){this._fire("onPause",arguments);f.disconnect(a)});this._current.pause()}return this},gotoPercent:function(a,b){this.pause();
var c=this.duration*a;this._current=null;i.some(this._animations,function(a){if(a.duration<=c)return this._current=a,!0;c-=a.duration;return!1});this._current&&this._current.gotoPercent(c/this._current.duration,b);return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var b=f.connect(this._current,"onStop",this,function(a){this._fire("onStop",arguments);f.disconnect(b)});
this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this._onAnimateCtx&&f.disconnect(this._onAnimateCtx);this._onEndCtx&&f.disconnect(this._onEndCtx)}});k.extend(g,a);l.chain=function(a){return new g(a)};var j=function(a){this._animations=a||[];this._connects=[];this.duration=this._finished=0;i.forEach(a,function(a){var b=a.duration;a.delay&&(b+=a.delay);if(this.duration<b)this.duration=b;this._connects.push(f.connect(a,"onEnd",
this,"_onEnd"))},this);this._pseudoAnimation=new e.Animation({curve:[0,1],duration:this.duration});var b=this;i.forEach("beforeBegin,onBegin,onPlay,onAnimate,onPause,onStop,onEnd".split(","),function(a){b._connects.push(f.connect(b._pseudoAnimation,a,function(){b._fire(a,arguments)}))})};k.extend(j,{_doAction:function(a,b){i.forEach(this._animations,function(c){c[a].apply(c,b)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,b){var c=
this._pseudoAnimation;c[a].apply(c,b)},play:function(a,b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,b){var c=this.duration*a;i.forEach(this._animations,function(a){a.gotoPercent(a.duration<c?1:c/a.duration,b)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",arguments);
return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){i.forEach(this._connects,f.disconnect)}});k.extend(j,a);l.combine=function(a){return new j(a)};l.wipeIn=function(a){var b=a.node=h.byId(a.node),c=b.style,g,a=e.animateProperty(k.mixin({properties:{height:{start:function(){g=c.overflow;c.overflow="hidden";if("hidden"==c.visibility||"none"==c.display)return c.height="1px",c.display="",c.visibility="",1;var a=d.get(b,"height");return Math.max(a,1)},end:function(){return b.scrollHeight}}}},
a)),j=function(){c.height="auto";c.overflow=g};f.connect(a,"onStop",j);f.connect(a,"onEnd",j);return a};l.wipeOut=function(a){var b=(a.node=h.byId(a.node)).style,c,a=e.animateProperty(k.mixin({properties:{height:{end:1}}},a));f.connect(a,"beforeBegin",function(){c=b.overflow;b.overflow="hidden";b.display=""});var d=function(){b.overflow=c;b.height="auto";b.display="none"};f.connect(a,"onStop",d);f.connect(a,"onEnd",d);return a};l.slideTo=function(a){var b=null,g=null,j=function(a){return function(){var e=
d.getComputedStyle(a),f=e.position;b="absolute"==f?a.offsetTop:parseInt(e.top)||0;g="absolute"==f?a.offsetLeft:parseInt(e.left)||0;if("absolute"!=f&&"relative"!=f)e=c.position(a,!0),b=e.y,g=e.x,a.style.position="absolute",a.style.top=b+"px",a.style.left=g+"px"}}(a.node=h.byId(a.node));j();a=e.animateProperty(k.mixin({properties:{top:a.top||0,left:a.left||0}},a));f.connect(a,"beforeBegin",a,j);return a};return l})},"gridx/modules/TitleBar":function(){define(["dojo/_base/declare","dojo/dom-construct",
"../core/_Module"],function(k,m,l){return k(l,{name:"titleBar",getAPIPath:function(){return{titleBar:this}},constructor:function(){this.domNode=m.create("div",{"class":"gridxTitleBar",innerHTML:this.arg("label")})},preload:function(){this.grid.vLayout.register(this,"domNode","headerNode",-15)},destroy:function(){this.inherited(arguments);m.destroy(this.domNode)},label:"",setLabel:function(i){this.domNode.innerHTML=this.label=i}})})},"gridx/modules/Tree":function(){define("dojo/_base/kernel,dojo/_base/declare,dojo/_base/array,dojo/dom-class,dojo/dom-geometry,dojo/_base/lang,dojo/_base/Deferred,dojo/DeferredList,dojo/query,dojo/keys,../core/util,../core/_Module".split(","),
function(k,m,l,i,f,e,h,d,c,a,b,g){function j(a){return(a=a.firstChild)&&a.className&&i.contains(a,"gridxTreeExpandoCell")&&!i.contains(a,"gridxTreeExpandoLoading")}k.experimental("gridx/modules/Tree");g._markupAttrs.push("!expandLevel");return m(g,{name:"tree",constructor:function(){this._clear()},getAPIPath:function(){return{tree:this}},preload:function(){var n;var a=this.grid;this.model.treeMarkMode&&this.model.treeMarkMode("",!0);a.domNode.setAttribute("role","treegrid");this.batchConnect([a.body,
"collectCellWrapper","_createCellWrapper"],[a.body,"onAfterRow","_onAfterRow"],[a,"onCellClick","_onCellClick"],[a,"setStore","_clear"]);this._initExpandLevel();this._initFocus();if(a.persist){var b,c=a.persist.registerAndLoad("tree",function(){return{openInfo:this._openInfo,parentOpenInfo:this._parentOpenInfo}});if(c){a=this._openInfo=c.openInfo;n=this._parentOpenInfo=c.parentOpenInfo,c=n;for(b in a)a[b].openned=c[b];this._persisted=1}}},load:function(){var a=this;a._persisted?a.loaded.callback():
a.model.when({},function(){a._openInfo[""].count=a.model.size()}).then(function(){a.loaded.callback()})},rowMixin:{canExpand:function(){return this.grid.tree.canExpand(this.id)},isExpanded:function(){return this.grid.tree.isExpanded(this.id)},expand:function(){return this.grid.tree.expand(this.id)},collapse:function(){return this.grid.tree.collapse(this.id)},expandRecursive:function(){return this.grid.expandRecursive(this.id)},collapseRecursive:function(){return this.grid.collapseRecursive(this.id)}},
nested:!1,expandoPadding:18,expandLevel:1/0,onExpand:function(){},onCollapse:function(){},canExpand:function(a){var b=this.model,c=b.treePath(a).length,d=this.arg("expandLevel");return b.hasChildren(a)&&(!(0<d)||c<=d)},isExpanded:function(a){return!!this._openInfo[a]},expand:function(a,b){var c=new h,d=this;a&&!d.isExpanded(a)?d.model.when({parentId:a,start:0},function(){d._logicExpand(a)}).then(function(){h.when(b||d._updateBody(a),function(){c.callback();d.onExpand(a)})}):c.callback();return c},
collapse:function(a,b){var c=new h,d=this;a&&d.isExpanded(a)?(d._logicCollapse(a),h.when(b||d._updateBody(a),function(){c.callback();d.onCollapse(a)})):c.callback();return c},expandRecursive:function(a,b){var c=this,e=c.model,f=new h;c.expand(a,1).then(function(){var g,j=[],i=e.size(a);e.when({start:0,parentId:a},function(){for(g=0;g<i;++g){var b=e.indexToId(g,a);j.push(c.expandRecursive(b,1))}}).then(function(){(new d(j)).then(function(){h.when(b||c._updateBody(a),function(){f.callback()})})})});
return f},collapseRecursive:function(a,b){var c=new h,f=e.hitch(c,c.callback),g=e.hitch(c,c.errback),j=this,i=j._openInfo[a||""],k,l=[];if(i){for(k=i.openned.length-1;0<=k;--k)l.push(j.collapseRecursive(i.openned[k],1));(new d(l)).then(function(){a?j.collapse(a,b).then(f,g):b||j._updateBody().then(f,g)})}else f();return c},getRowInfoByVisualIndex:function(a,b){var c=this._openInfo[""].openned,d,e;for(e=0;e<c.length;++e)if(d=this._openInfo[c[e]],d.index<b)a+=d.count+1;else break;for(c={parentId:"",
preCount:0};!c.found;)c=this._getChild(a,c);return c},getVisualIndexByRowInfo:function(a,b,c){a=this._getAbsoluteVisualIndex(a,b);return 0<=a?a-this._getAbsoluteVisualIndex("",c):null},getVisualSize:function(a,b,c){if(c=this._openInfo[c||""]){var d,e=c.openned.length,f,g=b;for(d=0;d<e;++d)f=this._openInfo[c.openned[d]],f.index>=a&&f.index<a+b&&(g+=f.count);return g}return 0},_clear:function(){var a=[];this._openInfo={"":{id:"",parentId:null,index:-1,count:0,openned:a}};this._parentOpenInfo={"":a}},
_initExpandLevel:function(){var a=this.grid._columns;if(!l.some(a,function(a){return a.expandLevel}))this.arg("nested")?l.forEach(a,function(a,b){a.expandLevel=b+1}):a[0].expandLevel=1},_createCellWrapper:function(a,b,c){c=this.grid._columnsById[c];if(c.expandLevel){var d=this.arg("nested"),e=this.model.treePath(b).length,f=this.arg("expandLevel");if((!d||c.expandLevel==e)&&(!(0<f)||e<=f+1)){var g=this.model.hasChildren(b),j=this.isExpanded(b),h=0,i=this.arg("expandoPadding"),k=this.grid.isLeftToRight();
d||(h=(e-1)*i);if(e==f+1){if(d)return;g=!1}a.push({priority:0,wrap:function(a){return["<div class='gridxTreeExpandoCell ",j?"gridxTreeExpandoCellOpen":"","' style='padding-",k?"left":"right",": ",h+i,"px;'><span class='gridxTreeExpandoIcon ",g?"":"gridxTreeExpandoIconNoChildren","' style='margin-",k?"left":"right",": ",h,"px;'><span class='gridxTreeExpandoInner'>",j?"-":"+","</span></span><span class='gridxTreeExpandoContent'>",a,"</span></span>"].join("")}})}}},_onCellClick:function(a){if(j(a.cellNode)){var b=
f.position(c(".gridxTreeExpandoIcon",a.cellNode)[0]);a.clientX>=b.x&&a.clientX<=b.x+b.w&&a.clientY>=b.y&&a.clientY<=b.y+b.h&&(this.isExpanded(a.rowId)?this.collapse(a.rowId):this.expand(a.rowId))}},_updateBody:function(a){var b=this.grid.body;if(b){b.updateRootRange(b.rootStart,b.rootCount);var d=b.getRowNode({rowId:a}),e,f,g=this.isExpanded(a);if(d&&(e=c(".gridxTreeExpandoCell",d)[0]))f=c(".gridxTreeExpandoIcon",e)[0],f.firstChild.innerHTML="o",i.add(e,"gridxTreeExpandoLoading");a=a?this.getVisualIndexByRowInfo(this.model.treePath(a).pop(),
this.model.idToIndex(a),b.rootStart):-1;return b.refresh(a+1).then(function(){if(e)d.setAttribute("aria-expanded",g?"true":"false"),f.firstChild.innerHTML=g?"-":"+",i.remove(e,"gridxTreeExpandoLoading"),i.toggle(e,"gridxTreeExpandoCellOpen",g)})}return null},_getAbsoluteVisualIndex:function(a,b){var c=this._openInfo[a||""];if(c){for(var d=0,e=this._openInfo;c;){for(var d=d+b,f=void 0,g=void 0,g=0;g<c.openned.length;++g)if(f=e[c.openned[g]],f.index<b)d+=f.count;else break;b=c.index;c.id&&d++;c=e[c.parentId]}return d}return-1},
_logicExpand:function(a){var c=this.model,d=c.treePath(a),e=d.length,f=this.arg("expandLevel");if(c.hasChildren(a)&&(!(0<f)||e<=f)){var d=d.pop(),g=this._openInfo,e=this._parentOpenInfo,f=e[d]=e[d]||[];e[a]=e[a]||[];if(!g[a]){var j=c.idToIndex(a),c=c.size(a),h=b.biSearch(f,function(a){return g[a].index-j});f[h]!==a&&f.splice(h,0,a);for(h=e[a].length-1;0<=h;--h)c+=g[e[a][h]].count;g[a]={id:a,parentId:d,index:j,count:c,openned:e[a]};for(a=g[d];a;)a.count+=c,a=g[a.parentId]}}},_logicCollapse:function(a){var c=
this._openInfo[a];if(c){var d=this._openInfo,e=this.model.treePath(a).pop(),f=this._parentOpenInfo[e],g=b.biSearch(f,function(a){return d[a].index-c.index}),j=c.count;f.splice(g,1);for(c=d[e];c;)c.count-=j,c=d[c.parentId];delete d[a]}},_getChild:function(a,b){var c=this._openInfo[b.parentId],d,f,g=b.preCount+c.index+1,j={found:!0,visualIndex:a,count:1};for(d=0,f=c.openned.length;d<f;++d){var h=c.openned[d],i=this._openInfo[h],k=i.index+g;if(k===a)return e.mixin({parentId:c.id,start:i.index},j);if(k>
a)break;else if(k+i.count>=a)return{parentId:h,preCount:g};g+=i.count}return e.mixin({parentId:c.id,start:a-g},j)},_onAfterRow:function(a){this.model.hasChildren(a.id)&&a.node().setAttribute("aria-expanded",this.isExpanded(a.id))},_initFocus:function(){this.connect(this.grid,"onCellKeyPress","_onKey")},_onKey:function(b){if(b.keyCode==a.ESCAPE){var c=this.model,d=c.treePath(b.rowId),e=d.pop(),b=d.length,f=this.grid;if(e){var g,h,i;for(g=f._columns.length-1;0<=g&&!(h=f._columns[g],h.expandLevel&&(!this.arg("nested")||
h.expandLevel==b));--g);c.when({id:e},function(){i=f.body.getVisualIndex({parentId:d.pop(),rowIndex:c.idToIndex(e)}).visualIndex}).then(function(){f.vScroller.scrollToRow(i).then(function(){f.body._focusCell(null,i,h.index)})})}}else b.ctrlKey&&j(b.cellNode)&&(g=this.grid.isLeftToRight(),b.keyCode==(g?a.LEFT_ARROW:a.RIGHT_ARROW)&&this._openInfo[b.rowId]?this.collapse(b.rowId):b.keyCode==(g?a.RIGHT_ARROW:a.LEFT_ARROW)&&!this._openInfo[b.rowId]&&this.expand(b.rowId))}})})},"gridx/modules/RowLock":function(){define("dojo/_base/kernel,dojo/_base/lang,../core/_Module,dojo/_base/declare,dojo/_base/array,dojo/_base/html,dojo/query".split(","),
function(k,m,l,i,f,e){return i(l,{name:"rowLock",required:["vLayout"],forced:["hLayout","body"],count:0,getAPIPath:function(){return{rowLock:this}},load:function(e,d){k.experimental("gridx/modules/RowLock");this.count=this.arg("count");var c=this,a=this.grid;d.then(function(){c.grid.vScroller&&c.connect(a.vScrollerNode,"onscroll",function(){c._updatePosition()});c.lock(c.count);c.loaded.callback()})},lock:function(f){this.unlock();this.count=f;this._foreachLockedRows(function(d){d.style.position=
"absolute";e.addClass(d,"gridxLockedRow")});this._adjustBody();this._updatePosition()},unlock:function(){this._foreachLockedRows(function(f){f.style.position="static";e.removeClass(f,"gridxLockedRow")});this.grid.bodyNode.style.paddingTop="0px";this.count=0},_adjustBody:function(){var e=0;this._foreachLockedRows(function(d){e+=d.offsetHeight});this.grid.bodyNode.style.paddingTop=e+"px"},_updatePosition:function(){if(this.count){var e=this.grid.bodyNode.scrollTop,d=0;this._foreachLockedRows(function(c){c.style.top=
e+d+"px";d+=c.offsetHeight})}},_foreachLockedRows:function(e){for(var d=this.grid.bodyNode.childNodes,c=0;c<this.count;c++)e(d[c])}})})},"gridx/modules/ToolBar":function(){define(["dojo/_base/kernel","dojo/_base/declare","dijit/Toolbar","../core/_Module"],function(k,m,l,i){k.experimental("gridx/modules/ToolBar");return m(i,{name:"toolBar",getAPIPath:function(){return{toolBar:this}},constructor:function(f,e){this.widget=new l(e);this.domNode=this.widget.domNode},preload:function(){var f=this.widget,
e=this.grid.vLayout;e.register(this,"domNode","headerNode",-10);this.batchConnect([f,"addChild","reLayout",e],[f,"removeChild","reLayout",e]);this._initFocus()},_initFocus:function(){var f=this.grid.focus;f&&f.registerArea({name:this.name,priority:-1,focusNode:this.domNode,scope:this,doFocus:this._doFocus})},_doFocus:function(){var f=this.widget.getChildren();f[0]&&f[0].focus();return f.length},destroy:function(){this.inherited(arguments);this.widget.destroyRecursive()}})})},"gridx/modules/SummaryBar":function(){define(["dojo/_base/declare",
"dojo/dom-construct","dojo/string","../core/_Module","dojo/i18n!../nls/SummaryBar"],function(k,m,l,i,f){return k(i,{name:"summaryBar",getAPIPath:function(){return{summaryBar:this}},preload:function(){var e=this.model;this.domNode=m.create("div",{"class":"gridxSummaryBar"});this.grid.vLayout.register(this,"domNode","footerNode",5);this.connect(e,"onSizeChange","_update");this.connect(e,"onMarkChange","_update");this._update()},destroy:function(){m.destroy(this.domNode);this.inherited(arguments)},_update:function(){var e=
this.grid,e=e.select&&e.select.row,h=this.model.size(),d=e?e.getSelected().length:0;this.domNode.innerHTML=l.substitute(e?f.summaryWithSelection:f.summary,[h,d])}})})},"gridx/nls/SummaryBar":function(){define({root:{summary:"Total: ${0}",summaryWithSelection:"Total: ${0} Selected: ${1}"},ar:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,es:!0,fi:!0,fr:!0,hu:!0,it:!0,ja:!0,kk:!0,ko:!0,nb:!0,nl:!0,pl:!0,pt:!0,"pt-pt":!0,ro:!0,ru:!0,sk:!0,sl:!0,sv:!0,th:!0,tr:!0,zh:!0,"zh-tw":!0})},"gridx/modules/Bar":function(){define("require,dojo/_base/kernel,dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dijit/a11y,dojo/dom-construct,../core/_Module,../core/util".split(","),
function(k,m,l,i,f,e,h,d,c){m.experimental("gridx/modules/Bar");return l(d,{name:"bar",getAPIPath:function(){return{bar:this}},preload:function(){var a=this,b=a.plugins={},c=function(c,d,e){if(i.isArray(a.arg(c))){var f=c+"Node";a[f]=h.toDom('<table class="gridxBar" border="0" cellspacing="0"></table>');a.grid.vLayout.register(a,f,d,e);b[c]=a._parse(a[c],a[f])}};c("top","headerNode",-5);c("bottom","footerNode",5)},load:function(a,b){var c=this;c.loaded.callback();b.then(function(){c._forEachPlugin(function(a){a&&
a.startup&&a.startup()});c._initFocus();setTimeout(function(){c.grid.vLayout.reLayout()},10)})},destroy:function(){this.inherited(arguments);this._forEachPlugin(function(a){a.destroy&&a.destroy()})},_parse:function(a,b){var c,d=[],e=h.create("tbody"),k=function(a,b,c,d){b[d]&&(a.setAttribute(c||d,b[d]),delete b[d])};i.isArray(a[0])||(a=[a]);for(var l=0,m=a.length;l<m;++l){for(var q=[],t=a[l],w=h.create("tr"),u=0,s=t.length;u<s;++u){var y=this._normalizePlugin(t[u]),v=h.create("td");f.forEach(["colSpan",
"rowSpan","style"],i.partial(k,v,y,0));k(v,y,"class","className");c=null;if(y.pluginClass){var x=y.pluginClass;delete y.pluginClass;try{c=new x(y),v.appendChild(c.domNode)}catch(B){console.error(B)}}else if(y.content)v.innerHTML=y.content;q.push(c);w.appendChild(v)}d.push(q);e.appendChild(w)}b.appendChild(e);return d},_normalizePlugin:function(a){a=!a||!i.isObject(a)||i.isFunction(a)?{pluginClass:a}:i.mixin({},a);if(i.isString(a.pluginClass))try{a.pluginClass=k(a.pluginClass)}catch(b){console.error(b)}i.isFunction(a.pluginClass)?
a.grid=this.grid:a.pluginClass=null;return a},_forEachPlugin:function(a){function b(b){if(b)for(var c=0,d=b.length;c<d;++c)for(var e=b[c],f=0,g=e.length;f<g;++f)a(e[f])}var c=this.plugins;b(c.top);b(c.bottom)},_initFocus:function(){var a=this,b=a.grid.focus;if(b){var c=function(c,d){a[c+"Node"]&&b.registerArea({name:c+"bar",priority:d,focusNode:a[c+"Node"],doFocus:i.hitch(a,a._doFocus,c),doBlur:i.hitch(a,a._doBlur,c)})};c("top",-10);c("bottom",10)}},_doFocus:function(a,b,d){c.stopEvent(b);(a=e._getTabNavigable(this[a+
"Node"])[0>d?"last":"first"])&&a.focus();return!!a},_doBlur:function(a,b,c){a=e._getTabNavigable(this[a+"Node"]);return b?b.target==(0>c?a.first:a.last):!0}})})},"gridx/tests/support/GridConfig":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/json,dijit/_Widget,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!./GridConfig.html,dijit/form/CheckBox,dijit/form/RadioButton,dijit/form/TextBox,dijit/form/Select,dijit/form/NumberTextBox,./TestPane".split(","),function(k,m,
l,i,f,e,h){return k("gridx.tests.support.GridConfig",[i,f,e],{templateString:h,stores:{},caches:{},gridAttrs:{},modules:{},modelExts:{},getID:function(d,c){return this.id+"_"+d+"_"+c},postCreate:function(){this.inherited(arguments);this.tp.addTestSet("Modules",this._createMods());this.tp.addTestSet("Attributes",this._createArgs());this.tp.addTestSet("Other Settings",["<h2>Stores & Structures</h2>",this._createStores(),"<h2>Caches</h2>",this._createCaches(),"<h2>Model Extensions</h2>",this._createExts(),
""].join(""))},startup:function(){if(!this._started){this.inherited(arguments);var d,c,a;this.connect(dijit.byId(this.getID("all","modules")),"onChange","_selectAllMods");for(d in this.stores)this.connect(dijit.byId(this.getID("rb",d)),"onChange",dojo.hitch(this,"_onChangeCheckBox",d,"rb",this.stores[d]));for(c in this.gridAttrs)this.connect(dijit.byId(this.getID("cbattr",c)),"onChange",dojo.hitch(this,"_onChangeCheckBox",c,"cbattr",this.gridAttrs[c]));d=function(a,c){b._onChangeCheckBox(c,"cb",a);
b._requireDepends(a,c)};for(a in this.modules){var b=this;c=b.modules[a];this.connect(dijit.byId(this.getID("cb",a)),"onChange",dojo.hitch(this,d,c,a))}}},_requireDepends:function(d,c){var a,b=[],e;for(e in d){var f=d[e],f=f.prototype,h=(f.forced||[]).concat(f.required||[]);a=f.name;b=b.concat(h)}if(dijit.byId(this.getID("cb",c)).get("checked")){if(b.length){a=[];for(var i in this.modules)for(e in f=this.modules[i],f)if(0<=m.indexOf(b,f[e].prototype.name)){a.push(i);break}var k=this;m.forEach(a,function(a){dijit.byId(k.getID("cb",
a)).set("checked",!0)})}}else for(i in d=[],this.modules)if(f=this.modules[i],dijit.byId(this.getID("cb",i)).get("checked"))e=dijit.byId(this.getID("select",i)).get("value"),f=f[e].prototype,h=(f.forced||[]).concat(f.required||[]),0<=m.indexOf(h,a)&&dijit.byId(this.getID("cb",i)).set("checked",!1)},getHandle:function(d,c){return dijit.byId(this.getID({store:"rb",layout:"select",cache:"rb",attr:"cbattr",attrValue:"selectattr",ext:"cb",mod:"cb",modImpl:"select"}[d],c))},_createStores:function(){var d=
["<table>"],c;for(c in this.stores){var a=this.stores[c];d.push('<tr><td><div data-dojo-type="dijit.form.RadioButton" ','id="',this.getID("rb",c),'" ','name="',this.getID("rb","store"),'" ',a.defaultCheck?'checked="true"':"",'></div><label for="',this.getID("rb",c),'">',c,"</label>",'</td><td><select data-dojo-type="dijit.form.Select" ','id="',this.getID("select",c),'" ',a.defaultCheck?"":'disabled="true"',">");var b=0,e;for(e in a.layouts)d.push("<option value='",e,"' selected='",!b++,"'>",e,"</option>");
d.push("</select></td></tr>")}d.push("</table>");return d.join("")},_createCaches:function(){var d=["<table>"],c;for(c in this.caches){var a=this.caches[c];d.push("<tr><td><div data-dojo-type='dijit.form.RadioButton' ","id='",this.getID("rb",c),"' ","name='",this.getID("rb","cache"),"' ",a.defaultCheck?"checked='true'":"","></div><label for='",this.getID("rb",c),"'>",c,"</label>","</td></tr>")}d.push("</table>");return d.join("")},_createArgs:function(){var d=["<table>"],c;for(c in this.gridAttrs){var a=
this.gridAttrs[c];d.push("<tr><td><div dojoType='dijit.form.CheckBox' ","id='",this.getID("cbattr",c),"' ",a.defaultCheck?"checked='true'":"","></div><label for='",this.getID("cbattr",c),"'>",c,"</label>","</td><td>");switch(a.type){case "bool":d.push("<select dojoType='dijit.form.Select' id='",this.getID("selectattr",c),"' ",a.defaultCheck?"":"disabled='true'","><option value='ture'>true</option>","<option value='false'>false</option>","</select>");break;case "enum":d.push("<select dojoType='dijit.form.Select' id='",
this.getID("selectattr",c),"' ",a.defaultCheck?"":"disabled='true'",">");for(var b in a.values)d.push("<option value='",a.values[b],"'>",b,"</option>");d.push("</select>");break;case "string":case "json":d.push("<input dojoType='dijit.form.TextBox' id='",this.getID("selectattr",c),"' ",a.defaultCheck?" ":"disabled='true' ","value='",a.value,"'","/>");break;case "number":d.push("<input dojoType='dijit.form.NumberTextBox' id='",this.getID("selectattr",c),"' ",a.defaultCheck?" ":"disabled='true' ","value='",
a.value,"'","/>")}d.push("</td></tr>")}d.push("</table>");return d.join("")},_createExts:function(){var d=["<table>"],c;for(c in this.modelExts)d.push("<tr><td><div dojoType='dijit.form.CheckBox' ","id='",this.getID("cb",c),"' ","extName='",c,"' ","></div><label for='",this.getID("cb",c),"'>",c,"</label>","</td></tr>");d.push("</table>");return d.join("")},_createMods:function(){var d=['<table class="gridxConfigAllMods"><tr><td>','<div data-dojo-type="dijit.form.CheckBox" ','id="',this.getID("all",
"modules"),'" ','></div><label for="',this.getID("all","modules"),'">Select All Modules</label>',"</td></tr></table><table>"],c;for(c in this.modules){var a=this.modules[c];d.push("<tr><td><div dojoType='dijit.form.CheckBox' ","id='",this.getID("cb",c),"' ","modName='",c,"' ",a.defaultCheck?"checked='true' disabled='true'":"","></div><label for='",this.getID("cb",c),"'>",c,"</label>","</td><td><select dojoType='dijit.form.Select' ","id='",this.getID("select",c),"' ",a.defaultCheck?"":"disabled='true'",
">");for(var b in a)"defaultCheck"!==b&&d.push("<option value='",b,"'>",b,"</option>");d.push("</select></td></tr>")}return d.join("")},_onChangeCheckBox:function(d,c,a){var b=dijit.byId(this.getID(c,d)).get("checked");dijit.byId(this.getID("cbattr"==c?"selectattr":"select",d)).set("disabled",!b);if(a.onChange)a.onChange(b,this)},_getStoreLayout:function(){var d,c,a;for(a in this.stores)if(dijit.byId(this.getID("rb",a)).get("checked")){d=this.stores[a].store;c=dijit.byId(this.getID("select",a)).get("value");
c=this.stores[a].layouts[c];break}return{store:d,structure:c}},_getCache:function(){var d,c;for(c in this.caches)if(dijit.byId(this.getID("rb",c)).get("checked")){d=this.caches[c].cache;break}return d},_getAttrs:function(){var d={},c;for(c in this.gridAttrs){var a=this.gridAttrs[c];if(dijit.byId(this.getID("cbattr",c)).get("checked"))switch(a.type){case "bool":case "number":case "string":d[c]=dijit.byId(this.getID("selectattr",c)).get("value");break;case "enum":var b=dijit.byId(this.getID("selectattr",
c)).get("value");d[c]=a[b];break;case "json":d[c]=l.fromJson(dijit.byId(this.getID("selectattr",c)).get("value"))}}return d},_getExts:function(){var d=[],c;for(c in this.modelExts)dijit.byId(this.getID("cb",c)).get("checked")&&d.push(this.modelExts[c]);return d},_getMods:function(){var d=[],c;for(c in this.modules){var a=this.modules[c];if(dijit.byId(this.getID("cb",c)).get("checked")){var b=dijit.byId(this.getID("select",c)).get("value");d.push(a[b])}}return d},getGridArgs:function(){return dojo.mixin(this._getAttrs(),
this._getStoreLayout(),{cacheClass:this._getCache(),modelExtensions:this._getExts(),modules:this._getMods()})},_selectAllMods:function(d){for(var c in this.modules)this.modules[c].defaultCheck||dijit.byId(this.getID("cb",c)).set("checked",d)},_onCreate:function(){this.onCreate(this.getGridArgs())},onCreate:function(){},onDestroy:function(){}})})},"url:gridx/tests/support/GridConfig.html":"<div class='gridxConfig'>\r\n\t<div class='dojoxGridConfigBtns'>\r\n\t\t<button data-dojo-type='dijit.form.Button' data-dojo-attach-event='onClick: _onCreate'>Create Grid</button>\r\n\t\t<button data-dojo-type='dijit.form.Button' data-dojo-attach-event='onClick: onDestroy'>Destroy Grid</button>\r\n\t</div>\r\n\t<div data-dojo-type='gridx.tests.support.TestPane' data-dojo-attach-point='tp'></div>\r\n</div>\r\n",
"gridx/tests/support/TestPane":function(){define(["dojo/_base/declare","dijit/layout/ContentPane","dijit/layout/AccordionContainer","dijit/form/Button"],function(k,m,l){return k("gridx.tests.support.TestPane",l,{addTestSet:function(i,f){this.addChild(new m({title:i,content:f}))}})})},"dijit/PopupMenuItem":function(){define("dojo/_base/declare,dojo/dom-style,dojo/query,./registry,./MenuItem,./hccss".split(","),function(k,m,l,i,f){return k("dijit.PopupMenuItem",f,{_fillContent:function(){if(this.srcNodeRef){var e=
l("*",this.srcNodeRef);this.inherited(arguments,[e[0]]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){this.inherited(arguments);if(!this.popup){var e=l("[widgetId]",this.dropDownContainer)[0];this.popup=i.byNode(e)}this.ownerDocumentBody.appendChild(this.popup.domNode);this.popup.startup();this.popup.domNode.style.display="none";this.arrowWrapper&&m.set(this.arrowWrapper,"visibility","");this.focusNode.setAttribute("aria-haspopup","true")}},destroyDescendants:function(e){this.popup&&
(this.popup._destroyed||this.popup.destroyRecursive(e),delete this.popup);this.inherited(arguments)}})})},"dijit/CheckedMenuItem":function(){define(["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(k,m,l,i){return k("dijit.CheckedMenuItem",l,{templateString:i,checked:!1,_setCheckedAttr:function(f){m.toggle(this.domNode,"dijitCheckedMenuItemChecked",f);this.domNode.setAttribute("aria-checked",f?"true":"false");this._set("checked",f)},
iconClass:"",onChange:function(){},_onClick:function(f){this.disabled||(this.set("checked",!this.checked),this.onChange(this.checked));this.onClick(f)}})})},"url:dijit/templates/CheckedMenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitemcheckbox" tabIndex="-1">\r\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\r\n\t\t<img src="${_blankGif}" alt="" class="dijitMenuItemIcon dijitCheckedMenuItemIcon" data-dojo-attach-point="iconNode"/>\r\n\t\t<span class="dijitCheckedMenuItemIconChar">&#10003;</span>\r\n\t</td>\r\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode,labelNode"></td>\r\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\r\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">&#160;</td>\r\n</tr>\r\n',
"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(k,m,l,i,f){var e=i.trim,h=l.forEach,d="BackCompat"==f.doc.compatMode,c=!1,a=function(){return!0},b=function(a){for(var a=0<=">~+".indexOf(a.slice(-1))?a+" * ":a+" ",b=function(b,c){return e(a.slice(b,c))},d=[],f=-1,g=-1,h=-1,i=-1,j=-1,k=-1,l=-1,m,n="",o="",p,q=0,r=a.length,s=null,t=null,u=function(){if(0<=k)s.id=b(k,q).replace(/\\/g,""),k=-1;if(0<=l){var a=l==q?null:b(l,q);s[0>
">~+".indexOf(a)?"tag":"oper"]=a;l=-1}0<=j&&(s.classes.push(b(j+1,q).replace(/\\/g,"")),j=-1)};n=o,o=a.charAt(q),q<r;q++)if("\\"!=n)if(s||(p=q,s={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return c?this.otag:this.tag}},l=q),m)o==m&&(m=null);else if("'"==o||'"'==o)m=o;else if(0<=f)if("]"==o){t.attr?t.matchFor=b(h||f+1,q):t.attr=b(f+1,q);if((f=t.matchFor)&&('"'==f.charAt(0)||"'"==f.charAt(0)))t.matchFor=f.slice(1,-1);if(t.matchFor)t.matchFor=t.matchFor.replace(/\\/g,
"");s.attrs.push(t);t=null;f=h=-1}else{if("="==o)h=0<="|~^$*".indexOf(n)?n:"",t.type=h+o,t.attr=b(f+1,q-h.length),h=q+1}else if(0<=g){if(")"==o){if(0<=i)t.value=b(g+1,q);i=g=-1}}else if("#"==o)u(),k=q+1;else if("."==o)u(),j=q;else if(":"==o)u(),i=q;else if("["==o)u(),f=q,t={};else if("("==o)0<=i&&(t={name:b(i+1,q),value:null},s.pseudos.push(t)),g=q;else if(" "==o&&n!=o){u();0<=i&&s.pseudos.push({name:b(i+1,q)});s.loops=s.pseudos.length||s.attrs.length||s.classes.length;s.oquery=s.query=b(p,q);s.otag=
s.tag=s.oper?null:s.tag||"*";if(s.tag)s.tag=s.tag.toUpperCase();if(d.length&&d[d.length-1].oper)s.infixOper=d.pop(),s.query=s.infixOper.query+" "+s.query;d.push(s);s=null}return d},g=function(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}},j=function(a,b){var c=b||[];a&&c.push(a);return c},o=function(a){return 1==a.nodeType},n=function(a,b){return!a?"":"class"==b?a.className||"":"for"==b?a.htmlFor||"":"style"==b?a.style.cssText||"":(c?a.getAttribute(b):
a.getAttribute(b,2))||""},p={"*=":function(a,b){return function(c){return 0<=n(c,a).indexOf(b)}},"^=":function(a,b){return function(c){return 0==n(c,a).indexOf(b)}},"$=":function(a,b){return function(c){var c=" "+n(c,a),d=c.lastIndexOf(b);return-1<d&&d==c.length-b.length}},"~=":function(a,b){var c=" "+b+" ";return function(b){return 0<=(" "+n(b,a)+" ").indexOf(c)}},"|=":function(a,b){var c=b+"-";return function(d){d=n(d,a);return d==b||0==d.indexOf(c)}},"=":function(a,b){return function(c){return n(c,
a)==b}}},r="undefined"==typeof f.doc.firstChild.nextElementSibling,q=!r?"nextElementSibling":"nextSibling",t=!r?"previousElementSibling":"previousSibling",w=r?o:a,u=function(a){for(;a=a[t];)if(w(a))return!1;return!0},s=function(a){for(;a=a[q];)if(w(a))return!1;return!0},y=function(a){var b=a.parentNode,b=7!=b.nodeType?b:b.nextSibling,c=0,d=b.children||b.childNodes,e=a._i||a.getAttribute("_i")||-1,f=b._l||("undefined"!==typeof b.getAttribute?b.getAttribute("_l"):-1);if(!d)return-1;d=d.length;if(f==
d&&0<=e&&0<=f)return e;m("ie")&&"undefined"!==typeof b.setAttribute?b.setAttribute("_l",d):b._l=d;e=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[q])if(w(b))m("ie")?b.setAttribute("_i",++c):b._i=++c,a===b&&(e=c);return e},v=function(a){return!(y(a)%2)},x=function(a){return y(a)%2},B={checked:function(){return function(a){return!!("checked"in a?a.checked:a.selected)}},disabled:function(){return function(a){return a.disabled}},enabled:function(){return function(a){return!a.disabled}},"first-child":function(){return u},
"last-child":function(){return s},"only-child":function(){return function(a){return u(a)&&s(a)}},empty:function(){return function(a){for(var b=a.childNodes,a=a.childNodes.length-1;0<=a;a--){var c=b[a].nodeType;if(1===c||3==c)return!1}return!0}},contains:function(a,b){var c=b.charAt(0);if('"'==c||"'"==c)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},not:function(a,c){var d=b(c)[0],e={el:1};if("*"!=d.tag)e.tag=1;if(!d.classes.length)e.classes=1;var f=z(d,e);return function(a){return!f(a)}},
"nth-child":function(a,b){var c=parseInt;if("odd"==b)return x;if("even"==b)return v;if(-1!=b.indexOf("n")){var d=b.split("n",2),e=d[0]?"-"==d[0]?-1:c(d[0]):1,f=d[1]?c(d[1]):0,g=0,h=-1;0<e?0>f?f=f%e&&e+f%e:0<f&&(f>=e&&(g=f-f%e),f%=e):0>e&&(e*=-1,0<f&&(h=f,f%=e));if(0<e)return function(a){a=y(a);return a>=g&&(0>h||a<=h)&&a%e==f};b=f}var i=c(b);return function(a){return y(a)==i}}},D=m("ie")&&(9>m("ie")||m("quirks"))?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(d){return c?
d.getAttribute(a):d[a]||d[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}},z=function(b,d){if(!b)return a;var d=d||{},e=null;"el"in d||(e=g(e,o));"tag"in d||"*"!=b.tag&&(e=g(e,function(a){return a&&(c?a.tagName:a.tagName.toUpperCase())==b.getTag()}));"classes"in d||h(b.classes,function(a,b){var c=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");e=g(e,function(a){return c.test(a.className)});e.count=b});"pseudos"in d||h(b.pseudos,function(a){var b=a.name;B[b]&&(e=g(e,B[b](b,a.value)))});
"attrs"in d||h(b.attrs,function(a){var b,c=a.attr;a.type&&p[a.type]?b=p[a.type](c,a.matchFor):c.length&&(b=D(c));b&&(e=g(e,b))});"id"in d||b.id&&(e=g(e,function(a){return!!a&&a.id==b.id}));e||"default"in d||(e=a);return e},G=function(a){return function(b,c,d){for(;b=b[q];)if(!r||o(b)){(!d||S(b,d))&&a(b)&&c.push(b);break}return c}},A=function(a){return function(b,c,d){for(b=b[q];b;){if(w(b)){if(d&&!S(b,d))break;a(b)&&c.push(b)}b=b[q]}return c}},E=function(b){b=b||a;return function(a,c,d){for(var e=
0,f=a.children||a.childNodes;a=f[e++];)w(a)&&(!d||S(a,d))&&b(a,e)&&c.push(a);return c}},C={},J=function(b){var c=C[b.query];if(c)return c;var e=b.infixOper,e=e?e.oper:"",g=z(b,{el:1}),h="*"==b.tag,i=f.doc.getElementsByClassName;if(e){i={el:1};if(h)i.tag=1;g=z(b,i);"+"==e?c=G(g):"~"==e?c=A(g):">"==e&&(c=E(g))}else if(b.id)g=!b.loops&&h?a:z(b,{el:1,id:1}),c=function(a,c){var d=k.byId(b.id,a.ownerDocument||a);if(d&&g(d)){if(9==a.nodeType)return j(d,c);for(var e=d.parentNode;e&&!(e==a);)e=e.parentNode;
if(e)return j(d,c)}};else if(i&&/\{\s*\[native code\]\s*\}/.test(""+i)&&b.classes.length&&!d)var g=z(b,{el:1,classes:1,id:1}),l=b.classes.join(" "),c=function(a,b,c){for(var b=j(0,b),d,e=0,f=a.getElementsByClassName(l);d=f[e++];)g(d,a)&&S(d,c)&&b.push(d);return b};else!h&&!b.loops?c=function(a,c,d){for(var c=j(0,c),e=0,f=b.getTag(),f=f?a.getElementsByTagName(f):[];a=f[e++];)S(a,d)&&c.push(a);return c}:(g=z(b,{el:1,tag:1,id:1}),c=function(a,c,d){for(var c=j(0,c),e,f=0,h=(e=b.getTag())?a.getElementsByTagName(e):
[];e=h[f++];)g(e,a)&&S(e,d)&&c.push(e);return c});return C[b.query]=c},F={},I={},H=function(a){var c=b(e(a));if(1==c.length){var d=J(c[0]);return function(a){if(a=d(a,[]))a.nozip=!0;return a}}return function(a){for(var a=j(a),b,d,e=c.length,f,g,h=0;h<e;h++){g=[];b=c[h];d=a.length-1;if(0<d)f={},g.nozip=!0;d=J(b);for(var i=0;b=a[i];i++)d(b,g,f);if(!g.length)break;a=g}return g}},L=m("ie")?"commentStrip":"nozip",P=!!f.doc.querySelectorAll,K=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,Q=function(a,b,c,d){return c?
(b?b+" ":"")+c+(d?" "+d:""):a},O=/([^[]*)([^\]]*])?/g,R=function(a,b,c){return b.replace(K,Q)+(c||"")},M=function(a,b){a=a.replace(O,R);if(P){var c=I[a];if(c&&!b)return c}if(c=F[a])return c;var c=a.charAt(0),e=-1==a.indexOf(" ");0<=a.indexOf("#")&&e&&(b=!0);if(P&&!b&&-1==">~+".indexOf(c)&&(!m("ie")||-1==a.indexOf(":"))&&!(d&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf(":checked")&&-1==a.indexOf("|=")){var f=0<=">~+".indexOf(a.charAt(a.length-1))?a+" *":a;return I[a]=function(b){try{if(!(9==
b.nodeType||e))throw"";var c=b.querySelectorAll(f);c[L]=!0;return c}catch(d){return M(a,!0)(b)}}}var g=a.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return F[a]=2>g.length?H(a):function(a){for(var b=0,c=[],d;d=g[b++];)c=c.concat(H(d)(a));return c}},N=0,U=m("ie")?function(a){return c?a.getAttribute("_uid")||a.setAttribute("_uid",++N)||N:a.uniqueID}:function(a){return a._uid||(a._uid=++N)},S=function(a,b){if(!b)return 1;var c=U(a);return!b[c]?b[c]=1:0},V=function(a){if(a&&a.nozip)return a;
var b=[];if(!a||!a.length)return b;a[0]&&b.push(a[0]);if(2>a.length)return b;N++;var d,e;if(m("ie")&&c){var f=N+"";a[0].setAttribute("_zipIdx",f);for(d=1;e=a[d];d++)a[d].getAttribute("_zipIdx")!=f&&b.push(e),e.setAttribute("_zipIdx",f)}else if(m("ie")&&a.commentStrip)try{for(d=1;e=a[d];d++)o(e)&&b.push(e)}catch(g){}else{a[0]&&(a[0]._zipIdx=N);for(d=1;e=a[d];d++)a[d]._zipIdx!=N&&b.push(e),e._zipIdx=N}return b},T=function(a,b){b=b||f.doc;c="div"===(b.ownerDocument||b).createElement("div").tagName;var d=
M(a)(b);return d&&d.nozip?d:V(d)};T.filter=function(a,c,d){for(var e=[],f=b(c),f=1==f.length&&!/[^\w#\.]/.test(c)?z(f[0]):function(a){return-1!=l.indexOf(T(c,k.byId(d)),a)},g=0,h;h=a[g];g++)f(h)&&e.push(h);return e};return T})}}});define("demo_grid",[],1);