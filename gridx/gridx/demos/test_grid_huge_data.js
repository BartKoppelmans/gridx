//>>built
require({cache:{"gridx/tests/test_grid_huge_data":function(){define("gridx/Grid,gridx/core/model/cache/Async,gridx/modules/ColumnResizer,gridx/modules/VirtualVScroller,gridx/modules/select/Row,gridx/tests/support/XQueryReadStore,dojo/domReady!".split(","),function(d,m,i,l,h,g){d=new d({id:"grid",cacheClass:m,cacheSize:1E3,pageSize:100,vScrollerLazy:!0,vScrollerBuffSize:60,store:new g({idAttribute:"id",url:"http://dojotoolkit.cn/data/?totalSize=1000000"}),structure:[{id:"id",field:"id",name:"Identity"},
{id:"Year",field:"Year",name:"Year"},{id:"Length",field:"Length",name:"Length"},{id:"Track",field:"Track",name:"Track"},{id:"Download Date",field:"Download Date",name:"Download Date"},{id:"Last Played",field:"Last Played",name:"Last Played"},{id:"Heard",field:"Heard",name:"Heard"}],bodyLoadFailInfo:"<b>Failed to load data from data service, please try it later.</b>",modules:[h,i,l]});d.placeAt("gridContainer");d.startup()})},"gridx/Grid":function(){define("dojo/_base/kernel,dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/_base/sniff,dojo/on,dojo/dom-class,dojo/dom-geometry,dojo/_base/query,dojox/html/metrics,dijit/_WidgetBase,dijit/_FocusMixin,dijit/_TemplatedMixin,dojo/text!./templates/Grid.html,./core/Core,./core/model/extensions/Query,./core/_Module,./modules/Header,./modules/Body,./modules/VLayout,./modules/HLayout,./modules/VScroller,./modules/HScroller,./modules/ColumnWidth".split(","),
function(d,m,i,l,h,g,n,j,f,a,e,c,b,k,o,q,t,s,r,v,u,p,x,w){var y=i.forEach,A=function(){},m=m("gridx.Grid",[e,b,c,o],{templateString:k,coreModules:[s,r,v,u,p,x,w],coreExtensions:[q],postCreate:function(){var b=this;b.inherited(arguments);b._eventFlags={};b.modules=b.coreModules.concat(b.modules||[]);b.modelExtensions=b.coreExtensions.concat(b.modelExtensions||[]);n.toggle(b.domNode,"gridxRtl",!b.isLeftToRight());b.lastFocusNode.setAttribute("tabIndex",b.domNode.getAttribute("tabIndex"));b._initEvents(b._compNames,
b._eventNames);b._reset(b);b.connect(a,"onFontResize",function(){b.resize()})},startup:function(){this._started||(this.inherited(arguments),this._deferStartup.callback())},destroy:function(){this._uninit();this.inherited(arguments)},resize:function(b){var a={};if(b){if(this.autoWidth)b.w=void 0;if(this.autoHeight)b.h=void 0;j.setMarginBox(this.domNode,b)}this._onResizeBegin(b,a);this._onResizeEnd(b,a)},_onResizeBegin:function(){},_onResizeEnd:function(){},_compNames:["Cell","HeaderCell","Row","Header"],
_eventNames:"Click,DblClick,MouseDown,MouseUp,MouseOver,MouseOut,MouseMove,ContextMenu,KeyDown,KeyPress,KeyUp".split(","),_initEvents:function(b,a){var c=this;y(b,function(b){y(a,function(a){a="on"+b+a;c[a]=c[a]||A})})},_connectEvents:function(b,a,c){for(var e=this.model,k,o=this._eventNames,f=o.length,q=0;q<f;++q)k=o[q],e._cnnts.push(g(b,k.toLowerCase(),l.hitch(c,a,k)))},_isConnected:function(b){return this[b]!==A},_isCopyEvent:function(b){return h("mac")?b.metaKey:b.ctrlKey}});m.markupFactory=function(b,
a,c){if(!b.structure&&"table"==a.nodeName.toLowerCase()){d.deprecated("Column declaration in <th> elements is deprecated,",'use "structure" attribute in data-dojo-props instead',"1.1");var e=b.structure=[];f("thead > tr > th",a).forEach(function(b){var a={};y(t._markupAttrs,function(c){"!"==c[0]?(c=c.slice(1),a[c]=eval(b.getAttribute(c))):a[c]=b.getAttribute(c)});a.name=a.name||b.innerHTML;e.push(a)})}return new c(b,a)};return m})},"dojo/_base/kernel":function(){define(["../has","./config","require",
"module"],function(d,m,i,l){var h,g={},n={},j={config:m,global:this,dijit:g,dojox:n},g={dojo:["dojo",j],dijit:["dijit",g],dojox:["dojox",n]},l=i.map&&i.map[l.id.match(/[^\/]+/)[0]];for(h in l)g[h]?g[h][0]=l[h]:g[h]=[l[h],{}];for(h in g)l=g[h],l[1]._scopeName=l[0],m.noGlobals||(this[l[0]]=l[1]);j.scopeMap=g;j.baseUrl=j.config.baseUrl=i.baseUrl;j.isAsync=i.async;j.locale=m.locale;l="$Rev: 29469 $".match(/\d+/);j.version={major:1,minor:9,patch:0,flag:"dev",revision:l?+l[0]:NaN,toString:function(){var a=
j.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(j);j.exit=function(){};"undefined"!=typeof console||(console={});for(var g="assert,count,debug,dir,dirxml,error,group,groupEnd,info,profile,profileEnd,time,timeEnd,trace,warn,log".split(","),f,l=0;f=g[l++];)console[f]||function(){var a=f+"";console[a]="log"in console?function(){var e=Array.apply({},arguments);e.unshift(a+
":");console.log(e.join(" "))}:function(){};console[a]._fake=!0}();d.add("dojo-debug-messages",!!m.isDebug);j.deprecated=j.experimental=function(){};if(d("dojo-debug-messages"))j.deprecated=function(a,e,c){a="DEPRECATED: "+a;e&&(a+=" "+e);c&&(a+=" -- will be removed in version: "+c);console.warn(a)},j.experimental=function(a,e){var c="EXPERIMENTAL: "+a+" -- APIs subject to change without notice.";e&&(c+=" "+e);console.warn(c)};if(m.modulePaths){j.deprecated("dojo.modulePaths","use paths configuration");
d={};for(h in m.modulePaths)d[h.replace(/\./g,"/")]=m.modulePaths[h];i({paths:d})}j.moduleUrl=function(a,e){j.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var c=null;a&&(c=i.toUrl(a.replace(/\./g,"/")+(e?"/"+e:"")+"/*.*").replace(/\/\*\.\*/,"")+(e?"":"/"));return c};j._hasResource={};return j})},"dojo/has":function(){define(["require","module"],function(d){var m=d.has||function(){};m.add("dom-addeventlistener",!!document.addEventListener);m.add("touch","ontouchstart"in document);m.add("device-width",
screen.availWidth||innerWidth);d=document.createElement("form");m.add("dom-attributes-explicit",0==d.attributes.length);m.add("dom-attributes-specified-flag",0<d.attributes.length&&40>d.attributes.length);m.clearElement=function(d){d.innerHTML="";return d};m.normalize=function(d,l){var h=d.match(/[\?:]|[^:\?]*/g),g=0,n=function(j){var f=h[g++];if(":"==f)return 0;if("?"==h[g++]){if(!j&&m(f))return n();n(!0);return n(j)}return f||0};return(d=n())&&l(d)};m.load=function(d,l,h){d?l([d],h):h()};return m})},
"dojo/_base/config":function(){define(["../has","require"],function(d,m){var i={},l=m.rawConfig,h;for(h in l)i[h]=l[h];return i})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(d,m,i){function l(b,a){throw Error("declare"+(a?" "+a:"")+": "+b);}function h(b,a,c){var e,k,o,f,q,g,t,h=this._inherited=this._inherited||{};"string"==typeof b&&(e=b,b=a,a=c);c=0;f=b.callee;(e=e||f.nom)||l("can't deduce a name to call inherited()",this.declaredClass);q=this.constructor._meta;
o=q.bases;t=h.p;if(e!=w){if(h.c!==f&&(t=0,g=o[0],q=g._meta,q.hidden[e]!==f)){(k=q.chains)&&"string"==typeof k[e]&&l("calling chained method with inherited: "+e,this.declaredClass);do if(q=g._meta,k=g.prototype,q&&(k[e]===f&&k.hasOwnProperty(e)||q.hidden[e]===f))break;while(g=o[++t]);t=g?t:-1}if(g=o[++t])if(k=g.prototype,g._meta&&k.hasOwnProperty(e))c=k[e];else{f=v[e];do if(k=g.prototype,(c=k[e])&&(g._meta?k.hasOwnProperty(e):c!==f))break;while(g=o[++t])}c=g&&c||v[e]}else{if(h.c!==f&&(t=0,(q=o[0]._meta)&&
q.ctor!==f)){k=q.chains;for((!k||"manual"!==k.constructor)&&l("calling chained constructor with inherited",this.declaredClass);(g=o[++t])&&!((q=g._meta)&&q.ctor===f););t=g?t:-1}for(;(g=o[++t])&&!(c=(q=g._meta)?q.ctor:g););c=g&&c}h.c=c;h.p=t;if(c)return!0===a?c:c.apply(this,a||b)}function g(b,a){return"string"==typeof b?this.__inherited(b,a,!0):this.__inherited(b,!0)}function n(b,a,c){var e=this.getInherited(b,a);if(e)return e.apply(this,c||a||b)}function j(b){for(var a=this.constructor._meta.bases,
c=0,e=a.length;c<e;++c)if(a[c]===b)return!0;return this instanceof b}function f(b,a){for(var c in a)c!=w&&a.hasOwnProperty(c)&&(b[c]=a[c]);if(m("bug-for-in-skips-shadowed"))for(var e=i._extraNames,k=e.length;k;)c=e[--k],c!=w&&a.hasOwnProperty(c)&&(b[c]=a[c])}function a(b){s.safeMixin(this.prototype,b);return this}function e(b){return s([this].concat(b))}function c(b,a){return function(){var z;var c=arguments,e=c,k=c[0],o,f;f=b.length;var q;if(!(this instanceof c.callee))return t(c);if(a&&(k&&k.preamble||
this.preamble)){q=Array(b.length);q[0]=c;for(o=0;;){if(k=c[0])(k=k.preamble)&&(c=k.apply(this,c)||c);k=b[o].prototype;(k=k.hasOwnProperty("preamble")&&k.preamble)&&(c=k.apply(this,c)||c);if(++o==f)break;q[o]=c}}for(o=f-1;0<=o;--o)k=b[o],(z=(f=k._meta)?f.ctor:k,k=z)&&k.apply(this,q?q[o]:c);(k=this.postscript)&&k.apply(this,e)}}function b(b,a){return function(){var c=arguments,e=c,k=c[0];if(!(this instanceof c.callee))return t(c);if(a){if(k)(k=k.preamble)&&(e=k.apply(this,e)||e);(k=this.preamble)&&
k.apply(this,e)}b&&b.apply(this,c);(k=this.postscript)&&k.apply(this,c)}}function k(b){return function(){var z;var a=arguments,c=0,e,k;if(!(this instanceof a.callee))return t(a);for(;e=b[c];++c)if(z=(k=e._meta)?k.ctor:e,e=z){e.apply(this,a);break}(e=this.postscript)&&e.apply(this,a)}}function o(b,a,c){return function(){var e,k,o=0,f=1;c&&(o=a.length-1,f=-1);for(;e=a[o];o+=f)k=e._meta,(e=(k?k.hidden:e.prototype)[b])&&e.apply(this,arguments)}}function q(b){p.prototype=b.prototype;b=new p;p.prototype=
null;return b}function t(b){var a=b.callee,c=q(a);a.apply(c,b);return c}function s(t,d,n){"string"!=typeof t&&(n=d,d=t,t="");var n=n||{},m,p,z,D,L,E,I,M=1,S=d;if("[object Array]"==u.call(d)){M=t;z=[];D=[{cls:0,refs:[]}];E={};for(var O=1,R=d.length,N=0,J,P,G,H;N<R;++N){(J=d[N])?"[object Function]"!=u.call(J)&&l("mixin #"+N+" is not a callable constructor.",M):l("mixin #"+N+" is unknown. Did you use dojo.require to pull it in?",M);P=J._meta?J._meta.bases:[J];G=0;for(J=P.length-1;0<=J;--J){H=P[J].prototype;
if(!H.hasOwnProperty("declaredClass"))H.declaredClass="uniqName_"+x++;H=H.declaredClass;E.hasOwnProperty(H)||(E[H]={count:0,refs:[],cls:P[J]},++O);H=E[H];G&&G!==H&&(H.refs.push(G),++G.count);G=H}++G.count;D[0].refs.push(G)}for(;D.length;){G=D.pop();z.push(G.cls);for(--O;p=G.refs,1==p.length;){G=p[0];if(!G||--G.count){G=0;break}z.push(G.cls);--O}if(G)for(N=0,R=p.length;N<R;++N)G=p[N],--G.count||D.push(G)}O&&l("can't build consistent linearization",M);J=d[0];z[0]=J?J._meta&&J===z[z.length-J._meta.bases.length]?
J._meta.bases.length:1:0;E=z;z=E[0];M=E.length-z;d=E[M]}else E=[0],d?"[object Function]"==u.call(d)?(z=d._meta,E=E.concat(z?z.bases:d)):l("base class is not a callable constructor.",t):null!==d&&l("unknown base class. Did you use dojo.require to pull it in?",t);if(d)for(p=M-1;;--p){m=q(d);if(!p)break;z=E[p];(z._meta?f:r)(m,z.prototype);D=new Function;D.superclass=d;D.prototype=m;d=m.constructor=D}else m={};s.safeMixin(m,n);z=n.constructor;if(z!==v.constructor)z.nom=w,m.constructor=z;for(p=M-1;p;--p)(z=
E[p]._meta)&&z.chains&&(I=r(I||{},z.chains));m["-chains-"]&&(I=r(I||{},m["-chains-"]));z=!I||!I.hasOwnProperty(w);E[0]=D=I&&"manual"===I.constructor?k(E):1==E.length?b(n.constructor,z):c(E,z);D._meta={bases:E,hidden:n,chains:I,parents:S,ctor:n.constructor};D.superclass=d&&d.prototype;D.extend=a;D.createSubclass=e;D.prototype=m;m.constructor=D;m.getInherited=g;m.isInstanceOf=j;m.inherited=y;m.__inherited=h;if(t)m.declaredClass=t,i.setObject(t,D);if(I)for(L in I)if(m[L]&&"string"==typeof I[L]&&L!=w)z=
m[L]=o(L,E,"after"===I[L]),z.nom=L;return D}var r=i.mixin,v=Object.prototype,u=v.toString,p=new Function,x=0,w="constructor",y=d.config.isDebug?n:h;d.safeMixin=s.safeMixin=function(b,a){var c,e;for(c in a)if(e=a[c],(e!==v[c]||!(c in v))&&c!=w){if("[object Function]"==u.call(e))e.nom=c;b[c]=e}if(m("bug-for-in-skips-shadowed"))for(var k=i._extraNames,o=k.length;o;)if(c=k[--o],e=a[c],(e!==v[c]||!(c in v))&&c!=w){if("[object Function]"==u.call(e))e.nom=c;b[c]=e}return b};return d.declare=s})},"dojo/_base/lang":function(){define(["./kernel",
"../has","../sniff"],function(d,m){m.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;return 1});var i=m("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],l=i.length,h=function(a,e,c){var b,k=0,o=d.global;if(!c)if(a.length){b=a[k++];try{c=d.scopeMap[b]&&d.scopeMap[b][1]}catch(f){}c=c||(b in o?o[b]:e?o[b]={}:void 0)}else return o;for(;c&&(b=a[k++]);)c=b in c?c[b]:e?c[b]={}:void 0;return c},
g=Object.prototype.toString,n=function(a,e,c){return(c||[]).concat(Array.prototype.slice.call(a,e||0))},j=/\{([^\}]+)\}/g,f={_extraNames:i,_mixin:function(a,e,c){var b,k,o,f={};for(b in e)if(k=e[b],!(b in a)||a[b]!==k&&(!(b in f)||f[b]!==k))a[b]=c?c(k):k;if(m("bug-for-in-skips-shadowed")&&e)for(o=0;o<l;++o)if(b=i[o],k=e[b],!(b in a)||a[b]!==k&&(!(b in f)||f[b]!==k))a[b]=c?c(k):k;return a},mixin:function(a,e){a||(a={});for(var c=1,b=arguments.length;c<b;c++)f._mixin(a,arguments[c]);return a},setObject:function(a,
e,c){var b=a.split("."),a=b.pop();return(c=h(b,!0,c))&&a?c[a]=e:void 0},getObject:function(a,e,c){return h(a.split("."),e,c)},exists:function(a,e){return void 0!==f.getObject(a,!1,e)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===g.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||f.isArray(a)||f.isFunction(a))},isArrayLike:function(a){return a&&
void 0!==a&&!f.isString(a)&&!f.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(f.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!f.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(""+a)},extend:function(a,e){for(var c=1,b=arguments.length;c<b;c++)f._mixin(a.prototype,arguments[c]);return a},_hitchArgs:function(a,e){var c=f._toArray(arguments,2),b=f.isString(e);return function(){var k=f._toArray(arguments),o=b?(a||d.global)[e]:e;return o&&o.apply(a||this,c.concat(k))}},
hitch:function(a,e){if(2<arguments.length)return f._hitchArgs.apply(d,arguments);e||(e=a,a=null);if(f.isString(e)){a=a||d.global;if(!a[e])throw['lang.hitch: scope["',e,'"] is null (scope="',a,'")'].join("");return function(){return a[e].apply(a,arguments||[])}}return!a?e:function(){return e.apply(a,arguments||[])}},delegate:function(){function a(){}return function(e,c){a.prototype=e;var b=new a;a.prototype=null;c&&f._mixin(b,c);return b}}(),_toArray:m("ie")?function(){function a(a,c,b){b=b||[];for(c=
c||0;c<a.length;c++)b.push(a[c]);return b}return function(e){return(e.item?a:n).apply(this,arguments)}}():n,partial:function(a){return f.hitch.apply(d,[null].concat(f._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||f.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);var e,c,b;if(f.isArray(a)){e=[];for(c=0,b=a.length;c<b;++c)c in a&&e.push(f.clone(a[c]))}else e=a.constructor?
new a.constructor:{};return f._mixin(e,a,f.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,e,c){return a.replace(c||j,f.isFunction(e)?e:function(b,a){return f.getObject(a,!1,e)})}};f.mixin(d,f);return f})},"dojo/sniff":function(){define(["./has"],function(d){var m=navigator,i=m.userAgent,m=m.appVersion,l=parseFloat(m);d.add("air",0<=i.indexOf("AdobeAIR"));d.add("khtml",0<=m.indexOf("Konqueror")?l:void 0);
d.add("webkit",parseFloat(i.split("WebKit/")[1])||void 0);d.add("chrome",parseFloat(i.split("Chrome/")[1])||void 0);d.add("safari",0<=m.indexOf("Safari")&&!d("chrome")?parseFloat(m.split("Version/")[1]):void 0);d.add("mac",0<=m.indexOf("Macintosh"));d.add("quirks","BackCompat"==document.compatMode);d.add("ios",/iPhone|iPod|iPad/.test(i));d.add("android",parseFloat(i.split("Android ")[1])||void 0);if(!d("webkit")){0<=i.indexOf("Opera")&&d.add("opera",9.8<=l?parseFloat(i.split("Version/")[1])||l:l);
0<=i.indexOf("Gecko")&&!d("khtml")&&!d("webkit")&&d.add("mozilla",l);d("mozilla")&&d.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0);if(document.all&&!d("opera"))i=parseFloat(m.split("MSIE ")[1])||void 0,(m=document.documentMode)&&5!=m&&Math.floor(i)!=m&&(i=m),d.add("ie",i);d.add("wii","undefined"!=typeof opera&&opera.wiiremote)}return d})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(d,m,i){function l(a){return n[a]=new Function("item",
"index","array",a)}function h(a){var e=!a;return function(c,b,k){var o=0,f=c&&c.length||0,g;f&&"string"==typeof c&&(c=c.split(""));"string"==typeof b&&(b=n[b]||l(b));if(k)for(;o<f;++o){if(g=!b.call(k,c[o],o,c),a^g)return!g}else for(;o<f;++o)if(g=!b(c[o],o,c),a^g)return!g;return e}}function g(a){var e=1,c=0,b=0;a||(e=c=b=-1);return function(k,o,q,g){if(g&&0<e)return f.lastIndexOf(k,o,q);var g=k&&k.length||0,h=a?g+b:c;q===j?q=a?c:g+b:0>q?(q=g+q,0>q&&(q=c)):q=q>=g?g+b:q;for(g&&"string"==typeof k&&(k=
k.split(""));q!=h;q+=e)if(k[q]==o)return q;return-1}}var n={},j,f={every:h(!1),some:h(!0),indexOf:g(!0),lastIndexOf:g(!1),forEach:function(a,e,c){var b=0,k=a&&a.length||0;k&&"string"==typeof a&&(a=a.split(""));"string"==typeof e&&(e=n[e]||l(e));if(c)for(;b<k;++b)e.call(c,a[b],b,a);else for(;b<k;++b)e(a[b],b,a)},map:function(a,e,c,b){var k=0,o=a&&a.length||0,b=new (b||Array)(o);o&&"string"==typeof a&&(a=a.split(""));"string"==typeof e&&(e=n[e]||l(e));if(c)for(;k<o;++k)b[k]=e.call(c,a[k],k,a);else for(;k<
o;++k)b[k]=e(a[k],k,a);return b},filter:function(a,e,c){var b=0,k=a&&a.length||0,o=[],f;k&&"string"==typeof a&&(a=a.split(""));"string"==typeof e&&(e=n[e]||l(e));if(c)for(;b<k;++b)f=a[b],e.call(c,f,b,a)&&o.push(f);else for(;b<k;++b)f=a[b],e(f,b,a)&&o.push(f);return o},clearCache:function(){n={}}};i.mixin(d,f);return f})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(d,m,i){d._name="browser";m.mixin(d,{isBrowser:!0,isFF:i("ff"),isIE:i("ie"),isKhtml:i("khtml"),isWebKit:i("webkit"),
isMozilla:i("mozilla"),isMoz:i("mozilla"),isOpera:i("opera"),isSafari:i("safari"),isChrome:i("chrome"),isMac:i("mac"),isIos:i("ios"),isAndroid:i("android"),isWii:i("wii"),isQuirks:i("quirks"),isAir:i("air")});d.locale=d.locale||(i("ie")?navigator.userLanguage:navigator.language).toLowerCase();return i})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./has"],function(d,m,i){function l(b,a,e,o,q){if(o=a.match(/(.*):(.*)/))return a=o[2],o=o[1],j.selector(o,a).call(q,
b,e);i("touch")&&(f.test(a)&&(e=x(e)),!i("event-orientationchange")&&"orientationchange"==a&&(a="resize",b=window,e=x(e)));k&&(e=k(e));if(b.addEventListener){var g=a in c,t=g?c[a]:a;b.addEventListener(t,e,g);return{remove:function(){b.removeEventListener(t,e,g)}}}if(s&&b.attachEvent)return s(b,"on"+a,e);throw Error("Target must be an event emitter");}function h(){this.cancelable=!1}function g(){this.bubbles=!1}var n=window.ScriptEngineMajorVersion;i.add("jscript",n&&n()+ScriptEngineMinorVersion()/
10);i.add("event-orientationchange",i("touch")&&!i("android"));i.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);var j=function(b,a,c,e){return b.on&&"function"!=typeof a?b.on(a,c):j.parse(b,a,c,l,e,this)};j.pausable=function(b,a,c,e){var k,b=j(b,a,function(){if(!k)return c.apply(this,arguments)},e);b.pause=function(){k=!0};b.resume=function(){k=!1};return b};j.once=function(b,a,c){var e=j(b,a,function(){e.remove();return c.apply(this,
arguments)});return e};j.parse=function(b,a,c,e,k,o){if(a.call)return a.call(o,b,c);if(-1<a.indexOf(",")){for(var a=a.split(/\s*,\s*/),f=[],q=0,g;g=a[q++];)f.push(e(b,g,c,k,o));f.remove=function(){for(var b=0;b<f.length;b++)f[b].remove()};return f}return e(b,a,c,k,o)};var f=/^touch/;j.selector=function(b,a,c){return function(e,k){function o(a){for(f=f&&f.matches?f:m.query;!f.matches(a,b,e);)if(a==e||!1===c||!(a=a.parentNode)||1!=a.nodeType)return;return a}var f="function"==typeof b?{matches:b}:this,
q=a.bubble;return q?j(e,q(o),k):j(e,a,function(b){var a=o(b.target);return a&&k.call(a,b)})}};var a=[].slice,e=j.emit=function(b,c,e){var k=a.call(arguments,2),o="on"+c;if("parentNode"in b){var f=k[0]={},q;for(q in e)f[q]=e[q];f.preventDefault=h;f.stopPropagation=g;f.target=b;f.type=c;e=f}do b[o]&&b[o].apply(b,k);while(e&&e.bubbles&&(b=b.parentNode));return e&&e.cancelable&&e},c={};if(!i("event-stopimmediatepropagation"))var b=function(){this.modified=this.immediatelyStopped=!0},k=function(a){return function(c){if(!c.immediatelyStopped)return c.stopImmediatePropagation=
b,a.apply(this,arguments)}};if(i("dom-addeventlistener")){c={focusin:"focus",focusout:"blur"};if(i("opera"))c.keydown="keypress";j.emit=function(b,a,c){if(b.dispatchEvent&&document.createEvent){var k=b.ownerDocument.createEvent("HTMLEvents");k.initEvent(a,!!c.bubbles,!!c.cancelable);for(var o in c)o in k||(k[o]=c[o]);return b.dispatchEvent(k)&&k}return e.apply(j,arguments)}}else{j._fixEvent=function(b,a){if(!b)b=(a&&(a.ownerDocument||a.document||a).parentWindow||window).event;if(!b)return b;o&&b.type==
o.type&&(b=o);if(!b.target){b.target=b.srcElement;b.currentTarget=a||b.srcElement;if("mouseover"==b.type)b.relatedTarget=b.fromElement;if("mouseout"==b.type)b.relatedTarget=b.toElement;if(!b.stopPropagation)b.stopPropagation=r,b.preventDefault=v;switch(b.type){case "keypress":var c="charCode"in b?b.charCode:b.keyCode;10==c?(c=0,b.keyCode=13):13==c||27==c?c=0:3==c&&(c=99);b.charCode=c;c=b;c.keyChar=c.charCode?String.fromCharCode(c.charCode):"";c.charOrCode=c.keyChar||c.keyCode}}return b};var o,q=function(b){this.handle=
b};q.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var t=function(b){return function(a){var a=j._fixEvent(a,this),c=b.call(this,a);a.modified&&(o||setTimeout(function(){o=null}),o=a);return c}},s=function(b,a,c){c=t(c);if(((b.ownerDocument?b.ownerDocument.parentWindow:b.parentWindow||b.window||window)!=top||5.8>i("jscript"))&&!i("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var e=b[a];if(!e||!e.listeners){var k=e,e=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
e.listeners=[];b[a]=e;e.global=this;k&&e.listeners.push(_dojoIEListeners_.push(k)-1)}e.listeners.push(b=e.global._dojoIEListeners_.push(c)-1);return new q(b)}return d.after(b,a,c,!0)},r=function(){this.cancelBubble=!0},v=j._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(b){}this.defaultPrevented=!0;this.returnValue=!1}}if(i("touch"))var u=function(){},p=window.orientation,x=function(b){return function(a){var c=a.corrected;if(!c){var e=a.type;try{delete a.type}catch(k){}a.type?
(u.prototype=a,c=new u,c.preventDefault=function(){a.preventDefault()},c.stopPropagation=function(){a.stopPropagation()}):(c=a,c.type=e);a.corrected=c;if("resize"==e){if(p==window.orientation)return null;p=window.orientation;c.type="orientationchange";return b.call(this,c)}if(!("rotation"in c))c.rotation=0,c.scale=1;var e=c.changedTouches[0],o;for(o in e)delete c[o],c[o]=e[o]}return b.call(this,c)}};return j})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(d,
m,i){function l(f){if("string"==typeof f||f instanceof String){if(f&&!g.test(f))return n[0]=f,n;f=f.split(g);f.length&&!f[0]&&f.shift();f.length&&!f[f.length-1]&&f.pop();return f}return!f?[]:m.filter(f,function(a){return a})}var h,g=/\s+/,n=[""],j={};return h={contains:function(f,a){return 0<=(" "+i.byId(f).className+" ").indexOf(" "+a+" ")},add:function(f,a){var f=i.byId(f),a=l(a),e=f.className,c,e=e?" "+e+" ":" ";c=e.length;for(var b=0,k=a.length,o;b<k;++b)(o=a[b])&&0>e.indexOf(" "+o+" ")&&(e+=
o+" ");c<e.length&&(f.className=e.substr(1,e.length-2))},remove:function(f,a){var f=i.byId(f),e;if(void 0!==a){a=l(a);e=" "+f.className+" ";for(var c=0,b=a.length;c<b;++c)e=e.replace(" "+a[c]+" "," ");e=d.trim(e)}else e="";f.className!=e&&(f.className=e)},replace:function(f,a,e){f=i.byId(f);j.className=f.className;h.remove(j,e);h.add(j,a);f.className!==j.className&&(f.className=j.className)},toggle:function(f,a,e){f=i.byId(f);if(void 0===e)for(var a=l(a),c=0,b=a.length,k;c<b;++c)k=a[c],h[h.contains(f,
k)?"remove":"add"](f,k);else h[e?"add":"remove"](f,a);return e}}})},"dojo/dom":function(){define(["./sniff","./_base/lang","./_base/window"],function(d,m,i){if(7>=d("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(l){}var h={};h.byId=d("ie")?function(g,h){if("string"!=typeof g)return g;var d=h||i.doc,f=g&&d.getElementById(g);if(f&&(f.attributes.id.value==g||f.id==g))return f;d=d.all[g];if(!d||d.nodeName)d=[d];for(var a=0;f=d[a++];)if(f.attributes&&f.attributes.id&&f.attributes.id.value==
g||f.id==g)return f}:function(g,h){return("string"==typeof g?(h||i.doc).getElementById(g):g)||null};h.isDescendant=function(g,d){try{g=h.byId(g);for(d=h.byId(d);g;){if(g==d)return!0;g=g.parentNode}}catch(j){}return!1};h.setSelectable=function(g,i){g=h.byId(g);if(d("mozilla"))g.style.MozUserSelect=i?"":"none";else if(d("khtml")||d("webkit"))g.style.KhtmlUserSelect=i?"auto":"none";else if(d("ie"))for(var j=g.unselectable=i?"":"on",f=g.getElementsByTagName("*"),a=0,e=f.length;a<e;++a)f.item(a).unselectable=
j};return h})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(d,m,i){var l={global:d.global,doc:this.document||null,body:function(h){h=h||d.doc;return h.body||h.getElementsByTagName("body")[0]},setContext:function(h,g){d.global=l.global=h;d.doc=l.doc=g},withGlobal:function(h,g,i,j){var f=d.global;try{return d.global=l.global=h,l.withDoc.call(null,h.document,g,i,j)}finally{d.global=l.global=f}},withDoc:function(h,g,n,j){var f=l.doc,a=i("quirks"),e=i("ie"),c,b,k;try{d.doc=
l.doc=h;d.isQuirks=i.add("quirks","BackCompat"==d.doc.compatMode,!0,!0);if(i("ie")&&(k=h.parentWindow)&&k.navigator)c=parseFloat(k.navigator.appVersion.split("MSIE ")[1])||void 0,(b=h.documentMode)&&5!=b&&Math.floor(c)!=b&&(c=b),d.isIE=i.add("ie",c,!0,!0);n&&"string"==typeof g&&(g=n[g]);return g.apply(n,j||[])}finally{d.doc=l.doc=f,d.isQuirks=i.add("quirks",a,!0,!0),d.isIE=i.add("ie",e,!0,!0)}}};m.mixin(d,l);return l})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],
function(d,m,i,l){function h(a,e,c,b,k,o){o=o||"px";a=a.style;if(!isNaN(e))a.left=e+o;if(!isNaN(c))a.top=c+o;if(0<=b)a.width=b+o;if(0<=k)a.height=k+o}function g(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function n(a){return"border-box"==j.boxModel||"table"==a.tagName.toLowerCase()||g(a)}var j={boxModel:"content-box"};if(d("ie"))j.boxModel="BackCompat"==document.compatMode?"border-box":"content-box";j.getPadExtents=
function(a,e){var a=i.byId(a),c=e||l.getComputedStyle(a),b=l.toPixelValue,k=b(a,c.paddingLeft),o=b(a,c.paddingTop),f=b(a,c.paddingRight),c=b(a,c.paddingBottom);return{l:k,t:o,r:f,b:c,w:k+f,h:o+c}};j.getBorderExtents=function(a,e){var a=i.byId(a),c=l.toPixelValue,b=e||l.getComputedStyle(a),k="none"!=b.borderLeftStyle?c(a,b.borderLeftWidth):0,o="none"!=b.borderTopStyle?c(a,b.borderTopWidth):0,f="none"!=b.borderRightStyle?c(a,b.borderRightWidth):0,c="none"!=b.borderBottomStyle?c(a,b.borderBottomWidth):
0;return{l:k,t:o,r:f,b:c,w:k+f,h:o+c}};j.getPadBorderExtents=function(a,e){var a=i.byId(a),c=e||l.getComputedStyle(a),b=j.getPadExtents(a,c),c=j.getBorderExtents(a,c);return{l:b.l+c.l,t:b.t+c.t,r:b.r+c.r,b:b.b+c.b,w:b.w+c.w,h:b.h+c.h}};j.getMarginExtents=function(a,e){var a=i.byId(a),c=e||l.getComputedStyle(a),b=l.toPixelValue,k=b(a,c.marginLeft),o=b(a,c.marginTop),f=b(a,c.marginRight),c=b(a,c.marginBottom);return{l:k,t:o,r:f,b:c,w:k+f,h:o+c}};j.getMarginBox=function(a,e){var a=i.byId(a),c=e||l.getComputedStyle(a),
b=j.getMarginExtents(a,c),k=a.offsetLeft-b.l,o=a.offsetTop-b.t,f=a.parentNode,g=l.toPixelValue;if(d("mozilla")){var h=parseFloat(c.left),c=parseFloat(c.top);!isNaN(h)&&!isNaN(c)?(k=h,o=c):f&&f.style&&(f=l.getComputedStyle(f),"visible"!=f.overflow&&(k+="none"!=f.borderLeftStyle?g(a,f.borderLeftWidth):0,o+="none"!=f.borderTopStyle?g(a,f.borderTopWidth):0))}else if((d("opera")||8==d("ie")&&!d("quirks"))&&f)f=l.getComputedStyle(f),k-="none"!=f.borderLeftStyle?g(a,f.borderLeftWidth):0,o-="none"!=f.borderTopStyle?
g(a,f.borderTopWidth):0;return{l:k,t:o,w:a.offsetWidth+b.w,h:a.offsetHeight+b.h}};j.getContentBox=function(a,e){var a=i.byId(a),c=e||l.getComputedStyle(a),b=a.clientWidth,k=j.getPadExtents(a,c),o=j.getBorderExtents(a,c);b?(c=a.clientHeight,o.w=o.h=0):(b=a.offsetWidth,c=a.offsetHeight);d("opera")&&(k.l+=o.l,k.t+=o.t);return{l:k.l,t:k.t,w:b-k.w-o.w,h:c-k.h-o.h}};j.setContentSize=function(a,e,c){var a=i.byId(a),b=e.w,e=e.h;n(a)&&(c=j.getPadBorderExtents(a,c),0<=b&&(b+=c.w),0<=e&&(e+=c.h));h(a,NaN,NaN,
b,e)};var f={l:0,t:0,w:0,h:0};j.setMarginBox=function(a,e,c){var a=i.byId(a),b=c||l.getComputedStyle(a),c=e.w,k=e.h,o=n(a)?f:j.getPadBorderExtents(a,b),b=j.getMarginExtents(a,b);if(d("webkit")&&g(a)){var q=a.style;if(0<=c&&!q.width)q.width="4px";if(0<=k&&!q.height)q.height="4px"}0<=c&&(c=Math.max(c-o.w-b.w,0));0<=k&&(k=Math.max(k-o.h-b.h,0));h(a,e.l,e.t,c,k)};j.isBodyLtr=function(a){a=a||m.doc;return"ltr"==(m.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};j.docScroll=function(a){var a=
a||m.doc,e=m.doc.parentWindow||m.doc.defaultView;return"pageXOffset"in e?{x:e.pageXOffset,y:e.pageYOffset}:(e=d("quirks")?m.body(a):a.documentElement)&&{x:j.fixIeBiDiScrollLeft(e.scrollLeft||0,a),y:e.scrollTop||0}};if(d("ie"))j.getIeDocumentElementOffset=function(a){a=a||m.doc;a=a.documentElement;if(8>d("ie")){var e=a.getBoundingClientRect(),c=e.left,e=e.top;7>d("ie")&&(c+=a.clientLeft,e+=a.clientTop);return{x:0>c?0:c,y:0>e?0:e}}return{x:0,y:0}};j.fixIeBiDiScrollLeft=function(a,e){var e=e||m.doc,
c=d("ie");if(c&&!j.isBodyLtr(e)){var b=d("quirks"),k=b?m.body(e):e.documentElement,o=m.global;6==c&&!b&&o.frameElement&&k.scrollHeight>k.clientHeight&&(a+=k.clientLeft);return 8>c||b?a+k.clientWidth-k.scrollWidth:-a}return a};j.position=function(a,e){var a=i.byId(a),c=m.body(a.ownerDocument),b=a.getBoundingClientRect(),b={x:b.left,y:b.top,w:b.right-b.left,h:b.bottom-b.top};if(d("ie")){var k=j.getIeDocumentElementOffset(a.ownerDocument);b.x-=k.x+(d("quirks")?c.clientLeft+c.offsetLeft:0);b.y-=k.y+(d("quirks")?
c.clientTop+c.offsetTop:0)}e&&(c=j.docScroll(a.ownerDocument),b.x+=c.x,b.y+=c.y);return b};j.getMarginSize=function(a,e){var a=i.byId(a),c=j.getMarginExtents(a,e||l.getComputedStyle(a)),b=a.getBoundingClientRect();return{w:b.right-b.left+c.w,h:b.bottom-b.top+c.h}};j.normalizeEvent=function(a){if(!("layerX"in a))a.layerX=a.offsetX,a.layerY=a.offsetY;if(!d("dom-addeventlistener")){var e=a.target,e=e&&e.ownerDocument||document,c=d("quirks")?e.body:e.documentElement,b=j.getIeDocumentElementOffset(e);
a.pageX=a.clientX+j.fixIeBiDiScrollLeft(c.scrollLeft||0,e)-b.x;a.pageY=a.clientY+(c.scrollTop||0)-b.y}};return j})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(d,m){function i(b,c,f){c=c.toLowerCase();if(d("ie")){if("auto"==f){if("height"==c)return b.offsetHeight;if("width"==c)return b.offsetWidth}if("fontweight"==c)switch(f){case 700:return"bold";default:return"normal"}}c in a||(a[c]=e.test(c));return a[c]?g(b,f):f}var l,h={};l=d("webkit")?function(b){var a;if(1==b.nodeType){var c=
b.ownerDocument.defaultView;a=c.getComputedStyle(b,null);if(!a&&b.style)b.style.display="",a=c.getComputedStyle(b,null)}return a||{}}:d("ie")&&(9>d("ie")||d("quirks"))?function(b){return 1==b.nodeType&&b.currentStyle?b.currentStyle:{}}:function(b){return 1==b.nodeType?b.ownerDocument.defaultView.getComputedStyle(b,null):{}};h.getComputedStyle=l;var g;g=d("ie")?function(b,a){if(!a)return 0;if("medium"==a)return 4;if(a.slice&&"px"==a.slice(-2))return parseFloat(a);var c=b.style,e=b.runtimeStyle,f=c.left,
g=e.left;e.left=b.currentStyle.left;try{c.left=a,a=c.pixelLeft}catch(h){a=0}c.left=f;e.left=g;return a}:function(b,a){return parseFloat(a)||0};h.toPixelValue=g;var n=function(b,a){try{return b.filters.item("DXImageTransform.Microsoft.Alpha")}catch(c){return a?{}:null}},j=9>d("ie")||d("ie")&&d("quirks")?function(b){try{return n(b).Opacity/100}catch(a){return 1}}:function(b){return l(b).opacity},f=9>d("ie")||d("ie")&&d("quirks")?function(b,a){var c=100*a,e=1==a;b.style.zoom=e?"":1;if(n(b))n(b,1).Opacity=
c;else{if(e)return a;b.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+c+")"}n(b,1).Enabled=!e;if("tr"==b.tagName.toLowerCase())for(c=b.firstChild;c;c=c.nextSibling)"td"==c.tagName.toLowerCase()&&f(c,a);return a}:function(b,a){return b.style.opacity=a},a={left:!0,top:!0},e=/margin|padding|width|height|max|min|offset/,c=d("ie")?"styleFloat":"cssFloat",b={cssFloat:c,styleFloat:c,"float":c};h.get=function(a,c){var e=m.byId(a),f=arguments.length;if(2==f&&"opacity"==c)return j(e);var c=
b[c]||c,g=h.getComputedStyle(e);return 1==f?g:i(e,c,g[c]||e.style[c])};h.set=function(a,c,e){var g=m.byId(a),d=arguments.length,j="opacity"==c,c=b[c]||c;if(3==d)return j?f(g,e):g.style[c]=e;for(var i in c)h.set(a,i,c[i]);return h.getComputedStyle(g)};return h})},"dojo/_base/query":function(){define(["../query","./NodeList"],function(d){return d})},"dojo/query":function(){define("./_base/kernel,./has,./dom,./on,./_base/array,./_base/lang,./selector/_loader,./selector/_loader!default".split(","),function(d,
m,i,l,h,g,n,j){function f(b,a){var c=function(c,e){if("string"==typeof e&&(e=i.byId(e),!e))return new a([]);var k="string"==typeof c?b(c,e):c?c.orphan?c:[c]:[];return k.orphan?k:new a(k)};c.matches=b.match||function(b,a,e){return 0<c.filter([b],a,e).length};c.filter=b.filter||function(b,a,e){return c(a,e).filter(function(a){return-1<h.indexOf(b,a)})};if("function"!=typeof b)var e=b.search,b=function(b,a){return e(a||document,b)};return c}m.add("array-extensible",function(){return 1==g.delegate([],
{length:1}).length&&!m("bug-for-in-skips-shadowed")});var a=Array.prototype,e=a.slice,c=a.concat,b=h.forEach,k=function(b,a,c){a=[0].concat(e.call(a,0));c=c||d.global;return function(e){a[0]=e;return b.apply(c,a)}},o=function(b){var a=this instanceof q&&m("array-extensible");"number"==typeof b&&(b=Array(b));var c=b&&"length"in b?b:arguments;if(a||!c.sort){for(var e=a?this:[],k=e.length=c.length,f=0;f<k;f++)e[f]=c[f];if(a)return e;c=e}g._mixin(c,t);c._NodeListCtor=function(b){return q(b)};return c},
q=o,t=q.prototype=m("array-extensible")?[]:{};q._wrap=t._wrap=function(b,a,c){b=new (c||this._NodeListCtor||q)(b);return a?b._stash(a):b};q._adaptAsMap=function(b,a){return function(){return this.map(k(b,arguments,a))}};q._adaptAsForEach=function(b,a){return function(){this.forEach(k(b,arguments,a));return this}};q._adaptAsFilter=function(b,a){return function(){return this.filter(k(b,arguments,a))}};q._adaptWithCondition=function(b,a,c){return function(){var e=arguments,f=k(b,e,c);if(a.call(c||d.global,
e))return this.map(f);this.forEach(f);return this}};b(["slice","splice"],function(b){var c=a[b];t[b]=function(){return this._wrap(c.apply(this,arguments),"slice"==b?this:null)}});b(["indexOf","lastIndexOf","every","some"],function(b){var a=h[b];t[b]=function(){return a.apply(d,[this].concat(e.call(arguments,0)))}});g.extend(o,{constructor:q,_NodeListCtor:q,toString:function(){return this.join(",")},_stash:function(b){this._parent=b;return this},on:function(b,a){var c=this.map(function(c){return l(c,
b,a)});c.remove=function(){for(var b=0;b<c.length;b++)c[b].remove()};return c},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(b){var a=e.call(this,0),k=h.map(arguments,function(b){return e.call(b,0)});return this._wrap(c.apply(a,k),this)},map:function(b,a){return this._wrap(h.map(this,b,a),this)},forEach:function(a,c){b(this,a,c);return this},filter:function(b){var a=arguments,c=this,e=0;if("string"==typeof b){c=s._filterResult(this,a[0]);if(1==a.length)return c._stash(this);
e=1}return this._wrap(h.filter(c,a[e],a[e+1]),this)},instantiate:function(b,a){var c=g.isFunction(b)?b:g.getObject(b),a=a||{};return this.forEach(function(b){new c(a,b)})},at:function(){var a=new this._NodeListCtor(0);b(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var s=f(j,o);d.query=f(j,function(b){return o(b)});s.load=function(b,a,c){n.load(b,a,function(b){c(f(b,o))})};d._filterQueryResult=s._filterResult=function(b,a,c){return new o(s.filter(b,
a,c))};d.NodeList=s.NodeList=o;return s})},"dojo/selector/_loader":function(){define(["../has","require"],function(d,m){var i=document.createElement("div");d.add("dom-qsa2.1",!!i.querySelectorAll);d.add("dom-qsa3",function(){try{return i.innerHTML="<p class='TEST'></p>",1==i.querySelectorAll(".TEST:empty").length}catch(h){}});var l;return{load:function(h,g,i){var j=m,h="default"==h?d("config-selectorEngine")||"css3":h,h="css2"==h||"lite"==h?"./lite":"css2.1"==h?d("dom-qsa2.1")?"./lite":"./acme":"css3"==
h?d("dom-qsa3")?"./lite":"./acme":"acme"==h?"./acme":(j=g)&&h;if("?"==h.charAt(h.length-1))var h=h.substring(0,h.length-1),f=!0;if(f&&(d("dom-compliant-qsa")||l))return i(l);j([h],function(a){"./lite"!=h&&(l=a);i(a)})}}})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(d,m,i){var m=m.NodeList,l=m.prototype;l.connect=m._adaptAsForEach(function(){return d.connect.apply(this,arguments)});l.coords=m._adaptAsMap(d.coords);m.events="blur,focus,change,click,error,keydown,keypress,keyup,load,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,submit".split(",");
i.forEach(m.events,function(h){var g="on"+h;l[g]=function(h,d){return this.connect(g,h,d)}});return d.NodeList=m})},"dojo/_base/html":function(){define("./kernel,../dom,../dom-style,../dom-attr,../dom-prop,../dom-class,../dom-construct,../dom-geometry".split(","),function(d,m,i,l,h,g,n,j){d.byId=m.byId;d.isDescendant=m.isDescendant;d.setSelectable=m.setSelectable;d.getAttr=l.get;d.setAttr=l.set;d.hasAttr=l.has;d.removeAttr=l.remove;d.getNodeProp=l.getNodeProp;d.attr=function(f,a,e){return 2==arguments.length?
l["string"==typeof a?"get":"set"](f,a):l.set(f,a,e)};d.hasClass=g.contains;d.addClass=g.add;d.removeClass=g.remove;d.toggleClass=g.toggle;d.replaceClass=g.replace;d._toDom=d.toDom=n.toDom;d.place=n.place;d.create=n.create;d.empty=function(f){n.empty(f)};d._destroyElement=d.destroy=function(f){n.destroy(f)};d._getPadExtents=d.getPadExtents=j.getPadExtents;d._getBorderExtents=d.getBorderExtents=j.getBorderExtents;d._getPadBorderExtents=d.getPadBorderExtents=j.getPadBorderExtents;d._getMarginExtents=
d.getMarginExtents=j.getMarginExtents;d._getMarginSize=d.getMarginSize=j.getMarginSize;d._getMarginBox=d.getMarginBox=j.getMarginBox;d.setMarginBox=j.setMarginBox;d._getContentBox=d.getContentBox=j.getContentBox;d.setContentSize=j.setContentSize;d._isBodyLtr=d.isBodyLtr=j.isBodyLtr;d._docScroll=d.docScroll=j.docScroll;d._getIeDocumentElementOffset=d.getIeDocumentElementOffset=j.getIeDocumentElementOffset;d._fixIeBiDiScrollLeft=d.fixIeBiDiScrollLeft=j.fixIeBiDiScrollLeft;d.position=j.position;d.marginBox=
function(f,a){return a?j.setMarginBox(f,a):j.getMarginBox(f)};d.contentBox=function(f,a){return a?j.setContentSize(f,a):j.getContentBox(f)};d.coords=function(f,a){d.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");var f=m.byId(f),e=i.getComputedStyle(f),e=j.getMarginBox(f,e),c=j.position(f,a);e.x=c.x;e.y=c.y;return e};d.getProp=h.get;d.setProp=h.set;d.prop=function(f,a,e){return 2==arguments.length?h["string"==typeof a?"get":"set"](f,a):h.set(f,a,e)};d.getStyle=i.get;d.setStyle=
i.set;d.getComputedStyle=i.getComputedStyle;d.__toPixelValue=d.toPixelValue=i.toPixelValue;d.style=function(f,a,e){switch(arguments.length){case 1:return i.get(f);case 2:return i["string"==typeof a?"get":"set"](f,a)}return i.set(f,a,e)};return d})},"dojo/dom-attr":function(){define("exports,./sniff,./_base/lang,./dom,./dom-style,./dom-prop".split(","),function(d,m,i,l,h,g){function n(a,e){var c=a.getAttributeNode&&a.getAttributeNode(e);return c&&c.specified}var j={innerHTML:1,className:1,htmlFor:m("ie"),
value:1},f={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};d.has=function(a,e){var c=e.toLowerCase();return j[g.names[c]||e]||n(l.byId(a),f[c]||e)};d.get=function(a,e){var a=l.byId(a),c=e.toLowerCase(),b=g.names[c]||e,k=a[b];if(j[b]&&"undefined"!=typeof k||"href"!=b&&("boolean"==typeof k||i.isFunction(k)))return k;c=f[c]||e;return n(a,c)?a.getAttribute(c):null};d.set=function(a,e,c){a=l.byId(a);if(2==arguments.length){for(var b in e)d.set(a,b,e[b]);return a}b=e.toLowerCase();
var k=g.names[b]||e,o=j[k];if("style"==k&&"string"!=typeof c)return h.set(a,c),a;if(o||"boolean"==typeof c||i.isFunction(c))return g.set(a,e,c);a.setAttribute(f[b]||e,c);return a};d.remove=function(a,e){l.byId(a).removeAttribute(f[e.toLowerCase()]||e)};d.getNodeProp=function(a,e){var a=l.byId(a),c=e.toLowerCase(),b=g.names[c]||e;if(b in a&&"href"!=b)return a[b];c=f[c]||e;return n(a,c)?a.getAttribute(c):null}})},"dojo/dom-prop":function(){define("exports,./_base/kernel,./sniff,./_base/lang,./dom,./dom-style,./dom-construct,./_base/connect".split(","),
function(d,m,i,l,h,g,n,j){var f={},a=0,e=m._scopeName+"attrid";d.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};d.get=function(a,b){var a=h.byId(a),e=b.toLowerCase();return a[d.names[e]||b]};d.set=function(c,b,k){c=h.byId(c);if(2==arguments.length&&"string"!=typeof b){for(var o in b)d.set(c,o,b[o]);return c}o=b.toLowerCase();o=d.names[o]||b;if("style"==o&&"string"!=typeof k)return g.set(c,
k),c;if("innerHTML"==o)return i("ie")&&c.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(n.empty(c),c.appendChild(n.toDom(k,c.ownerDocument))):c[o]=k,c;if(l.isFunction(k)){var q=c[e];q||(q=a++,c[e]=q);f[q]||(f[q]={});var t=f[q][o];if(t)j.disconnect(t);else try{delete c[o]}catch(m){}k?f[q][o]=j.connect(c,o,k):c[o]=null;return c}c[o]=k;return c}})},"dojo/dom-construct":function(){define("exports,./_base/kernel,./sniff,./_base/window,./dom,./dom-attr,./on".split(","),
function(d,m,i,l,h,g,n){function j(b,a){var c=a.parentNode;c&&c.insertBefore(b,a)}var f={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},a=/<\s*([\w\:]+)/,e={},c=0,b="__"+m._scopeName+"ToDomId",k;for(k in f)if(f.hasOwnProperty(k))m=f[k],m.pre="option"==k?'<select multiple="multiple">':"<"+m.join("><")+">",m.post="</"+
m.reverse().join("></")+">";var o=null,q;n(window,"unload",function(){o=null});d.toDom=function(k,o){var o=o||l.doc,g=o[b];g||(o[b]=g=++c+"",e[g]=o.createElement("div"));var k=k+"",q=k.match(a),h=q?q[1].toLowerCase():"",g=e[g];if(q&&f[h]){q=f[h];g.innerHTML=q.pre+k+q.post;for(q=q.length;q;--q)g=g.firstChild}else g.innerHTML=k;if(1==g.childNodes.length)return g.removeChild(g.firstChild);for(h=o.createDocumentFragment();q=g.firstChild;)h.appendChild(q);return h};d.place=function(b,a,c){a=h.byId(a);
"string"==typeof b&&(b=/^\s*</.test(b)?d.toDom(b,a.ownerDocument):h.byId(b));if("number"==typeof c){var e=a.childNodes;!e.length||e.length<=c?a.appendChild(b):j(b,e[0>c?0:c])}else switch(c){case "before":j(b,a);break;case "after":c=b;(e=a.parentNode)&&(e.lastChild==a?e.appendChild(c):e.insertBefore(c,a.nextSibling));break;case "replace":a.parentNode.replaceChild(b,a);break;case "only":d.empty(a);a.appendChild(b);break;case "first":if(a.firstChild){j(b,a.firstChild);break}default:a.appendChild(b)}return b};
d.create=function(b,a,c,e){var k=l.doc;if(c)c=h.byId(c),k=c.ownerDocument;"string"==typeof b&&(b=k.createElement(b));a&&g.set(b,a);c&&d.place(b,c,e);return b};d.empty=i("ie")?function(b){for(var b=h.byId(b),a;a=b.lastChild;)d.destroy(a)}:function(b){h.byId(b).innerHTML=""};d.destroy=function(b){b=h.byId(b);try{var a=b.ownerDocument;if(!o||q!=a)o=a.createElement("div"),q=a;o.appendChild(b.parentNode?b.parentNode.removeChild(b):b);o.innerHTML=""}catch(c){}}})},"dojo/_base/connect":function(){define("./kernel,../on,../topic,../aspect,./event,../mouse,./sniff,./lang,../keys".split(","),
function(d,m,i,l,h,g,n,j){function f(b,a,c,e,f){e=j.hitch(c,e);if(!b||!b.addEventListener&&!b.attachEvent)return l.after(b||d.global,a,e,!0);"string"==typeof a&&"on"==a.substring(0,2)&&(a=a.substring(2));if(!b)b=d.global;if(!f)switch(a){case "keypress":a=k;break;case "mouseenter":a=g.enter;break;case "mouseleave":a=g.leave}return m(b,a,e,f)}function a(b){b.keyChar=b.charCode?String.fromCharCode(b.charCode):"";b.charOrCode=b.keyChar||b.keyCode}n.add("events-keypress-typed",function(){var b={charCode:0};
try{b=document.createEvent("KeyboardEvent"),(b.initKeyboardEvent||b.initKeyEvent).call(b,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(a){}return 0==b.charCode&&!n("opera")});var e={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},c=n("mac")?"metaKey":"ctrlKey",b=function(b,c){var e=j.mixin({},b,c);a(e);e.preventDefault=function(){b.preventDefault()};e.stopPropagation=function(){b.stopPropagation()};return e},k;k=n("events-keypress-typed")?function(a,
c){var k=m(a,"keydown",function(a){var k=a.keyCode,f=13!=k&&32!=k&&(27!=k||!n("ie"))&&(48>k||90<k)&&(96>k||111<k)&&(186>k||192<k)&&(219>k||222<k)&&229!=k;if(f||a.ctrlKey){f=f?0:k;if(a.ctrlKey){if(3==k||13==k)return c.call(a.currentTarget,a);f=95<f&&106>f?f-48:!a.shiftKey&&65<=f&&90>=f?f+32:e[f]||f}k=b(a,{type:"keypress",faux:!0,charCode:f});c.call(a.currentTarget,k);if(n("ie"))try{a.keyCode=k.keyCode}catch(o){}}}),f=m(a,"keypress",function(a){var e=a.charCode,a=b(a,{charCode:32<=e?e:0,faux:!0});return c.call(this,
a)});return{remove:function(){k.remove();f.remove()}}}:n("opera")?function(a,c){return m(a,"keypress",function(a){var e=a.which;3==e&&(e=99);e=32>e&&!a.shiftKey?0:e;a.ctrlKey&&!a.shiftKey&&65<=e&&90>=e&&(e+=32);return c.call(this,b(a,{charCode:e}))})}:function(b,c){return m(b,"keypress",function(b){a(b);return c.call(this,b)})};var o={_keypress:k,connect:function(b,a,c,e,k){var o=arguments,g=[],h=0;g.push("string"==typeof o[0]?null:o[h++],o[h++]);var d=o[h+1];g.push("string"==typeof d||"function"==
typeof d?o[h++]:null,o[h++]);for(d=o.length;h<d;h++)g.push(o[h]);return f.apply(this,g)},disconnect:function(b){b&&b.remove()},subscribe:function(b,a,c){return i.subscribe(b,j.hitch(a,c))},publish:function(b,a){return i.publish.apply(i,[b].concat(a))},connectPublisher:function(b,a,c){var e=function(){o.publish(b,arguments)};return c?o.connect(a,c,e):o.connect(a,e)},isCopyKey:function(b){return b[c]}};o.unsubscribe=o.disconnect;j.mixin(d,o);return o})},"dojo/topic":function(){define(["./Evented"],
function(d){var m=new d;return{publish:function(d,l){return m.emit.apply(m,arguments)},subscribe:function(d,l){return m.on.apply(m,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(d,m){function i(){}var l=d.after;i.prototype={on:function(h,g){return m.parse(this,h,g,function(h,d){return l(h,"on"+d,g,!0)})},emit:function(h,g){var d=[this];d.push.apply(d,arguments);return m.emit.apply(m,d)}};return i})},"dojo/aspect":function(){define([],function(){function d(g,f,a,e){var c=
g[f],b="around"==f,k;if(b){var o=a(function(){return c.advice(this,arguments)});k={remove:function(){k.cancelled=!0},advice:function(b,a){return k.cancelled?c.advice(b,a):o.apply(b,a)}}}else k={remove:function(){var b=k.previous,a=k.next;if(!a&&!b)delete g[f];else if(b?b.next=a:g[f]=a,a)a.previous=b},id:l++,advice:a,receiveArguments:e};if(c&&!b)if("after"==f){for(a=c;a;)c=a,a=a.next;c.next=k;k.previous=c}else{if("before"==f)g[f]=k,k.next=c,c.previous=k}else g[f]=k;return k}function m(g){return function(f,
a,e,c){var b=f[a],k;if(!b||b.target!=f){f[a]=k=function(){for(var b=l,a=arguments,c=k.before;c;)a=c.advice.apply(this,a)||a,c=c.next;if(k.around)var e=k.around.advice(this,a);for(c=k.after;c&&c.id<b;){if(c.receiveArguments)var f=c.advice.apply(this,a),e=f===i?e:f;else e=c.advice.call(this,e,a);c=c.next}return e};if(b)k.around={advice:function(a,c){return b.apply(a,c)}};k.target=f}f=d(k||b,g,e,c);e=null;return f}}var i,l=0,h=m("after"),g=m("before"),n=m("around");return{before:g,around:n,after:h}})},
"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(d,m,i,l){if(m._fixEvent){var h=m._fixEvent;m._fixEvent=function(g,d){(g=h(g,d))&&l.normalizeEvent(g);return g}}var g={fix:function(g,h){return m._fixEvent?m._fixEvent(g,h):g},stop:function(g){i("dom-addeventlistener")||g&&g.preventDefault?(g.preventDefault(),g.stopPropagation()):(g=g||window.event,g.cancelBubble=!0,m._preventDefault.call(g))}};d.fixEvent=g.fix;d.stopEvent=g.stop;return g})},"dojo/mouse":function(){define(["./_base/kernel",
"./on","./has","./dom","./_base/window"],function(d,m,i,l,h){function g(h,d){var f=function(a,e){return m(a,h,function(c){if(d)return d(c,e);if(!l.isDescendant(c.relatedTarget,a))return e.call(this,c)})};f.bubble=function(a){return g(h,function(e,c){var b=a(e.target),k=e.relatedTarget;if(b&&b!=(k&&1==k.nodeType&&a(k)))return c.call(b,e)})};return f}i.add("dom-quirks",h.doc&&"BackCompat"==h.doc.compatMode);i.add("events-mouseenter",h.doc&&"onmouseenter"in h.doc.createElement("div"));i.add("events-mousewheel",
h.doc&&"onmousewheel"in h.doc);h=i("dom-quirks")||!i("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(g,h){return g.button&h},isLeft:function(g){return g.button&1},isMiddle:function(g){return g.button&4},isRight:function(g){return g.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(g,h){return g.button==h},isLeft:function(g){return 0==g.button},isMiddle:function(g){return 1==g.button},isRight:function(g){return 2==g.button}};d.mouseButtons=h;d=i("events-mousewheel")?"mousewheel":
function(g,h){return m(g,"DOMMouseScroll",function(f){f.wheelDelta=-f.detail;h.call(this,f)})};return{_eventHandler:g,enter:g("mouseover"),leave:g("mouseout"),wheel:d,isLeft:h.isLeft,isMiddle:h.isMiddle,isRight:h.isRight}})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(d,m){return d.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:m("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,
RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,
RIGHT_DPAD:178,copyKey:m("mac")&&!m("air")?m("safari")?91:224:17}})},"dojo/NodeList-dom":function(){define("./_base/kernel,./query,./_base/array,./_base/lang,./dom-class,./dom-construct,./dom-geometry,./dom-attr,./dom-style".split(","),function(d,m,i,l,h,g,n,j,f){function a(b){return function(a,c,e){return 2==arguments.length?b["string"==typeof c?"get":"set"](a,c):b.set(a,c,e)}}var e=function(b){return 1==b.length&&"string"==typeof b[0]},c=function(b){var a=b.parentNode;a&&a.removeChild(b)},b=m.NodeList,
k=b._adaptWithCondition,o=b._adaptAsForEach,q=b._adaptAsMap;l.extend(b,{_normalize:function(b,a){var c=!0===b.parse;if("string"==typeof b.template)var e=b.templateFunc||d.string&&d.string.substitute,b=e?e(b.template,b):b;e=typeof b;"string"==e||"number"==e?(b=g.toDom(b,a&&a.ownerDocument),b=11==b.nodeType?l._toArray(b.childNodes):[b]):l.isArrayLike(b)?l.isArray(b)||(b=l._toArray(b)):b=[b];if(c)b._runParse=!0;return b},_cloneNode:function(b){return b.cloneNode(!0)},_place:function(b,a,c,e){if(!(1!=
a.nodeType&&"only"==c))for(var k,f=b.length,o=f-1;0<=o;o--){var h=e?this._cloneNode(b[o]):b[o];if(b._runParse&&d.parser&&d.parser.parse){k||(k=a.ownerDocument.createElement("div"));k.appendChild(h);d.parser.parse(k);for(h=k.firstChild;k.firstChild;)k.removeChild(k.firstChild)}o==f-1?g.place(h,a,c):a.parentNode.insertBefore(h,a);a=h}},position:q(n.position),attr:k(a(j),e),style:k(a(f),e),addClass:o(h.add),removeClass:o(h.remove),toggleClass:o(h.toggle),replaceClass:o(h.replace),empty:o(g.empty),removeAttr:o(j.remove),
marginBox:q(n.getMarginBox),place:function(b,a){var c=m(b)[0];return this.forEach(function(b){g.place(b,c,a)})},orphan:function(b){return(b?m._filterResult(this,b):this).forEach(c)},adopt:function(b,a){return m(b).place(this[0],a)._stash(this)},query:function(a){if(!a)return this;var c=new b;this.map(function(b){m(a,b).forEach(function(b){void 0!==b&&c.push(b)})});return c._stash(this)},filter:function(b){var a=arguments,c=this,e=0;if("string"==typeof b){c=m._filterResult(this,a[0]);if(1==a.length)return c._stash(this);
e=1}return this._wrap(i.filter(c,a[e],a[e+1]),this)},addContent:function(b,a){for(var b=this._normalize(b,this[0]),c=0,e;e=this[c];c++)this._place(b,e,a,0<c);return this}});return b})},"dojox/html/metrics":function(){define("dojo/_base/kernel,dojo/_base/lang,dojo/_base/sniff,dojo/ready,dojo/_base/unload,dojo/_base/window,dojo/dom-geometry".split(","),function(d,m,i,l,h,g,n){var j=m.getObject("dojox.html.metrics",!0),f=m.getObject("dojox");j.getFontMeasurements=function(){var b={"1em":0,"1ex":0,"100%":0,
"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0};if(i("ie"))g.doc.documentElement.style.fontSize="100%";var a=g.doc.createElement("div"),c=a.style;c.position="absolute";c.left="-100px";c.top="0";c.width="30px";c.height="1000em";c.borderWidth="0";c.margin="0";c.padding="0";c.outline="0";c.lineHeight="1";c.overflow="hidden";g.body().appendChild(a);for(var e in b)c.fontSize=e,b[e]=16*Math.round(12*a.offsetHeight/16)/12/1E3;g.body().removeChild(a);return b};
var a=null;j.getCachedFontMeasurements=function(b){if(b||!a)a=j.getFontMeasurements();return a};var e=null,c={};j.getTextBox=function(b,a,k){var f,h;if(e)f=e;else{f=e=g.doc.createElement("div");var d=g.doc.createElement("div");d.appendChild(f);h=d.style;h.overflow="scroll";h.position="absolute";h.left="0px";h.top="-10000px";h.width="1px";h.height="1px";h.visibility="hidden";h.borderWidth="0";h.margin="0";h.padding="0";h.outline="0";g.body().appendChild(d)}f.className="";h=f.style;h.borderWidth="0";
h.margin="0";h.padding="0";h.outline="0";if(1<arguments.length&&a)for(var j in a)j in c||(h[j]=a[j]);if(2<arguments.length&&k)f.className=k;f.innerHTML=b;h=n.position(f);h.w=f.parentNode.scrollWidth;return h};var b=16,k=16;j.getScrollbar=function(){return{w:b,h:k}};j._fontResizeNode=null;j.initOnFontResize=function(){var b=j._fontResizeNode=g.doc.createElement("iframe"),a=b.style;a.position="absolute";a.width="5em";a.height="10em";a.top="-10000px";a.display="none";i("ie")?b.onreadystatechange=function(){if("complete"==
b.contentWindow.document.readyState)b.onresize=b.contentWindow.parent[f._scopeName].html.metrics._fontresize}:b.onload=function(){b.contentWindow.onresize=b.contentWindow.parent[f._scopeName].html.metrics._fontresize};b.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}<\/script></head><body></body></html>'");g.body().appendChild(b);j.initOnFontResize=function(){}};j.onFontResize=function(){};j._fontresize=function(){j.onFontResize()};
h.addOnUnload(function(){var b=j._fontResizeNode;if(b){if(i("ie")&&b.onresize)b.onresize=null;else if(b.contentWindow&&b.contentWindow.onresize)b.contentWindow.onresize=null;j._fontResizeNode=null}});l(function(){try{var a=g.doc.createElement("div");a.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";g.body().appendChild(a);b=a.offsetWidth-a.clientWidth;k=a.offsetHeight-a.clientHeight;g.body().removeChild(a);delete a}catch(c){}"fontSizeWatch"in
d.config&&d.config.fontSizeWatch&&j.initOnFontResize()});return j})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(d,m,i,l,h){var g=0,n,j=[],f=0,a=function(){if(g&&!f&&j.length){f=1;var c=j.shift();try{c()}finally{f=0}f=0;j.length&&n(a)}};i.on("idle",a);n=function(){i.idle()&&a()};var m=d.ready=d.addOnLoad=function(a,b,e){var f=h._toArray(arguments);"number"!=typeof a?(e=b,b=a,a=1E3):f.shift();e=e?h.hitch.apply(d,f):function(){b()};e.priority=
a;for(f=0;f<j.length&&a>=j[f].priority;f++);j.splice(f,0,e);n()},e=d.config.addOnLoad;if(e)m[h.isArray(e)?"apply":"call"](d,e);d.config.parseOnLoad&&!d.isAsync&&m(99,function(){d.parser||(d.deprecated("Add explicit require(['dojo/parser']);","","2.0"),i(["dojo/parser"]))});l(function(){g=1;d._postLoad=d.config.afterOnLoad=!0;j.length&&n(a)});return m})},"dojo/domReady":function(){define(["./has"],function(d){function m(b){n?b(l):j.push(b)}var i=this,l=document,h={loaded:1,complete:1},g="string"!=
typeof l.readyState,n=!!h[l.readyState];if(g)l.readyState="loading";if(!n){var j=[],f=[],a=function(b){b=b||i.event;if(!(n||"readystatechange"==b.type&&!h[l.readyState])){n=1;if(g)l.readyState="complete";for(;j.length;)j.shift()(l)}},e=function(b,c){b.addEventListener(c,a,!1);j.push(function(){b.removeEventListener(c,a,!1)})};if(!d("dom-addeventlistener")){var e=function(b,c){c="on"+c;b.attachEvent(c,a);j.push(function(){b.detachEvent(c,a)})},c=l.createElement("div");try{c.doScroll&&null===i.frameElement&&
f.push(function(){try{return c.doScroll("left"),1}catch(b){}})}catch(b){}}e(l,"DOMContentLoaded");e(i,"load");"onreadystatechange"in l?e(l,"readystatechange"):g||f.push(function(){return h[l.readyState]});if(f.length){var k=function(){if(!n){for(var b=f.length;b--;)if(f[b]()){a("poller");return}setTimeout(k,30)}};k()}}m.load=function(b,a,c){m(c)};return m})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(d,m,i){var l=window,h={addOnWindowUnload:function(g,h){if(!d.windowUnloaded)i(l,
"unload",d.windowUnloaded=function(){});i(l,"unload",m.hitch(g,h))},addOnUnload:function(g,h){i(l,"beforeunload",m.hitch(g,h))}};d.addOnWindowUnload=h.addOnWindowUnload;d.addOnUnload=h.addOnUnload;return h})},"dijit/_WidgetBase":function(){define("require,dojo/_base/array,dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/ready,dojo/Stateful,dojo/topic,dojo/_base/window,./Destroyable,./registry".split(","),
function(d,m,i,l,h,g,n,j,f,a,e,c,b,k,o,q,t,s,r,v,u,p){function x(b){return function(a){j[a?"set":"remove"](this.domNode,b,a);this._set(b,a)}}b.add("dijit-legacy-requires",!k.isAsync);b("dijit-legacy-requires")&&t(0,function(){d(["dijit/_base/manager"])});var w={};return g("dijit._WidgetBase",[s,u],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:x("lang"),dir:"",_setDirAttr:x("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,
domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(b){this._set("ownerDocument",b)},attributeMap:{},_blankGif:l.blankGif||d.toUrl("dojo/resources/blank.gif"),postscript:function(b,a){this.create(b,a)},create:function(b,a){this.srcNodeRef=n.byId(a);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&"string"==typeof this.srcNodeRef.id)this.id=this.srcNodeRef.id;if(b)this.params=b,o.mixin(this,b);this.postMixInProperties();if(!this.id)this.id=p.getUniqueId(this.declaredClass.replace(/\./g,
"_")),this.params&&delete this.params.id;this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:v.doc);this.ownerDocumentBody=v.body(this.ownerDocument);p.add(this);this.buildRendering();var c;if(this.domNode){this._applyAttributes();var e=this.srcNodeRef;e&&e.parentNode&&this.domNode!==e&&(e.parentNode.replaceChild(this.domNode,e),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var b=
this.constructor,a=b._setterAttrs;if(!a){var a=b._setterAttrs=[],c;for(c in this.attributeMap)a.push(c);var b=b.prototype,e;for(e in b)e in this.attributeMap||"_set"+e.replace(/^[a-z]|-[a-zA-Z]/g,function(b){return b.charAt(b.length-1).toUpperCase()})+"Attr"in b&&a.push(e)}m.forEach(a,function(b){this.params&&b in this.params||this[b]&&this.set(b,this[b])},this);for(var k in this.params)this.set(k,this.params[k])},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode)this.domNode=
this.srcNodeRef||this.ownerDocument.createElement("div");if(this.baseClass){var b=this.baseClass.split(" ");this.isLeftToRight()||(b=b.concat(m.map(b,function(b){return b+"Rtl"})));f.add(this.domNode,b)}},postCreate:function(){},startup:function(){if(!this._started)this._started=!0,m.forEach(this.getChildren(),function(b){if(!b._started&&!b._destroyed&&o.isFunction(b.startup))b.startup(),b._started=!0})},destroyRecursive:function(b){this._beingDestroyed=!0;this.destroyDescendants(b);this.destroy(b)},
destroy:function(b){function a(c){c.destroyRecursive?c.destroyRecursive(b):c.destroy&&c.destroy(b)}this._beingDestroyed=!0;this.uninitialize();m.forEach(this._connects,o.hitch(this,"disconnect"));m.forEach(this._supportingWidgets,a);m.forEach(p.findWidgets(this.domNode,this.containerNode),a);this.destroyRendering(b);p.remove(this.id);this._destroyed=!0},destroyRendering:function(b){this.bgIframe&&(this.bgIframe.destroy(b),delete this.bgIframe);this.domNode&&(b?j.remove(this.domNode,"widgetId"):a.destroy(this.domNode),
delete this.domNode);this.srcNodeRef&&(b||a.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(b){m.forEach(this.getChildren(),function(a){a.destroyRecursive&&a.destroyRecursive(b)})},uninitialize:function(){return!1},_setStyleAttr:function(b){var a=this.domNode;o.isObject(b)?c.set(a,b):a.style.cssText=a.style.cssText?a.style.cssText+("; "+b):b;this._set("style",b)},_attrToDom:function(b,a,c){c=3<=arguments.length?c:this.attributeMap[b];m.forEach(o.isArray(c)?c:[c],function(c){var e=
this[c.node||c||"domNode"];switch(c.type||"attribute"){case "attribute":o.isFunction(a)&&(a=o.hitch(this,a));c=c.attribute?c.attribute:/^on[A-Z][a-zA-Z]*$/.test(b)?b.toLowerCase():b;e.tagName?j.set(e,c,a):e.set(c,a);break;case "innerText":e.innerHTML="";e.appendChild(this.ownerDocument.createTextNode(a));break;case "innerHTML":e.innerHTML=a;break;case "class":f.replace(e,a,this[b])}},this)},get:function(b){var a=this._getAttrNames(b);return this[a.g]?this[a.g]():this[b]},set:function(b,a){if("object"===
typeof b){for(var c in b)this.set(c,b[c]);return this}c=this._getAttrNames(b);var e=this[c.s];if(o.isFunction(e))var k=e.apply(this,Array.prototype.slice.call(arguments,1));else{var e=this.focusNode&&!o.isFunction(this.focusNode)?"focusNode":"domNode",f=this[e].tagName,g;if(!(g=w[f])){g=this[e];var h={},d;for(d in g)h[d.toLowerCase()]=!0;g=w[f]=h}d=b in this.attributeMap?this.attributeMap[b]:c.s in this?this[c.s]:c.l in g&&"function"!=typeof a||/^aria-|^data-|^role$/.test(b)?e:null;null!=d&&this._attrToDom(b,
a,d);this._set(b,a)}return k||this},_attrPairNames:{},_getAttrNames:function(b){var a=this._attrPairNames;if(a[b])return a[b];var c=b.replace(/^[a-z]|-[a-zA-Z]/g,function(b){return b.charAt(b.length-1).toUpperCase()});return a[b]={n:b+"Node",s:"_set"+c+"Attr",g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(b,a){var c=this[b];this[b]=a;this._created&&a!==c&&(this._watchCallbacks&&this._watchCallbacks(b,c,a),this.emit("attrmodified-"+b,{detail:{prevValue:c,newValue:a}}))},emit:function(b,a,c){a=
a||{};if(void 0===a.bubbles)a.bubbles=!0;if(void 0===a.cancelable)a.cancelable=!0;if(!a.detail)a.detail={};a.detail.widget=this;var e,k=this["on"+b];k&&(e=k.apply(this,c?c:a));this._started&&!this._beingDestroyed&&q.emit(this.domNode,b.toLowerCase(),a);return e},on:function(b,a){var c=this._onMap(b);return c?i.after(this,c,a,!0):this.own(q(this.domNode,b,a))[0]},_onMap:function(b){var a=this.constructor,c=a._onMap;if(!c){var c=a._onMap={},e;for(e in a.prototype)/^on/.test(e)&&(c[e.replace(/^on/,"").toLowerCase()]=
e)}return c["string"==typeof b&&b.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?p.findWidgets(this.containerNode):[]},getParent:function(){return p.getEnclosingWidget(this.domNode.parentNode)},connect:function(b,a,c){return this.own(h.connect(b,a,this,c))[0]},disconnect:function(b){b.remove()},subscribe:function(b,a){return this.own(r.subscribe(b,o.hitch(this,a)))[0]},unsubscribe:function(b){b.remove()},
isLeftToRight:function(){return this.dir?"ltr"==this.dir:e.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=c.get(this.domNode,"display")},placeAt:function(b,c){var e=!b.tagName&&p.byId(b);e&&e.addChild&&(!c||"number"===typeof c)?e.addChild(this,c):(e=e?e.containerNode&&!/after|before|replace/.test(c||"")?e.containerNode:e.domNode:n.byId(b,this.ownerDocument),a.place(this.domNode,e,c),!this._started&&(this.getParent()||{})._started&&this.startup());return this},getTextDir:function(b,
a){return a},applyTextDir:function(){},defer:function(b,a){var c=setTimeout(o.hitch(this,function(){c=null;this._destroyed||o.hitch(this,b)()}),a||0);return{remove:function(){c&&(clearTimeout(c),c=null);return null}}}})})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","dojo/when"],function(d,m,i,l){return d("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(h){var g=this._attrPairNames;return g[h]?g[h]:g[h]={s:"_"+h+"Setter",g:"_"+h+"Getter"}},postscript:function(h){h&&
this.set(h)},_get:function(h,g){return"function"===typeof this[g.g]?this[g.g]():this[h]},get:function(h){return this._get(h,this._getAttrNames(h))},set:function(h,g){if("object"===typeof h){for(var d in h)h.hasOwnProperty(d)&&"_watchCallbacks"!=d&&this.set(d,h[d]);return this}d=this._getAttrNames(h);var j=this._get(h,d);d=this[d.s];var f;"function"===typeof d?f=d.apply(this,Array.prototype.slice.call(arguments,1)):this[h]=g;if(this._watchCallbacks){var a=this;l(f,function(){a._watchCallbacks(h,j,
g)})}return this},_changeAttrValue:function(h,g){var d=this.get(h);this[h]=g;this._watchCallbacks&&this._watchCallbacks(h,d,g);return this},watch:function(h,g){var d=this._watchCallbacks;if(!d)var j=this,d=this._watchCallbacks=function(a,c,b,k){var f=function(k){if(k)for(var k=k.slice(),f=0,g=k.length;f<g;f++)k[f].call(j,a,c,b)};f(d["_"+a]);k||f(d["*"])};!g&&"function"===typeof h?(g=h,h="*"):h="_"+h;var f=d[h];"object"!==typeof f&&(f=d[h]=[]);f.push(g);var a={};a.unwatch=a.remove=function(){var a=
i.indexOf(f,g);-1<a&&f.splice(a,1)};return a}})})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(d,m){return function(i,l,h,g){var n=i&&"function"===typeof i.then,j=n&&i instanceof m;if(n){if(!j)n=new d(i.cancel),i.then(n.resolve,n.reject,n.progress),i=n.promise}else return l?l(i):(new d).resolve(i);return l||h||g?i.then(l,h,g):i}})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(d,
m,i,l,h){var g=Object.freeze||function(){},n=function(a,b,k,f,g){2===b&&e.instrumentRejected&&0===a.length&&e.instrumentRejected(k,!1,f,g);for(g=0;g<a.length;g++)j(a[g],b,k,f)},j=function(c,b,k,g){var h=c[b],d=c.deferred;if(h)try{var j=h(k);if(j&&"function"===typeof j.then){c.cancel=j.cancel;j.then(f(d,1),f(d,2),f(d,0));return}a(d,1,j)}catch(i){a(d,2,i)}else a(d,b,k);2===b&&e.instrumentRejected&&e.instrumentRejected(k,!!h,g,d.promise)},f=function(c,b){return function(e){a(c,b,e)}},a=function(a,b,
e){if(!a.isCanceled())switch(b){case 0:a.progress(e);break;case 1:a.resolve(e);break;case 2:a.reject(e)}},e=function(a){var b=this.promise=new l,k=this,f,h,d,m=!1,r=[];Error.captureStackTrace&&(Error.captureStackTrace(k,e),Error.captureStackTrace(b,e));this.isResolved=b.isResolved=function(){return 1===f};this.isRejected=b.isRejected=function(){return 2===f};this.isFulfilled=b.isFulfilled=function(){return!!f};this.isCanceled=b.isCanceled=function(){return m};this.progress=function(a,c){if(f){if(!0===
c)throw Error("This deferred has already been fulfilled.");return b}n(r,0,a,null,k);return b};this.resolve=function(a,c){if(f){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}n(r,f=1,h=a,null,k);r=null;return b};var v=this.reject=function(a,c){if(f){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}Error.captureStackTrace&&Error.captureStackTrace(d={},v);n(r,f=2,h=a,d,k);r=null;return b};this.then=b.then=function(a,c,k){var g=[k,a,c];g.cancel=
b.cancel;g.deferred=new e(function(b){return g.cancel&&g.cancel(b)});f&&!r?j(g,f,h,d):r.push(g);return g.deferred.promise};this.cancel=b.cancel=function(b,e){if(f){if(!0===e)throw Error("This deferred has already been fulfilled.");}else{if(a)var k=a(b),b="undefined"===typeof k?b:k;m=!0;if(f){if(2===f&&h===b)return b}else return"undefined"===typeof b&&(b=new i),v(b),b}};g(b)};e.prototype.toString=function(){return"[object Deferred]"};h&&h(e);return e})},"dojo/errors/CancelError":function(){define(["./create"],
function(d){return d("CancelError",null,null,{dojoType:"cancel"})})},"dojo/errors/create":function(){define(["../_base/lang"],function(d){return function(m,i,l,h){var l=l||Error,g=function(h){if(l===Error){Error.captureStackTrace&&Error.captureStackTrace(this,g);var d=Error.call(this,h),f;for(f in d)d.hasOwnProperty(f)&&(this[f]=d[f]);this.message=h;this.stack=d.stack}else l.apply(this,arguments);i&&i.apply(this,arguments)};g.prototype=d.delegate(l.prototype,h);g.prototype.name=m;return g.prototype.constructor=
g}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(d){function m(){throw new TypeError("abstract");}return d.extend(function(){},{then:function(){m()},cancel:function(){m()},isResolved:function(){m()},isRejected:function(){m()},isFulfilled:function(){m()},isCanceled:function(){m()},always:function(d){return this.then(d,d)},otherwise:function(d){return this.then(null,d)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},
"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(d,m,i,l){function h(a,b,e){var f="";a&&a.stack&&(f+=a.stack);b&&b.stack&&(f+="\n    ----------------------------------------\n    rejected"+b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));e&&e.stack&&(f+="\n    ----------------------------------------\n"+e.stack);console.error(a,f)}function g(a,b,e,f){b||h(a,e,f)}function n(c,b,k,g){b?l.some(f,function(b,a){if(b.error===c)return f.splice(a,
1),!0}):l.some(f,function(b){return b.error===c})||f.push({error:c,rejection:k,deferred:g,timestamp:(new Date).getTime()});a||(a=setTimeout(j,e))}function j(){var c=(new Date).getTime(),b=c-e;f=l.filter(f,function(a){return a.timestamp<b?(h(a.error,a.rejection,a.deferred),!1):!0});f.length&&(a=setTimeout(j,f[0].timestamp+e-c))}var f=[],a=!1,e=1E3;return function(a){var b=m("config-useDeferredInstrumentation");if(b){d.on("resolved",i.hitch(console,"log","resolved"));d.on("rejected",i.hitch(console,
"log","rejected"));d.on("progress",i.hitch(console,"log","progress"));var k=[];"string"===typeof b&&(k=b.split(","),b=k.shift());if("report-rejections"===b)a.instrumentRejected=g;else if("report-unhandled-rejections"===b||!0===b||1===b)a.instrumentRejected=n,e=parseInt(k[0],10)||e;else throw Error("Unsupported instrumentation usage <"+b+">");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(d,m,i){function l(d){setTimeout(function(){g.apply(h,d)},0)}
var h=new i,g=h.emit;h.emit=null;m.prototype.trace=function(){var g=d._toArray(arguments);this.then(function(h){l(["resolved",h].concat(g))},function(h){l(["rejected",h].concat(g))},function(h){l(["progress",h].concat(g))});return this};m.prototype.traceRejected=function(){var g=d._toArray(arguments);this.otherwise(function(h){l(["rejected",h].concat(g))});return this};return h})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(d,m,i){return i("dijit.Destroyable",
null,{destroy:function(){this._destroyed=!0},own:function(){d.forEach(arguments,function(d){var h="destroyRecursive"in d?"destroyRecursive":"destroy"in d?"destroy":"remove";d._odh=m.before(this,"destroy",function(g){d._odh.remove();d[h](g)});m.after(d,h,function(){d._odh.remove()})},this);return arguments}})})},"dijit/registry":function(){define(["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],function(d,m,i,l,h){var g={},n={},j={length:0,add:function(f){if(n[f.id])throw Error("Tried to register widget with id=="+
f.id+" but that id is already registered");n[f.id]=f;this.length++},remove:function(f){n[f]&&(delete n[f],this.length--)},byId:function(f){return"string"==typeof f?n[f]:f},byNode:function(f){return n[f.getAttribute("widgetId")]},toArray:function(){var f=[],a;for(a in n)f.push(n[a]);return f},getUniqueId:function(f){var a;do a=f+"_"+(f in g?++g[f]:g[f]=0);while(n[a]);return"dijit"==h._scopeName?a:h._scopeName+"_"+a},findWidgets:function(f,a){function e(b){for(b=b.firstChild;b;b=b.nextSibling)if(1==
b.nodeType){var k=b.getAttribute("widgetId");k?(k=n[k])&&c.push(k):b!==a&&e(b)}}var c=[];e(f);return c},_destroyAll:function(){h._curFocus=null;h._prevFocus=null;h._activeStack=[];d.forEach(j.findWidgets(l.body()),function(f){f._destroyed||(f.destroyRecursive?f.destroyRecursive():f.destroy&&f.destroy())})},getEnclosingWidget:function(f){for(;f;){var a=f.getAttribute&&f.getAttribute("widgetId");if(a)return n[a];f=f.parentNode}return null},_hash:n};return h.registry=j})},"dijit/main":function(){define(["dojo/_base/kernel"],
function(d){return d.dijit})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(d,m,i,l){l.extend(m,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return i("dijit._FocusMixin",null,{_focusManager:d})})},"dijit/focus":function(){define("dojo/aspect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/Evented,dojo/_base/lang,dojo/on,dojo/ready,dojo/sniff,dojo/Stateful,dojo/_base/unload,dojo/_base/window,dojo/window,./a11y,./registry,./main".split(","),
function(d,m,i,l,h,g,n,j,f,a,e,c,b,k,o,q,t){var s=new (m([e,g],{curNode:null,activeStack:[],constructor:function(){var b=n.hitch(this,function(b){i.isDescendant(this.curNode,b)&&this.set("curNode",null);i.isDescendant(this.prevNode,b)&&this.set("prevNode",null)});d.before(h,"empty",b);d.before(h,"destroy",b)},registerIframe:function(b){return this.registerWin(b.contentWindow,b)},registerWin:function(b,c){var e=this,k=function(b){e._justMouseDowned=!0;setTimeout(function(){e._justMouseDowned=!1},0);
if(!a("ie")||!b||!(b.srcElement&&null==b.srcElement.parentNode))e._onTouchNode(c||b.target||b.srcElement,"mouse")},f=a("ie")?b.document.documentElement:b.document;if(f){if(a("ie")){b.document.body.attachEvent("onmousedown",k);var g=function(b){var a=b.srcElement.tagName.toLowerCase();"#document"==a||"body"==a||(o.isTabNavigable(b.srcElement)?e._onFocusNode(c||b.srcElement):e._onTouchNode(c||b.srcElement))};f.attachEvent("onfocusin",g);var h=function(b){e._onBlurNode(c||b.srcElement)};f.attachEvent("onfocusout",
h);return{remove:function(){b.document.detachEvent("onmousedown",k);f.detachEvent("onfocusin",g);f.detachEvent("onfocusout",h);f=null}}}f.body.addEventListener("mousedown",k,!0);f.body.addEventListener("touchstart",k,!0);var d=function(b){e._onFocusNode(c||b.target)};f.addEventListener("focus",d,!0);var j=function(b){e._onBlurNode(c||b.target)};f.addEventListener("blur",j,!0);return{remove:function(){f.body.removeEventListener("mousedown",k,!0);f.body.removeEventListener("touchstart",k,!0);f.removeEventListener("focus",
d,!0);f.removeEventListener("blur",j,!0);f=null}}}},_onBlurNode:function(){this._clearFocusTimer&&clearTimeout(this._clearFocusTimer);this._clearFocusTimer=setTimeout(n.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0);if(!this._justMouseDowned)this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),this._clearActiveWidgetsTimer=setTimeout(n.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)},_onTouchNode:function(a,
c){this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);var e=[];try{for(;a;){var f=l.get(a,"dijitPopupParent");if(f)a=q.byId(f).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===b.body())break;a=k.get(a.ownerDocument).frameElement}else{var g=a.getAttribute&&a.getAttribute("widgetId"),o=g&&q.byId(g);o&&!("mouse"==c&&o.get("disabled"))&&e.unshift(g);a=a.parentNode}}}catch(h){}this._setStack(e,c)},_onFocusNode:function(b){b&&
9!=b.nodeType&&(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(b),b!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",b)))},_setStack:function(b,a){var c=this.activeStack;this.set("activeStack",b);for(var e=0;e<Math.min(c.length,b.length)&&!(c[e]!=b[e]);e++);for(var f,k=c.length-1;k>=e;k--)if(f=q.byId(c[k]))f._hasBeenBlurred=!0,f.set("focused",!1),f._focusManager==this&&f._onBlur(a),this.emit("widget-blur",f,a);for(k=
e;k<b.length;k++)if(f=q.byId(b[k]))f.set("focused",!0),f._focusManager==this&&f._onFocus(a),this.emit("widget-focus",f,a)},focus:function(b){if(b)try{b.focus()}catch(a){}}}));f(function(){var e=s.registerWin(k.get(b.doc));a("ie")&&c.addOnWindowUnload(function(){e&&(e.remove(),e=null)})});t.focus=function(b){s.focus(b)};for(var r in s)/^_/.test(r)||(t.focus[r]="function"==typeof s[r]?n.hitch(s,r):s[r]);s.watch(function(b,a,c){t.focus[b]=c});return s})},"dojo/window":function(){define("./_base/lang,./sniff,./_base/window,./dom,./dom-geometry,./dom-style".split(","),
function(d,m,i,l,h,g){var n={getBox:function(g){var g=g||i.doc,f="BackCompat"==g.compatMode?i.body(g):g.documentElement,a=h.docScroll(g);if(m("touch"))var e=n.get(g),g=e.innerWidth||f.clientWidth,f=e.innerHeight||f.clientHeight;else g=f.clientWidth,f=f.clientHeight;return{l:a.x,t:a.y,w:g,h:f}},get:function(g){if(m("ie")&&n!==document.parentWindow){g.parentWindow.execScript("document._parentWindow = window;","Javascript");var f=g._parentWindow;g._parentWindow=null;return f}return g.parentWindow||g.defaultView},
scrollIntoView:function(d,f){try{var d=l.byId(d),a=d.ownerDocument||i.doc,e=i.body(a),c=a.documentElement||e.parentNode,b=m("ie"),k=m("webkit");if((!m("mozilla")&&!b&&!k&&!m("opera")||d==e||d==c)&&"undefined"!=typeof d.scrollIntoView)d.scrollIntoView(!1);else{var o="BackCompat"==a.compatMode,q=9<=b&&"frameElement"in d.ownerDocument.parentWindow?0<c.clientHeight&&0<c.clientWidth&&(0==e.clientHeight||0==e.clientWidth||e.clientHeight>c.clientHeight||e.clientWidth>c.clientWidth)?c:e:o?e:c,k=k?e:q,n=q.clientWidth,
s=q.clientHeight,r=!h.isBodyLtr(a),v=f||h.position(d),u=d.parentNode,a=function(a){return 6>=b||b&&o?!1:"fixed"==g.get(a,"position").toLowerCase()};if(!a(d))for(;u;){u==e&&(u=k);var p=h.position(u),x=a(u);if(u==k){p.w=n;p.h=s;k==c&&b&&r&&(p.x+=k.offsetWidth-p.w);if(0>p.x||!b)p.x=0;if(0>p.y||!b)p.y=0}else{var w=h.getPadBorderExtents(u);p.w-=w.w;p.h-=w.h;p.x+=w.l;p.y+=w.t;var y=u.clientWidth,A=p.w-y;if(0<y&&0<A)p.w=y,p.x+=r&&(b||u.clientLeft>w.l)?A:0;y=u.clientHeight;A=p.h-y;if(0<y&&0<A)p.h=y}if(x){if(0>
p.y)p.h+=p.y,p.y=0;if(0>p.x)p.w+=p.x,p.x=0;if(p.y+p.h>s)p.h=s-p.y;if(p.x+p.w>n)p.w=n-p.x}var C=v.x-p.x,B=v.y-Math.max(p.y,0),F=C+v.w-p.w,K=B+v.h-p.h;if(0<F*C){var z=Math[0>C?"max":"min"](C,F);if(r&&(8==b&&!o||9<=b))z=-z;v.x+=u.scrollLeft;u.scrollLeft+=z;v.x-=u.scrollLeft}0<K*B&&(v.y+=u.scrollTop,u.scrollTop+=Math[0>B?"max":"min"](B,K),v.y-=u.scrollTop);u=u!=k&&!x&&u.parentNode}}}catch(D){console.error("scrollIntoView: "+D),d.scrollIntoView(!1)}}};d.setObject("dojo.window",n);return n})},"dijit/a11y":function(){define("dojo/_base/array,dojo/_base/config,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-style,dojo/sniff,./main".split(","),
function(d,m,i,l,h,g,n,j){var f=j._isElementShown=function(a){var c=g.get(a);return"hidden"!=c.visibility&&"collapsed"!=c.visibility&&"none"!=c.display&&"hidden"!=h.get(a,"type")};j.hasDefaultTabStop=function(a){switch(a.nodeName.toLowerCase()){case "a":return h.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var c;try{var b=a.contentDocument;if("designMode"in b&&"on"==b.designMode)return!0;c=b.body}catch(f){try{c=a.contentWindow.document.body}catch(g){return!1}}return c&&
("true"==c.contentEditable||c.firstChild&&"true"==c.firstChild.contentEditable);default:return"true"==a.contentEditable}};var a=j.isTabNavigable=function(a){return h.get(a,"disabled")?!1:h.has(a,"tabIndex")?0<=h.get(a,"tabIndex"):j.hasDefaultTabStop(a)};j._getTabNavigable=function(e){function c(b){return b&&"input"==b.tagName.toLowerCase()&&b.type&&"radio"==b.type.toLowerCase()&&b.name&&b.name.toLowerCase()}var b,k,g,d,i,l,j={},m=function(e){for(e=e.firstChild;e;e=e.nextSibling)if(!(1!=e.nodeType||
n("ie")&&"HTML"!==e.scopeName||!f(e))){if(a(e)){var p=+h.get(e,"tabIndex");if(!h.has(e,"tabIndex")||0==p)b||(b=e),k=e;else if(0<p){if(!g||p<d)d=p,g=e;if(!i||p>=l)l=p,i=e}p=c(e);h.get(e,"checked")&&p&&(j[p]=e)}"SELECT"!=e.nodeName.toUpperCase()&&m(e)}};f(e)&&m(e);return{first:j[c(b)]||b,last:j[c(k)]||k,lowest:j[c(g)]||g,highest:j[c(i)]||i}};j.getFirstInTabbingOrder=function(a,c){var b=j._getTabNavigable(l.byId(a,c));return b.lowest?b.lowest:b.first};j.getLastInTabbingOrder=function(a,c){var b=j._getTabNavigable(l.byId(a,
c));return b.last?b.last:b.highest};return{hasDefaultTabStop:j.hasDefaultTabStop,isTabNavigable:j.isTabNavigable,_getTabNavigable:j._getTabNavigable,getFirstInTabbingOrder:j.getFirstInTabbingOrder,getLastInTabbingOrder:j.getLastInTabbingOrder}})},"dijit/_TemplatedMixin":function(){define("dojo/_base/lang,dojo/touch,./_WidgetBase,dojo/string,dojo/cache,dojo/_base/array,dojo/_base/declare,dojo/dom-construct,dojo/sniff,dojo/_base/unload".split(","),function(d,m,i,l,h,g,n,j,f,a){var e=n("dijit._TemplatedMixin",
null,{templateString:null,templatePath:null,_skipNodeCache:!1,_earlyTemplatedStartup:!1,constructor:function(){this._attachPoints=[];this._attachEvents=[]},_stringRepl:function(a){var b=this.declaredClass,e=this;return l.substitute(a,this,function(a,c){"!"==c.charAt(0)&&(a=d.getObject(c.substr(1),!1,e));if("undefined"==typeof a)throw Error(b+" template:"+c);return null==a?"":"!"==c.charAt(0)?a:a.toString().replace(/"/g,"&quot;")},this)},buildRendering:function(){if(!this.templateString)this.templateString=
h(this.templatePath,{sanitize:!0});var a=e.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),b;if(d.isString(a)){if(b=j.toDom(this._stringRepl(a),this.ownerDocument),1!=b.nodeType)throw Error("Invalid template: "+a);}else b=a.cloneNode(!0);this.domNode=b;this.inherited(arguments);this._attachTemplateNodes(b,function(b,a){return b.getAttribute(a)});this._beforeFillContent();this._fillContent(this.srcNodeRef)},_beforeFillContent:function(){},_fillContent:function(a){var b=
this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)},_attachTemplateNodes:function(a,b){for(var e=d.isArray(a)?a:a.all||a.getElementsByTagName("*"),f=d.isArray(a)?0:-1;0>f||e[f];f++){var g=-1==f?a:e[f];if(!this.widgetsInTemplate||!b(g,"dojoType")&&!b(g,"data-dojo-type")){var h=b(g,"dojoAttachPoint")||b(g,"data-dojo-attach-point");if(h)for(var i=h.split(/\s*,\s*/);h=i.shift();)d.isArray(this[h])?this[h].push(g):this[h]=g,this._attachPoints.push(h);if(h=b(g,"dojoAttachEvent")||
b(g,"data-dojo-attach-event"))for(var i=h.split(/\s*,\s*/),l=d.trim;h=i.shift();)if(h){var j=null;-1!=h.indexOf(":")?(j=h.split(":"),h=l(j[0]),j=l(j[1])):h=l(h);j||(j=h);this._attachEvents.push(this.connect(g,m[h]||h,j))}}}},destroyRendering:function(){g.forEach(this._attachPoints,function(a){delete this[a]},this);this._attachPoints=[];g.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments)}});e._templateCache={};e.getCachedTemplate=function(a,b,f){var g=
e._templateCache,h=a,d=g[h];if(d){try{if(!d.ownerDocument||d.ownerDocument==(f||document))return d}catch(i){}j.destroy(d)}a=l.trim(a);if(b||a.match(/\$\{([^\}]+)\}/g))return g[h]=a;b=j.toDom(a,f);if(1!=b.nodeType)throw Error("Invalid template: "+a);return g[h]=b};f("ie")&&a.addOnWindowUnload(function(){var a=e._templateCache,b;for(b in a){var f=a[b];"object"==typeof f&&j.destroy(f);delete a[b]}});d.extend(i,{dojoAttachEvent:"",dojoAttachPoint:""});return e})},"dojo/touch":function(){define("./_base/kernel,./_base/lang,./aspect,./dom,./on,./has,./mouse,./ready,./_base/window".split(","),
function(d,m,i,l,h,g,n,j,f){function a(b){return function(a,c){return h(a,b,c)}}var i=g("touch"),e=!1;g("ios")&&(g=navigator.userAgent.match(/OS ([\d_]+)/)?RegExp.$1:"1",e=5>parseFloat(g.replace(/_/,".").replace(/_/g,"")));var c,b;i&&(j(function(){b=f.body();f.doc.addEventListener("touchstart",function(a){var c=b;b=a.target;h.emit(c,"dojotouchout",{target:c,relatedTarget:b,bubbles:!0});h.emit(b,"dojotouchover",{target:b,relatedTarget:c,bubbles:!0})},!0);h(f.doc,"touchmove",function(a){if((a=f.doc.elementFromPoint(a.pageX-
(e?0:f.global.pageXOffset),a.pageY-(e?0:f.global.pageYOffset)))&&b!==a)h.emit(b,"dojotouchout",{target:b,relatedTarget:a,bubbles:!0}),h.emit(a,"dojotouchover",{target:a,relatedTarget:b,bubbles:!0}),b=a})}),c=function(a,c){return h(f.doc,"touchmove",function(e){(a===f.doc||l.isDescendant(b,a))&&c.call(this,m.mixin({},e,{target:b}))})});n={press:a(i?"touchstart":"mousedown"),move:i?c:a("mousemove"),release:a(i?"touchend":"mouseup"),cancel:i?a("touchcancel"):n.leave,over:a(i?"dojotouchover":"mouseover"),
out:a(i?"dojotouchout":"mouseout"),enter:n._eventHandler(i?"dojotouchover":"mouseover"),leave:n._eventHandler(i?"dojotouchout":"mouseout")};return d.touch=n})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(d,m){var i={};m.setObject("dojo.string",i);i.rep=function(d,h){if(0>=h||!d)return"";for(var g=[];;){h&1&&g.push(d);if(!(h>>=1))break;d+=d}return g.join("")};i.pad=function(d,h,g,n){g||(g="0");d=""+d;h=i.rep(g,Math.ceil((h-d.length)/g.length));return n?d+h:h+d};i.substitute=
function(i,h,g,n){n=n||d.global;g=g?m.hitch(n,g):function(g){return g};return i.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(d,f,a){d=m.getObject(f,!1,h);a&&(d=m.getObject(a,!1,n).call(n,d,f));return g(d,f).toString()})};i.trim=String.prototype.trim?m.trim:function(d){for(var d=d.replace(/^\s+/,""),h=d.length-1;0<=h;h--)if(/\S/.test(d.charAt(h))){d=d.substring(0,h+1);break}return d};return i})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(d){return d.cache})},"dojo/text":function(){define(["./_base/kernel",
"require","./has","./_base/xhr"],function(d,m,i,l){var h;h=function(a,e,c){l("GET",{url:a,sync:!!e,load:c,headers:d.config.textPluginHeaders||{}})};var g={},n=function(a){if(a){var a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,""),e=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);e&&(a=e[1])}else a="";return a},j={},f={};d.cache=function(a,e,c){var b;"string"==typeof a?/\//.test(a)?(b=a,c=e):b=m.toUrl(a.replace(/\./g,"/")+(e?"/"+e:"")):(b=a+"",c=e);a=void 0!=c&&"string"!=
typeof c?c.value:c;c=c&&c.sanitize;if("string"==typeof a)return g[b]=a,c?n(a):a;if(null===a)return delete g[b],null;b in g||h(b,!0,function(a){g[b]=a});return c?n(g[b]):g[b]};return{dynamic:!0,normalize:function(a,e){var c=a.split("!"),b=c[0];return(/^\./.test(b)?e(b):b)+(c[1]?"!"+c[1]:"")},load:function(a,e,c){var a=a.split("!"),b=1<a.length,k=a[0],d=e.toUrl(a[0]),a="url:"+d,i=j,l=function(a){c(b?n(a):a)};k in g?i=g[k]:a in e.cache?i=e.cache[a]:d in g&&(i=g[d]);if(i===j)if(f[d])f[d].push(l);else{var m=
f[d]=[l];h(d,!e.async,function(b){g[k]=g[d]=b;for(var a=0;a<m.length;)m[a++](b);delete f[d]})}else l(i)}}})},"dojo/_base/xhr":function(){define("./kernel,./sniff,require,../io-query,../dom,../dom-form,./Deferred,./config,./json,./lang,./array,../on,../aspect,../request/watch,../request/xhr,../request/util".split(","),function(d,m,i,l,h,g,n,j,f,a,e,c,b,k,o,q){d._xhrObj=o._create;var t=d.config;d.objectToQuery=l.objectToQuery;d.queryToObject=l.queryToObject;d.fieldToObject=g.fieldToObject;d.formToObject=
g.toObject;d.formToQuery=g.toQuery;d.formToJson=g.toJson;d._blockAsync=!1;var s=d._contentHandlers=d.contentHandlers={text:function(b){return b.responseText},json:function(b){return f.fromJson(b.responseText||null)},"json-comment-filtered":function(b){j.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}&&\nUse djConfig.useCommentedJson=true to turn off this message.");
var b=b.responseText,a=b.indexOf("/*"),c=b.lastIndexOf("*/");if(-1==a||-1==c)throw Error("JSON was not comment filtered");return f.fromJson(b.substring(a+2,c))},javascript:function(b){return d.eval(b.responseText)},xml:function(b){var a=b.responseXML;if(m("ie")&&(!a||!a.documentElement)){var c=function(b){return"MSXML"+b+".DOMDocument"},c=["Microsoft.XMLDOM",c(6),c(4),c(3),c(2)];e.some(c,function(c){try{var e=new ActiveXObject(c);e.async=!1;e.loadXML(b.responseText);a=e}catch(f){return!1}return!0})}return a},
"json-comment-optional":function(b){return b.responseText&&/^[^{\[]*\/\*/.test(b.responseText)?s["json-comment-filtered"](b):s.json(b)}};d._ioSetArgs=function(b,c,e,f){var k={args:b,url:b.url},o=null;if(b.form){var o=h.byId(b.form),i=o.getAttributeNode("action");k.url=k.url||(i?i.value:null);o=g.toObject(o)}i=[{}];o&&i.push(o);b.content&&i.push(b.content);b.preventCache&&i.push({"dojo.preventCache":(new Date).valueOf()});k.query=l.objectToQuery(a.mixin.apply(null,i));k.handleAs=b.handleAs||"text";
var j=new n(function(b){b.canceled=!0;c&&c(b);var a=b.ioArgs.error;if(!a)a=Error("request cancelled"),a.dojoType="cancel",b.ioArgs.error=a;return a});j.addCallback(e);var q=b.load;q&&a.isFunction(q)&&j.addCallback(function(a){return q.call(b,a,k)});var m=b.error;m&&a.isFunction(m)&&j.addErrback(function(a){return m.call(b,a,k)});var r=b.handle;r&&a.isFunction(r)&&j.addBoth(function(a){return r.call(b,a,k)});j.addErrback(function(b){return f(b,j)});t.ioPublish&&d.publish&&!1!==k.args.ioPublish&&(j.addCallbacks(function(b){d.publish("/dojo/io/load",
[j,b]);return b},function(b){d.publish("/dojo/io/error",[j,b]);return b}),j.addBoth(function(b){d.publish("/dojo/io/done",[j,b]);return b}));j.ioArgs=k;return j};var r=function(b){b=s[b.ioArgs.handleAs](b.ioArgs.xhr);return void 0===b?null:b},v=function(b,a){a.ioArgs.args.failOk||console.error(b);return b},u=function(b){0>=p&&(p=0,t.ioPublish&&d.publish&&(!b||b&&!1!==b.ioArgs.args.ioPublish)&&d.publish("/dojo/io/stop"))},p=0;b.after(k,"_onAction",function(){p-=1});b.after(k,"_onInFlight",u);d._ioCancelAll=
k.cancelAll;d._ioNotifyStart=function(b){t.ioPublish&&d.publish&&!1!==b.ioArgs.args.ioPublish&&(p||d.publish("/dojo/io/start"),p+=1,d.publish("/dojo/io/send",[b]))};d._ioWatch=function(b,c,e,f){b.ioArgs.options=b.ioArgs.args;a.mixin(b,{response:b.ioArgs,isValid:function(){return c(b)},isReady:function(){return e(b)},handleResponse:function(){return f(b)}});k(b);u(b)};d._ioAddQueryToUrl=function(b){if(b.query.length)b.url+=(-1==b.url.indexOf("?")?"?":"&")+b.query,b.query=null};d.xhr=function(b,a,c){var e,
f=d._ioSetArgs(a,function(){e&&e.cancel()},r,v),k=f.ioArgs;"postData"in a?k.query=a.postData:"putData"in a?k.query=a.putData:"rawBody"in a?k.query=a.rawBody:(2<arguments.length&&!c||-1==="POST|PUT".indexOf(b.toUpperCase()))&&d._ioAddQueryToUrl(k);var g={method:b,handleAs:"text",timeout:a.timeout,withCredentials:a.withCredentials,ioArgs:k};if("undefined"!==typeof a.headers)g.headers=a.headers;if("undefined"!==typeof a.contentType){if(!g.headers)g.headers={};g.headers["Content-Type"]=a.contentType}if("undefined"!==
typeof k.query)g.data=k.query;if("undefined"!==typeof a.sync)g.sync=a.sync;d._ioNotifyStart(f);try{e=o(k.url,g,!0)}catch(h){return f.cancel(),f}f.ioArgs.xhr=e.response.xhr;e.then(function(){f.resolve(f)}).otherwise(function(b){k.error=b;f.reject(b)});return f};d.xhrGet=function(b){return d.xhr("GET",b)};d.rawXhrPost=d.xhrPost=function(b){return d.xhr("POST",b,!0)};d.rawXhrPut=d.xhrPut=function(b){return d.xhr("PUT",b,!0)};d.xhrDelete=function(b){return d.xhr("DELETE",b)};d._isDocumentOk=function(b){return q.checkStatus(b.status)};
d._getText=function(b){var a;d.xhrGet({url:b,sync:!0,load:function(b){a=b}});return a};a.mixin(d.xhr,{_xhrObj:d._xhrObj,fieldToObject:g.fieldToObject,formToObject:g.toObject,objectToQuery:l.objectToQuery,formToQuery:g.toQuery,formToJson:g.toJson,queryToObject:l.queryToObject,contentHandlers:s,_ioSetArgs:d._ioSetArgs,_ioCancelAll:d._ioCancelAll,_ioNotifyStart:d._ioNotifyStart,_ioWatch:d._ioWatch,_ioAddQueryToUrl:d._ioAddQueryToUrl,_isDocumentOk:d._isDocumentOk,_getText:d._getText,get:d.xhrGet,post:d.xhrPost,
put:d.xhrPut,del:d.xhrDelete});return d.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(d){var m={};return{objectToQuery:function(i){var l=encodeURIComponent,h=[],g;for(g in i){var n=i[g];if(n!=m[g]){var j=l(g)+"=";if(d.isArray(n))for(var f=0,a=n.length;f<a;++f)h.push(j+l(n[f]));else h.push(j+l(n))}}return h.join("&")},queryToObject:function(i){for(var l=decodeURIComponent,i=i.split("&"),h={},g,n,j=0,f=i.length;j<f;++j)if(n=i[j],n.length){var a=n.indexOf("=");0>a?(g=l(n),n=""):
(g=l(n.slice(0,a)),n=l(n.slice(a+1)));"string"==typeof h[g]&&(h[g]=[h[g]]);d.isArray(h[g])?h[g].push(n):h[g]=n}return h}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(d,m,i,l){var h={fieldToObject:function(g){var d=null;if(g=m.byId(g)){var h=g.name,f=(g.type||"").toLowerCase();if(h&&f&&!g.disabled)if("radio"==f||"checkbox"==f){if(g.checked)d=g.value}else if(g.multiple){d=[];for(g=[g.firstChild];g.length;)for(h=g.pop();h;h=h.nextSibling)if(1==h.nodeType&&
"option"==h.tagName.toLowerCase())h.selected&&d.push(h.value);else{h.nextSibling&&g.push(h.nextSibling);h.firstChild&&g.push(h.firstChild);break}}else d=g.value}return d},toObject:function(g){for(var i={},g=m.byId(g).elements,j=0,f=g.length;j<f;++j){var a=g[j],e=a.name,c=(a.type||"").toLowerCase();if(e&&c&&0>"file|submit|image|reset|button".indexOf(c)&&!a.disabled){var b=i,k=e,a=h.fieldToObject(a);if(null!==a){var o=b[k];"string"==typeof o?b[k]=[o,a]:d.isArray(o)?o.push(a):b[k]=a}if("image"==c)i[e+
".x"]=i[e+".y"]=i[e].x=i[e].y=0}}return i},toQuery:function(g){return i.objectToQuery(h.toObject(g))},toJson:function(g,d){return l.stringify(h.toObject(g),null,d?4:0)}};return h})},"dojo/json":function(){define(["./has"],function(d){var m="undefined"!=typeof JSON;d.add("json-parse",m);d.add("json-stringify",m&&'{"a":1}'==JSON.stringify({a:0},function(d,h){return h||1}));if(d("json-stringify"))return JSON;var i=function(d){return('"'+d.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,
"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:d("json-parse")?JSON.parse:function(d,h){if(h&&!/^([\s\[\{]*(?:"(?:\\.|[^"])+"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(d))throw new SyntaxError("Invalid characters in JSON");return eval("("+d+")")},stringify:function(d,h,g){function n(f,a,e){h&&(f=h(e,f));var c;c=typeof f;if("number"==c)return isFinite(f)?f+"":"null";if("boolean"==c)return f+"";if(null===f)return"null";if("string"==
typeof f)return i(f);if("function"==c||"undefined"==c)return j;if("function"==typeof f.toJSON)return n(f.toJSON(e),a,e);if(f instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(b,a,c){b=f["getUTC"+a]()+(c?1:0);return 10>b?"0"+b:b});if(f.valueOf()!==f)return n(f.valueOf(),a,e);var b=g?a+g:"",k=g?" ":"",d=g?"\n":"";if(f instanceof Array){for(var k=f.length,l=[],e=0;e<k;e++)c=n(f[e],b,e),"string"!=typeof c&&(c="null"),l.push(d+b+c);return"["+
l.join(",")+d+a+"]"}l=[];for(e in f){var m;if(f.hasOwnProperty(e)){if("number"==typeof e)m='"'+e+'"';else if("string"==typeof e)m=i(e);else continue;c=n(f[e],b,e);"string"==typeof c&&l.push(d+b+m+":"+k+c)}}return"{"+l.join(",")+d+a+"}"}var j;"string"==typeof h&&(g=h,h=null);return n(d,"","")}}})},"dojo/_base/Deferred":function(){define("./kernel,../Deferred,../promise/Promise,../errors/CancelError,../has,./lang,../when".split(","),function(d,m,i,l,h,g,n){var j=function(){},f=Object.freeze||function(){},
a=d.Deferred=function(e){function c(a){if(d)throw Error("This deferred has already been resolved");k=a;d=!0;b()}function b(){for(var b;!b&&s;){var a=s;s=s.next;if(b=a.progress==j)d=!1;var c=q?a.error:a.resolved;h("config-useDeferredInstrumentation")&&q&&m.instrumentRejected&&m.instrumentRejected(k,!!c);if(c)try{var e=c(k);e&&"function"===typeof e.then?e.then(g.hitch(a.deferred,"resolve"),g.hitch(a.deferred,"reject"),g.hitch(a.deferred,"progress")):(c=b&&void 0===e,b&&!c&&(q=e instanceof Error),a.deferred[c&&
q?"reject":"resolve"](c?k:e))}catch(f){a.deferred.reject(f)}else q?a.deferred.reject(k):a.deferred.resolve(k)}}var k,d,q,n,s,r=this.promise=new i;this.resolve=this.callback=function(b){this.fired=0;this.results=[b,null];c(b)};this.reject=this.errback=function(b){q=!0;this.fired=1;h("config-useDeferredInstrumentation")&&m.instrumentRejected&&m.instrumentRejected(b,!!s);c(b);this.results=[null,b]};this.progress=function(b){for(var a=s;a;){var c=a.progress;c&&c(b);a=a.next}};this.addCallbacks=function(b,
a){this.then(b,a,j);return this};r.then=this.then=function(c,e,f){var k=f==j?this:new a(r.cancel),c={resolved:c,error:e,progress:f,deferred:k};s?n=n.next=c:s=n=c;d&&b();return k.promise};var v=this;r.cancel=this.cancel=function(){if(!d){var b=e&&e(v);if(!d)b instanceof Error||(b=new l(b)),b.log=!1,v.reject(b)}};f(r)};g.extend(a,{addCallback:function(a){return this.addCallbacks(g.hitch.apply(d,arguments))},addErrback:function(a){return this.addCallbacks(null,g.hitch.apply(d,arguments))},addBoth:function(a){var c=
g.hitch.apply(d,arguments);return this.addCallbacks(c,c)},fired:-1});a.when=d.when=n;return a})},"dojo/_base/json":function(){define(["./kernel","../json"],function(d,m){d.fromJson=function(d){return eval("("+d+")")};d._escapeString=m.stringify;d.toJsonIndentStr="\t";d.toJson=function(i,l){return m.stringify(i,function(d,g){if(g){var i=g.__json__||g.json;if("function"==typeof i)return i.call(g)}return g},l&&d.toJsonIndentStr)};return d})},"dojo/request/watch":function(){define("./util,../errors/RequestTimeoutError,../errors/CancelError,../_base/array,../_base/window,../has!host-browser?dom-addeventlistener?:../on:".split(","),
function(d,m,i,l,h,g){function n(){for(var e=+new Date,c=0,b;c<a.length&&(b=a[c]);c++){var k=b.response,g=k.options;if(b.isCanceled&&b.isCanceled()||b.isValid&&!b.isValid(k))a.splice(c--,1),j._onAction&&j._onAction();else if(b.isReady&&b.isReady(k))a.splice(c--,1),b.handleResponse(k),j._onAction&&j._onAction();else if(b.startTime&&b.startTime+(g.timeout||0)<e)a.splice(c--,1),b.cancel(new m(k)),j._onAction&&j._onAction()}j._onInFlight&&j._onInFlight(b);a.length||(clearInterval(f),f=null)}function j(e){if(e.response.options.timeout)e.startTime=
+new Date;e.isFulfilled()||(a.push(e),f||(f=setInterval(n,50)),e.response.options.sync&&n())}var f=null,a=[];j.cancelAll=function(){try{l.forEach(a,function(a){try{a.cancel(new i("All requests canceled."))}catch(b){}})}catch(e){}};h&&g&&h.doc.attachEvent&&g(h.global,"unload",function(){j.cancelAll()});return j})},"dojo/request/util":function(){define("exports,../errors/RequestError,../errors/CancelError,../Deferred,../io-query,../_base/array,../_base/lang".split(","),function(d,m,i,l,h,g,n){function j(a){return f(a)}
d.deepCopy=function(a,e){for(var c in e){var b=a[c],f=e[c];b!==f&&(b&&"object"===typeof b&&f&&"object"===typeof f?d.deepCopy(b,f):a[c]=f)}return a};d.deepCreate=function(a,e){var e=e||{},c=n.delegate(a),b,f;for(b in a)(f=a[b])&&"object"===typeof f&&(c[b]=d.deepCreate(f,e[b]));return d.deepCopy(c,e)};var f=Object.freeze||function(a){return a};d.deferred=function(a,e,c,b,k,g){var h=new l(function(b){e&&e(h,a);return!b||!(b instanceof m)&&!(b instanceof i)?new i("Request canceled",a):b});h.response=
a;h.isValid=c;h.isReady=b;h.handleResponse=k;c=h.then(j).otherwise(function(b){b.response=a;throw b;});d.notify&&c.then(n.hitch(d.notify,"emit","load"),n.hitch(d.notify,"emit","error"));b=c.then(function(b){return b.data||b.text});c=f(n.delegate(b,{response:c}));g&&h.then(function(b){g.call(h,b)},function(b){g.call(h,a,b)});h.promise=c;h.then=c.then;return h};d.addCommonMethods=function(a,e){g.forEach(e||["GET","POST","PUT","DELETE"],function(c){a[("DELETE"===c?"DEL":c).toLowerCase()]=function(b,
e){e=n.delegate(e||{});e.method=c;return a(b,e)}})};d.parseArgs=function(a,e,c){var b=e.data,f=e.query;if(b&&!c&&"object"===typeof b)e.data=h.objectToQuery(b);f?("object"===typeof f&&(f=h.objectToQuery(f)),e.preventCache&&(f+=(f?"&":"")+"request.preventCache="+ +new Date)):e.preventCache&&(f="request.preventCache="+ +new Date);a&&f&&(a+=(~a.indexOf("?")?"&":"?")+f);return{url:a,options:e,getHeader:function(){return null}}};d.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||
!a}})},"dojo/errors/RequestError":function(){define(["./create"],function(d){return d("RequestError",function(d,i){this.response=i})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(d,m){return d("RequestTimeoutError",null,m,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(d,m,i,l,h){function g(b,a){var c=b.xhr;b.status=b.xhr.status;b.text=c.responseText;if("xml"===
b.options.handleAs)b.data=c.responseXML;if(!a)try{i(b)}catch(e){a=e}a?this.reject(a):l.checkStatus(c.status)?this.resolve(b):(a=new d("Unable to load "+b.url+" status: "+c.status,b),this.reject(a))}function n(k,o,i){var r=l.parseArgs(k,l.deepCreate(b,o),h("native-formdata")&&o&&o.data&&o.data instanceof FormData),k=r.url,o=r.options,v,u=l.deferred(r,e,j,f,g,function(){v&&v()}),p=r.xhr=n._create();if(!p)return u.cancel(new d("XHR was not created")),i?u:u.promise;r.getHeader=function(b){return this.xhr.getResponseHeader(b)};
a&&(v=a(p,u,r));var x=o.data,w=!o.sync,y=o.method;try{p.open(y,k,w,o.user||c,o.password||c);if(o.withCredentials)p.withCredentials=o.withCredentials;var A=o.headers,C;if(A)for(var B in A)"content-type"===B.toLowerCase()?C=A[B]:A[B]&&p.setRequestHeader(B,A[B]);C&&!1!==C&&p.setRequestHeader("Content-Type",C);(!A||!("X-Requested-With"in A))&&p.setRequestHeader("X-Requested-With","XMLHttpRequest");l.notify&&l.notify.emit("send",r,u.promise.cancel);p.send(x)}catch(F){u.reject(F)}m(u);p=null;return i?u:
u.promise}h.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});h.add("dojo-force-activex-xhr",function(){return h("activex")&&!document.addEventListener&&"file:"===window.location.protocol});h.add("native-xhr2",function(){if(h("native-xhr")){var b=new XMLHttpRequest;return"undefined"!==typeof b.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof b.upload)}});h.add("native-formdata",function(){return"function"===typeof FormData});var j,f,a,e;h("native-xhr2")?(j=
function(){return!this.isFulfilled()},e=function(b,a){a.xhr.abort()},a=function(b,a,c){function e(){a.handleResponse(c)}function f(b){b=new d("Unable to load "+c.url+" status: "+b.target.status,c);a.handleResponse(c,b)}function k(b){if(b.lengthComputable)c.loaded=b.loaded,c.total=b.total,a.progress(c)}b.addEventListener("load",e,!1);b.addEventListener("error",f,!1);b.addEventListener("progress",k,!1);return function(){b.removeEventListener("load",e,!1);b.removeEventListener("error",f,!1);b.removeEventListener("progress",
k,!1)}}):(j=function(b){return b.xhr.readyState},f=function(b){return 4===b.xhr.readyState},e=function(b,a){var c=a.xhr,e=typeof c.abort;("function"===e||"object"===e||"unknown"===e)&&c.abort()});var c,b={data:null,query:null,sync:!1,method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}};n._create=function(){throw Error("XMLHTTP not available");};if(h("native-xhr")&&!h("dojo-force-activex-xhr"))n._create=function(){return new XMLHttpRequest};else if(h("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),
n._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(k){try{new ActiveXObject("Microsoft.XMLHTTP"),n._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(o){}}l.addCommonMethods(n);return n})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has"],function(d,m,i,l){function h(f){var a=j[f.options.handleAs];f.data=a?a(f):f.data||f.text;return f}l.add("activex","undefined"!==typeof ActiveXObject);var g;if(l("activex")){var n=
["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];g=function(f){var a=f.data;if(!a||!a.documentElement){var e=f.text;i.some(n,function(c){try{var b=new ActiveXObject(c);b.async=!1;b.loadXML(e);a=b}catch(f){return!1}return!0})}return a}}var j={javascript:function(f){return m.eval(f.text||"")},json:function(f){return d.parse(f.text||null)},xml:g};h.register=function(f,a){j[f]=a};return h})},"url:gridx/templates/Grid.html":'<div class="gridx" role="grid" tabindex="0" aria-readonly="true"\r\n\t><div class="gridxHeader" role="presentation" data-dojo-attach-point="headerNode"></div\r\n\t><div class="gridxMain" role="presentation" data-dojo-attach-point="mainNode"\r\n\t\t><div class="gridxBodyEmpty" role="alert" tabindex="-1" data-dojo-attach-point="emptyNode"></div\r\n\t\t><div class="gridxBody" role="presentation" data-dojo-attach-point="bodyNode"></div\r\n\t\t><div class="gridxVScroller" data-dojo-attach-point="vScrollerNode" tabindex="-1"\r\n\t\t\t><div style=\'width: 1px;\'></div\r\n\t\t></div\r\n\t></div\r\n\t><div class="gridxFooter" data-dojo-attach-point="footerNode"\r\n\t\t><div class="gridxHScroller"\r\n\t\t\t><div class="gridxHScrollerInner" data-dojo-attach-point="hScrollerNode" tabindex="-1"\r\n\t\t\t\t><div style="width:1px; height: 1px;"></div\r\n\t\t\t></div\r\n\t\t></div\r\n\t></div\r\n\t><span data-dojo-attach-point="lastFocusNode" tabindex="0"></span\r\n></div>\r\n',
"gridx/core/Core":function(){define("require,dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/_base/Deferred,dojo/DeferredList,./model/Model,./Row,./Column,./Cell,./_Module".split(","),function(d,m,i,l,h,g,n,j,f,a,e){function c(b){b=b.moduleClass.prototype;return(b.forced||[]).concat(b.optional||[])}function b(a,c){if(c)for(var e in c){var f=a[e],k=c[e];f&&l.isObject(f)&&!t(f)?b(f,k):a[e]=k}}function k(b,a){var c=[],e=a&&a.length||0;v(b.modules,function(b,a){if(t(b)||s(b))b={moduleClass:b};
if(b){var f=b.moduleClass;if(s(f))try{f=b.moduleClass=d(f)}catch(k){console.error(k)}if(t(f)){c.push(b);return}}console.error(["The ",a+1-e,"-th declared module can NOT be found, please require it before using it"].join(""))});b.modules=c;return b}function o(b){var a,c={},e=[];v(b.modules,function(b){c[b.moduleClass.prototype.name]=b});for(a in c)e.push(c[a]);b.modules=e;return b}var q=l.delegate,t=l.isFunction,s=l.isString,r=l.hitch,v=i.forEach;return m([],{_reset:function(b){var a=this._deferStartup=
new h,f={},g;for(g in b)f[g]=b[g];b=f;this.store=b.store;b.modules=b.modules||[];b.modelExtensions=b.modelExtensions||[];this.setColumns(b.structure);b.columns=this._columnsById;g=k(b,this.coreModules);var b=e._modules,f=g.modules,d,i,j,q,m,t,s;for(d=0;d<f.length;++d){q=f[d].moduleClass.prototype;m=(q.forced||[]).concat(q.required||[]);for(i=0;i<m.length;++i){t=m[i];for(j=f.length-1;0<=j&&!(f[j].moduleClass.prototype.name===t);--j);0>j&&(b[t]?f.push({moduleClass:b[t]}):(s=1,console.error(["Forced/Required dependent module '",
t,"' is NOT found for '",q.name,"' module."].join(""))))}}if(s)throw Error("Some forced/required dependent modules are NOT found.");s=o(g);g=s.modules;for(b=g.length-1;i=g[b];--b){f=i.moduleClass.prototype.name;for(d=c(i);d.length;){i=d.shift();if(i==f)throw Error("Module '"+i+"' is in a dependancy circle!");a:{for(j=g.length-1;0<=j;--j)if(g[j].moduleClass.prototype.name==i){i=g[j];break a}i=null}i&&(d=d.concat(c(i)))}}g=s.modules;for(b=g.length-1;0<=b;--b)(f=g[b].moduleClass.prototype.modelExtensions)&&
[].push.apply(s.modelExtensions,f);b=s;this.model=new n(b);this.when=l.hitch(this.model,this.model.when);this._create(b);this._preload();this._load(a).then(r(this,"onModulesLoaded"))},onModulesLoaded:function(){},setStore:function(b){if(this.store!=b)this.store=b,this.model.setStore(b)},setColumns:function(b){this.structure=b;var b=this._columns=l.clone(b),a={},c,e,f;if(l.isArray(b))for(e=0,f=b.length;e<f;++e)c=b[e],c.index=e,c.id=c.id||""+(e+1),a[c.id]=c;this._columnsById=a;if(this.model)this.model._cache.onSetColumns(this._columnsById)},
row:function(b,a,c){"number"==typeof b&&!a&&(b=this.model.indexToId(b,c));return this.model.byId(b)?(this._rowObj=this._rowObj||this._mixin(new j(this),"row"),q(this._rowObj,{id:b})):null},column:function(b,a){var p;var c,e,k={};"number"==typeof b&&!a&&(p=(c=this._columns[b])&&c.id,b=p);if(c=this._columnsById[b]){this._colObj=this._colObj||this._mixin(new f(this),"column");for(e in c)void 0===this._colObj[e]&&(k[e]=c[e]);return q(this._colObj,k)}return null},cell:function(b,c,e,k){if(b=b instanceof
j?b:this.row(b,e,k))if(c=c instanceof f?c:this.column(c,e))return this._cellObj=this._cellObj||this._mixin(new a(this),"cell"),q(this._cellObj,{row:b,column:c});return null},columnCount:function(){return this._columns.length},rowCount:function(b){return this.model.size(b)},columns:function(b,a){return this._arr(this._columns.length,"column",b,a)},rows:function(b,a,c){return this._arr(this.rowCount(c),"row",b,a,c)},_uninit:function(){var b=this._modules,a;for(a in b){a=b[a].mod;if(a.getAPIPath){var c=
a.getAPIPath();if(c){var e=void 0;for(e in c)delete this[e]}}a.destroy()}this.model&&this.model.destroy()},_arr:function(b,a,c,e,f){for(var k=c||0,c=0<=e?c+e:b,e=[];k<c&&k<b;++k)e.push(this[a](k,0,f));for(var g in i)t(i[g])&&(e[g]=l.partial(i[g],e));return e},_preload:function(){var b,a=this._modules;for(b in a)b=a[b],b.mod.preload&&b.mod.preload(b.args)},_load:function(b){var a=[],c;for(c in this._modules)a.push(this._initMod(b,c));return new g(a,0,1)},_mixin:function(b,a){var c,e,f=this._modules;
for(c in f)c=f[c].mod,e=c[a+"Mixin"],t(e)&&(e=e.apply(c)),l.mixin(b,e||{});return b},_create:function(a){var e=this,f=e._modules={};v(a.modules,function(a){var k;k=a.moduleClass.prototype.name;f[k]||(f[k]={args:a,mod:k=new a.moduleClass(e,a),deps:c(a)},k.getAPIPath&&b(e,k.getAPIPath()))})},_initMod:function(b,a){var c=this._modules,e=c[a],f=e.mod,k=f.loaded;if(!e.done)e.done=1,(new g(i.map(i.filter(e.deps,function(b){return c[b]}),r(this,this._initMod,b)),0,1)).then(function(){f.load?f.load(e.args,
b):0>k.fired&&k.callback()});return k}})})},"dojo/DeferredList":function(){define(["./_base/kernel","./_base/Deferred","./_base/array"],function(d,m,i){d.DeferredList=function(d,h,g,n){var j=[];m.call(this);var f=this;0===d.length&&!h&&this.resolve([0,[]]);var a=0;i.forEach(d,function(e,c){function b(b,e){j[c]=[b,e];a++;a===d.length&&f.resolve(j)}e.then(function(a){h?f.resolve([c,a]):b(!0,a)},function(a){g?f.reject(a):b(!1,a);if(n)return null;throw a;})})};d.DeferredList.prototype=new m;d.DeferredList.prototype.gatherResults=
function(l){l=new d.DeferredList(l,!1,!0,!1);l.addCallback(function(d){var g=[];i.forEach(d,function(d){g.push(d[1])});return g});return l};return d.DeferredList})},"gridx/core/model/Model":function(){define("require,dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/_base/Deferred,dojo/DeferredList,dojo/aspect".split(","),function(d,m,i,l,h,g,n){var j=l.isArrayLike,f=l.isString;return m([],{constructor:function(a){var e=a.cacheClass,e="string"==typeof e?d(e):e;this.store=a.store;this._exts=
{};this._cmdQueue=[];this._model=this._cache=new e(this,a);this._createExts(a.modelExtensions||[],a);a=this._model;this._cnnts=[n.after(a,"onDelete",l.hitch(this,"onDelete"),1),n.after(a,"onNew",l.hitch(this,"onNew"),1),n.after(a,"onSet",l.hitch(this,"onSet"),1)]},destroy:function(){i.forEach(this._cnnts,function(a){a.remove()});for(var a in this._exts)this._exts[a].destroy()},clearCache:function(){this._cache.clear()},isId:function(a){return a||0===a},setStore:function(a){this.store=a;this._cache.setStore(a)},
when:function(a,e,c){this._oldSize=this.size();this._addCmd({name:"_cmdRequest",scope:this,args:arguments,async:1});return this._exec()},scan:function(a,e){var c=new h,b=a.start||0,f=a.pageSize||this._cache.pageSize||1,g=a.count,d=0<g?b+g:Infinity,i=a.whenScope||this,j=a.whenFunc||i.when,l=function(b){c.progress(b/(0<g?b+g:i.size()));j.call(i,{id:[],range:[{start:b,count:f}]},function(){var a,c,g=[];for(a=b;a<b+f&&a<d;++a)if(c=i.byIndex(a))g.push(c);else{d=-1;break}if(e(g,b)||a==d)d=-1}).then(function(){-1==
d?c.callback():l(b+f)})};l(b);return c},onDelete:function(){},onNew:function(){},onSet:function(){},onSizeChange:function(){},_msg:function(){},_addCmd:function(a){var e=this._cmdQueue,c=e[e.length-1];c&&c.name==a.name&&c.scope==a.scope?c.args.push(a.args||[]):(a.args=[a.args||[]],e.push(a))},_onSizeChange:function(){var a=this._oldSize,e=this._oldSize=this.size();if(a!=e)this.onSizeChange(e,a)},_execEvents:function(a,e){this._onSizeChange();e&&e.call(a)},_cmdRequest:function(){var a=this;return new g(i.map(arguments,
function(e){var c=e[0],b=l.hitch(a,a._execEvents,e[2],e[1]);return null===c||!e.length?(e=new h,b(),e.callback(),e):a._model._call("when",[a._normArgs(c),b])}),0,1)},_exec:function(){var a=this,e=a._cache,c=new h,b=a._cmdQueue,f=function(b,c){a._busy=0;e.skipCacheSizeCheck=0;e._checkSize&&e._checkSize();c?b.errback(c):b.callback()},g=function(){if(i.some(b,function(b){return"_cmdRequest"==b.name}))try{for(;b.length;){var a=b.shift(),e=a.scope[a.name].apply(a.scope,a.args);if(a.async){h.when(e,g,l.partial(f,
c));return}}}catch(d){f(c,d);return}f(c)};if(a._busy)return a._busy;a._busy=c;e.skipCacheSizeCheck=1;g();return c},_createExts:function(a,e){a=i.filter(a,function(b){return(b="string"==typeof b?d(b):b)&&b.prototype});a.sort(function(b,a){return b.prototype.priority-a.prototype.priority});for(var c=0,b=a.length;c<b;++c)if(c==a.length-1||a[c]!=a[c+1]){var f=new a[c](this,e);this._exts[f.name]=f}},_normArgs:function(a){var e,c=[],b=[],k={range:c,id:b},g=function(b){return"number"==typeof b&&0<=b},d=
function(a){if(a&&g(a.start))c.push(a);else if(g(a))c.push({start:a,count:1});else if(j(a))for(e=a.length-1;0<=e;--e)g(a[e])?c.push({start:a[e],count:1}):a[e]&&g(a[e].start)?c.push(a[e]):f(a)&&b.push(a[e]);else f(a)&&b.push(a)};if(a&&(a.index||a.range||a.id))if(d(a.index),d(a.range),j(a.id))for(e=a.id.length-1;0<=e;--e)b.push(a.id[e]);else this.isId(a.id)&&b.push(a.id);else d(a);!c.length&&!b.length&&0>this.size()&&c.push({start:0,count:this._cache.pageSize||1});return k}})})},"gridx/core/Row":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/_base/Deferred"],function(d,m,i){return d([],{constructor:function(d,h){this.grid=d;this.model=d.model;this.id=h},index:function(){return this.model.idToIndex(this.id)},parent:function(){return this.grid.row(this.model.treePath(this.id).pop(),1)},cell:function(d,h){return this.grid.cell(this,d,h)},cells:function(d,h){for(var g=this.grid,i=[],j=g._columns,f=j.length,a=d||0,e=0<=h?d+h:f;a<e&&a<f;++a)i.push(g.cell(this.id,j[a].id,1));return i},data:function(){return this.model.byId(this.id).data},
rawData:function(){return this.model.byId(this.id).rawData},item:function(){return this.model.byId(this.id).item},setRawData:function(d){var h=this.grid.store,g=this.item(),n,j;if(h.setValue){j=new i;try{for(n in d)h.setValue(g,n,d[n]);h.save({onComplete:m.hitch(j,j.callback),onError:m.hitch(j,j.errback)})}catch(f){j.errback(f)}}return j||i.when(h.put(m.mixin(m.clone(g),d)))}})})},"gridx/core/Column":function(){define(["dojo/_base/declare"],function(d){return d([],{constructor:function(d,i){this.grid=
d;this.model=d.model;this.id=i},index:function(){var d=this.def();return d?d.index:-1},def:function(){return this.grid._columnsById[this.id]},cell:function(d,i,l){return this.grid.cell(d,this,i,l)},cells:function(d,i,l){for(var h=this.grid,g=[],n=h.rowCount(l),j=d||0,d=0<=i?d+i:n;j<d&&j<n;++j)g.push(h.cell(j,this,0,l));return g},name:function(){return this.def().name||""},setName:function(d){this.def().name=d;return this},field:function(){return this.def().field||null},getWidth:function(){return this.def().width}})})},
"gridx/core/Cell":function(){define(["dojo/_base/declare"],function(d){return d([],{constructor:function(d,i,l){this.grid=d;this.model=d.model;this.row=i;this.column=l},data:function(){return this.model.byId(this.row.id).data[this.column.id]},rawData:function(){var d=this.column.field();return d&&this.model.byId(this.row.id).rawData[d]},setRawData:function(d){var i={},l=this.column.field();if(l)return i[l]=d,this.row.setRawData(i)}})})},"gridx/core/_Module":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/_base/Deferred,dojo/_base/connect,dojo/aspect".split(","),
function(d,m,i,l,h,g){var n=m.isFunction,d=d([],{constructor:function(f,a){this.grid=f;this.model=f.model;this.loaded=new l;this._cnnts=[];this._sbscs=[];m.mixin(this,a)},destroy:function(){var f=i.forEach;f(this._cnnts,h.disconnect);f(this._sbscs,h.unsubscribe)},arg:function(f,a,e){2==arguments.length&&n(a)&&(e=a,a=void 0);var c=this.grid,b=this[f];if(!this.hasOwnProperty(f)){var g=this.name+f.substring(0,1).toUpperCase()+f.substring(1);void 0===c[g]?void 0!==a&&(b=a):b=c[g]}this[f]=e&&!e(b)?a:b;
return b},aspect:function(f,a,e,c,b){f=g[b||"after"](f,a,m.hitch(c||this,e),1);this._cnnts.push(f);return f},connect:function(f,a,e,c,b){var g=this.grid,d=c||this,f=f===g&&"string"==typeof a?h.connect(f,a,function(){var c=arguments;g._eventFlags[a]===b&&(n(e)?e.apply(d,c):n(d[e])&&d[e].apply(d,c))}):h.connect(f,a,d,e);this._cnnts.push(f);return f},batchConnect:function(){for(var f=0,a=arguments,e=a.length;f<e;++f)m.isArrayLike(a[f])&&this.connect.apply(this,a[f])},subscribe:function(f,a,e){f=h.subscribe(f,
e||this,a);this._sbscs.push(f);return f}}),j=d._modules={};d.register=function(f){var a=f.prototype;return j[a.name||a.declaredClass]=f};d._markupAttrs="id,name,field,width,dataType,!formatter,!decorator,!sortable".split(",");return d})},"gridx/core/model/extensions/Query":function(){define(["dojo/_base/declare","../_Extension"],function(d,m){return d(m,{name:"query",priority:40,constructor:function(d,l){this.clear();this._mixinAPI("query");l.query&&this.query(l.query,l.queryOptions)},clear:function(){},
query:function(){this.model._addCmd({name:"_cmdQuery",scope:this,args:arguments})},_cmdQuery:function(){var d=arguments,d=d[d.length-1],l=this.model,h=l._cache,g=h.options=h.options||{};g.query=d[0];g.queryOptions=d[1];l._msg("storeChange");h.clear()}})})},"gridx/core/model/_Extension":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/aspect"],function(d,m,i,l){return d([],{constructor:function(d){var g=this.inner=d._model;this._cnnts=[];this.model=d;d._model=this;
g&&(this.aspect(g,"onDelete","_onDelete"),this.aspect(g,"onNew","_onNew"),this.aspect(g,"onSet","_onSet"))},destroy:function(){i.forEach(this._cnnts,function(d){d.remove()})},aspect:function(d,g,i,j,f){d=l[f||"after"](d,g,m.hitch(j||this,i),1);this._cnnts.push(d);return d},_onNew:function(){this.onNew.apply(this,arguments)},_onSet:function(){this.onSet.apply(this,arguments)},_onDelete:function(){this.onDelete.apply(this,arguments)},onNew:function(){},onDelete:function(){},onSet:function(){},_call:function(d,
g){var i=this[d],j=this.inner;return i?i.apply(this,g||[]):j&&j._call(d,g)},_mixinAPI:function(){var d,g=this.model,i=arguments,j=function(f){return function(){return g._model._call(f,arguments)}};for(d=i.length-1;0<=d;--d)g[i[d]]=j(i[d])}})})},"gridx/modules/Header":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/dom-construct,dojo/dom-class,dojo/dom-geometry,dojo/_base/query,dojo/_base/sniff,dojo/keys,../core/util,../core/_Module".split(","),function(d,m,i,l,h,g,n,j,
f,a,e){return d(e,{name:"header",getAPIPath:function(){return{header:this}},constructor:function(){var a=this.domNode=l.create("div",{"class":"gridxHeaderRow",role:"presentation"});this.innerNode=l.create("div",{"class":"gridxHeaderRowInner",role:"row"});this.grid._connectEvents(a,"_onMouseEvent",this)},preload:function(){var a=this,b=a.grid;a.domNode.appendChild(a.innerNode);a._build();b.headerNode.appendChild(a.domNode);b.vLayout.register(a,"domNode","headerNode");a.aspect(b,"onHScroll","_onHScroll");
a.aspect(b,"onHeaderCellMouseOver","_onHeaderCellMouseOver");a.aspect(b,"onHeaderCellMouseOut","_onHeaderCellMouseOver");b.columnResizer&&a.aspect(b.columnResizer,"onResize",function(){"none"==b.hScrollerNode.style.display&&a._onHScroll(0)});a._initFocus()},destroy:function(){this.inherited(arguments);l.destroy(this.domNode)},columnMixin:{headerNode:function(){return this.grid.header.getHeaderNode(this.id)}},hidden:!1,getHeaderNode:function(a){return n("[colid='"+a+"']",this.domNode)[0]},refresh:function(){this._build();
this._onHScroll(this._scrollLeft);this.onRender()},onRender:function(){},onMoveToHeaderCell:function(){},_scrollLeft:0,_build:function(){var a=this,b=a.grid,e=b.focus,f=['<table role="presentation" border="0" cellpadding="0" cellspacing="0"><tr>'];i.forEach(b._columns,function(g){f.push('<th id="',b.id,"-",g.id,'" role="columnheader" aria-readonly="true" tabindex="-1" colid="',g.id,'" class="gridxCell ',e&&"header"==e.currentArea()&&g.id==a._focusHeaderId?a._focusClass:"",(m.isFunction(g.headerClass)?
g.headerClass(g):g.headerClass)||"",'" style="width: ',g.width,";",(m.isFunction(g.headerStyle)?g.headerStyle(g):g.headerStyle)||"",'"><div class="gridxSortNode">',g.name||"","</div></th>")});f.push("</tr></table>");a.innerNode.innerHTML=f.join("");h.toggle(a.domNode,"gridxHeaderRowHidden",a.arg("hidden"))},_onHScroll:function(a){var b=this.grid.isLeftToRight();this.innerNode.firstChild.style[b?"marginLeft":"marginRight"]=(!b&&j("ff")?a:-a)+"px";this._scrollLeft=a},_onMouseEvent:function(a,b){var e=
this.grid,f="onHeaderCell"+a,g="onHeader"+a;if(e._isConnected(f)||e._isConnected(g)){this._decorateEvent(b);if(0<=b.columnIndex)e[f](b);e[g](b)}},_decorateEvent:function(a){for(var b=a.target,e;b&&b!==this.domNode;b=b.parentNode)if("th"==b.tagName.toLowerCase()){if(e=this.grid._columnsById[b.getAttribute("colid")])a.headerCellNode=b,a.columnId=e.id,a.columnIndex=e.index;break}},_onHeaderCellMouseOver:function(a){h.toggle(this.getHeaderNode(a.columnId),"gridxHeaderCellOver","mouseover"==a.type)},_focusHeaderId:null,
_focusClass:"gridxHeaderCellFocus",_initFocus:function(){var a=this,b=a.grid;b.focus&&b.focus.registerArea({name:"header",priority:0,focusNode:a.domNode,scope:a,doFocus:a._doFocus,doBlur:a._blurNode,onBlur:a._blurNode,connects:[a.connect(b,"onHeaderCellKeyDown","_onKeyDown"),a.connect(b,"onHeaderCellMouseDown",function(b){a._focusNode(a.getHeaderNode(b.columnId))})]})},_doFocus:function(c){var b=this._focusNode(this._focusHeaderId&&this.getHeaderNode(this._focusHeaderId)||n("th.gridxCell",this.domNode)[0]);
a.stopEvent(b&&c);return b},_focusNode:function(a){if(a){var b=this,e=b.grid,f=b._focusHeaderId=a.getAttribute("colid");if(f)return b._blurNode(),e.hScroller&&e.hScroller.scrollToColumn(f),e.body._focusCellCol=e._columnsById[f].index,h.add(a,b._focusClass),setTimeout(function(){j("webkit")&&h.add(a,b._focusClass);a.focus()},0),!0}return!1},_blurNode:function(){var a=n("th."+this._focusClass,this.domNode)[0];a&&h.remove(a,this._focusClass);return!0},_onKeyDown:function(c){var b=this.grid,e;e=b.isLeftToRight()?
1:-1;var g=c.keyCode==f.LEFT_ARROW?-e:e;if(this._focusHeaderId&&!c.ctrlKey&&!c.altKey&&(c.keyCode==f.LEFT_ARROW||c.keyCode==f.RIGHT_ARROW))if(a.stopEvent(c),e=b._columnsById[this._focusHeaderId],e=b._columns[e.index+g])this._focusNode(this.getHeaderNode(e.id)),this.onMoveToHeaderCell(e.id,c)}})})},"gridx/core/util":function(){define({stopEvent:function(d){d&&d.stopPropagation&&d.preventDefault&&(d.stopPropagation(),d.preventDefault())},biSearch:function(d,m){var i=0,l=d.length,h;for(h=Math.floor((i+
l)/2);i+1<l;h=Math.floor((i+l)/2))0<m(d[h])?l=h:i=h;return d.length&&0<=m(d[i])?i:l}})},"gridx/modules/Body":function(){define("dojo/_base/declare,dojo/_base/query,dojo/_base/array,dojo/_base/lang,dojo/dom-construct,dojo/dom-class,dojo/_base/Deferred,dojo/_base/sniff,dojo/keys,../core/_Module,../core/util,dojo/i18n!../nls/Body".split(","),function(d,m,i,l,h,g,n,j,f,a,e,c){return d(a,{name:"body",optional:["tree"],getAPIPath:function(){return{body:this}},constructor:function(){var b=this,a=b.model,
e=b.grid,f=b.domNode=e.bodyNode;b.arg("rowHoverEffect")&&g.add(f,"gridxBodyRowHoverEffect");e.emptyNode.innerHTML=b.arg("loadingInfo",c.loadingInfo);e._connectEvents(f,"_onMouseEvent",b);b.aspect(a,"onDelete","_onDelete");b.aspect(a,"onSet","_onSet");b.aspect(e,"onRowMouseOver","_onRowMouseOver");b.aspect(e,"onCellMouseOver","_onCellMouseOver");b.aspect(e,"onCellMouseOut","_onCellMouseOver");b.connect(e.bodyNode,"onmouseleave",function(){m("> .gridxRowOver",b.domNode).removeClass("gridxRowOver")});
b.connect(e.bodyNode,"onmouseover",function(a){a.target==e.bodyNode&&m("> .gridxRowOver",b.domNode).removeClass("gridxRowOver")});b.aspect(e,"setStore",function(){b.refresh()})},preload:function(){this._initFocus()},load:function(){var b=this,a=b.model,c=b.grid,e=function(){b.aspect(a,"onSizeChange","_onSizeChange");b.loaded.callback()};a.when({},function(){b.rootCount=b.rootCount||a.size();b.visualCount=c.tree?c.tree.getVisualSize(b.rootStart,b.rootCount):b.rootCount;e()}).then(null,function(a){b._loadFail(a);
e()})},destroy:function(){this.inherited(arguments);this.domNode.innerHTML=""},rowMixin:{node:function(){return this.grid.body.getRowNode({rowId:this.id})},visualIndex:function(){var b=this.id;return this.grid.body.getRowInfo({rowId:b,rowIndex:this.index(),parentId:this.model.parentId(b)}).visualIndex}},cellMixin:{node:function(){return this.grid.body.getCellNode({rowId:this.row.id,colId:this.column.id})}},rowHoverEffect:!0,stuffEmptyCell:!0,renderWholeRowOnSet:!1,getRowNode:function(b){return(b=
this._getRowNodeQuery(b))&&m("> "+b,this.domNode)[0]||null},getCellNode:function(b){var a=b.colId,c=this.grid._columns,e=this._getRowNodeQuery(b);if(e){if(!a&&c[b.colIndex])a=c[b.colIndex].id;return m(e+(" [colid='"+a+"'].gridxCell"),this.domNode)[0]||null}return null},getRowInfo:function(b){var a=this.model,c=this.grid,e=b.rowId;if(a.isId(e))b.rowIndex=a.idToIndex(e),b.parentId=a.parentId(e);if("number"==typeof b.rowIndex&&0<=b.rowIndex)b.visualIndex=c.tree?c.tree.getVisualIndexByRowInfo(b.parentId,
b.rowIndex,this.rootStart):b.rowIndex-this.rootStart;else if("number"==typeof b.visualIndex&&0<=b.visualIndex)c.tree?(c=c.tree.getRowInfoByVisualIndex(b.visualIndex,this.rootStart),b.rowIndex=c.start,b.parentId=c.parentId):b.rowIndex=this.rootStart+b.visualIndex;else return b;b.rowId=a.isId(e)?e:a.indexToId(b.rowIndex,b.parentId);return b},refresh:function(b){var a=this;delete a._err;return a.model.when({}).then(function(){var c=a.renderStart,e=a.renderCount;if("number"==typeof b&&0<=b){b=c>b?c:b;
var f=c+e-b,c=m('> [visualindex="'+b+'"]',a.domNode)[0],e=[],g=[];if(c){var d=a._buildRows(b,f,e,g);d&&(h.place(d,c,"before"),i.forEach(g,a.onAfterRow,a))}for(;c;){var g=c.nextSibling,d=parseInt(c.getAttribute("visualindex"),10),j=c.getAttribute("rowid");h.destroy(c);if(d>=b+f)a.onUnrender(j);c=g}n.when(a._buildUncachedRows(e),function(){a.onRender(b,f);a.onForcedScroll()})}else a.renderRows(c,e,0,1),a.onForcedScroll()},function(b){a._loadFail(b)})},refreshCell:function(b,a){var c=new n,e=this,f=
e.model,g=e.grid,d=g._columns[a],h=d&&e.getCellNode({visualIndex:b,colId:d.id});if(h){var i,j=e.getRowInfo({visualIndex:b}),l=j.rowIndex,m=j.parentId;f.when({start:l,count:1,parentId:m},function(){if(i=f.byIndex(l,m)){j.rowId=f.indexToId(l,m);var b=g.tree&&void 0===i.data[d.id],a=g.cell(j.rowId,d.id,1);h.innerHTML=e._buildCellContent(a,b);e.onAfterCell(a)}}).then(function(){c.callback(!!i)});return c}c.callback(!1);return c},rootStart:0,rootCount:0,renderStart:0,renderCount:0,visualStart:0,visualCount:0,
autoUpdate:!0,autoChangeSize:!0,updateRootRange:function(b,a){var c=this.grid.tree,c=this.visualCount=c?c.getVisualSize(b,a):a;this.rootStart=b;this.rootCount=a;if(this.renderStart+this.renderCount>c&&(this.renderStart=c-this.renderCount,0>this.renderStart))this.renderStart=0,this.renderCount=c;if(!this.renderCount&&c)this.onForcedScroll()},renderRows:function(b,a,e,f){var g=this,d=g.grid,l="",m=[],u=[],p=g.domNode,x=d.emptyNode,w=g.arg("emptyInfo",c.emptyInfo),y="";if(!g._err)if(0<a){x.innerHTML=
g.arg("loadingInfo",c.loadingInfo);x.style.zIndex="";"top"!=e&&"bottom"!=e&&g.model.free();l=g._buildRows(b,a,m,u);if("top"==e)g.renderCount+=g.renderStart-b,g.renderStart=b,h.place(l,p,"first");else if("bottom"==e)g.renderCount=b+a-g.renderStart,h.place(l,p,"last");else{g.renderStart=b;g.renderCount=a;e=f?p.scrollTop:0;p.scrollTop=0;if(j("ie"))for(;p.childNodes.length;)p.removeChild(p.firstChild);p.innerHTML=l;if(e)p.scrollTop=e;p.scrollLeft=d.hScrollerNode.scrollLeft;y=l?"":w;if(!l)x.style.zIndex=
1;g.onUnrender()}i.forEach(u,g.onAfterRow,g);n.when(g._buildUncachedRows(m),function(){x.innerHTML=y;g.onRender(b,a)})}else if(!{top:1,bottom:1}[e])p.scrollTop=0,p.innerHTML="",x.innerHTML=w,x.style.zIndex=1,g.onUnrender(),g.onEmpty(),g.model.free()},unrenderRows:function(b,a){if(0<b){var c=0,e,f=this.domNode;if("post"==a)for(;c<b&&f.lastChild;++c)e=f.lastChild.getAttribute("rowid"),this.model.free(e),f.removeChild(f.lastChild),this.onUnrender(e);else{for(var g=f.scrollTop;c<b&&f.firstChild;++c)e=
f.firstChild.getAttribute("rowid"),this.model.free(e),g-=f.firstChild.offsetHeight,f.removeChild(f.firstChild),this.onUnrender(e);this.renderStart+=c;f.scrollTop=0<g?g:0}this.renderCount-=c;this.model.when()}},onAfterRow:function(){},onAfterCell:function(){},onRender:function(){},onUnrender:function(){},onDelete:function(){},onSet:function(){},onMoveToCell:function(){},onEmpty:function(){},onForcedScroll:function(){},collectCellWrapper:function(){},_getRowNodeQuery:function(b){var a;this.model.isId(b.rowId)?
a="[rowid='"+b.rowId+"']":"number"==typeof b.rowIndex&&0<=b.rowIndex?(a="[rowindex='"+b.rowIndex+"']",b.parentId&&(a+="[parentid='"+b.parentId+"']")):"number"==typeof b.visualIndex&&0<=b.visualIndex&&(a="[visualindex='"+b.visualIndex+"']");return a&&a+".gridxRow"},_buildRows:function(b,a,c,e){for(var a=b+a,f=[],g=this.grid,d=this.model,h=this.domNode.scrollWidth;b<a;++b){var i=this.getRowInfo({visualIndex:b}),j=g.row(i.rowId,1);f.push('<div class="gridxRow ',b%2?"gridxRowOdd":"",'" role="row" visualindex="',
b);j?(d.keep(j.id),f.push('" rowid="',j.id,'" rowindex="',i.rowIndex,'" parentid="',i.parentId,'">',this._buildCells(j),"</div>"),e.push(j)):(f.push('"><div class="gridxRowDummy" style="width:',h,'px;"></div></div>'),i.start=i.rowIndex,i.count=1,c.push(i))}return f.join("")},_buildUncachedRows:function(b){var a=this;return b.length&&a.model.when(b,function(){try{i.forEach(b,a._buildRowContent,a)}catch(c){a._loadFail(c)}}).then(null,function(b){a._loadFail(b)})},_loadFail:function(b){console.error(b);
b=this.grid.emptyNode;b.innerHTML=this.arg("loadFailInfo",c.loadFailInfo);b.style.zIndex=1;this.domNode.innerHTML="";this._err=1},_buildRowContent:function(b){var a=m('> [visualindex="'+b.visualIndex+'"]',this.domNode)[0];if(a){var c=this.grid.row(b.rowIndex,0,b.parentId);if(c)this.model.keep(c.id),a.setAttribute("rowid",c.id),a.setAttribute("rowindex",b.rowIndex),a.setAttribute("parentid",b.parentId||""),a.innerHTML=this._buildCells(c),this.onAfterRow(c);else throw Error("Row is not in cache:"+b.rowIndex);
}},_buildCells:function(b){var a,c,e,f,g,d,h,i=this.grid,j=i._columns,m=b.data(),n=i.focus&&"body"==i.focus.currentArea(),y=['<table class="gridxRowTable" role="presentation" border="0" cellpadding="0" cellspacing="0"><tr>'];for(d=0,h=j.length;d<h;++d)a=j[d],e=i.tree&&void 0===m[a.id],c=i.cell(b.id,a.id,1),f=(l.isFunction(a["class"])?a["class"](c):a["class"])||"",g=(l.isFunction(a.style)?a.style(c):a.style)||"",y.push('<td aria-describedby="',i.id,"-",a.id,'" class="gridxCell '),e&&y.push("gridxPaddingCell"),
n&&this._focusCellRow===b.visualIndex()&&this._focusCellCol===d&&y.push("gridxCellFocus"),y.push(f,'" aria-readonly="true" role="gridcell" tabindex="-1" colid="',a.id,'" style="width: ',a.width,"; ",g,'">',this._buildCellContent(c,e),"</td>");y.push("</tr></table>");return y.join("")},_buildCellContent:function(b,a){var c="",e=b.column,f=b.row,g=b.data();a||(c=this._wrapCellData(e.decorator?e.decorator(g,f.id,f.visualIndex()):g,f.id,e.id));return(""===c||null===c||void 0===c)&&(8>j("ie")||this.arg("stuffEmptyCell"))?
"&nbsp;":c},_wrapCellData:function(b,a,c){var e=[];this.collectCellWrapper(e,a,c);var f=e.length-1;for(0<f&&e.sort(function(b,a){b.priority=b.priority||0;a.priority=a.priority||0;return b.priority-a.priority});0<=f;--f)b=e[f].wrap(b,a,c);return b},_onMouseEvent:function(b,a){var c=this.grid,e="onCell"+b,f="onRow"+b;if(c._isConnected(e)||c._isConnected(f))if(this._decorateEvent(a),a.rowId){if(a.columnId)c[e](a);c[f](a)}},_decorateEvent:function(b){for(var a=b.target||b.originalTarget,c=this.grid,e;a&&
a!=c.bodyNode;a=a.parentNode){e=a.tagName.toLowerCase();if("td"==e&&g.contains(a,"gridxCell")){var f=c._columnsById[a.getAttribute("colid")];b.cellNode=a;b.columnId=f.id;b.columnIndex=f.index}if("div"==e&&g.contains(a,"gridxRow")){b.rowId=a.getAttribute("rowid");b.parentId=a.getAttribute("parentid");b.rowIndex=parseInt(a.getAttribute("rowindex"),10);b.visualIndex=parseInt(a.getAttribute("visualindex"),10);break}}},_onSet:function(b,a,c,e){if(this.autoUpdate&&c){var f=this.grid,g=(b=f.row(b,1))&&b.node();
if(g){var d=c.data,h=e.data,c=f._columns,e=this.arg("renderWholeRowOnSet"),j=[];e||i.some(c,function(b){d[b.id]!==h[b.id]&&j.push(b);return 1<j.length});if(e||1<j.length)g.innerHTML=this._buildCells(b),this.onAfterRow(b),this.onSet(b),this.onRender(a,1);else if(1==j.length)a=j[0],f=f.tree&&void 0===d[a.id],b=b.cell(a.id,1),b.node().innerHTML=this._buildCellContent(b,f),this.onAfterCell(b)}}},_onDelete:function(b){if(this.autoUpdate){var a=this.getRowNode({rowId:b});if(a){var c=0,e=parseInt(a.getAttribute("rowindex"),
10),f=a.getAttribute("parentid"),d={},j=[a],l,m=[b];d[b]=1;for(a=a.nextSibling;a&&d[a.getAttribute("parentid")];a=a.nextSibling)l=a.getAttribute("rowid"),m.push(l),j.push(a),d[l]=1;for(;a;a=a.nextSibling)a.getAttribute("parentid")==f&&a.setAttribute("rowindex",parseInt(a.getAttribute("rowindex"),10)-1),d=parseInt(a.getAttribute("visualindex"),10)-j.length,a.setAttribute("visualindex",d),g.toggle(a,"gridxRowOdd",d%2),++c;this.renderCount-=j.length;i.forEach(j,h.destroy);i.forEach(m,this.onUnrender,
this);this.autoChangeSize&&0===this.rootStart&&!f&&this.updateRootRange(0,this.rootCount-1);this.onDelete(b,e);this.onRender(e,c)}}},_onSizeChange:function(b,a){if(this.autoChangeSize&&0===this.rootStart&&(this.rootCount===a||0>a))this.updateRootRange(0,b),this.refresh()},_onRowMouseOver:function(b){var a=m("> div.gridxRowOver",this.domNode)[0],b=this.getRowNode({rowId:b.rowId});a!=b&&(a&&g.remove(a,"gridxRowOver"),b&&g.add(b,"gridxRowOver"))},_onCellMouseOver:function(b){g.toggle(b.cellNode,"gridxCellOver",
"mouseover"==b.type)},_focusCellCol:0,_focusCellRow:0,_initFocus:function(){var b=this,a=b.grid,c=a.isLeftToRight(),e=a.bodyNode,g=a.focus;g&&(g.registerArea({name:"body",priority:1,focusNode:e,scope:b,doFocus:b._doFocus,doBlur:b._blurCell,onFocus:b._onFocus,onBlur:b._blurCell}),b.connect(a.mainNode,"onkeypress",function(e){if("body"==g.currentArea()&&(!a.tree||!e.ctrlKey)){g._noBlur=1;var d={},h=c?1:-1;d[f.LEFT_ARROW]=[0,-h,e];d[f.RIGHT_ARROW]=[0,h,e];d[f.UP_ARROW]=[-1,0,e];d[f.DOWN_ARROW]=[1,0,
e];b._moveFocus.apply(b,d[e.keyCode]||[]);g._noBlur=0}}),b.connect(a,"onCellClick",function(a){b._focusCellRow=a.visualIndex;b._focusCellCol=a.columnIndex}),b.connect(b,"onRender",function(a,c){b._focusCellRow>=a&&b._focusCellRow<a+c&&"body"==g.currentArea()&&b._focusCell()}),b.connect(a.emptyNode,"onfocus",function(){g.focusArea("body")}))},_doFocus:function(b){return this._focusCell(b)||this._focusCell(0,-1,-1)},_focusCell:function(b,a,c){e.stopEvent(b);var b=this.grid,c=0<=c?c:this._focusCellCol,
a=0<=a?a:this._focusCellRow,f=b._columns[c].id,d=this.getCellNode({visualIndex:a,colId:f});if(d){var h=m(".gridxCellFocus",this.domNode)[0];if(d!=h)h&&g.remove(h,"gridxCellFocus"),g.add(d,"gridxCellFocus"),this._focusCellRow=a,this._focusCellCol=c,b.header._focusHeaderId=f;b.hScroller.scrollToColumn(f);8>j("ie")?(a=b.bodyNode.scrollLeft,d.focus(),b.bodyNode.scrollLeft=a):d.focus()}else if(!b.rowCount())return b.emptyNode.focus(),!0;return d},_moveFocus:function(b,a,c){if(b||a){e.stopEvent(c);var f,
g,d=this,h=d.grid,i=h._columns,j=d.visualCount;f=d._focusCellRow+b;f=0>f?0:f>=j?j-1:f;g=d._focusCellCol+a;g=0>g?0:g>=i.length?i.length-1:g;h.vScroller.scrollToRow(f).then(function(){d._focusCell(0,f,g);d.onMoveToCell(f,g,c)})}},_nextCell:function(b,a,c,e){var f=new n,g=this.grid,d=g._columns.length,h=this.visualCount;do if(a+=c,0>a||a>=d)b+=c,a=0>a?d-1:0,0>b?(b=h-1,a=d-1):b>=h&&(a=b=0);while(!e(b,a));g.vScroller.scrollToRow(b).then(function(){f.callback({r:b,c:a})});return f},_blurCell:function(){var a=
m(".gridxCellFocus",this.domNode)[0];a&&g.remove(a,"gridxCellFocus");return!0},_onFocus:function(a){for(a=a.target;a&&a!=this.domNode;a=a.parentNode)if(g.contains(a,"gridxCell")){for(var c=this.grid._columnsById[a.getAttribute("colid")].index;!g.contains(a,"gridxRow");)a=a.parentNode;return this._focusCell(0,parseInt(a.getAttribute("visualindex"),10),c)}return!1}})})},"dojo/i18n":function(){define("./_base/kernel,require,./has,./_base/array,./_base/config,./_base/lang,./_base/xhr,./json,module".split(","),
function(d,m,i,l,h,g,n,j,f){i.add("dojo-preload-i18n-Api",1);var a=d.i18n={},e=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,c=function(a,b,c,e){for(var f=[c+e],b=b.split("-"),g="",d=0;d<b.length;d++)g+=(g?"-":"")+b[d],(!a||a[g])&&f.push(c+g+"/"+e);return f},b={},k=function(a,b,c){c=c?c.toLowerCase():d.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(c)?a+"/nls/"+b:a+"/nls/"+c+"/"+b};d.getL10nName=function(a,b,c){return f.id+"!"+k(a,b,c)};var o=function(a,e,f,d,h,k){a([e],function(i){var j=
g.clone(i.root),l=c(!i._v1x&&i,h,f,d);a(l,function(){for(var a=1;a<l.length;a++)j=g.mixin(g.clone(j),arguments[a]);b[e+"/"+h]=j;k()})})},q=function(a){var b=h.extraLocale||[],b=g.isArray(b)?b:[b];b.push(a);return b},t=function(a,c,f){if(i("dojo-preload-i18n-Api")){var h=a.split("*"),k="preload"==h[1];k&&(b[a]||(b[a]=1,p(h[2],j.parse(h[3]),1,c)),f(1));if(!(h=k))v&&u.push([a,c,f]),h=v;if(h)return}var a=e.exec(a),m=a[1]+"/",n=a[5]||a[4],r=m+n,h=(a=a[5]&&a[4])||d.locale,t=r+"/"+h,a=a?[h]:q(h),s=a.length,
w=function(){--s||f(g.delegate(b[t]))};l.forEach(a,function(a){var e=r+"/"+a;i("dojo-preload-i18n-Api")&&x(e);b[e]?w():o(c,r,m,n,a,w)})};if(i("dojo-unit-tests"))var s=a.unitTests=[];i("dojo-preload-i18n-Api");var r=a.normalizeLocale=function(a){a=a?a.toLowerCase():d.locale;return"root"==a?"ROOT":a},v=0,u=[],p=a._preloadLocalizations=function(a,c,e,f){function g(a,b){f.isXdUrl(m.toUrl(a+".js"))||e?f([a],b):A([a],b,f)}function h(a,b){for(var c=a.split("-");c.length;){if(b(c.join("-")))return;c.pop()}b("ROOT")}
function k(e){e=r(e);h(e,function(e){if(0<=l.indexOf(c,e)){var f=a.replace(/\./g,"/")+"_"+e;v++;g(f,function(a){for(var c in a)b[m.toAbsMid(c)+"/"+e]=a[c];for(--v;!v&&u.length;)t.apply(null,u.shift())});return!0}return!1})}f=f||m;k();l.forEach(d.config.extraLocale,k)},x=function(){},w={},y=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},\t   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
A=function(a,c,e){var f=[];l.forEach(a,function(a){function c(e){e=y(e,x,a,w);e===w?f.push(b[g]=w.result):(e instanceof Error&&(console.error("failed to evaluate i18n bundle; url="+g,e),e={}),f.push(b[g]=/nls\/[^\/]+\/[^\/]+$/.test(g)?e:{root:e,_v1x:1}))}var g=e.toUrl(a+".js");if(b[g])f.push(b[g]);else{var d=e.syncLoadNls(a);if(d)f.push(d);else if(n)n.get({url:g,sync:!0,load:c,error:function(){f.push(b[g]={})}});else try{e.getText(g,!0,c)}catch(h){f.push(b[g]={})}}});c&&c.apply(null,f)},x=function(a){for(var c,
e=a.split("/"),f=d.global[e[0]],g=1;f&&g<e.length-1;f=f[e[g++]]);f&&((c=f[e[g]])||(c=f[e[g].replace(/-/g,"_")]),c&&(b[a]=c));return c};a.getLocalization=function(a,b,c){var e,a=k(a,b,c);t(a,!m.isXdUrl(m.toUrl(a+".js"))?function(a,b){A(a,b,m)}:m,function(a){e=a});return e};i("dojo-unit-tests")&&s.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=y("{prop:1}",x,"nonsense",w);a.is({prop:1},b);a.is(void 0,b[1]);b=y("({prop:1})",x,"nonsense",w);a.is({prop:1},b);a.is(void 0,b[1]);b=y("{'prop-x':1}",
x,"nonsense",w);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=y("({'prop-x':1})",x,"nonsense",w);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=y("define({'prop-x':1})",x,"nonsense",w);a.is(w,b);a.is({"prop-x":1},w.result);b=y("define('some/module', {'prop-x':1})",x,"nonsense",w);a.is(w,b);a.is({"prop-x":1},w.result);b=y("this is total nonsense and should throw an error",x,"nonsense",w);a.is(b instanceof Error,!0)})});return g.mixin(a,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:t,cache:b})})},
"gridx/nls/Body":function(){define({root:{loadingInfo:"Loading...",emptyInfo:"No items to display",loadFailInfo:"Failed to load data!"},ar:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,es:!0,fi:!0,fr:!0,hu:!0,it:!0,ja:!0,kk:!0,ko:!0,nb:!0,nl:!0,pl:!0,pt:!0,"pt-pt":!0,ro:!0,ru:!0,sk:!0,sl:!0,sv:!0,th:!0,tr:!0,zh:!0,"zh-tw":!0})},"gridx/modules/VLayout":function(){define(["dojo/_base/declare","dojo/DeferredList","../core/_Module"],function(d,m,i){return d(i,{name:"vLayout",getAPIPath:function(){return{vLayout:this}},
preload:function(){var d=this,h=d.grid;d.connect(h,"_onResizeEnd",function(g,h){var i,f=[];for(i in h)f.push(h[i]);(new m(f)).then(function(){d.reLayout()})});h.autoHeight?d.connect(h.body,"onRender","reLayout"):d.connect(h,"setColumns",function(){setTimeout(function(){d.reLayout()},0)})},load:function(d,h){var g=this;h.then(function(){g._defs&&g._mods?(new m(g._defs)).then(function(){g._layout();g.loaded.callback()}):g.loaded.callback()})},register:function(d,h,g,i,j){this._defs=this._defs||[];this._mods=
this._mods||{};this._mods[g]=this._mods[g]||[];this._defs.push(j||d.loaded);this._mods[g].push({p:i||0,mod:d,nodeName:h})},reLayout:function(){var d=0,h,g;for(h in this._mods)(g=this.grid[h])&&(d+=g.offsetHeight);this._updateHeight(d)},_layout:function(){var d=0,h=this._mods,g,i,j,f,a,e;for(g in h)if(i=this.grid[g]){f=h[g];f.sort(function(a,b){return a.p-b.p});for(j=0;j<f.length;++j)a=f[j].mod,e=f[j].nodeName,a&&a[e]&&i.appendChild(a[e]);d+=i.offsetHeight}this._updateHeight(d)},_updateHeight:function(d){var h=
this.grid,g=h.domNode,i=h.mainNode.style;if(h.autoHeight)h.vScroller.loaded.then(function(){var j=h.bodyNode.lastChild,j=j?j.offsetTop+j.offsetHeight:h.emptyNode.offsetHeight;g.style.height=j+d+"px";i.height=j+"px"});else if(g.clientHeight>d)i.height=g.clientHeight-d+"px"}})})},"gridx/modules/HLayout":function(){define("dojo/_base/declare,dojo/_base/Deferred,dojo/_base/array,dojo/dom-style,dojo/DeferredList,../core/_Module".split(","),function(d,m,i,l,h,g){return d(g,{name:"hLayout",getAPIPath:function(){return{hLayout:this}},
load:function(g,d){var f=this;f.connect(f.grid,"_onResizeEnd",function(a,e){var c,b=[];for(c in e)b.push(e[c]);(new h(b)).then(function(){f.reLayout()})});d.then(function(){f._layout()})},lead:0,tail:0,register:function(g,d,f){var a=this._regs=this._regs||[];g||(g=new m,g.callback());a.push([g,d,f])},reLayout:function(){var g=this._regs,d=0,f=0;if(g)i.forEach(g,function(a){var e=a[1].offsetWidth||l.get(a[1],"width");a[2]?f+=e:d+=e}),this.lead=d,this.tail=f,this.onUpdateWidth(d,f)},onUpdateWidth:function(){},
_layout:function(){var g=this,d=g._regs;if(d){var f=0,a=0,e=i.map(d,function(a){return a[0]});(new h(e)).then(function(){i.forEach(d,function(c){var b=c[1].offsetWidth||l.get(c[1],"width");c[2]?a+=b:f+=b});g.lead=f;g.tail=a;g.loaded.callback()})}else g.loaded.callback()}})})},"gridx/modules/VScroller":function(){define("dojo/_base/declare,dojo/_base/Deferred,dojo/_base/event,dojo/_base/sniff,dojo/_base/query,dojo/dom-geometry,dojo/keys,dojox/html/metrics,../core/_Module".split(","),function(d,m,i,
l,h,g,n,j,f){return d(f,{name:"vScroller",forced:["body","vLayout","columnWidth"],optional:["pagination"],getAPIPath:function(){return{vScroller:this}},constructor:function(){var a=this.grid,e=this.domNode=a.vScrollerNode;this.stubNode=e.firstChild;if(a.autoHeight){if(e.style.display="none",8>l("ie"))e.style.width="0px"}else{var c=j.getScrollbar().w+"px";e.style.width=c;e.style[a.isLeftToRight()?"right":"left"]=-j.getScrollbar().w+"px";if(8>l("ie"))this.stubNode.style.width=c}},preload:function(){this.grid.hLayout.register(null,
this.domNode,1)},load:function(a,e){var c=this,b=c.grid,f=b.body,g=c.domNode,d=b.bodyNode;c.batchConnect([c.domNode,"onscroll","_doScroll"],[d,"onmousewheel","_onMouseWheel"],[b.mainNode,"onkeypress","_onKeyScroll"],l("ff")&&[d,"DOMMouseScroll","_onMouseWheel"]);c.aspect(b,"_onResizeEnd","_onBodyChange");c.aspect(f,"onForcedScroll","_onForcedScroll");c.aspect(f,"onRender","_onBodyChange");b.autoHeight||c.aspect(f,"onEmpty",function(){var a=g.style;a.display="none";a.width="";if(8>l("ie"))a.width=
c.stub.style.width="0px";b.hLayout.reLayout();b.hScroller.refresh()});e.then(function(){m.when(c._init(a),function(){c.domNode.style.width="";c.loaded.callback()})})},scrollToRow:function(a,e){var c=new m,b=this.grid.bodyNode,f=this.domNode,g=0,d=h('[visualindex="'+a+'"]',b)[0],i=function(a){setTimeout(function(){c.callback(a)},5)};if(d){var g=d.offsetTop,j=b.scrollTop;if(e)return f.scrollTop=g,i(!0),c;if(g<j)g-=j;else if(g+d.offsetHeight>j+b.clientHeight)g=g+d.offsetHeight-j-b.clientHeight;else return i(!0),
c;f.scrollTop+=g}i(!!d);return c},_init:function(){this._onForcedScroll()},_update:function(){var a=this.grid;if(!a.autoHeight){var e=a.body,c=a.bodyNode,e=e.renderCount<e.visualCount||c.scrollHeight>c.clientHeight,c=this.domNode.style;scrollBarWidth=j.getScrollbar().w+(l("webkit")?1:0);if(8>l("ie")){var b=e?scrollBarWidth+"px":"0px";this.stubNode.style.width=b;c.width=b}else c.width="";c.display=e?"":"none";c[a.isLeftToRight()?"right":"left"]=-this.domNode.offsetWidth+"px"}a.hLayout.reLayout()},
_doScroll:function(){this.grid.bodyNode.scrollTop=this.domNode.scrollTop},_onMouseWheel:function(a){"none"!=this.grid.vScrollerNode.style.display&&(this.domNode.scrollTop-="number"===typeof a.wheelDelta?a.wheelDelta/3:-40*a.detail,i.stop(a))},_onBodyChange:function(){var a=this,e=a.grid;a._update();setTimeout(function(){if(e.bodyNode)a.stubNode.style.height=e.bodyNode.scrollHeight+"px",a._doScroll(),e.vScrollerNode.scrollTop=e.vScrollerNode.scrollTop||0},0)},_onForcedScroll:function(){var a=this.grid.body;
return this.model.when({start:a.rootStart,count:a.rootCount},function(){a.renderRows(0,a.visualCount)})},_onKeyScroll:function(a){var e=this.grid,c=e.body,b=e.bodyNode,f=e.focus,e=this.domNode,d;if(b.childNodes.length&&(!f||"body"==f.currentArea())){if(a.keyCode==n.HOME)e.scrollTop=0,d=b.firstChild;else if(a.keyCode==n.END)e.scrollTop=e.scrollHeight-e.offsetHeight,d=b.lastChild;else if(a.keyCode==n.PAGE_UP)e.scrollTop?e.scrollTop-=e.offsetHeight:d=b.firstChild;else if(a.keyCode==n.PAGE_DOWN)e.scrollTop>=
e.scrollHeight-e.offsetHeight?d=b.lastChild:e.scrollTop+=e.offsetHeight;else return;if(f)d?(c._focusCellRow=parseInt(d.getAttribute("visualindex"),10),f.focusArea("body",1)):setTimeout(function(){for(var e=b.childNodes,h=0,i=e.length-1,j=g.position(b),l,m,p=function(b){var c=e[b],b=g.position(c);if(a.keyCode==n.PAGE_DOWN){c=c.previousSibling;if(!c&&b.y>=j.y||b.y==j.y)return 0;return c?(b=g.position(c),b.y<j.y&&b.y+b.h>=j.y?0:b.y>j.y?1:-1):-1}c=c.nextSibling;if(!c&&b.y+b.h<=j.y+j.h||b.y+b.h==j.y+j.h)return 0;
return c?(b=g.position(c),b.y<=j.y+j.h&&b.y+b.h>j.y+j.h?0:b.y>j.y+j.h?1:-1):1};h<=i;)if(l=Math.floor((h+i)/2),m=p(l),0>m)h=l+1;else if(0<m)i=l-1;else{d=e[l];break}if(d)c._focusCellRow=parseInt(d.getAttribute("visualindex"),10),f.focusArea("body",1)},0);i.stop(a)}}})})},"gridx/modules/HScroller":function(){define("dojo/_base/declare,dojo/dom-style,dojo/_base/sniff,dojo/_base/Deferred,dojo/query,dojox/html/metrics,../core/_Module".split(","),function(d,m,i,l,h,g,n){return d(n,{name:"hScroller",getAPIPath:function(){return{hScroller:this}},
constructor:function(){var g=this.grid,f=g.hScrollerNode;g._initEvents(["H"],["Scroll"]);this.domNode=f;this.container=f.parentNode;this.stubNode=f.firstChild},preload:function(){var d=this.grid,f=d.hScrollerNode;if(!d.autoWidth&&(d.vLayout.register(this,"container","footerNode",0),f.style.display="block",this.batchConnect([d.columnWidth,"onUpdate","refresh"],[f,"onscroll","_onScroll"]),i("ie")))f.style.height=g.getScrollbar().h+"px"},scroll:function(g){var f=this.domNode;if((i("webkit")||8>i("ie"))&&
!this.grid.isLeftToRight())g=f.scrollWidth-f.offsetWidth-g;i("ff")&&!this.grid.isLeftToRight()&&0<g&&(g=-g);f.scrollLeft=g},scrollToColumn:function(g){var f=this.grid.header.innerNode,a=h("table",f)[0].rows[0].cells,e=0,c=0,b=this.grid.isLeftToRight(),d=this.domNode.scrollLeft;if(!b&&(i("webkit")||8>i("ie")))d=this.domNode.scrollWidth-d-f.offsetWidth;for(var d=Math.abs(d),l=0;l<a.length;l++){c+=a[l].offsetWidth;if(a[l].getAttribute("colid")==g)break;e+=a[l].offsetWidth}e<d?this.scroll(e):c>d+f.offsetWidth&&
this.scroll(c-f.offsetWidth);f.scrollLeft=b?0:f.scrollWidth-f.offsetWidth},refresh:function(){var g=this.grid,f=g.isLeftToRight(),a=f?"marginLeft":"marginRight",e=f?"marginRight":"marginLeft",c=g.hLayout.lead,b=g.hLayout.tail,d=(g.domNode.clientWidth||m.get(g.domNode,"width"))-c-b,h=g.header.innerNode,f=m.get(h,f?"paddingLeft":"paddingRight")||0,i=this.domNode.style,h=h.firstChild.offsetWidth+f,l=i.display,n=h<=d?"none":"block";i[a]=c+f+"px";i[e]=b+"px";i.width=(0>d-f?0:d-f)+"px";this.stubNode.style.width=
(0>h-f?0:h-f)+"px";i.display=n;l!=n&&g.vLayout.reLayout()},_lastLeft:0,_onScroll:function(){var g=this.domNode.scrollLeft;if((i("webkit")||8>i("ie"))&&!this.grid.isLeftToRight())g=this.domNode.scrollWidth-this.domNode.offsetWidth-g;if(this._lastLeft!=g)this._lastLeft=g,this._doScroll()},_doScroll:function(){var g=this.grid;g.bodyNode.scrollLeft=this.domNode.scrollLeft;g.onHScroll(this._lastLeft)}})})},"gridx/modules/ColumnWidth":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/Deferred,dojo/_base/query,dojo/_base/sniff,dojo/dom-geometry,dojo/dom-class,dojo/dom-style,dojo/keys,../core/_Module".split(","),
function(d,m,i,l,h,g,n,j,f,a){return d(a,{name:"columnWidth",forced:["hLayout"],getAPIPath:function(){return{columnWidth:this}},constructor:function(){this._init()},preload:function(){var a=this.grid;this._ready=new i;this.batchConnect([a.hLayout,"onUpdateWidth","_onUpdateWidth"],[a,"setColumns","_onSetColumns"])},load:function(){this._adaptWidth();this.loaded.callback()},"default":60,autoResize:!1,onUpdate:function(){},_init:function(){var a=this,c=a.grid,b=c.domNode,f=c._columns;m.forEach(f,function(a){if(!a.hasOwnProperty("declaredWidth"))a.declaredWidth=
a.width=a.width||"auto"});c.autoWidth?m.forEach(f,function(b){if("auto"==b.declaredWidth)b.width=a.arg("default")+"px"}):a.arg("autoResize")&&(n.add(b,"gridxPercentColumnWidth"),m.forEach(f,function(a){if(!/%$/.test(a.declaredWidth))a.width="auto"}))},_onUpdateWidth:function(){var a=this,c=a.grid;if(c.autoWidth)a._adaptWidth();else{var b="none"==c.hScrollerNode.style.display;a._adaptWidth(!b,1);!a.arg("autoResize")&&b&&l(".gridxCell",c.bodyNode).forEach(function(b){var f=c._columnsById[b.getAttribute("colId")];
if(a.arg("autoResize")||!f.declaredWidth||"auto"==f.declaredWidth||/%$/.test(f.declaredWidth))b.style.width=f.width});a.onUpdate()}},_adaptWidth:function(a,c){var b=this.grid,f=b.domNode,d=b.header,i=b.isLeftToRight(),n=i?"marginLeft":"marginRight",s=i?"marginRight":"marginLeft",i=b.hLayout.lead,r=b.hLayout.tail,v=d.innerNode,u=b.bodyNode.style,p=v.style,x=(f.clientWidth||j.get(f,"width"))-i-r,w=l(".gridxCell",v)[0],y=w?g.getMarginBox(w).w-g.getContentBox(w).w:0,A=!f.offsetHeight,C=w&&"collapse"==
j.get(w,"borderCollapse"),w=C&&0<i?i-1:i;p[n]=w+"px";p[s]=((this.arg("autoResize")||!C)&&0<r?r-1:0)+"px";b.mainNode.style[n]=w+"px";b.mainNode.style[s]=r+"px";x=0>x?0:x;if(a)this.onUpdate();else{C&&(y+=A?-1:1);if(b.autoWidth){var n=l("th.gridxCell",v),B=C?2:0;n.forEach(function(a){var c=j.get(a,"width");if(!h("safari")||!A)c+=y;B+=c;C&&B--;var e=b._columnsById[a.getAttribute("colid")];if("auto"==e.width||/%$/.test(e.width))a.style.width=e.width=c+"px"});u.width=B+"px";f.style.width=i+r+B+"px"}else if(!this.arg("autoResize")){var F=
[],f=b._columns,K=C?2:0;m.forEach(f,function(a){if("auto"==a.declaredWidth)F.push(a);else if(/%$/.test(a.declaredWidth)){var b=parseInt(x*parseFloat(a.declaredWidth,10)/100-(h("safari")?C?1:0:y),10);0>b&&(b=0);d.getHeaderNode(a.id).style.width=a.width=b+"px"}});m.forEach(f,function(a){if("auto"!=a.declaredWidth){var b=h("safari")?parseFloat(d.getHeaderNode(a.id).style.width,10):j.get(d.getHeaderNode(a.id),"width");if(/%$/.test(a.declaredWidth))a.width=b+"px";h("safari")||(b+=y);K+=b}});if(F.length){h("safari")&&
(y=0);var z=x>K?(x-K)/F.length-y:this.arg("default"),D=parseInt(z,10);x>K&&(C&&(z+=f.length/F.length,8>h("ie")&&(z+=f.length/F.length)),D=x-K-(D+y)*(F.length-1)-y);z=parseInt(z,10);0>z&&(z=0);0>D&&(D=0);m.forEach(F,function(a,b){d.getHeaderNode(a.id).style.width=a.width=(b<F.length-1?z:D)+"px"})}}b.hScroller.scroll(0);d._onHScroll(0);b.vLayout.reLayout();if(!c)this.onUpdate()}},_onSetColumns:function(){var a=this.grid;this._init();a.header.refresh();this._adaptWidth();a.cellWidget&&(a.cellWidget._init(),
a.edit&&a.edit._init());a.tree&&a.tree._initExpandLevel();a.body.refresh()}})})},"gridx/core/model/cache/Async":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/_base/Deferred,dojo/DeferredList,./_Cache".split(","),function(d,m,i,l,h,g){function n(a,c){if(!c.length||!a.length)return a;var b=[],f=0,g,d=[];g=function(a,c){var e,f;for(e=a.length-1;0<=e;--e){f=a[e];var g=f.start,d=c;b[g]=b[g]||0;b[g]+=d;f.count&&(f=f.start+f.count,g=-c,b[f]=b[f]||0,b[f]+=g)}};g(a,1);g(c,2);
for(var h=0,i=b.length;h<i;++h)if(b[h])if(f+=b[h],1===f)d.push({start:h});else{if(3===f)d._overlap=!0;if((g=d[d.length-1])&&!g.count)g.count=h-g.start}return d}function j(a){for(var c=[],b=a.range,f,g,d,h,i,j;0<b.length;){i=d=b.pop();j=0;for(f=b.length-1;0<=f;--f){h=b[f];d.start<h.start&&(g=h,h=d,d=g);if(h.count)if(d.start<=h.start+h.count)if(d.count&&d.start+d.count>h.start+h.count)h.count=d.start+d.count-h.start;else{if(!d.count)h.count=null}else{d=i;continue}b[f]=h;j=1;break}j||c.push(i)}a.range=
c;return a}function f(a,c){var b=a.range,f=[],g,d;for(b.sort(function(a,b){return a.start-b.start});b.length;){g=b.shift();if(b.length)if(d=b[0],d.count&&d.count+d.start-g.start<=c){d.count=d.count+d.start-g.start;d.start=g.start;continue}else if(!d.count&&d.start-g.start<c){d.start=g.start;continue}f.push(g)}if(1==f.length&&f[0].count<c)f[0].count=c;a.range=f;return a}var a=i.hitch;return d(g,{isAsync:!0,constructor:function(a,c){var b=c.cacheSize,f=c.pageSize;this.cacheSize="number"==typeof b&&
!isNaN(b)?b:-1;this.pageSize="number"==typeof f&&!isNaN(f)&&0<f?f:100},when:function(e,c){var b=this,f=e._def=new l,g=a(f,f.errback),d=function(a){b._requests.pop();g(a)};b._fetchById(e).then(function(a){b._fetchByIndex(a).then(function(a){b._fetchByParentId(a).then(function(a){l.when(a._req,function(){var a;if(c)try{c()}catch(e){a=e}b._requests.shift();a?f.errback(a):f.callback()},d)},d)},d)},g);return f},keep:function(a){var c=this._kept;this._cache[a]&&this._struct[a]&&!c[a]&&(c[a]=1,++this._keptSize)},
free:function(a){this.model.isId(a)?this._kept[a]&&(delete this._kept[a],--this._keptSize):(this._kept={},this._keptSize=0)},clear:function(){this._requests&&this._requests.length?this._clearLock=1:(this.inherited(arguments),this._requests=[],this._priority=[],this._kept={},this._keptSize=0)},_init:function(){},_findMissingIds:function(a){var c=this._cache;return m.filter(a,function(a){return!c[a]})},_searchRootLevel:function(e){var c=this,b=new l,f=a(b,b.errback),g=c._struct[""],d=[],h,i;if(e.length){for(var j=
1,m=g.length;j<m;++j)g[j]||(i?h.count++:(i=1,d.push(h={start:j-1,count:1})));d.push({start:2>g.length?0:g.length-2})}var n=function(a){a.length&&d.length?c._storeFetch(d.shift()).then(function(){n(c._findMissingIds(a))},f):b.callback(a)};n(e);return b},_searchChildLevel:function(e){var c=this,b=new l,f=a(b,b.errback),g=c._struct,d=g[""].slice(1),h=function(a){if(a.length&&d.length){var e=d.shift();c._loadChildren(e).then(function(){[].push.apply(d,g[e].slice(1));h(c._findMissingIds(a))},f)}else b.callback(a)};
h(e);return b},_fetchById:function(e){var c=this,b=new l,f,g,d=a(b,b.callback),h=a(b,b.errback),i=e.range,j=c.store.getChildren;e.pids=[];if(j)for(f=i.length-1;0<=f;--f)g=i[f],g=g.parentId,c.model.isId(g)&&(e.id.push(g),e.pids.push(g),i.splice(f,1));f=c._findMissingIds(e.id);var n=[];f.length?(m.forEach(f,function(a){var b=c.idToIndex(a);0<=b&&!c.treePath(a).pop()?i.push({start:b,count:1}):n.push(a)}),c._searchRootLevel(n).then(function(a){a.length&&j?c._searchChildLevel(a).then(function(a){a.length&&
console.warn("Requested row ids are not found: ",a);d(e)},h):d(e)},h)):d(e);return b},_fetchByParentId:function(e){var c=this,b=new l;(new h(m.map(e.pids,function(a){return c._loadChildren(a)}),0,1)).then(a(b,b.callback,e),a(b,b.errback));return b},_fetchByIndex:function(e){var c=this,b=new l,g=c._size[""],e=f(c._mergePendingRequests(c._findMissingIndexes(j(e))),c.pageSize),d=0<g?m.filter(e.range,function(a){if(0<a.count&&g<a.start+a.count)a.count=g-a.start;return a.start<g}):e.range;(new h(m.map(d,
function(a){return c._storeFetch(a)}),0,1)).then(a(b,b.callback,e),a(b,b.errback));return b},_findMissingIndexes:function(a){var c,b,f,g,d,h=[],i=this._struct[""],j=this._size[""];for(c=a.range.length-1;0<=c;--c){f=a.range[c];g=f.count?f.start+f.count:i.length-1;d=1;for(b=f.start;b<g;++b){var l=i[b+1];!l||!this._cache[l]?(d?h.push({start:b,count:1}):++h[h.length-1].count,d=0):d=1}f.count||(d?(0>j||b<j)&&h.push({start:b}):delete h[h.length-1].count)}a.range=h;return a},_mergePendingRequests:function(a){var c,
b,f=[],g=this._requests;for(c=g.length-1;0<=c;--c)b=g[c],a.range=n(a.range,b.range),a.range._overlap&&f.push(b._def);a._req=f.length&&new h(f,0,1);g.push(a);return a},_checkSize:function(){var a,c=this.cacheSize,b=this._priority;if(this._clearLock)this._clearLock=0,this.clear();else if(0<=c)for(c+=this._keptSize;b.length>c;)a=b.shift(),this._kept[a]?b.push(a):delete this._cache[a]}})})},"gridx/core/model/cache/_Cache":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/Deferred",
"../_Extension"],function(d,m,i,l,h){var g=i.hitch,n=i.mixin,j=m.indexOf;return d(h,{constructor:function(f,a){this.setStore(a.store);this.columns=a.columns;this._mixinAPI("byIndex","byId","indexToId","idToIndex","size","treePath","parentId","hasChildren","children","keep","free")},destroy:function(){this.inherited(arguments);this.clear()},setStore:function(f){var a=this,e=f.fetch;a.clear();a.store=f;!e&&f.notify?a.aspect(f,"notify",function(c,b){void 0===c?a._onDelete(b):void 0===b?a._onNew(c):a._onSet(c)}):
(a.aspect(f,e?"onSet":"put","_onSet"),a.aspect(f,e?"onNew":"add","_onNew"),a.aspect(f,e?"onDelete":"remove","_onDelete"))},clear:function(){this._filled=0;this._priority=[];this._struct={};this._cache={};this._size={};this._struct[""]=[];this._size[""]=-1},byIndex:function(f,a){this._init("byIndex",arguments);return this._cache[this.indexToId(f,a)]},byId:function(f){this._init("byId",arguments);return this._cache[f]},indexToId:function(f,a){this._init("indexToId",arguments);var e=this._struct[this.model.isId(a)?
a:""];return"number"==typeof f&&0<=f?e&&e[f+1]:void 0},idToIndex:function(f){this._init("idToIndex",arguments);var a=this._struct,a=j(a[a[f]&&a[f][0]]||[],f);return 0<a?a-1:-1},treePath:function(f){this._init("treePath",arguments);for(var a=this._struct,e=[];void 0!==f;)e.unshift(f),f=a[f]&&a[f][0];""!==e[0]?e=[]:e.pop();return e},parentId:function(f){return this.treePath(f).pop()},hasChildren:function(f){var a=this.store,e;this._init("hasChildren",arguments);e=this.byId(f);return a.hasChildren&&
a.hasChildren(f,e&&e.item)},children:function(f){this._init("children",arguments);for(var f=this.model.isId(f)?f:"",a=this._size[f],e=[],c=0;c<a;++c)e.push(this.indexToId(c,f));return e},size:function(f){this._init("size",arguments);var a=this._size[this.model.isId(f)?f:""];return 0<=a?a:-1},onBeforeFetch:function(){},onAfterFetch:function(){},onLoadRow:function(){},onSetColumns:function(f){var a,e,c,b;this.columns=f;for(a in this._cache)for(c in e=this._cache[a],f)b=f[c],e.data[c]=this._formatCell(b.id,
e.rawData)},_itemToObject:function(f){var a=this.store;if(a.fetch){var e={};m.forEach(a.getAttributes(f),function(c){e[c]=a.getValue(f,c)});return e}return f},_formatCell:function(f,a){var e=this.columns[f];return e.formatter?e.formatter(a):a[e.field||f]},_formatRow:function(f){var a=this.columns,e={},c;for(c in a)e[c]=this._formatCell(c,f);return e},_addRow:function(f,a,e,c,b){var g=this._struct,d=this._priority,b=this.model.isId(b)?b:"",h=g[b];if(!h)throw Error("Fatal error of cache._addRow: parent item "+
b+" of "+f+" is not loaded");if(h[a+1]){if(h[a+1]!==f)throw Error("Fatal error of cache._addRow: different row id "+f+" and "+h[a+1]+" for same row index "+a);}else h[a+1]=f;g[f]=g[f]||[b];""===b&&(a=j(d,f),0<=a&&d.splice(a,1),d.push(f));this._cache[f]={data:this._formatRow(e),rawData:e,item:c};this.onLoadRow(f)},_loadChildren:function(f){var a=this,e=new l,c=a.store,b=a.byId(f),b=b&&c.getChildren&&c.getChildren(b.item)||[];l.when(b,function(b){for(var g=0,d,h=a._size[f]=b.length;g<h;++g)d=b[g],a._addRow(c.getIdentity(d),
g,a._itemToObject(d),d,f);e.callback()},g(e,e.errback));return e},_onBegin:function(f){this._size[""]=parseInt(f,10)},_onComplete:function(f,a,e){try{for(var c=0,b;b=e[c];++c)this._addRow(this.store.getIdentity(b),a+c,this._itemToObject(b),b);f.callback()}catch(g){f.errback(g)}},_storeFetch:function(f){var a=this.store,e=new l,c=n({},this.options||{},f),b=g(this,this._onBegin),f=g(this,this._onComplete,e,f.start),d=g(e,e.errback);this._filled=1;this.onBeforeFetch();a.fetch?a.fetch(n(c,{onBegin:b,
onComplete:f,onError:d})):(a=a.query(c.query,c),l.when(a.total,b),l.when(a,f,d));e.then(g(this,this.onAfterFetch));return e},_onSet:function(f){var a=this.store.getIdentity(f),e=this.idToIndex(a),c=this.treePath(a),b=this._cache[a];c.length&&this._addRow(a,e,this._itemToObject(f),f,c.pop());this.onSet(a,e,this._cache[a],b)},_onNew:function(f,a){var e=this.store,c=this._itemToObject(f),b=a&&a[e.fetch?"item":"parent"];b&&e.getIdentity(b);var g=this._size[""];this.clear();this.onNew(e.getIdentity(f),
0,{data:this._formatRow(c),rawData:c,item:f});!b&&0<=g&&(this._size[""]=g+1,this.model._onSizeChange())},_onDelete:function(f){var a=this.store,e=this._struct,f=a.fetch?a.getIdentity(f):f,c=this.treePath(f);if(c.length){var b,g,a=[f],d=c.pop(),h=this._size,i=h[""],l=j(e[d],f);e[d].splice(l,1);--h[d];for(b=0;b<a.length;++b)if(c=e[a[b]])for(g=c.length-1;0<g;--g)a.push(c[g]);for(b=a.length-1;0<=b;--b)g=a[b],delete this._cache[g],delete e[g],delete h[g];b=j(this._priority,f);0<=b&&this._priority.splice(b,
1);this.onDelete(f,l-1);!d&&0<=i&&(h[""]=i-1,this.model._onSizeChange())}else this.onDelete(f)}})})},"gridx/modules/ColumnResizer":function(){define("dojo/_base/declare,dojo/_base/sniff,dojo/_base/window,dojo/_base/event,dojo/dom,dojo/dom-style,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/keys,dojo/query,../core/_Module".split(","),function(d,m,i,l,h,g,n,j,f,a,e,c){function b(a){var b=a.target;if(b){if(/table/i.test(b.tagName)){for(var a=a.offsetX||a.layerX||0,c=0,b=b.rows[0].cells;0<
a&&b[c];)a-=b[c].offsetWidth,c++;return b[c]||null}for(;b&&b.tagName;){if("th"==b.tagName.toLowerCase())return b;b=b.parentNode}}return null}var k=n.remove;return d(c,{name:"columnResizer",minWidth:20,detectWidth:5,load:function(){var a=this.grid;this.batchConnect([a.header.innerNode,"mousemove","_mousemove"],[a,"onHeaderMouseOut","_mouseout"],[a,"onHeaderMouseDown","_mousedown",this,this.name],[a,"onHeaderKeyDown","_keydown"],[i.doc,"mousemove","_docMousemove"],[i.doc,"onmouseup","_mouseup"]);this.loaded.callback()},
getAPIPath:function(){return{columnResizer:this}},columnMixin:{setWidth:function(a){this.grid.columnResizer.setWidth(this.id,a)}},setWidth:function(a,b){var c=this.grid,f,d=c._columns;f=this.arg("minWidth");var h,b=parseInt(b,10);b<f&&(b=f);c._columnsById[a].width=b+"px";for(f=0;f<d.length;++f)d[f].declaredWidth=d[f].width;e('[colid="'+a+'"]',c.domNode).forEach(function(a){h||(h=g.get(a,"width"));a.style.width=b+"px"});c.body.onRender();c.vLayout.reLayout();this.onResize(a,b,h)},onResize:function(){},
_mousemove:function(a){var c=b(a),e=this.grid._eventFlags;if(c&&(this._resizing&&k(c,"gridxHeaderCellOver"),!this._resizing&&c&&!this._ismousedown))a=this._readyToResize=this._isInResizeRange(a),e.onHeaderMouseDown=e.onHeaderCellMouseDown=a?this.name:void 0,n.toggle(i.body(),"gridxColumnResizing",a),a&&k(c,"gridxHeaderCellOver")},_docMousemove:function(a){this._resizing&&this._updateResizerPosition(a)},_mouseout:function(){if(!this._resizing)this._readyToResize=0,k(i.body(),"gridxColumnResizing")},
_keydown:function(b){if((b.keyCode==a.LEFT_ARROW||b.keyCode==a.RIGHT_ARROW)&&b.ctrlKey&&b.shiftKey){var c=b.columnId,f=this.grid,d=2*(f.isLeftToRight()?1:-1);e('[colid="'+c+'"]',f.header.domNode).forEach(function(e){e=g.get(e,"width");e=b.keyCode==a.LEFT_ARROW?e-d:e+d;this.setWidth(c,e);l.stop(b)},this)}},_updateResizerPosition:function(a){var b=a.pageX-this._startX,c=this._targetCell,e=this.grid,f=e.hScroller,d=0,a=a.pageX-this._gridX,d=this.arg("minWidth"),h=this.grid.isLeftToRight();h||(b=-b);
c.offsetWidth+b<d&&(a=h?this._startX-this._gridX-c.offsetWidth+d:this._startX-this._gridX+(c.offsetWidth-d));b=f&&f.container.offsetHeight?f.container:e.bodyNode;d=b.parentNode.offsetTop+b.offsetHeight-e.header.domNode.offsetTop;g.set(this._resizer,{top:e.header.domNode.offsetTop+"px",left:a+"px",height:d+"px"})},_showResizer:function(a){if(!this._resizer)this._resizer=j.create("div",{className:"gridxColumnResizer"},this.grid.domNode,"last"),this.connect(this._resizer,"mouseup","_mouseup");this._resizer.style.display=
"block";this._updateResizerPosition(a)},_hideResizer:function(){this._resizer.style.display="none"},_mousedown:function(a){this._readyToResize?(h.setSelectable(this.grid.domNode,!1),i.doc.onselectstart=function(){return!1},this._resizing=1,this._startX=a.pageX,this._gridX=f.position(this.grid.domNode).x,this._showResizer(a)):this._ismousedown=1},_mouseup:function(a){this._ismousedown=0;if(this._resizing){this._readyToResize=this._resizing=0;k(i.body(),"gridxColumnResizing");h.setSelectable(this.grid.domNode,
!0);i.doc.onselectstart=null;var b=this._targetCell,a=a.pageX-this._startX;this.grid.isLeftToRight()||(a=-a);var a=(m("webkit")?b.offsetWidth:g.get(b,"width"))+a,c=this.arg("minWidth");a<c&&(a=c);this.setWidth(b.getAttribute("colid"),a);this._hideResizer()}},_isInResizeRange:function(a){var c=b(a),a=this._getCellX(a),e=this.arg("detectWidth"),f=this.grid.isLeftToRight();if(a<e){if(f)return!!(this._targetCell=c.previousSibling);this._targetCell=c;return 1}return a>c.offsetWidth-e&&a<=c.offsetWidth?
f?(this._targetCell=c,1):!!(this._targetCell=c.previousSibling):0},_getCellX:function(a){var c=a.target,e=b(a);if(!e)return 1E5;if(/table/i.test(c.tagName))return 0;var f=a.offsetX;if(void 0==f)f=a.layerX;/th/i.test(c.tagName)||(f+=c.offsetLeft);m("ff")&&/th/i.test(c.tagName)&&(a=this.grid.isLeftToRight(),c=-parseInt(g.get(e.parentNode.parentNode.parentNode,a?"marginLeft":"marginRight")),a||(c=this.grid.header.domNode.firstChild.scrollWidth-c-this.grid.header.innerNode.offsetWidth),a=f-(e.offsetLeft-
c),0<=a&&(f=a),f>=e.offsetWidth&&(f=0));return f}})})},"gridx/modules/VirtualVScroller":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/_base/array,dojo/_base/sniff,dojo/_base/event,dojo/_base/Deferred,dojo/query,dojo/keys,./VScroller,../core/_Module".split(","),function(d,m,i,l,h,g,n,j,f){return d(f,{constructor:function(a,e){a.autoHeight?m.mixin(this,new f(a,e)):this._scrolls=[]},buffSize:5,lazy:!1,lazyTimeout:50,scrollToRow:function(a,e){var c=new g,b=this,f=b._scrolls,d=function(){b._subScrollToRow(a,
c,e)};f.push(c);b._lazy=b.arg("lazy");b.lazy=!1;1<f.length?f[f.length-2].then(d):d();return c},_subScrollToRow:function(a,e,c){var b=this,f=0,g=b._avgRowHeight,d=b.grid.bodyNode,h=b.domNode,f=d.scrollTop,j=h.scrollTop,l=n('[visualindex="'+a+'"]',d)[0],m=b.grid.focus,u=function(a){b._scrolls.splice(i.indexOf(b._scrolls,e),1);m&&"body"==m.currentArea()&&m.focusArea("body",1);b.lazy=b._lazy;setTimeout(function(){e.callback(a)},5)};if(l)if(g=l.offsetTop,g+l.offsetHeight>f+d.clientHeight)f=g-f,c||(f+=
l.offsetHeight-d.clientHeight);else if(g<f||c&&g>f)f=g-f;else{u(!0);return}else if(d.childNodes.length){for(l=d.firstChild;l&&l.offsetTop<f;)l=l.nextSibling;var p=l&&l.getAttribute("visualindex");if(l&&a<p)f=(a-p)*g;else{for(l=d.lastChild;l&&l.offsetTop+l.offsetHeight>f+d.clientHeight;)l=l.previousSibling;p=l&&l.getAttribute("visualindex");if(l&&a>p)f=(a-p)*g;else{u(!1);return}}}else{u(!1);return}g=0===j&&0>f;j=j>=h.scrollHeight-h.offsetHeight&&0<f;g||j?b._doVirtualScroll(1):h.scrollTop+=f/b._ratio;
g&&0==d.firstChild.getAttribute("visualindex")||j&&d.lastChild.getAttribute("visualindex")==b.grid.body.visualCount-1?u(!1):setTimeout(function(){b._subScrollToRow(a,e,c)},5)},_init:function(){var a=this;a._rowHeight={};a._syncHeight();a.connect(a.grid,"_onResizeEnd",function(){a._doScroll(0,1)});a._doScroll(0,1)},_doVirtualScroll:function(a){var e=this.domNode,c=e.scrollTop,b=this._ratio*(c-(this._lastScrollTop||0));if(a||b){this._lastScrollTop=c;var f=this.arg("buffSize"),a=e.scrollHeight-e.offsetHeight,
g=this.grid.body,d=g.visualStart,h=d+g.visualCount,i=this.grid.bodyNode,j=i.firstChild,l=j&&j.offsetTop-b,m=i.lastChild,p=m&&m.offsetTop-b+m.offsetHeight,x=i.scrollTop,w=x+i.clientHeight,y=this._avgRowHeight,e=Math.ceil(e.offsetHeight/y)+2*f,A,C,B;if(x!=w||w){if(j&&l>x&&l<w)C=g.renderStart,B=Math.ceil((l-x)/y)+f,A=0===c?d:Math.max(C-B,d),B="top";else if(m&&p>x&&p<w)A=g.renderStart+g.renderCount,B=Math.ceil((w-p)/y)+f,C=c===a&&c?h:Math.min(A+B,h),B="bottom";else if(!j||l>w||!m||p<x)c<=a/2?(A=0===c?
d:d+Math.max(Math.floor(c/y)-f,0),C=Math.min(A+e,h)):(C=c===a?h:h+Math.min(e-Math.floor((a-c)/y),0),A=Math.max(C-e,d)),B="clear";else if(j)0===c?(h=g.renderStart,h>d&&(A=d,C=h,B="top")):c===a&&(d=g.renderStart+g.renderCount-1,d<h-1&&(A=d+1,C=h,B="bottom"));"number"==typeof A&&"number"==typeof C&&(g.renderRows(A,C-A,B),c&&A<C&&(A=n('[visualindex="'+C+'"]',i)[0])&&(b+=A.offsetTop));0===c?i.scrollTop=0:c>=a?i.scrollTop=i.scrollHeight:"clear"!=B&&(i.scrollTop+=b)}}},_doScroll:function(a,e){this.arg("lazy")?
(this._lazyScrollHandle&&clearTimeout(this._lazyScrollHandle),this._lazyScrollHandle=setTimeout(m.hitch(this,this._doVirtualScroll,e),this.arg("lazyTimeout"))):this._doVirtualScroll(e)},_onMouseWheel:function(a){"none"!=this.grid.vScrollerNode.style.display&&(this.domNode.scrollTop-=("number"===typeof a.wheelDelta?a.wheelDelta/3:-40*a.detail)/this._ratio,h.stop(a))},_onBodyChange:function(){this._update();this._doScroll(0,1);this._doVirtual()},_onForcedScroll:function(){this._rowHeight={};this._doScroll(0,
1);this._doVirtual()},_avgRowHeight:24,_rowHeight:null,_ratio:1,_syncHeight:function(){var a=this._avgRowHeight*this.grid.body.visualCount,e=1342177;l("ff")?e=17895697:l("webkit")&&(e=134217726);if(a>e)this._ratio=a/e,a=e;this.stubNode.style.height=a+"px"},_doVirtual:function(){var a=this;clearTimeout(a._pVirtual);a._pVirtual=setTimeout(function(){a._updateRowHeight()},100)},_updateRowHeight:function(){var a=0,e=0,c=this.grid,b=c.body,c=c.bodyNode,f=this.buffSize*this._avgRowHeight,g=c.scrollTop,
d=g-f,h=g+c.clientHeight+f,j=this._rowHeight;i.forEach(c.childNodes,function(b){j[b.getAttribute("rowid")]=b.offsetHeight;b.offsetTop>h?++e:b.offsetTop+b.offsetHeight<d&&++a});b.unrenderRows(a);b.unrenderRows(e,"post");var l,c=b=0;for(l in j)b+=j[l],++c;if(c)this._avgRowHeight=b/c,this._syncHeight()},_onKeyScroll:function(a){var o;var k;var e=this.grid.body,c=this.grid.focus,b=this.domNode;if(!c||"body"==c.currentArea()){if(a.keyCode==j.HOME)e._focusCellRow=0,b.scrollTop=0;else if(a.keyCode==j.END)e._focusCellRow=
e.visualCount-1,b.scrollTop=this.stubNode.clientHeight-e.domNode.offsetHeight;else if(a.keyCode==j.PAGE_UP)k=e._focusCellRow=Math.max(e.renderStart-e.renderCount,0),e=k,this.scrollToRow(e);else if(a.keyCode==j.PAGE_DOWN)o=e._focusCellRow=Math.min(e.visualCount-1,e.renderStart+e.renderCount),e=o,this.scrollToRow(e,1);else return;h.stop(a)}}})})},"gridx/modules/select/Row":function(){define("dojo/_base/declare,dojo/_base/array,dojo/_base/sniff,dojo/_base/query,dojo/dom-class,dojo/keys,./_RowCellBase,../../core/_Module".split(","),
function(d,m,i,l,h,g,n){return d(n,{name:"selectRow",rowMixin:{select:function(){this.grid.select.row.selectById(this.id);return this},deselect:function(){this.grid.select.row.deselectById(this.id);return this},isSelected:function(){return this.grid.select.row.isSelected(this.id)}},triggerOnCell:!1,treeMode:!0,getSelected:function(){return this.model.getMarkedIds()},clear:function(){if(this.arg("enabled")){var g=this.model;m.forEach(g.getMarkedIds(),function(f){g.markById(f,0)});g.when()}},_type:"row",
_init:function(){var d=this,f=d.grid;d.model.treeMarkMode("",d.arg("treeMode"));d.inherited(arguments);d.model._spTypes.select=1;d.batchConnect([f,"onRowMouseDown",function(a){(d.arg("triggerOnCell")&&!h.contains(a.target,"gridxTreeExpandoIcon")&&!h.contains(a.target,"gridxTreeExpandoInner")||!a.columnId)&&d._select(a.rowId,f._isCopyEvent(a))}],[f,4>i("ff")?"onRowKeyUp":"onRowKeyDown",function(a){(d.arg("triggerOnCell")||!a.columnId)&&a.keyCode==g.SPACE&&d._select(a.rowId,f._isCopyEvent(a))}])},_onMark:function(g,
f,a,e){if("select"==e){var c=this;c._highlight(g,f);c.model.when({id:g},function(){c[f?"onSelected":"onDeselected"](c.grid.row(g,1))})}},_highlight:function(g,f){var a=l('[rowid="'+g+'"]',this.grid.mainNode),e=f&&"mixed"!=f;a.length&&(a.forEach(function(a){h.toggle(a,"gridxRowSelected",e);h.toggle(a,"gridxRowPartialSelected","mixed"==f);a.setAttribute("aria-selected",!!e)}),this.onHighlightChange({row:parseInt(a[0].getAttribute("visualindex"),10)},f))},_markById:function(g,f){var a=this.model;a.treeMarkMode()&&
!a.getMark(g)&&f&&(f="mixed");a.markById(g,f);a.when()},_onRender:function(g,f){var a=this.model,e=g+f,c,b;for(c=g;c<e;++c)if(b=this.grid.body.getRowNode({visualIndex:c}))b=b.getAttribute("rowid"),this._highlight(b,a.getMark(b))}})})},"gridx/modules/select/_RowCellBase":function(){define(["dojo/_base/declare","dojo/_base/lang","./_Base","../../core/model/extensions/Mark"],function(d,m,i,l){return d(i,{modelExtensions:[l],selectById:function(d,g){var i=this.model;this.arg("enabled")&&(i.markById(d,
1,this._getMarkType(g)),i.when())},deselectById:function(d,g){var i=this.model;this.arg("enabled")&&(i.markById(d,0,this._getMarkType(g)),i.when())},isSelected:function(d,g){return!0===this.model.getMark(d,this._getMarkType(g))},_init:function(){this.connect(this.model,"onMarkChange","_onMark")}})})},"gridx/modules/select/_Base":function(){define(["dojo/_base/declare","dojo/_base/connect","../../core/_Module"],function(d,m,i){return d(i,{getAPIPath:function(){var d={select:{}};d.select[this._type]=
this;return d},preload:function(){var d=this,h=d.grid;d.subscribe("gridClearSelection_"+h.id,function(g){g!=d._type&&d.clear()});d.connect(h.body,"onRender","_onRender");d.arg("multiple")&&h.domNode.setAttribute("aria-multiselectable",!0);d._init()},enabled:!0,multiple:!0,holdingCtrl:!1,onSelected:function(){},onDeselected:function(){},onHighlightChange:function(){},_getMarkType:function(){},_isSelected:function(){return this.isSelected.apply(this,arguments)},_select:function(d,h){var g=1;this.arg("enabled")&&
(this.arg("multiple")&&(h||this.arg("holdingCtrl"))?g=!this._isSelected(d):this.clear(),m.publish("gridClearSelection_"+this.grid.id,[this._type]),this._markById(d,g))}})})},"gridx/core/model/extensions/Mark":function(){define(["dojo/_base/declare","dojo/_base/array","../_Extension"],function(d,m,i){return d(i,{name:"move",priority:5,constructor:function(d){this.mixed="mixed";this.states={"0":!1,1:this.mixed,2:!0};this.clear();this._mixinAPI("getMark","getMarkedIds","markById","markByIndex","clearMark",
"treeMarkMode");this.aspect(d,"_msg","_receiveMsg");this.aspect(d._cache,"onLoadRow","_onLoadRow");this.aspect(d,"setStore","clear");d.onMarkChange=function(){};d._spTypes={}},clear:function(){this._byId={};this._last={};this._lazy={};this._tree={}},clearMark:function(d){this._byId[this._initMark(d)]={}},getMarkedIds:function(d,h){var g=[],i,j=this._byId[this._initMark(d)];if(j)for(i in j)(h||2==j[i])&&g.push(i);return g},isMarked:function(d,h){h=this._initMark(h);return 2==this._byId[h][d]},isPartialMarked:function(d,
h){return 1==this._byId[this._initMark(h)][d]},getMark:function(d,h){return{"0":!1,1:this.mixed,2:!0}[this._byId[this._initMark(h)][d]||0]},markById:function(d,h,g){this._cmd(d,h,g,1)},markByIndex:function(d,h,g,i){0<=d&&Infinity>d&&this._cmd(d,h,g,0,i)},treeMarkMode:function(d,h){var d=this._initMark(d),g=this._tree;return void 0===h?g[d]:g[d]=h},_cmdMark:function(){var d=this,h=arguments,g=[],i=d.model._model;m.forEach(h,function(d){d[3]||g.push({start:d[0],count:1})});return i._call("when",[{id:[],
range:g},function(){m.forEach(h,function(g){var f=g[3]?g[0]:i._call("indexToId",[g[0],g[4]]),a=g[1],g=d._initMark(g[2]),a=a===d.mixed?1:a?2:0;d._mark(f,a,g)})}])},_onDelete:function(d){var h,g=this._byId,i=this._last,j=this._lazy;for(h in g)h=this._initMark(h),delete g[h][d],delete i[h][d],delete j[h][d];this.onDelete.apply(this,arguments)},_initMark:function(d){var h=this._byId,g=this._last,i=this._lazy,d=d||"select";h[d]=h[d]||{};i[d]=i[d]||{};g[d]=g[d]||{};return d},_cmd:function(){this.model._addCmd({name:"_cmdMark",
scope:this,args:arguments,async:1})},_receiveMsg:function(d,h){if("filter"==d){var g,i,j=this.model._spTypes;for(g in j)if(j[g])for(i in this._byId[g])h[i]||this._doMark(i,g,0)}},_mark:function(d,h,g){var g=this._initMark(g),i=this._byId[g][d]||0;this.model.isId(d)&&i!=h&&this._doMark(d,g,h)},_onLoadRow:function(d){var h=this.model,g=h._model,i=this._lazy,j,f,a=g._call("treePath",[d]).pop();if(h.isId(a))for(j in i)h=i[j],f=h[a],"number"==typeof f&&(f=h[a]={toMark:f,count:g._call("size",[a])}),f&&
(--f.count,f.count||delete h[a],this._doMark(d,j,f.toMark,1))},_fireEvent:function(d,h,g,i){var j=this.model;g!=i&&(g||delete this._byId[h][d],j.onMarkChange(d,this.states[g||0],this.states[i||0],h))},_doMark:function(d,h,g,i){var j,f,a,e,c=this.model._model,b=this._byId[h],k=this._last[h];e=this._lazy[h];var o=b[d]||0,q;this._tree[h]&&(f=c._call("children",[d]),1==g&&m.every(f,function(a){return(k[a]||0)==(k[f[0]]||0)})&&(g=2));b[d]=k[d]=g;this._fireEvent(d,h,g,o);if(this._tree[h]){for(j=[d];j.length;)a=
j.shift(),o=b[a]||0,q=b[a]=1==g?k[a]||0:g,this._fireEvent(a,h,q,o),c._call("hasChildren",[a])&&(f=c._call("children",[a]),f.length?j=j.concat(f):e[a]=g);if(!i){e=c._call("treePath",[d]);for(d=e.length-1;0<d;--d)g=e[d],o=b[g],i=c._call("children",[g]),j=m.filter(i,function(a){return k[a]=b[a]}).length,a=m.filter(i,function(a){return 2==b[a]}).length,a==i.length&&2!=o?b[g]=2:!j&&o?delete b[g]:j&&a<i.length&&1!=o&&(b[g]=1),this._fireEvent(g,h,b[g],o)}}}})})},"gridx/tests/support/XQueryReadStore":function(){define("gridx/tests/support/XQueryReadStore",
"dojo,dojox,dojo/data/util/sorter,dojox/data/QueryReadStore,dojo/io/script,dojo/string".split(","),function(d,m){return d.declare("gridx.tests.support.XQueryReadStore",[m.data.QueryReadStore],{fetch:function(i){i=i||{};if(!i.store)i.store=this;var l=this;this._fetchItems(i,function(h,g,i){var j=g.abort||null,f=!1,a=g.start?g.start:0;!1==l.doClientPaging&&(a=0);var e=g.count?a+g.count:h.length;g.abort=function(){f=!0;j&&j.call(g)};var c=g.scope||d.global;if(!g.store)g.store=l;g.onBegin&&g.onBegin.call(c,
i,g);g.sort&&l.doClientSorting&&h.sort(d.data.util.sorter.createSortFunction(g.sort,l));if(g.onItem)for(i=a;i<h.length&&i<e;++i){var b=h[i];f||g.onItem.call(c,b,g)}g.onComplete&&!f&&(i=null,g.onItem||(i=h.slice(a,e)),g.onComplete.call(c,i,g))},function(h,g){g.onError&&g.onError.call(g.scope||d.global,h,g)});return i},getFeatures:function(){return this._features},close:function(){},getLabel:function(d){if(this._labelAttr&&this.isItem(d))return this.getValue(d,this._labelAttr)},getLabelAttributes:function(){return this._labelAttr?
[this._labelAttr]:null},_xhrFetchHandler:function(i,l,h){i=this._filterResponse(i);if(i.label)this._labelAttr=i.label;var g=i.numRows||-1;this._items=[];d.forEach(i.items,function(a){this._items.push({i:a,r:this})},this);i=i.identifier;this._itemsByIdentity={};if(i){this._identifier=i;var m;for(m=0;m<this._items.length;++m){var j=this._items[m].i,f=j[i];if(this._itemsByIdentity[f])throw Error(this._className+":  The json data as specified by: ["+this.url+"] is malformed.  Items within the list have identifier: ["+
i+"].  Value collided: ["+f+"]");this._itemsByIdentity[f]=j}}else{this._identifier=Number;for(m=0;m<this._items.length;++m)this._items[m].n=m}g=this._numRows=-1===g?this._items.length:g;h(this._items,l,g);this._numRows=g},_fetchItems:function(i,l,h){var g=i.serverQuery||i.query||{};if(!this.doClientPaging&&(g.start=i.start||0,i.count))g.count=i.count;if(!this.doClientSorting&&i.sort){var m=[];d.forEach(i.sort,function(f){f&&f.attribute&&m.push((f.descending?"-":"")+f.attribute)});g.sort=m.join(",")}var j=
this;d.io.script.get({url:this.url,content:g,timeout:2E4,preventCache:!0,callbackParamName:"callback",handle:function(f){f.totalSize=1E3;j._xhrFetchHandler(f,i,l,h)},load:function(){},error:function(f){h(f,i)}});this.doClientPaging&&null!==this._lastServerQuery&&d.toJson(g)==d.toJson(this._lastServerQuery)?(this._numRows=-1===this._numRows?this._items.length:this._numRows,l(this._items,i,this._numRows)):(this.requestMethod.toLowerCase(),this.lastRequestHash=(new Date).getTime()+"-"+(""+Math.random()).substring(2),
this._lastServerQuery=d.mixin({},g))},_filterResponse:function(d){return d},_assertIsItem:function(d){if(!this.isItem(d))throw Error(this._className+": Invalid item argument.");},_assertIsAttribute:function(d){if("string"!==typeof d)throw Error(this._className+": Invalid attribute argument ('"+d+"').");},fetchItemByIdentity:function(i){if(this._itemsByIdentity){var l=this._itemsByIdentity[i.identity];if(void 0!==l){i.onItem&&i.onItem.call(i.scope?i.scope:d.global,{i:l,r:this});return}}this._fetchItems({serverQuery:{id:i.identity}},
function(h){var g=i.scope?i.scope:d.global;try{var l=null;h&&1==h.length&&(l=h[0]);i.onItem&&i.onItem.call(g,l)}catch(j){i.onError&&i.onError.call(g,j)}},function(h){var g=i.scope?i.scope:d.global;i.onError&&i.onError.call(g,h)})},getIdentity:function(d){var l=null;return l=this._identifier===Number?d.n:d.i[this._identifier]},getIdentityAttributes:function(){return[this._identifier]}})})},"dojo/main":function(){define("./_base/kernel,./has,require,./sniff,./_base/lang,./_base/array,./_base/config,./ready,./_base/declare,./_base/connect,./_base/Deferred,./_base/json,./_base/Color,./has!dojo-firebug?./_firebug/firebug,./_base/browser,./_base/loader".split(","),
function(d,m,i,l,h,g,n,j){n.isDebug&&i(["./_firebug/firebug"]);var f=n.require;f&&(f=g.map(h.isArray(f)?f:[f],function(a){return a.replace(/\./g,"/")}),d.isAsync?i(f):j(1,function(){i(f)}));return d})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(d,m,i,l){var h=d.Color=function(d){d&&this.setColor(d)};h.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,
128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:l.transparentColor||[0,0,0,0]};m.extend(h,{r:255,g:255,b:255,a:1,_set:function(d,h,i,f){this.r=d;this.g=h;this.b=i;this.a=f},setColor:function(d){m.isString(d)?h.fromString(d,this):m.isArray(d)?h.fromArray(d,this):(this._set(d.r,d.g,d.b,d.a),d instanceof h||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},
toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+i.map(["r","g","b"],function(d){d=this[d].toString(16);return 2>d.length?"0"+d:d},this).join("")},toCss:function(d){var h=this.r+", "+this.g+", "+this.b;return(d?"rgba("+h+", "+this.a:"rgb("+h)+")"},toString:function(){return this.toCss(!0)}});h.blendColors=d.blendColors=function(d,l,j,f){var a=f||new h;i.forEach(["r","g","b","a"],function(e){a[e]=d[e]+(l[e]-d[e])*j;"a"!=e&&(a[e]=Math.round(a[e]))});return a.sanitize()};
h.fromRgb=d.colorFromRgb=function(d,i){var j=d.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return j&&h.fromArray(j[1].split(/\s*,\s*/),i)};h.fromHex=d.colorFromHex=function(d,l){var j=l||new h,f=4==d.length?4:8,a=(1<<f)-1,d=Number("0x"+d.substr(1));if(isNaN(d))return null;i.forEach(["b","g","r"],function(e){var c=d&a;d>>=f;j[e]=4==f?17*c:c});j.a=1;return j};h.fromArray=d.colorFromArray=function(d,i){var j=i||new h;j._set(Number(d[0]),Number(d[1]),Number(d[2]),Number(d[3]));if(isNaN(j.a))j.a=1;
return j.sanitize()};h.fromString=d.colorFromString=function(d,i){var j=h.named[d];return j&&h.fromArray(j,i)||h.fromRgb(d,i)||h.fromHex(d,i)};return h})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready,./kernel,./connect,./unload,./window,./event,./html,./NodeList,../query,./xhr,./fx".split(","),function(d){return d})},"dojo/_base/fx":function(){define("./kernel,./config,./lang,../Evented,./Color,./connect,./sniff,../dom,../dom-style".split(","),
function(d,m,i,l,h,g,n,j,f){var a=i.mixin,e={},c=e._Line=function(a,b){this.start=a;this.end=b};c.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var b=e.Animation=function(b){a(this,b);if(i.isArray(this.curve))this.curve=new c(this.curve[0],this.curve[1])};b.prototype=new l;i.extend(b,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var c=b||[];if(this[a])if(m.debugAtAllCosts)this[a].apply(this,
c);else try{this[a].apply(this,c)}catch(e){console.error("exception in animation handler for:",a),console.error(e)}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var c=a||this.delay,e=i.hitch(this,"_play",b);if(0<c)return this._delayTimer=setTimeout(e,c),this;e();return this},_play:function(){this._delayTimer&&this._clearTimer();
this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;var a=this.curve.getValue(this._getStep());if(!this._percent){if(!this._startRepeatCount)this._startRepeatCount=this.repeat;this._fire("onBegin",[a])}this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);
return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();if(a)this._percent=1;this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===
this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);if(1>this._percent)this._startTimer();else{this._active=!1;if(0<this.repeat)this.repeat--,this.play(null,!0);else if(-1==this.repeat)this.play(null,!0);else if(this._startRepeatCount)this.repeat=this._startRepeatCount,this._startRepeatCount=0;this._percent=0;this._fire("onEnd",[this.node]);!this.repeat&&this._stopTimer()}}return this},_clearTimer:function(){clearTimeout(this._delayTimer);
delete this._delayTimer}});var k=0,o=null,q={run:function(){}};i.extend(b,{_startTimer:function(){if(!this._timer)this._timer=g.connect(q,"run",this,"_cycle"),k++;o||(o=setInterval(i.hitch(q,"run"),this.rate))},_stopTimer:function(){if(this._timer)g.disconnect(this._timer),this._timer=null,k--;0>=k&&(clearInterval(o),o=null,k=0)}});var t=n("ie")?function(a){var b=a.style;if(!b.width.length&&"auto"==f.get(a,"width"))b.width="auto"}:function(){};e._fade=function(b){b.node=j.byId(b.node);var c=a({properties:{}},
b),b=c.properties.opacity={};b.start=!("start"in c)?function(){return+f.get(c.node,"opacity")||0}:c.start;b.end=c.end;b=e.animateProperty(c);g.connect(b,"beforeBegin",i.partial(t,c.node));return b};e.fadeIn=function(b){return e._fade(a({end:1},b))};e.fadeOut=function(b){return e._fade(a({end:0},b))};e._defaultEasing=function(a){return 0.5+Math.sin((a+1.5)*Math.PI)/2};var s=function(a){this._properties=a;for(var b in a){var c=a[b];if(c.start instanceof h)c.tempColor=new h}};s.prototype.getValue=function(a){var b=
{},c;for(c in this._properties){var e=this._properties[c],d=e.start;d instanceof h?b[c]=h.blendColors(d,e.end,a,e.tempColor).toCss():i.isArray(d)||(b[c]=(e.end-d)*a+d+("opacity"!=c?e.units||"px":0))}return b};e.animateProperty=function(c){var e=c.node=j.byId(c.node);if(!c.easing)c.easing=d._defaultEasing;c=new b(c);g.connect(c,"beforeBegin",c,function(){var b={},c;for(c in this.properties){if("width"==c||"height"==c)this.node.display="block";var d=this.properties[c];i.isFunction(d)&&(d=d(e));d=b[c]=
a({},i.isObject(d)?d:{end:d});if(i.isFunction(d.start))d.start=d.start(e);if(i.isFunction(d.end))d.end=d.end(e);var g=0<=c.toLowerCase().indexOf("color"),j=function(a,b){var c={height:a.offsetHeight,width:a.offsetWidth}[b];if(void 0!==c)return c;c=f.get(a,b);return"opacity"==b?+c:g?c:parseFloat(c)};if("end"in d){if(!("start"in d))d.start=j(e,c)}else d.end=j(e,c);g?(d.start=new h(d.start),d.end=new h(d.end)):d.start="opacity"==c?+d.start:parseFloat(d.start)}this.curve=new s(b)});g.connect(c,"onAnimate",
i.hitch(f,"set",c.node));return c};e.anim=function(a,c,d,f,g,h){return e.animateProperty({node:a,duration:d||b.prototype.duration,properties:c,easing:f,onEnd:g}).play(h||0)};a(d,e);d._Animation=b;return e})},"dojo/_base/loader":function(){define("./kernel,../has,require,module,./json,./lang,./array".split(","),function(d,m,i,l,h,g,n){var j=function(a){return a.replace(/\./g,"/")},f=/\/\/>>built/,a=[],e=[],c=function(c,d,f){a.push(f);n.forEach(c.split(","),function(a){a=F(a,d.module);e.push(a);K(a)});
b()},b=function(){var b,c;for(c in C){b=C[c];if(void 0===b.noReqPluginCheck)b.noReqPluginCheck=/loadInit\!/.test(c)||/require\!/.test(c)?1:0;if(!b.executed&&!b.noReqPluginCheck&&b.injected==u)return}M(function(){var b=a;a=[];n.forEach(b,function(a){a(1)})})},k=function(a,b,c){var e=/\(|\)/g,f=1;for(e.lastIndex=b;(b=e.exec(a))&&!(f=")"==b[0]?f-1:f+1,0==f););if(0!=f)throw"unmatched paren around character "+e.lastIndex+" in: "+a;return[d.trim(a.substring(c,e.lastIndex))+";\n",e.lastIndex]},o=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,
q=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,t=/(^|\s)(require|define)\s*\(/m,s=function(a,b){var c,e,d,f=[],g=[];c=[];for(b=b||a.replace(o,function(a){q.lastIndex=t.lastIndex=0;return q.test(a)||t.test(a)?"":a});c=q.exec(b);)e=q.lastIndex,d=e-c[0].length,e=k(b,e,d),"loadInit"==c[2]?f.push(e[0]):g.push(e[0]),q.lastIndex=e[1];c=f.concat(g);return c.length||!t.test(b)?[a.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 && dojo.loadInit("),c.join(""),
c]:0},r=i.initSyncLoader(c,b,function(a,b){var c,e,g=[],h=[];if(f.test(b)||!(c=s(b)))return 0;e=a.mid+"-*loadInit";for(var i in F("dojo",a).result.scopeMap)g.push(i),h.push('"'+i+'"');return"// xdomain rewrite of "+a.mid+"\ndefine('"+e+"',{\n\tnames:"+d.toJson(g)+",\n\tdef:function("+g.join(",")+"){"+c[1]+"}});\n\ndefine("+d.toJson(g.concat(["dojo/loadInit!"+e]))+", function("+g.join(",")+"){\n"+c[0]+"});"}),v=r.sync,u=r.requested,p=r.arrived,x=r.nonmodule,w=r.executing,y=r.executed,A=r.syncExecStack,
C=r.modules,B=r.execQ,F=r.getModule,K=r.injectModule,z=r.setArrived,D=r.signal,L=r.finishExec,E=r.execModule,I=r.getLegacyMode,M=r.guardCheckComplete,c=r.dojoRequirePlugin;d.provide=function(a){var b=A[0],c=g.mixin(F(j(a),i.module),{executed:w,result:g.getObject(a,!0)});z(c);if(b)(b.provides||(b.provides=[])).push(function(){c.result=g.getObject(a);delete c.provides;c.executed!==y&&L(c)});return c.result};m.add("config-publishRequireResult",1,0,0);d.require=function(a,b){var c=function(a,b){var c=
F(j(a),i.module);if(A.length&&A[0].finish)A[0].finish.push(a);else{if(c.executed)return c.result;b&&(c.result=x);var e=I();K(c);e=I();c.executed!==y&&c.injected===p&&r.guardCheckComplete(function(){E(c)});if(c.executed)return c.result;e==v?c.cjs?B.unshift(c):A.length&&(A[0].finish=[a]):B.push(c)}}(a,b);m("config-publishRequireResult")&&!g.exists(a)&&void 0!==c&&g.setObject(a,c);return c};d.loadInit=function(a){a()};d.registerModulePath=function(a,b){var c={};c[a.replace(/\./g,"/")]=b;i({paths:c})};
d.platformRequire=function(a){for(var a=(a.common||[]).concat(a[d._name]||a["default"]||[]),b;a.length;)g.isArray(b=a.shift())?d.require.apply(d,b):d.require(b)};d.requireIf=d.requireAfterIf=function(a,b,c){a&&d.require(b,c)};d.requireLocalization=function(a,b,c){i(["../i18n"],function(e){e.getLocalization(a,b,c)})};return{extractLegacyApiApplications:s,require:c,loadInit:function(a,b,e){b([a],function(a){b(a.names,function(){for(var f="",g=[],h=0;h<arguments.length;h++)f+="var "+a.names[h]+"= arguments["+
h+"]; ",g.push(arguments[h]);eval(f);var i=b.module,k=[],m,f={provide:function(a){a=j(a);a=F(a,i);a!==i&&z(a)},require:function(a,b){a=j(a);b&&(F(a,i).result=x);k.push(a)},requireLocalization:function(a,b,c){m||(m=["dojo/i18n"]);c=(c||d.locale).toLowerCase();a=j(a)+"/nls/"+(/root/i.test(c)?"":c+"/")+j(b);F(a,i).isXd&&m.push("dojo/i18n!"+a)},loadInit:function(a){a()}},h={},n;try{for(n in f)h[n]=d[n],d[n]=f[n];a.def.apply(null,g)}catch(o){D("error",[{src:l.id,id:"failedDojoLoadInit"},o])}finally{for(n in f)d[n]=
h[n]}m&&(k=k.concat(m));k.length?c(k.join(","),b,e):e()})})}}})},"dojox/main":function(){define(["dojo/_base/kernel"],function(d){return d.dojox})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(d){var m={};d.setObject("dojo.data.util.sorter",m);m.basicComparator=function(d,l){var h=-1;null===d&&(d=void 0);null===l&&(l=void 0);if(d==l)h=0;else if(d>l||null==d)h=1;return h};m.createSortFunction=function(d,l){function h(a,c,e,d){return function(f,g){var h=d.getValue(f,a),i=
d.getValue(g,a);return c*e(h,i)}}for(var g=[],n,j=l.comparatorMap,f=m.basicComparator,a=0;a<d.length;a++){n=d[a];var e=n.attribute;if(e){n=n.descending?-1:1;var c=f;j&&("string"!==typeof e&&"toString"in e&&(e=e.toString()),c=j[e]||f);g.push(h(e,n,c,l))}}return function(a,c){for(var e=0;e<g.length;){var d=g[e++](a,c);if(0!==d)return d}return 0}};return m})},"dojox/data/QueryReadStore":function(){define(["dojo","dojox","dojo/data/util/sorter","dojo/string"],function(d,m){d.declare("dojox.data.QueryReadStore",
null,{url:"",requestMethod:"get",_className:"dojox.data.QueryReadStore",_items:[],_lastServerQuery:null,_numRows:-1,lastRequestHash:null,doClientPaging:!1,doClientSorting:!1,_itemsByIdentity:null,_identifier:null,_features:{"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0},_labelAttr:"label",constructor:function(i){d.mixin(this,i)},getValue:function(i,l,h){this._assertIsItem(i);if(!d.isString(l))throw Error(this._className+".getValue(): Invalid attribute, string expected!");return!this.hasAttribute(i,
l)&&h?h:i.i[l]},getValues:function(d,l){this._assertIsItem(d);var h=[];this.hasAttribute(d,l)&&h.push(d.i[l]);return h},getAttributes:function(d){this._assertIsItem(d);var l=[],h;for(h in d.i)l.push(h);return l},hasAttribute:function(d,l){return this.isItem(d)&&"undefined"!=typeof d.i[l]},containsValue:function(d,l,h){for(var d=this.getValues(d,l),l=d.length,g=0;g<l;g++)if(d[g]==h)return!0;return!1},isItem:function(d){return d?"undefined"!=typeof d.r&&d.r==this:!1},isItemLoaded:function(d){return this.isItem(d)},
loadItem:function(d){this.isItemLoaded(d.item)},fetch:function(i){i=i||{};if(!i.store)i.store=this;var l=this;this._fetchItems(i,function(h,g,i){var j=g.abort||null,f=!1,a=g.start?g.start:0;!1==l.doClientPaging&&(a=0);var e=g.count?a+g.count:h.length;g.abort=function(){f=!0;j&&j.call(g)};var c=g.scope||d.global;if(!g.store)g.store=l;g.onBegin&&g.onBegin.call(c,i,g);g.sort&&l.doClientSorting&&h.sort(d.data.util.sorter.createSortFunction(g.sort,l));if(g.onItem)for(i=a;i<h.length&&i<e;++i){var b=h[i];
f||g.onItem.call(c,b,g)}g.onComplete&&!f&&(i=null,g.onItem||(i=h.slice(a,e)),g.onComplete.call(c,i,g))},function(h,g){g.onError&&g.onError.call(g.scope||d.global,h,g)});return i},getFeatures:function(){return this._features},close:function(){},getLabel:function(d){if(this._labelAttr&&this.isItem(d))return this.getValue(d,this._labelAttr)},getLabelAttributes:function(){return this._labelAttr?[this._labelAttr]:null},_xhrFetchHandler:function(i,l,h){i=this._filterResponse(i);if(i.label)this._labelAttr=
i.label;var g=i.numRows||-1;this._items=[];d.forEach(i.items,function(a){this._items.push({i:a,r:this})},this);i=i.identifier;this._itemsByIdentity={};if(i){this._identifier=i;var m;for(m=0;m<this._items.length;++m){var j=this._items[m].i,f=j[i];if(this._itemsByIdentity[f])throw Error(this._className+":  The json data as specified by: ["+this.url+"] is malformed.  Items within the list have identifier: ["+i+"].  Value collided: ["+f+"]");this._itemsByIdentity[f]=j}}else{this._identifier=Number;for(m=
0;m<this._items.length;++m)this._items[m].n=m}g=this._numRows=-1===g?this._items.length:g;h(this._items,l,g);this._numRows=g},_fetchItems:function(i,l,h){var g=i.serverQuery||i.query||{};if(!this.doClientPaging&&(g.start=i.start||0,i.count))g.count=i.count;if(!this.doClientSorting&&i.sort){var m=[];d.forEach(i.sort,function(d){d&&d.attribute&&m.push((d.descending?"-":"")+d.attribute)});g.sort=m.join(",")}if(this.doClientPaging&&null!==this._lastServerQuery&&d.toJson(g)==d.toJson(this._lastServerQuery))this._numRows=
-1===this._numRows?this._items.length:this._numRows,l(this._items,i,this._numRows);else{var j=("post"==this.requestMethod.toLowerCase()?d.xhrPost:d.xhrGet)({url:this.url,handleAs:"json-comment-optional",content:g,failOk:!0});i.abort=function(){j.cancel()};j.addCallback(d.hitch(this,function(d){this._xhrFetchHandler(d,i,l,h)}));j.addErrback(function(d){h(d,i)});this.lastRequestHash=(new Date).getTime()+"-"+(""+Math.random()).substring(2);this._lastServerQuery=d.mixin({},g)}},_filterResponse:function(d){return d},
_assertIsItem:function(d){if(!this.isItem(d))throw Error(this._className+": Invalid item argument.");},_assertIsAttribute:function(d){if("string"!==typeof d)throw Error(this._className+": Invalid attribute argument ('"+d+"').");},fetchItemByIdentity:function(i){if(this._itemsByIdentity){var l=this._itemsByIdentity[i.identity];if(void 0!==l){i.onItem&&i.onItem.call(i.scope?i.scope:d.global,{i:l,r:this});return}}this._fetchItems({serverQuery:{id:i.identity}},function(h){var g=i.scope?i.scope:d.global;
try{var l=null;h&&1==h.length&&(l=h[0]);i.onItem&&i.onItem.call(g,l)}catch(j){i.onError&&i.onError.call(g,j)}},function(h){var g=i.scope?i.scope:d.global;i.onError&&i.onError.call(g,h)})},getIdentity:function(d){var l=null;return l=this._identifier===Number?d.n:d.i[this._identifier]},getIdentityAttributes:function(){return[this._identifier]}});return m.data.QueryReadStore})},"dojo/io/script":function(){define("../_base/connect,../_base/kernel,../_base/lang,../sniff,../_base/window,../_base/xhr,../dom,../dom-construct,../request/script".split(","),
function(d,m,i,l,h,g,n,j,f){dojo.deprecated("dojo/io/script","Use dojo/request/script.","2.0");var a={get:function(e){var c,b=this._makeScriptDeferred(e,function(){c&&c.cancel()}),d=b.ioArgs;g._ioAddQueryToUrl(d);g._ioNotifyStart(b);c=f.get(d.url,{timeout:e.timeout,jsonp:d.jsonp,checkString:e.checkString,ioArgs:d,frameDoc:e.frameDoc,canAttach:function(b){d.requestId=b.id;d.scriptId=b.scriptId;d.canDelete=b.canDelete;return a._canAttach(d)}},!0);c.then(function(){b.resolve(b)}).otherwise(function(a){b.ioArgs.error=
a;b.reject(a)});return b},attach:f._attach,remove:f._remove,_makeScriptDeferred:function(a,c){var b=g._ioSetArgs(a,c||this._deferredCancel,this._deferredOk,this._deferredError),d=b.ioArgs;d.id=m._scopeName+"IoScript"+this._counter++;d.canDelete=!1;d.jsonp=a.callbackParamName||a.jsonp;if(d.jsonp)d.query=d.query||"",0<d.query.length&&(d.query+="&"),d.query+=d.jsonp+"="+(a.frameDoc?"parent.":"")+m._scopeName+".io.script.jsonp_"+d.id+"._jsonpCallback",d.frameDoc=a.frameDoc,d.canDelete=!0,b._jsonpCallback=
this._jsonpCallback,this["jsonp_"+d.id]=b;return b},_deferredCancel:function(a){a.canceled=!0},_deferredOk:function(a){a=a.ioArgs;return a.json||a.scriptLoaded||a},_deferredError:function(a){return a},_deadScripts:[],_counter:1,_addDeadScript:function(d){a._deadScripts.push({id:d.id,frameDoc:d.frameDoc});d.frameDoc=null},_validCheck:function(){var d=a._deadScripts;if(d&&0<d.length){for(var c=0;c<d.length;c++)a.remove(d[c].id,d[c].frameDoc),d[c].frameDoc=null;a._deadScripts=[]}return!0},_ioCheck:function(a){a=
a.ioArgs;return a.json||a.scriptLoaded&&!a.args.checkString?!0:(a=a.args.checkString)&&eval("typeof("+a+") != 'undefined'")},_resHandle:function(d){a._ioCheck(d)?d.callback(d):d.errback(Error("inconceivable dojo.io.script._resHandle error"))},_canAttach:function(){return!0},_jsonpCallback:function(a){this.ioArgs.json=a;m.global[f._callbacksProperty][this.ioArgs.requestId](a)}};i.setObject("dojo.io.script",a);return a})},"dojo/request/script":function(){define("module,./watch,./util,../_base/array,../_base/lang,../on,../dom,../dom-construct,../has,../_base/window".split(","),
function(d,m,i,l,h,g,n,j,f,a){function e(a,b){a.canDelete&&q._remove(a.id,b.options.frameDoc,!0)}function c(a){p&&p.length&&(l.forEach(p,function(a){q._remove(a.id,a.frameDoc);a.frameDoc=null}),p=[]);return a.options.jsonp?!a.data:!0}function b(){return!!this.scriptLoaded}function k(a){return(a=a.options.checkString)&&eval("typeof("+a+') !== "undefined"')}function o(a,b){if(this.canDelete){var c=this.response;p.push({id:this.id,frameDoc:c.options.frameDoc});c.options.frameDoc=null}b?this.reject(b):
this.resolve(a)}function q(a,d,f){var j=i.parseArgs(a,i.deepCopy({},d)),a=j.url,d=j.options,l=i.deferred(j,e,c,d.jsonp?null:d.checkString?k:b,o);h.mixin(l,{id:t+s++,canDelete:!1});if(d.jsonp){var n=(~a.indexOf("?")?"&":"?")+d.jsonp+"=";-1===a.indexOf(n)&&(a+=n+(d.frameDoc?"parent.":"")+t+"_callbacks."+l.id);l.canDelete=!0;u[l.id]=function(a){j.data=a;l.handleResponse(j)}}i.notify&&i.notify.emit("send",j,l.promise.cancel);if(!d.canAttach||d.canAttach(l)){var p=q._attach(l.id,a,d.frameDoc);if(!d.jsonp&&
!d.checkString)var K=g(p,r,function(a){if("load"===a.type||v.test(p.readyState))K.remove(),l.scriptLoaded=a})}m(l);return f?l:l.promise}f.add("script-readystatechange",function(a,b){return"undefined"!==typeof b.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var t=d.id.replace(/[\/\.\-]/g,"_"),s=0,r=f("script-readystatechange")?"readystatechange":"load",v=/complete|loaded/,u=this[t+"_callbacks"]={},p=[];q.get=q;q._attach=function(b,
c,d){var d=d||a.doc,e=d.createElement("script");e.type="text/javascript";e.src=c;e.id=b;e.async=!0;e.charset="utf-8";return d.getElementsByTagName("head")[0].appendChild(e)};q._remove=function(a,b,c){j.destroy(n.byId(a,b));u[a]&&(c?u[a]=function(){delete u[a]}:delete u[a])};q._callbacksProperty=t+"_callbacks";return q})},"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(d,m,i,l,h){var g=l.trim,n=i.forEach,j="BackCompat"==h.doc.compatMode,
f=!1,a=function(){return!0},e=function(a){for(var a=0<=">~+".indexOf(a.slice(-1))?a+" * ":a+" ",b=function(b,c){return g(a.slice(b,c))},c=[],d=-1,e=-1,h=-1,i=-1,j=-1,k=-1,l=-1,m,n="",o="",q,p=0,t=a.length,r=null,s=null,u=function(){if(0<=k)r.id=b(k,p).replace(/\\/g,""),k=-1;if(0<=l){var a=l==p?null:b(l,p);r[0>">~+".indexOf(a)?"tag":"oper"]=a;l=-1}0<=j&&(r.classes.push(b(j+1,p).replace(/\\/g,"")),j=-1)};n=o,o=a.charAt(p),p<t;p++)if("\\"!=n)if(r||(q=p,r={query:null,pseudos:[],attrs:[],classes:[],tag:null,
oper:null,id:null,getTag:function(){return f?this.otag:this.tag}},l=p),m)o==m&&(m=null);else if("'"==o||'"'==o)m=o;else if(0<=d)if("]"==o){s.attr?s.matchFor=b(h||d+1,p):s.attr=b(d+1,p);if((d=s.matchFor)&&('"'==d.charAt(0)||"'"==d.charAt(0)))s.matchFor=d.slice(1,-1);if(s.matchFor)s.matchFor=s.matchFor.replace(/\\/g,"");r.attrs.push(s);s=null;d=h=-1}else{if("="==o)h=0<="|~^$*".indexOf(n)?n:"",s.type=h+o,s.attr=b(d+1,p-h.length),h=p+1}else if(0<=e){if(")"==o){if(0<=i)s.value=b(e+1,p);i=e=-1}}else if("#"==
o)u(),k=p+1;else if("."==o)u(),j=p;else if(":"==o)u(),i=p;else if("["==o)u(),d=p,s={};else if("("==o)0<=i&&(s={name:b(i+1,p),value:null},r.pseudos.push(s)),e=p;else if(" "==o&&n!=o){u();0<=i&&r.pseudos.push({name:b(i+1,p)});r.loops=r.pseudos.length||r.attrs.length||r.classes.length;r.oquery=r.query=b(q,p);r.otag=r.tag=r.oper?null:r.tag||"*";if(r.tag)r.tag=r.tag.toUpperCase();if(c.length&&c[c.length-1].oper)r.infixOper=c.pop(),r.query=r.infixOper.query+" "+r.query;c.push(r);r=null}return c},c=function(a,
b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}},b=function(a,b){var c=b||[];a&&c.push(a);return c},k=function(a){return 1==a.nodeType},o=function(a,b){return!a?"":"class"==b?a.className||"":"for"==b?a.htmlFor||"":"style"==b?a.style.cssText||"":(f?a.getAttribute(b):a.getAttribute(b,2))||""},q={"*=":function(a,b){return function(c){return 0<=o(c,a).indexOf(b)}},"^=":function(a,b){return function(c){return 0==o(c,a).indexOf(b)}},"$=":function(a,b){return function(c){var c=
" "+o(c,a),d=c.lastIndexOf(b);return-1<d&&d==c.length-b.length}},"~=":function(a,b){var c=" "+b+" ";return function(b){return 0<=(" "+o(b,a)+" ").indexOf(c)}},"|=":function(a,b){var c=b+"-";return function(d){d=o(d,a);return d==b||0==d.indexOf(c)}},"=":function(a,b){return function(c){return o(c,a)==b}}},t="undefined"==typeof h.doc.firstChild.nextElementSibling,s=!t?"nextElementSibling":"nextSibling",r=!t?"previousElementSibling":"previousSibling",v=t?k:a,u=function(a){for(;a=a[r];)if(v(a))return!1;
return!0},p=function(a){for(;a=a[s];)if(v(a))return!1;return!0},x=function(a){var b=a.parentNode,b=7!=b.nodeType?b:b.nextSibling,c=0,d=b.children||b.childNodes,e=a._i||a.getAttribute("_i")||-1,f=b._l||("undefined"!==typeof b.getAttribute?b.getAttribute("_l"):-1);if(!d)return-1;d=d.length;if(f==d&&0<=e&&0<=f)return e;m("ie")&&"undefined"!==typeof b.setAttribute?b.setAttribute("_l",d):b._l=d;e=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[s])if(v(b))m("ie")?b.setAttribute("_i",++c):b._i=++c,a===
b&&(e=c);return e},w=function(a){return!(x(a)%2)},y=function(a){return x(a)%2},A={checked:function(){return function(a){return!!("checked"in a?a.checked:a.selected)}},disabled:function(){return function(a){return a.disabled}},enabled:function(){return function(a){return!a.disabled}},"first-child":function(){return u},"last-child":function(){return p},"only-child":function(){return function(a){return u(a)&&p(a)}},empty:function(){return function(a){for(var b=a.childNodes,a=a.childNodes.length-1;0<=
a;a--){var c=b[a].nodeType;if(1===c||3==c)return!1}return!0}},contains:function(a,b){var c=b.charAt(0);if('"'==c||"'"==c)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},not:function(a,b){var c=e(b)[0],d={el:1};if("*"!=c.tag)d.tag=1;if(!c.classes.length)d.classes=1;var f=B(c,d);return function(a){return!f(a)}},"nth-child":function(a,b){var c=parseInt;if("odd"==b)return y;if("even"==b)return w;if(-1!=b.indexOf("n")){var d=b.split("n",2),e=d[0]?"-"==d[0]?-1:c(d[0]):1,f=d[1]?c(d[1]):
0,g=0,h=-1;0<e?0>f?f=f%e&&e+f%e:0<f&&(f>=e&&(g=f-f%e),f%=e):0>e&&(e*=-1,0<f&&(h=f,f%=e));if(0<e)return function(a){a=x(a);return a>=g&&(0>h||a<=h)&&a%e==f};b=f}var i=c(b);return function(a){return x(a)==i}}},C=m("ie")&&(9>m("ie")||m("quirks"))?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(c){return f?c.getAttribute(a):c[a]||c[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}},B=function(b,d){if(!b)return a;var d=d||{},e=null;"el"in d||
(e=c(e,k));"tag"in d||"*"!=b.tag&&(e=c(e,function(a){return a&&(f?a.tagName:a.tagName.toUpperCase())==b.getTag()}));"classes"in d||n(b.classes,function(a,b){var d=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");e=c(e,function(a){return d.test(a.className)});e.count=b});"pseudos"in d||n(b.pseudos,function(a){var b=a.name;A[b]&&(e=c(e,A[b](b,a.value)))});"attrs"in d||n(b.attrs,function(a){var b,d=a.attr;a.type&&q[a.type]?b=q[a.type](d,a.matchFor):d.length&&(b=C(d));b&&(e=c(e,b))});"id"in d||b.id&&(e=c(e,function(a){return!!a&&
a.id==b.id}));e||"default"in d||(e=a);return e},F=function(a){return function(b,c,d){for(;b=b[s];)if(!t||k(b)){(!d||Q(b,d))&&a(b)&&c.push(b);break}return c}},K=function(a){return function(b,c,d){for(b=b[s];b;){if(v(b)){if(d&&!Q(b,d))break;a(b)&&c.push(b)}b=b[s]}return c}},z=function(b){b=b||a;return function(a,c,d){for(var e=0,f=a.children||a.childNodes;a=f[e++];)v(a)&&(!d||Q(a,d))&&b(a,e)&&c.push(a);return c}},D={},L=function(c){var e=D[c.query];if(e)return e;var f=c.infixOper,f=f?f.oper:"",g=B(c,
{el:1}),i="*"==c.tag,k=h.doc.getElementsByClassName;if(f){k={el:1};if(i)k.tag=1;g=B(c,k);"+"==f?e=F(g):"~"==f?e=K(g):">"==f&&(e=z(g))}else if(c.id)g=!c.loops&&i?a:B(c,{el:1,id:1}),e=function(a,e){var f=d.byId(c.id,a.ownerDocument||a);if(f&&g(f)){if(9==a.nodeType)return b(f,e);for(var h=f.parentNode;h&&!(h==a);)h=h.parentNode;if(h)return b(f,e)}};else if(k&&/\{\s*\[native code\]\s*\}/.test(""+k)&&c.classes.length&&!j)var g=B(c,{el:1,classes:1,id:1}),l=c.classes.join(" "),e=function(a,c,d){for(var c=
b(0,c),e,f=0,h=a.getElementsByClassName(l);e=h[f++];)g(e,a)&&Q(e,d)&&c.push(e);return c};else!i&&!c.loops?e=function(a,d,e){for(var d=b(0,d),f=0,g=c.getTag(),g=g?a.getElementsByTagName(g):[];a=g[f++];)Q(a,e)&&d.push(a);return d}:(g=B(c,{el:1,tag:1,id:1}),e=function(a,d,e){for(var d=b(0,d),f,h=0,i=(f=c.getTag())?a.getElementsByTagName(f):[];f=i[h++];)g(f,a)&&Q(f,e)&&d.push(f);return d});return D[c.query]=e},E={},I={},M=function(a){var c=e(g(a));if(1==c.length){var d=L(c[0]);return function(a){if(a=
d(a,[]))a.nozip=!0;return a}}return function(a){for(var a=b(a),d,e,f=c.length,g,h,i=0;i<f;i++){h=[];d=c[i];e=a.length-1;if(0<e)g={},h.nozip=!0;e=L(d);for(var j=0;d=a[j];j++)e(d,h,g);if(!h.length)break;a=h}return h}},S=m("ie")?"commentStrip":"nozip",O=!!h.doc.querySelectorAll,R=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,N=function(a,b,c,d){return c?(b?b+" ":"")+c+(d?" "+d:""):a},J=/([^[]*)([^\]]*])?/g,P=function(a,b,c){return b.replace(R,N)+(c||"")},G=function(a,b){a=a.replace(J,P);if(O){var c=I[a];
if(c&&!b)return c}if(c=E[a])return c;var c=a.charAt(0),d=-1==a.indexOf(" ");0<=a.indexOf("#")&&d&&(b=!0);if(O&&!b&&-1==">~+".indexOf(c)&&(!m("ie")||-1==a.indexOf(":"))&&!(j&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf(":checked")&&-1==a.indexOf("|=")){var e=0<=">~+".indexOf(a.charAt(a.length-1))?a+" *":a;return I[a]=function(b){try{if(!(9==b.nodeType||d))throw"";var c=b.querySelectorAll(e);c[S]=!0;return c}catch(f){return G(a,!0)(b)}}}var f=a.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);
return E[a]=2>f.length?M(a):function(a){for(var b=0,c=[],d;d=f[b++];)c=c.concat(M(d)(a));return c}},H=0,U=m("ie")?function(a){return f?a.getAttribute("_uid")||a.setAttribute("_uid",++H)||H:a.uniqueID}:function(a){return a._uid||(a._uid=++H)},Q=function(a,b){if(!b)return 1;var c=U(a);return!b[c]?b[c]=1:0},V=function(a){if(a&&a.nozip)return a;var b=[];if(!a||!a.length)return b;a[0]&&b.push(a[0]);if(2>a.length)return b;H++;var c,d;if(m("ie")&&f){var e=H+"";a[0].setAttribute("_zipIdx",e);for(c=1;d=a[c];c++)a[c].getAttribute("_zipIdx")!=
e&&b.push(d),d.setAttribute("_zipIdx",e)}else if(m("ie")&&a.commentStrip)try{for(c=1;d=a[c];c++)k(d)&&b.push(d)}catch(g){}else{a[0]&&(a[0]._zipIdx=H);for(c=1;d=a[c];c++)a[c]._zipIdx!=H&&b.push(d),d._zipIdx=H}return b},T=function(a,b){b=b||h.doc;f="div"===(b.ownerDocument||b).createElement("div").tagName;var c=G(a)(b);return c&&c.nozip?c:V(c)};T.filter=function(a,b,c){for(var f=[],g=e(b),g=1==g.length&&!/[^\w#\.]/.test(b)?B(g[0]):function(a){return-1!=i.indexOf(T(b,d.byId(c)),a)},h=0,j;j=a[h];h++)g(j)&&
f.push(j);return f};return T})}}});define("test_grid_huge_data",[],1);