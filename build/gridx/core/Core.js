//>>built
define("gridx/core/Core","require dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/Deferred dojo/DeferredList ./model/Model ./Row ./Column ./Cell ./_Module".split(" "),function(y,z,m,h,A,q,B,r,s,C,D){function E(a){var b={},c,d,e;if(h.isArray(a)){d=0;for(e=a.length;d<e;++d)c=a[d],c.index=d,c.id=c.id||String(d+1),b[c.id]=c}return b}function t(a,b){if(b)for(var c in b){var d=a[c],e=b[c];d&&h.isObject(d)&&!l(d)?t(d,e):a[c]=e}}function F(a){for(var b=[],c=a.modules,d=c.length,e=0;e<d;++e){var f=
c[e];if(l(f)||u(f))f={moduleClass:f};if(f){var g=f.moduleClass;if(u(g))try{g=f.moduleClass=y(g)}catch(k){console.error(k)}if(l(g)){b.push(f);continue}}console.error("The "+(e+1-a.coreModules.length)+"-th declared module can NOT be found, please require it before using it")}a.modules=b}function G(a){var b=D._modules;a=a.modules;var c,d,e,f,g,k,h;for(c=0;c<a.length;++c){f=a[c].moduleClass.prototype;g=(f.forced||[]).concat(f.required||[]);for(d=0;d<g.length;++d){k=g[d];for(e=a.length-1;0<=e&&a[e].moduleClass.prototype.name!==
k;--e);0>e&&(b[k]?a.push({moduleClass:b[k]}):(h=1,console.error("Forced/Required dependent module '"+k+"' is NOT found for '"+f.name+"' module.")))}}if(h)throw Error("Some forced/required dependent modules are NOT found.");}function H(a){for(var b=0,c,d={},e=[];c=a.modules[b];++b)d[c.moduleClass.prototype.name]=c;for(b in d)e.push(d[b]);a.modules=e}function I(a){var b=a.modules,c,d;for(c=b.length-1;0<=c;--c)(d=b[c].moduleClass.prototype.modelExtensions)&&[].push.apply(a.modelExtensions,d)}function v(a,
b,c,d,e,f){var g=d||0;d=0<=e?d+e:b;for(e=[];g<d&&g<b;++g)e.push(a[c](g,0,f));return e}function n(a,b,c){var d,e=a._modules;for(d in e)d=e[d].mod,a=d[c+"Mixin"],l(a)&&(a=a.apply(d)),h.mixin(b,a||{});return b}function w(a,b,c){var d=a._modules,e=d[c],f=e.mod,g=f.loaded;e.done||(e.done=1,(new q(m.map(m.filter(e.deps,function(a){return d[a]}),x(a,w,a,b)),0,1)).then(function(){f.load?f.load(e.args,b):0>g.fired&&g.callback()}));return g}var p=h.delegate,l=h.isFunction,u=h.isString,x=h.hitch;return z([],
{setStore:function(a){this.store!=a&&(this.store=a,this.model.setStore(a))},setColumns:function(a){this.structure=a;this._columns=m.map(a,function(a){return h.mixin({},a)});this._columnsById=E(this._columns);if(this.model)this.model._cache.onSetColumns(this._columnsById)},row:function(a,b,c){"number"==typeof a&&!b&&(a=this.model.indexToId(a,c));return this.model.byId(a)?(this._rowObj=this._rowObj||n(this,new r(this),"row"),p(this._rowObj,{id:a})):null},column:function(a,b){var c,d,e={};"number"==
typeof a&&!b&&(a=(c=this._columns[a])&&c.id);if(c=this._columnsById[a]){this._colObj=this._colObj||n(this,new s(this),"column");for(d in c)void 0===this._colObj[d]&&(e[d]=c[d]);return p(this._colObj,e)}return null},cell:function(a,b,c,d){if(a=a instanceof r?a:this.row(a,c,d))if(b=b instanceof s?b:this.column(b,c))return this._cellObj=this._cellObj||n(this,new C(this),"cell"),p(this._cellObj,{row:a,column:b});return null},columnCount:function(){return this._columns.length},rowCount:function(a){return this.model.size(a)},
columns:function(a,b){return v(this,this._columns.length,"column",a,b)},rows:function(a,b,c){return v(this,this.rowCount(c),"row",a,b,c)},onModulesLoaded:function(){},_init:function(){var a=this,b=a._deferStartup=new A;a.modules=a.modules||[];a.modelExtensions=a.modelExtensions||[];a.setColumns(a.structure);F(a);G(a);H(a);I(a);a.model=new B(a);a.when=x(a.model,a.model.when);a._create();a._preload();a._load(b).then(function(){a.onModulesLoaded()})},_uninit:function(){var a=this._modules,b;for(b in a)a[b].mod.destroy();
this.model&&this.model.destroy()},_create:function(){for(var a=0,b,c=this._modules={};b=this.modules[a];++a){var d;d=b.moduleClass;var e=d.prototype.name;if(!c[e]){var f=c,g=b,h=d=new d(this,b);b=b.moduleClass.prototype;b=(b.forced||[]).concat(b.optional||[]);f[e]={args:g,mod:h,deps:b};d.getAPIPath&&t(this,d.getAPIPath())}}},_preload:function(){var a,b=this._modules;for(a in b)a=b[a],a.mod.preload&&a.mod.preload(a.args)},_load:function(a){var b=[],c;for(c in this._modules)b.push(w(this,a,c));return new q(b,
0,1)}})});
//@ sourceMappingURL=Core.js.map