//>>built
define("gridx/mobile/LazyLoad","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-class dojo/query dojo/Deferred dojo/i18n!./nls/LazyLoad".split(" "),function(f,c,g,d,k,h,l,e){return f(null,{pageSize:20,lastId:null,_buildBody:function(a){this.inherited(arguments);var b=d.create("div",{className:"mobileGridxLoadMoreWrapper"},this.bodyPane.containerNode,"last");this._buttonLoadMore=d.create("button",{innerHTML:e.loadMore,className:"mobileGridxLoadMoreButton mblButton"},
b,"last");this.connect(this._buttonLoadMore,"onclick","loadMore");a&&a.length<this.pageSize&&(this._buttonLoadMore.style.display="none");a&&a.length&&(this.lastId=a[a.length-1][this.store.idProperty])},loadMore:function(){this._makeButtonBusy();var a=c.mixin({lastId:this.lastId,count:this.pageSize},this.query);this.store.query(a,this.queryOptions).then(c.hitch(this,"_loadMoreComplete"),c.hitch(this,"onError"))},_loadMoreComplete:function(a){var b=a.items||a;if(b&&b.length){h("\x3e.mobileGridxRow",
this.bodyPane.containerNode);var c=[];g.forEach(b,function(a){c.push(this._createRow(a))},this);d.place(c.join(""),this._buttonLoadMore.parentNode,"before");this.lastId=b[b.length-1][this.store.idProperty]}this._cancelButtonBusy();a.noMore&&(this._buttonLoadMore.style.display="none")},onError:function(){this.inherited(arguments);this._cancelButtonBusy()},_makeButtonBusy:function(){var a=this._buttonLoadMore;a.innerHTML='\x3cimg src\x3d"'+this._blankGif+'" class\x3d"mobileGridxLoadingIcon"/\x3e '+
e.loading;a.disabled=!0},_cancelButtonBusy:function(){var a=this._buttonLoadMore;a.innerHTML=e.loadMore;a.disabled=!1}})});
//@ sourceMappingURL=LazyLoad.js.map