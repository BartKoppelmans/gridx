<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<style type="text/css">	
	@import "css/main.css";
</style>
<script type="text/javascript" src="../dojo/dojo.js" djConfig="isDebug:true, parseOnLoad:true"></script>
<script type="text/javascript">
	
	require(["dojo/dom-class", "dojo/query", "dojo/on", "dojo/fx/easing", "dojox/widget/Rotator",
		"dojox/widget/rotator/Pan", "dojo/domReady!"], function(domClass, query, on){
		var leftNavMenuItems = query(".leftNav li");
		var currentMenuItemIndex = 0;
		
		function selectItem(index){
			leftNavMenuItems.forEach(function(element, i){
				if(i !== index){
					domClass.remove(element, "selected");
				}else{
					domClass.add(element, "selected");
				}
			});
			mainRotator.go(index);
			currentMenuItemIndex = index;
		};
		
		dojo.ready(function(){
			// Add hanlders for clicks on menu items
			leftNavMenuItems.forEach(function(element, i){
				on(element, "click", function(){
					selectItem(i);
				})
			});
			
			// Initial the menu status
			selectItem(0);
			
			// Start the rotater
			setInterval(function(){
				currentMenuItemIndex = currentMenuItemIndex >= 5 ? 0 : currentMenuItemIndex + 1;
				selectItem(currentMenuItemIndex);
			}, 5000);
		});
	});
	

</script>
</head>
<body>
	<div class="bg">
		<div class="logo">
			<span>Grid</span><span class="logoX">X</span>
		</div>
		<ul class="mainNav">
			<li class="home">
				<div class="icon"></div>
				Home
			</li>
			<li class="doc">
				<div class="icon"></div>
				Docs
			</li>
			<li class="code">
				<div class="icon"></div>
				Code
			</li>
			<li class="about">
				<div class="icon"></div>
				About
			</li>
		</ul>
		<ul class="leftNav">
			<li>
				News
			</li>
			<li>
				Nano Core
			</li>
			<li>
				Rich Plugins
			</li>
			<li>
				Stability
			</li>
			<li>
				Benchmark
			</li>
			<li>
				Roadmap
			</li>
		</ul>
		<div class="mainBackGround"></div>
		<div class="main" id="mainNode">
			<div data-dojo-type="dojox.widget.Rotator" class="rotator" data-dojo-id="mainRotator" data-dojo-props="transition: 'dojox.widget.rotator.pan'">
				<div class="pane">
					<div class="title">News</div>
					<div class="newImage" id="imageNode">
					</div>
					<div class="newContent" id="contentNode">
						GridX is an incubation project under Dojo Toolkit(http://www.dojotoolkit.org/), it's also being worked closely with dgrid for the new
						Dojo Grid.<br/>
						GridX is still in development phase, features are experimental and subject to API changes.<br/>
						Please put and run gridx in parallel with dojo/dijit/dojox folder....
					</div>
				</div>
				<div class="pane">
					<div class="title">Nano Core</div>
				</div>
				<div class="pane">
					<div class="title">Rich Plugins</div>
				</div>
				<div class="pane">
					<div class="title">Stability</div>
				</div>
				<div class="pane">
					<div class="title">Benchmark</div>
				</div>
				<div class="pane">
					<div class="title">Roadmap</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>