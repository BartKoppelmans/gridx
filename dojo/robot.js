//>>built
define("dojo/robot","./_base/array,./dom,./dom-geometry,./_base/kernel,./_base/lang,./_base/window,doh/_browserRunner,doh/robot,./window".split(","),function(h,l,i,m,n,o,p,d,k){m.experimental("dojo.robot");n.mixin(d,{_resolveNode:function(b){"function"==typeof b&&(b=b());return b?l.byId(b):null},_scrollIntoView:function(b){var a=null;h.forEach(d._getWindowChain(b),function(d){var e=i.position(b,!1),f=i.getPadBorderExtents(b),c=null;a?(c=a,a={x:a.x+e.x+f.l,y:a.y+e.y+f.t,w:a.w,h:a.h}):a=e;k.scrollIntoView(b,
a);e=i.position(b,!1);a=c?{x:c.x+e.x+f.l,y:c.y+e.y+f.t,w:a.w,h:a.h}:e;b=d.frameElement})},_position:function(b){var a=null,g=Math.max,e=Math.min;h.forEach(d._getWindowChain(b),function(d){var c=i.position(b,!1),j=i.getPadBorderExtents(b);if(a){var h=k.getBox(b.contentWindow.document);c.r=c.x+h.w;c.b=c.y+h.h;a={x:g(a.x+c.x,c.x)+j.l,y:g(a.y+c.y,c.y)+j.t,r:e(a.x+c.x+a.w,c.r)+j.l,b:e(a.y+c.y+a.h,c.b)+j.t};a.w=a.r-a.x;a.h=a.b-a.y}else a=c;b=d.frameElement});return a},_getWindowChain:function(b){var b=
k.get(b.ownerDocument),a=[b],g=b.frameElement;return b==o.global||!g?a:a.concat(d._getWindowChain(g))},scrollIntoView:function(b,a){d.sequence(function(){d._scrollIntoView(d._resolveNode(b))},a)},mouseMoveAt:function(b,a,g,e,f){d._assertRobot();var c={};this.sequence(function(){b=d._resolveNode(b);d._scrollIntoView(b);var a=d._position(b);void 0===f&&(e=a.w/2,f=a.h/2);c.x=a.x+e;c.y=a.y+f},a);this.mouseMoveTo(c,0,g,!1)}});return d});